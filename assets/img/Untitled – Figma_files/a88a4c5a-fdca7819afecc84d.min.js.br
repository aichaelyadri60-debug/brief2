"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="b86af0ac-63d9-50f1-92fd-dea9c1442fe3")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[7872,1861],{591391:(e,t,n)=>{n.r(t),n.d(t,{DesignView:()=>dn});var i=n(104076),s=n(716976),l=n(903927),r=n(65545),a=n(266808),o=n(812714),d=n(452157),u=n(394549),x=n(1188),c=n(192075),p=n(638004),h=n(795033),m=n(120440),g=n(692042),f=n(594440),y=n(132739),k=n(158042),j=n(74620),_=n(835307);function v(e,t){let n=S(e,t),i=s.useMemo(()=>Math.min(21,.5*n.height),[n]);return{x:n.x+n.width+9+8,y:n.y+i}}function b(e){return v((0,h.md)(k.zy)??[],e)}let C=e=>(0,_.Fk)((e,t)=>{let n=t.map(t=>e.get(t)?.absoluteBoundingBox).filter(e=>void 0!==e);if(0===n.length)return{x:0,y:0,width:0,height:0};let i=n[0].x,s=n[0].y,l=n[0].x+n[0].w,r=n[0].y+n[0].h;for(let e=1;e<n.length;e++){let t=n[e];i=Math.min(i,t.x),s=Math.min(s,t.y),l=Math.max(l,t.x+t.w),r=Math.max(r,t.y+t.h)}let a=l-i,o=r-s;return{x:i,y:s,width:a,height:o}},e);function S(e,t){let n=(0,j.eY)(),i=(0,g._X)({subscribeToUpdates_expensive:t&&e.length>0}),l=C(e);return s.useMemo(()=>n?(0,g.Yb)(i,l):{x:0,y:0,width:0,height:0},[l,n,i])}function E(e,t){let n=S(e,t),i=(0,g.MG)({subscribeToUpdates_expensive:t}),l=(0,g.TZ)({subscribeToUpdates_expensive:t});return s.useMemo(()=>0===e.length||0===n.width?null:{x:n.x+i,y:n.y+l,width:n.width,height:n.height},[n,i,l,e.length])}var T=n(819851),I=n(944350);function w(){let e=((0,o.kc)().ai_assistant,(0,T.lg)(),(0,u.BE)(),!1),t=(0,o.kc)().ai_assistant_canvas_entrypoint||!1;return e&&t}let N=()=>{let e=w(),t=function(){let e=(0,y.xs)(),t=(0,h.md)(k.zy),{isOpen:n}=(0,k.QW)();return n&&t.length>0?t:e.length>0?e:[]}(),n=(0,g._X)({subscribeToUpdates_expensive:e}),i=S(t,e),s={...i,x:i.x+n.x,y:i.y+n.y};return e&&0!==t.length?s:null};function L(){let e=N();return e?(0,i.jsx)(f.lM,{targetRect:e,positionXY:e=>[e.x-4-1,e.y-4-1],children:(0,i.jsx)("div",{className:"x1n2onr6 x1sxf85j xjbqb8w xyf9f8g xmv1q7x x19wp0b7 x9tnh73 xr7n5gi xb3r6kr",style:{width:`${e.width+8}px`,height:`${e.height+8}px`},children:(0,i.jsx)("div",{...m.xk(A.rotatingGradient,A.gradientExtension(e.width,e.height))})})}):null}let M={"--gradient-extension":"x18j445q",$$css:!0},A={rotatingGradient:{kVAEAm:"x10l6tqk",k87sOh:"xfj7k5e",kbCHJM:"x4jxcl1",kCIrl2:"xsgfo7e",kLqNvP:null,kt4wiu:null,krVfgx:"x12dip0s",kKwaWg:"x11ix66q",kKVMdj:"x1aerksh",k44tkh:"x7t6ubo",ko0y90:"xa4qsjk",kyAemX:"x1esw782",kY2c9j:"x1vjfegm",kfzvcC:"x47corl",$$css:!0},gradientExtension:(e,t)=>[M,{"--x---gradient-extension":`${Math.ceil(Math.sqrt(Math.pow(e+8,2)+Math.pow(t+8,2))/2)}px`}]};var R=n(157294),F=n(498520),O=n(608989),P=n(122010),z=n(527433);function B(){let e=w(),t=(0,h.md)(k.zy).length,n=(0,l.d4)(({mirror:{appModel:e}})=>[a.QOV.DEFAULT,a.QOV.SELECTING_TEXT,a.QOV.CLICKING_TO_CHANGE_SELECTION].includes(e.activeUserAction)),i=(0,j.p8)("activeCanvasEditModeType"),r=function(){let e=(0,h.md)(k.zy),t=e.length,{isOpen:n}=(0,k.QW)(),i=(0,_.Fk)((e,t)=>{if(0===t.length)return 0;let n=e.get(t[0]);return n?Math.min(n.size.x,n.size.y):0},e),s=1===t&&!n,l=(0,g.Pl)({subscribeToUpdates_expensive:s});return s&&i*l<16}(),{isOpen:o}=(0,k.QW)(),d=i===a.m1T.TEXT||i===a.m1T.VECTOR||!n||r,u=function(){let e=(0,z.x)({subscribeToUpdates_EXPENSIVE:!0}),t=s.useMemo(()=>e??{x:0,y:0},[e]),n=(0,h.md)(k.zy),i=E(n??[],!0),l=function(e){let t=function(e){let t=function(e,t){let n=v(e,t),i=(0,g.MG)({subscribeToUpdates_expensive:t}),l=(0,g.TZ)({subscribeToUpdates_expensive:t});return s.useMemo(()=>0!==e.length&&n?{x:n.x+i,y:n.y+l}:null,[n,i,l,e.length])}(e,!0);return s.useMemo(()=>{if(!t)return null;let e=t.x-8,n=t.x+8,i=t.y-8,s=t.y+8,l=e-24,r=i-24;return{x:l,y:r,width:n+24-l,height:s+24-r}},[t])}(e),n=E(e,!0);return s.useMemo(()=>{if(!t)return null;let e={x:t.x,y:t.y},i={x:t.x+t.width,y:t.y},s=n?n.y+n.height:1/0,l=t.y+t.height,r={x:t.x+t.width,y:Math.min(l,s)},a=n?s:t.y+t.height,o={x:t.x,y:a};return{points:[e,i,r,o],bbox:{x:Math.min(e.x,i.x,r.x,o.x),y:Math.min(e.y,i.y,r.y,o.y),width:Math.max(e.x,i.x,r.x,o.x)-Math.min(e.x,i.x,r.x,o.x),height:Math.max(e.y,i.y,r.y,o.y)-Math.min(e.y,i.y,r.y,o.y)}}},[t,n])}(n??[]),[r,a]=s.useState(!1),[o,d]=s.useState(!1),u=s.useMemo(()=>!!i&&t.x>=i.x&&t.x<=i.x+i.width&&t.y>=i.y&&t.y<=i.y+i.height,[t,i]),x=s.useMemo(()=>{if(!l)return!1;let{bbox:e,points:n}=l;return function(e,t,n){if(e.x<n.x||e.x>n.x+n.width||e.y<n.y||e.y>n.y+n.height)return!1;let i=!1;for(let n=0,s=t.length-1;n<t.length;s=n++){let l=t[n].x,r=t[n].y,a=t[s].x,o=t[s].y;r>e.y!=o>e.y&&e.x<(a-l)*(e.y-r)/(o-r)+l&&(i=!i)}return i}(t,n,e)},[t,l]);return s.useEffect(()=>{u?a(!0):x||a(!1)},[u,x]),s.useEffect(()=>{if(u||x){d(!1);return}d(!0);let e=setTimeout(()=>{d(!1)},400);return()=>clearTimeout(e)},[u,x]),s.useMemo(()=>u||x&&r||o&&r,[u,x,r,o])}(),x=function(){let e=(0,h.md)(k.zy),[t,n]=s.useState(!1),i=s.useRef("");return s.useEffect(()=>{let t=e.join(",");t!==i.current&&(i.current=t,n(e.length>0))},[e]),s.useEffect(()=>{if(!t)return;let e=()=>n(!1);return window.addEventListener("pointermove",e,{once:!0}),window.addEventListener("mousemove",e,{once:!0}),()=>{window.removeEventListener("pointermove",e),window.removeEventListener("mousemove",e)}},[t]),t}();return!!o||!!e&&!(t<1)&&!d&&(!!x||!!u)}function D(){return(0,i.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",style:{zIndex:1},children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.71864 3.76035C7.81529 3.49917 8.18471 3.49917 8.28136 3.76035L9.30258 6.52017C9.33297 6.60229 9.39771 6.66703 9.47983 6.69742L12.2396 7.71864C12.5008 7.81529 12.5008 8.18471 12.2396 8.28136L9.47983 9.30258C9.39771 9.33297 9.33297 9.39771 9.30258 9.47983L8.28136 12.2396C8.18471 12.5008 7.81529 12.5008 7.71864 12.2396L6.69742 9.47983C6.66703 9.39771 6.60229 9.33297 6.52017 9.30258L3.76035 8.28136C3.49917 8.18471 3.49917 7.81529 3.76035 7.71864L6.52017 6.69742C6.60229 6.66703 6.66703 6.60229 6.69742 6.52017L7.71864 3.76035Z",fill:"currentColor"})})}function G(){return(0,i.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",style:{zIndex:1},children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor",d:"M 7.30653 3.46552 C 7.60659 2.93207 8.39319 2.93207 8.69325 3.46552 L 8.74989 3.58759 L 9.73915 6.26044 L 12.413 7.25068 C 13.1092 7.50852 13.1094 8.49297 12.413 8.75068 L 9.73915 9.73994 L 8.74989 12.4138 C 8.49206 13.1099 7.50777 13.1099 7.24989 12.4138 L 6.25965 9.73994 L 3.5868 8.75068 C 2.89034 8.49294 2.89034 7.50841 3.5868 7.25068 L 6.25965 6.26044 L 7.24989 3.58759 L 7.30653 3.46552 Z M 7.1659 6.69404 C 7.08484 6.9129 6.91215 7.08569 6.69325 7.16669 L 4.43934 8.00068 L 6.69325 8.83466 C 6.88481 8.9056 7.04144 9.04639 7.13172 9.22724 L 7.1659 9.30732 L 7.99989 11.5602 L 8.83387 9.30732 L 8.86805 9.22724 C 8.95837 9.04633 9.11488 8.90558 9.30653 8.83466 L 11.5595 8.00068 L 9.30653 7.16669 C 9.08765 7.0857 8.91495 6.91287 8.83387 6.69404 L 7.99989 4.44013 L 7.1659 6.69404 Z"})})}function q({isHovered:e,setIsHovered:t}){let{isOpen:n}=(0,k.QW)(),l=s.useCallback(()=>{n?(0,k.Sz)():(0,k._C)()},[n]);var r=G;let a=(0,O.J)(),o=!!a&&(0,F.HD)(a);return(e||n)&&(r=D),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("button",{className:"x1n2onr6 x71s49j xh8yej3 x5yr21d x78zum5 xl56j7k x6s0dn4",onMouseOver:()=>{t(!0)},onMouseLeave:()=>{t(!1)},onFocus:()=>{t(!0)},onBlur:()=>{t(!1)},onClick:l,style:{background:"transparent",border:"none",padding:0},"aria-label":(0,c.t)("ai_assistant.canvas.canvas_entrypoint_label"),"data-fullscreen-intercept":!0,"data-testid":"ai-assistant-canvas-entrypoint-button",children:[(0,i.jsx)("div",{...{0:{className:"x10l6tqk xwa60dl x1nrll8i x1m9rpcv x11lhmoz x1vjfegm"},2:{className:"x10l6tqk xwa60dl x1nrll8i x11lhmoz x1vjfegm x69msao"},1:{className:"x10l6tqk xwa60dl x1nrll8i x11lhmoz x1vjfegm x17g0hv4"},3:{className:"x10l6tqk xwa60dl x1nrll8i x11lhmoz x1vjfegm x17g0hv4"}}[!!(!n&&o)<<1|!!n<<0],children:(0,i.jsx)(r,{})}),(0,i.jsx)("div",{...{0:{className:"xh8yej3 x5yr21d xjbqb8w x1s85apg x67bb7w xl56j7k x6s0dn4 x1wbribv"},1:{className:"xh8yej3 x5yr21d x67bb7w xl56j7k x6s0dn4 x1wbribv xu5wzci x78zum5"}}[!!n<<0]})]})})}function V(){let[e,t]=s.useState(!1);return(0,i.jsx)("div",{className:"x1n2onr6 xlup9mm x1kky2od x1sxf85j xb3r6kr x78zum5 xl56j7k x6s0dn4 x15uqio4 x1ns5uhy",children:(0,i.jsx)(q,{isHovered:e,setIsHovered:t})})}function $(){let e=B(),t=function(e){let t=b(e),n=(0,g.MG)({subscribeToUpdates_expensive:e}),i=(0,g.TZ)({subscribeToUpdates_expensive:e});return s.useMemo(()=>({x:t.x+n,y:t.y+i}),[t,n,i])}(e);return e?(0,i.jsx)(f.lM,{targetRect:{...t,y:t.y+4,width:0,height:0},offset:0,children:(0,i.jsx)(P.m,{role:"region","aria-label":(0,c.t)("ai_assistant.canvas.canvas_entrypoint_label"),children:(0,i.jsx)(V,{})})}):null}var H=n(276800),U=n(316862);function K(){let e=function(){let{prompt:e}=(0,k.QW)(),t=(0,h.md)(k.zy);return s.useMemo(()=>0!==e.length&&0!==t.length,[e,t])}(),t=(0,y.xs)();return e&&0===t.length}var W=n(55037),Z=n(126390),X=n(314416),Y=n(679111),Q=n(980852),J=n(983500),ee=n(997629),et=n(641518),en=n(246144),ei=n(777083),es=n(12029),el=n(278491),er=n(757381),ea=n(739109),eo=n(766812),ed=n(409757),eu=n(790724),ex=n(774583),ec=n(415567),ep=n(605862),eh=n(491821),em=n(420680),eg=n(620480),ef=n(780312),ey=n(883765),ek=n(550209),ej=n(205084),e_=n(178623),ev=n(431222);let eb="\xa0\xa0\xa0\xa0\xa0\xa0...\xa0\xa0\xa0\xa0\xa0\xa0",eC=[{short:eb,full:eb},{short:eb,full:eb},{short:eb,full:eb},{short:eb,full:eb}];function eS({jsx:e,onPromptSelect:t,visible:n,clientLifecycleId:l}){let[r,a]=s.useState(!1),{suggestions:o,isLoading:d,error:u}=function(e,t){let[n,i]=s.useState(eC),[l,r]=s.useState(!0),[a,o]=s.useState(null),d=s.useMemo(()=>{let e=(0,ej.Gq)();return e?.getPrimaryLocale(!1)||"en"},[]);return s.useEffect(()=>{if(!e){r(!1);return}(async function(){r(!0),o(null);try{let n=(await e_.Ay.shared.assistantSuggestPrompts({jsx:e,userLocale:d},(0,ev.sF)({clientLifecycleId:t}))).prompts||[];for(let[e,s]of(i(n),n.entries())){let{short:i,full:l}=s;ey.az.trackDefinedEvent("ai_assistant.assistant_suggested_prompt_shown",{clientLifecycleId:t,shortPrompt:i,fullPrompt:l,rank:e+1,totalPromptsShown:n.length})}}catch(e){o(e),(0,ek.$D)(p.e.AI_ASSISTANT,e)}finally{r(!1)}})()},[e,t,d]),{suggestions:n,isLoading:l,error:a}}(e,l),x=s.useCallback(()=>{a(!r)},[r]),h=s.useCallback((e,t,n)=>{l&&ey.az.trackDefinedEvent("ai_assistant.assistant_suggested_prompt_chosen",{clientLifecycleId:l,shortPrompt:e.short,fullPrompt:e.full,rank:t+1,totalPromptsShown:o.length,source:n})},[l,o.length]),m=s.useCallback((e,n)=>{h(e,n,"pill"),t(e.full)},[t,h]),g=s.useCallback((e,n)=>{h(e,n,"dropdown"),t(e.full),a(!1)},[t,h]);return n&&0!==e.length?u?(0,i.jsx)("div",{className:"xh8yej3 x178xt8z x13fuv20 x16ufvko x1yjdb4r x1w0pl8v x1lmr5wh x1n2onr6",children:(0,i.jsx)("div",{className:"xf7z5ut x172n1ly x70tecm x1ys4hos x181hs4k x2b8uid",children:(0,c.t)("ai_assistant.canvas_prompt_suggestions.error_failed_to_load")})}):(0,i.jsxs)("div",{className:"xh8yej3 x178xt8z x13fuv20 x16ufvko x1yjdb4r x1w0pl8v x1lmr5wh x1n2onr6",children:[(0,i.jsxs)("div",{className:"x78zum5 x1q0g3np x6s0dn4 xj9xw9b x1nfngrj xf7z5ut xz9dl7a x1n2onr6",style:{paddingBottom:r?8:12},children:[(0,i.jsx)("div",{className:"x78zum5 x1q0g3np x1nfngrj x1iyjqo2 xs83m0k x1t1x2f9 xw2csxc x1rohswg xfk6m8 xyfqnmn x1cpjm7i x1hmns74 x1y3wzot x19ie1a xv3fy29 xszcg87 x4cc4f3 xkk1bqk x18qc1j8",children:r?(0,i.jsx)("div",{className:"x3vvef7 x1iyjqo2 xs83m0k x1t1x2f9 xf67zum x17akokd x1qxcl5b xno9bf3",children:(0,c.t)("ai_assistant.canvas_prompt_suggestions.suggestions_label")}):(0,i.jsx)("div",{style:{display:"contents"},children:(0,i.jsx)(eE,{suggestions:o,onPillClick:m,shimmer:d})},"pills")}),(0,i.jsx)(em.K,{onClick:x,"aria-label":r?(0,c.t)("ai_assistant.canvas_prompt_suggestions.collapse_suggestions"):(0,c.t)("ai_assistant.canvas_prompt_suggestions.expand_suggestions"),children:r?(0,i.jsx)(eg.r,{}):(0,i.jsx)(ef.R,{})},"real-arrow")]}),r&&!d&&(0,i.jsx)(eT,{suggestions:o,onItemClick:g})]}):null}function eE({suggestions:e,onPillClick:t,shimmer:n}){return(0,i.jsx)(i.Fragment,{children:e.map((e,s)=>(0,i.jsx)("button",{...{0:{className:"x17akokd x1qxcl5b xno9bf3 xjwf9q1 x1n0bwc9 x6c5l4p xf67zum xmkeg23 x1y0btm7 x7z60cl xixl9f9 xuxw1ft x2lah0s xv2f06h x1m5i512"},1:{className:"x17akokd x1qxcl5b xno9bf3 xjwf9q1 x1n0bwc9 x6c5l4p xf67zum xixl9f9 xuxw1ft x2lah0s x47corl x176lpz5 xmkeg23 x1y0btm7 x7z60cl xwui1ri xmg6eyc x4hg4is xa4qsjk"}}[!!n<<0],onClick:()=>t(e,s),"aria-label":n?(0,c.t)("ai_assistant.canvas_prompt_suggestions.loading_suggestion"):(0,c.t)("ai_assistant.canvas_prompt_suggestions.select_pill_prompt",{prompt:e.short}),children:!n&&e.short},s))})}function eT({suggestions:e,onItemClick:t}){return(0,i.jsx)("div",{className:"x1hkcv85 x1odjw0f xf7z5ut xexx8yu",children:e.map((e,n)=>(0,i.jsx)("button",{className:"x78zum5 x1cy8zhl xf7z5ut x19y5rnk x1akne3o x17akokd x1qxcl5b xno9bf3 x1nhvcw1 xdpxx8g xeaf4i8 xh8yej3 x65nank xt7dq6l xk4td0m xv2f06h xfn42iu xng3xce x1r7ld26",onClick:()=>t(e,n),type:"button","aria-label":(0,c.t)("ai_assistant.canvas_prompt_suggestions.select_dropdown_prompt",{prompt:e.full}),children:e.full},n))})}var eI=n(404343);let ew=()=>197+((0,o.kc)().ai_ga?26:0)-((0,o.kc)().make_edits_debug?64:0),eN="ai-assistant-canvas-prompt-box-textarea",eL=/[\r\n\u2028\u2029]/;function eM({recordingKey:e,value:t,onAction:n,onChange:l,onClose:r,wiggleCount:a,disabled:d,clientLifecycleId:u}){let x=(0,s.useRef)(null),p=(0,s.useRef)(null),h=function(){let e=(0,ec.Tv)(),[t,n]=s.useState("");return s.useEffect(()=>{(()=>{if(!(0,o.kc)().assistant_on_canvas_prompt_suggestions||!(e&&e.length>0)){n("");return}setTimeout(async()=>{try{let t=(0,Q.UN)().getCurrentPage();if(!t)return;let i=await (0,ee.oy)(t,{includeIDs:!1,maxSerializeNodes:100,maxSerializeTimeMs:100,maxExtraContextNodes:0,focusNodeIds:e,ignoreFetchingComponentData:!0});n(i.jsxStr)}catch(e){(0,en.xi)("assistant-suggest-prompts","Failed to serialize JSX for prompt suggestions:",{error:e}),n("")}},0)})()},[e]),t}(),{isPositioned:m}=function(e,t){let n=(0,g._X)({subscribeToUpdates_expensive:!0}),[i,l]=s.useState(!1),r=b(!0),a=s.useCallback(()=>{if(!r||!e.current)return;let t=new ed.Z({top:0,bottom:(0,J.hG)(eI.u24),left:0,right:0}),i={x:20,y:-25},s={x:r.x+i.x,y:r.y+i.y},a=t.computePositionWithinInsetBounds(e.current,s,{x:0,y:0,width:n.width,height:n.height},r,i),o={x:(a.x??s.x)+n.x,y:(a.y??s.y)+n.y};e.current.style.left=`${o.x}px`,e.current.style.top=`${o.y}px`,l(!0)},[n,l,r,e]);return s.useEffect(()=>{i&&t.current?.focus()},[i,t]),s.useEffect(()=>{a()},[a]),s.useEffect(()=>{if(!e.current)return;let t=new ResizeObserver(()=>{a()});return t.observe(e.current),()=>{t.disconnect()}},[a,e]),{isPositioned:i}}(x,p),f=(0,k.V8)(),y=(0,ea.IQ)(),{FirstPartyExplanationPointer:j}=(0,ep.i7)(m,eN),[_,v]=s.useState(!1),C=s.useCallback(({clonedTextArea:e,singleLineHeight:t,value:n,getCalculatedScrollHeight:i})=>{let s,l="large";return eL.test(n)||(e.style.width=`${ew()}px`,s=Math.max(i(),t??0),l=0===n.length||t===s?"small":"large"),(void 0===s||"large"===l)&&(e.style.width="284px",s=i()),s=Math.min(s,200),"small"===l?v(!1):v(!0),s},[v]),S=s.useCallback(()=>{p.current?.focus()},[p]),E=s.useCallback(e=>{l(e),p.current?.focus()},[l]);return(0,i.jsxs)(eh.Q,{dataFullscreenIntercept:!1,children:[(0,i.jsx)(eo.p,{forceNoScroll:!0,children:(0,i.jsxs)("div",{ref:x,style:{position:"absolute",visibility:m?"visible":"hidden"},className:el.Dm,children:[f&&(0,i.jsx)(eh.Q,{dataFullscreenIntercept:!1,children:(0,i.jsx)("div",{className:"xixxii4 x1ey2m1c x78zum5 xl56j7k x6s0dn4 xh8yej3 x1q2oy4v xpezlj7",style:y,children:(0,i.jsx)(Y.bL,{timeout:3e3,variant:"danger",onClose:()=>(0,k._k)(),children:(0,i.jsx)(Y.QB,{children:"Please wait for the current prompt to complete before submitting another."})})})}),(0,i.jsx)(ex.c,{wiggleCount:a,onWiggle:S,children:(0,i.jsxs)("div",{className:"xdzyupr x137qmg1 xbxdop8 x4zv5z4","data-testid":"ai-assistant-canvas-prompt-box",children:[(0,i.jsxs)("div",{className:"xu97haq x78zum5 x1q0g3np x167g77z xe8ttls x6s0dn4","data-onboarding-key":eN,children:[(0,i.jsx)(er.v,{bypassModifiers:!0,calculateAdjustedHeightOnResize:C,dataTestId:"ai-assistant-canvas-prompt-box-textarea",disableBorderStyles:!1,focusOnMount:!1,innerRef:p,maxHeight:200,minHeight:24,onChange:e=>{l(e.currentTarget.value)},onEscape:r,placeholder:(0,c.t)("ai_assistant.canvas_prompt_box.placeholder"),preventSubmitOnBlur:!0,recordingKey:e,rows:1,submit:n,value:t,className:"x1tsovho x1uhom3u x1g2ur6q x1qvfvcx"}),!_&&(0,i.jsx)(eA,{onAction:n,disabled:d,recordingKey:e})]}),_&&(0,i.jsx)("div",{className:"x78zum5 x1q0g3np x13a6bvl x167g77z xe8ttls x6s0dn4 x178xt8z x13fuv20 x16ufvko",children:(0,i.jsx)(eA,{onAction:n,disabled:d,recordingKey:e})}),(0,i.jsx)(eS,{visible:!!(m&&(0,o.kc)().assistant_on_canvas_prompt_suggestions&&!_),jsx:h,onPromptSelect:E,clientLifecycleId:u})]})})]})}),(0,i.jsx)(j,{})]})}function eA({onAction:e,disabled:t,recordingKey:n}){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(es.Y,{}),(0,o.kc)().make_edits_debug&&(0,i.jsx)(ei.N,{}),(0,i.jsx)(eu.CommentsSubmitButton,{disabled:t,onClick:e,recordingKey:et.Pt(n,"generate")})]})}function eR(){let{isOpen:e,prompt:t}=(0,k.QW)(),n=K(),l=(0,k.I)(),{submitPrompt:r,clientLifecycleId:a}=function(){let{showChat:e}=(0,X.U)(),{prompt:t}=(0,k.QW)(),n=(0,h.md)(k.zy),i=(0,y.xs)(),l=function(){let e=(0,s.useRef)("");return e.current||(e.current=(0,U.g)()),e.current}(),r=K(),a=(0,h.md)(y.pF),{maybeAddTopKStylesToInternalCanvas:o}=(0,Z.S)({enabled:a.options.enableStyles??!1,k:a.options.subscribedStyleCountPerType});return{submitPrompt:s.useCallback(async()=>{if(!r){i.length>0&&(0,k.h2)(),(0,k.GB)();return}(0,y.VB)(n),await o(),e(),(0,W.i)({userInput:{plainText:t,selectedNodeIds:n},clientLifecycleId:l}),(0,k.Sz)()},[e,r,t,n,i,l,o]),clientLifecycleId:l}}();return e?(0,i.jsx)(eM,{clientLifecycleId:a,disabled:!n,duplicateAndRun:!1,onAction:r,onChange:k.l,onClose:k.Sz,recordingKey:"ai_assistant_prompt_box_view",setDuplicateAndRun:H.lQ,value:t,wiggleCount:l}):null}let eF=s.lazy(()=>n.e(1649).then(n.bind(n,431649)));function eO(){return(0,i.jsx)(x.tH,{boundaryKey:"AiAssistantCanvasView",fallback:x.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:p.e.AI_ASSISTANT},children:(0,i.jsx)(R.T.Provider,{value:{recordingKey:"aiAssistantCanvasView"},children:(0,i.jsx)(s.Suspense,{fallback:null,children:(0,i.jsx)(eP,{})})})})}function eP(){let e=B(),{isOpen:t}=(0,k.QW)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(L,{}),(0,o.kc)().assistant_cursor_ui&&(0,i.jsx)(s.Suspense,{fallback:null,children:(0,i.jsx)(eF,{})}),e&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)($,{}),t&&(0,i.jsx)(eR,{})]})]})}var ez=n(58212),eB=n(21791),eD=n(249586),eG=n(54092),eq=n(211862),eV=n(4460);let e$="send_to_buzz_from_design";function eH(){return!function(){let e=(0,l.wA)(),t=(0,eG.Zr)("paste-selection-into-buzz-from-design"),n=(0,s.useRef)(t),[i,r]=(0,s.useState)(!1),a=(0,l.d4)(eq.tB),o=(0,l.d4)(eV.vx),d=(0,l.d4)(e=>e.selectedView),u=(0,l.d4)(e=>{let t=e.selectedView;return"sendToBuzzFileKey"in t?t.sendToBuzzFileKey:void 0});(0,s.useEffect)(()=>{let s=!n.current&&t,l=n.current&&!t;if(!u){n.current=t;return}s&&!i&&((0,eD.qD)({name:"Send to Buzz Toast"}),e(ez.F.enqueue({type:e$,message:(0,c.t)("cooper.templates.use_in_buzz.visual_bell.title"),timeoutOverride:1/0,onDismiss:()=>((0,eD.Cu)({trackingContext:"Send to Buzz Toast",text:"Dismiss"}),r(!0),!1),button:{text:(0,c.t)("cooper.templates.use_in_buzz.visual_bell.button"),action:()=>((0,eD.Cu)({trackingContext:"Send to Buzz Toast",text:"Send to Buzz"}),(0,eB.q_)({previousBuzzFileKey:u,openFile:a,fileVersion:o,selectedView:d,dispatch:e}))}}))),l&&e(ez.F.dequeue({matchType:e$})),n.current=t},[t,e,d,a,o,u,i])}(),null}var eU=n(715858),eK=n(715944),eW=n(755444),eZ=n(248518),eX=n(140490),eY=n(549571),eQ=n(913772),eJ=n(459494),e0=n(244205),e1=n(90844),e2=n(422872),e3=n(863154),e5=n(381059),e7=n(472955),e4=n(143277),e8=n(765516),e6=n(226492),e9=n(909342),te=n(19877),tt=n(441030);let tn=(0,h.eU)(!1);function ti(){return(0,i.jsx)(eX.u,{label:"ContextualUpsellOverlay",children:(0,i.jsx)(ts,{})})}function ts(){let e=(0,h.md)(e3.LZ),t=(0,eY._I)(),n=(0,eY.U4)(),r=(0,eQ.J)(),a=(0,te.U)("upsell"),o=(0,h.Xr)(tn),{show:d,complete:u,exportId:x,activeId:p,showing:m}=function(){let e=(0,h.md)(e5.NT),t=(0,eJ.lS)(),{show:n,complete:i,isShowing:s,uniqueId:l}=(0,e2.e)({overlay:tt.Nh9,priority:e4.N.DEFAULT_MODAL,experiment:{check:t,predicate:e=>e,postCheck:()=>!0}},[e]),{show:r,complete:a,isShowing:o,uniqueId:d}=(0,e2.e)({overlay:tt.L6E,priority:e4.N.DEFAULT_MODAL,experiment:{check:t,predicate:e=>e,postCheck:()=>!0}},[e]);return{show:e=>"export"===e?r:n,complete:()=>s?i():a(),measureId:l,exportId:d,activeId:o?l:d,showing:o?"export":s?"measure":void 0}}();!function(e,t){let n=s.useRef(t);s.useEffect(()=>{n.current=t},[t]);let i=(0,l.d4)(e=>e.usedKeyboardShortcuts["measure-to-selection"]||0),r=s.useRef(i);s.useEffect(()=>{let e=t=>{t.key&&(window.removeEventListener("keyup",e),n.current("measure"))};i>r.current&&window.addEventListener("keyup",e)},[i]),(0,e1.E)(e,"copy_as_completed",e=>{t("export")}),(0,e1.E)(e,"export_completed",e=>{t("export")})}(x,i=>{d(i)({canShow:i=>!t&&n&&r&&e&&"developer"===(0,eZ.HB)(i),onShow:()=>{(0,e7.o9)()}})}),(0,e1.E)(p,"Enter Inspect Mode",()=>{m&&u()});let g="export"===m?(0,c.tx)("upsell.dev_mode.contextual_overlay.export_title"):(0,c.tx)("upsell.dev_mode.contextual_overlay.measure_title"),f="export"===m?(0,c.tx)("upsell.dev_mode.contextual_overlay.export_description"):(0,c.tx)("upsell.dev_mode.contextual_overlay.measure_description");return(0,i.jsx)(e6.X,{description:f,forceEditorTheme:"dev-handoff",isShowing:!!m,media:(0,i.jsx)(e8.y,{src:"export"===m?(0,eW.ck)("2ec45ec3c5b501ef6e755fde6a2edfb39d2218cb"):(0,eW.ck)("dc592aac8a3238672f1f3eb8711f656496538b15"),alt:"",aspectRatio:480/270}),onClose:u,position:e9.Q.BOTTOM_RIGHT,primaryCta:{label:(0,c.tx)("upsell.dev_mode.contextual_overlay.cta"),onClick:()=>{a("handoff"),o(!0),u()},ctaTrackingDescriptor:e0.c.OPEN_DEV_MODE,type:"button"},testId:"dev-mode-contextual-upsell-tooltip",title:g,trackingContextName:"Dev Mode Contextual Upsell Tooltip",width:240})}var tl=n(406790),tr=n(929302),ta=n(700700),to=n(268389),td=n(76618),tu=n(790009),tx=n(190028),tc=n(236631),tp=n(202913),th=n(432777),tm=n(514549),tg=n(760848),tf=n(404898),ty=n(260745),tk=n(111297),tj=n(141524),t_=n(6449),tv=n(144638);function tb(){return(0,i.jsx)(eX.u,{label:"DeveloperRFDUpsellOverlay",children:(0,i.jsx)(tC,{})})}function tC(){let e=(0,tf.w_)(),t=(0,j.aV)(),[n,l]=(0,s.useState)(null);(0,s.useEffect)(()=>{if(!t){let e=function(){let e;let t=(0,Q.UN)(),n=t=>{if(t)for(let i of t.childrenNodes)(i.isTopLevelFrame()||"CANVAS"===i.type)&&(i.hasReadyStatus?e?e.getStatusInfo().lastUpdateUnixTimestamp<i.getStatusInfo().lastUpdateUnixTimestamp&&(e=i):e=i:("SECTION"===i.type||"CANVAS"===i.type)&&n(i))};return n(t?.getRoot()),e?.getStatusInfo()}();e&&l(e)}},[t]);let r=(0,tj.wW)(n&&"userId"in n?n.userId:null),a=!!n&&tx.A.unix(n.lastUpdateUnixTimestamp).isAfter((0,tx.A)().subtract(60,"day")),o=(0,te.U)("upsell"),d=(0,h.md)(e3.LZ),u=(0,eY._I)(),x=(0,eY.U4)(),p=(0,h.md)(e5.NT),m=(0,eQ.J)(),{show:g,complete:f,isShowing:y,uniqueId:k}=(0,e2.e)({overlay:tt.koo,priority:e4.N.OVERRIDING_MODAL},[p]);(0,s.useEffect)(()=>{g({canShow:n=>m&&d&&!u&&!e.loading&&!e.hasPendingRequest&&a&&x&&!t&&"developer"===(0,eZ.HB)(n),onShow:()=>{(0,e7.o9)()}})},[g,u,x,d,t,p,m,e,a]),(0,e1.E)(k,"Enter Inspect Mode",()=>{y&&f()});let{primaryButtonProps:_,secondaryButtonProps:v}=(0,tf.BC)({entryPoint:ty.i$.Upsell,dismissModal:f,onRequestAccess:()=>{o("handoff")}}),b=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:tv.XQ,children:(0,i.jsx)(td.O,{})}),(0,i.jsx)("span",{className:tc.s.textBodyMediumStrong.$,children:(0,c.tx)("dev_handoff.status.mark_status_sentence_part.ready_for_dev")})]}),{imgSrc:C,modalContent:S}=(0,tm.L)(),E=(0,th.W)(),T=tr.hS({open:!0,onClose:H.lQ,preventUserClose:!0,recordingKey:"dev-mode-paywall-modal"});return(0,i.jsx)(t_.M,{testId:"rfd-upsell-upsell",isShowing:y,children:(0,i.jsxs)(tu.J,{brand:"dev-handoff",children:[(0,i.jsx)(tp.OM,{}),(0,i.jsx)(tk.fu,{name:"RFD Upsell Modal",properties:{...E,primaryCtaTrackingDescriptor:_?.trackingDescriptor,secondaryCtaTrackingDescriptor:v?.trackingDescriptor},enabled:E?.gracePeriod!==void 0,children:(0,i.jsx)(ta.bL,{width:392,manager:T,children:(0,i.jsxs)(to.Wk,{children:[(0,i.jsx)("div",{className:tv.XV,children:(0,i.jsx)("div",{className:"xh8yej3 xysyzu8 xt970qd x1hr3lfm x1sdyfia",children:r.loading?"":(0,c.tx)("dev_handoff.upsell.user_marked_a design",{userName:(0,i.jsx)("span",{className:"xb3r6kr xlyipyv xuxw1ft",children:r.user?.name||r.user?.handle}),status:b})})}),(0,i.jsx)("div",{className:tc.s.py8.px16.$,children:(0,i.jsx)(tg.E,{imgSrc:C,content:S,modalType:"RFD Upsell Modal",primaryButtonProps:{..._,type:"request_access"},secondaryButtonProps:v?{...v,type:"not_now"}:void 0})})]})})})]})})}var tS=n(449572),tE=n(742549),tT=n(847282),tI=n(59849),tw=n(59975),tN=n(61102),tL=n(643330),tM=n(337726);function tA(){return(0,i.jsx)(eX.u,{label:"ViewerDevModeStatusChangedTooltipOverlay",children:(0,i.jsx)(tR,{})})}function tR(){let e=(0,tE.X0)(),t=(0,eq.tS)(),n=(0,te.U)("upsell"),s=(0,tS.bc)(tI.ErZ,{key:t||""},{enabled:!!t}),{show:l,isShowing:r,complete:a,uniqueId:o}=(0,e2.e)({overlay:tt.wRw,priority:e4.N.OVERRIDING_MODAL-1},[s]);(0,e1.E)(o,"ui3_finished_entering_design_mode",()=>{(0,tT.QL)("rfd-notif")&&l({canShow:e=>!e.file?.hasPermission,onShow:()=>{(0,e7.o9)()}})});let d=e?{targetKey:tw.o5,arrowPosition:tL.F_.LEFT_TITLE}:{targetKey:tM.oR,arrowPosition:tL.F_.BOTTOM};return(0,i.jsx)(tN.rq,{...d,description:(0,c.tx)("upsell.view_only_developer_notifications.tooltip_description"),forceEditorTheme:"dev-handoff",isShowing:r,media:(0,i.jsx)(e8.y,{src:(0,eW.ck)("dc592aac8a3238672f1f3eb8711f656496538b15"),alt:"",aspectRatio:480/270}),onClose:a,testId:"viewer-dev-mode-status-changed-tooltip",primaryCta:{ctaTrackingDescriptor:e0.c.TRY_DEV_MODE,label:(0,c.tx)("upsell.view_only_developer_notifications.tooltip_cta"),onClick:()=>{a(),n("handoff")},type:"button"},title:(0,c.tx)("upsell.view_only_developer_notifications.tooltip_title"),trackingContextName:"viewer_dev_mode_status_changed_tooltip"})}var tF=n(598626),tO=n(285626),tP=n(239223),tz=n(968169),tB=n(772523),tD=n(508011),tG=n(962212),tq=n(521255),tV=n(587277),t$=n(490499),tH=n(411916),tU=n(331497),tK=n(40452),tW=n(176203),tZ=n(375380),tX=n(468418),tY=n(299117),tQ=n(219199),tJ=n(484495),t0=n(248043),t1=n(904017),t2=n(816565),t3=n(352630),t5=n(219532);function t7({onClick:e,complete:t}){return(0,i.jsx)(tu.J,{brand:"dev-handoff",children:(0,i.jsxs)("div",{"data-testid":"dev-mode-demo-file-entrypoint-popup",className:"x6sy6il x1dgp85l xqyf9gi x1mxnbhz x1xtplfa x10l6tqk xrv6xtj x9f619 x1p3pnes x1tk3asg x78zum5 xdt5ytf x1dipnxa xbj06nx xl56j7k x1i71x30",children:[(0,i.jsx)("div",{className:"x10l6tqk x1psp13h xbyvkye",children:(0,i.jsx)(t5.Jn,{emphasized:!0,onClick:t})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"x13saxwh xg4jxnz x1h94l6n x1uvdjgy x39l7i4 x1ihwiht",children:(0,c.tx)("dev_mode_playground_file.still_curious_about_dev_mode")}),(0,i.jsx)("div",{children:(0,c.tx)("dev_mode_demo_file.check_out_our_interactive_test")})]}),(0,i.jsx)(t3.e6,{trackingProperties:{trackingDescriptor:e0.c.DEMO_FILE_THUMBNAIL},onClick:e,className:"x11g6tue xzjbwwf x3w9dv2",children:(0,i.jsx)(t2.oW,{className:"xb3r6kr",alt:"A graphic showing the demo file thumbnail",src:(0,eW.ck)("eab479b46c1a94910464200211143d64fe917ae1")})}),(0,i.jsx)("div",{children:(0,i.jsx)(t3.e6,{trackingProperties:{trackingDescriptor:e0.c.CHECK_IT_OUT},onClick:e,className:"xmkeg23 x1y0btm7 x15r24av x19y5rnk x78zum5 xx99whi xl56j7k x6s0dn4 x4wtjwi x11g6tue x1qxcl5b x1tk3asg",children:(0,c.tx)("dev_mode_playground_file.check_it_out")})})]})})}function t4(){let e=(0,t1.No)().unwrapOr(null),t=e?.tier===I.Ag.STARTER,n=(0,eY._I)(),l=(0,eY.U4)(),r=(0,tJ.w)(),a=(0,h.md)(tp.YU),o=(0,tf.w_)(),d=(0,eW.tl)().dev_mode_demo_file_key,{isShowing:u,show:x,complete:c}=(0,e2.e)({overlay:tt.E5y,priority:e4.N.DEFAULT_MODAL});return(s.useEffect(()=>{x({canShow:()=>!!(!o.loading&&!o.hasPendingRequest&&l&&!n&&a&&"developer"===r&&!t&&d)})},[n,l,d,o,u,r,a,t,x]),u)?(0,i.jsx)(t_.M,{isShowing:u,children:(0,i.jsx)(tk.fu,{name:"DevModeDemoFileEntryPoint",children:(0,i.jsx)(t7,{onClick:()=>{d&&tQ.Ay.redirect((0,t0.jN)({file:{key:d},isDevHandoff:!0}),"_blank"),c()},complete:c})})}):null}var t8=n(221602),t6=n(915707),t9=n(373547),ne=n(381643),nt=n(235711),nn=n(299640);function ni(e,t){let n=Date.now();return e.getTime()<=n-864e5*t}let ns=(0,ne.J9)([(0,nt.Fu)("seen_figmake_promo_overlay"),(0,nt.Fu)("seen_figmake_file_creation_tooltip")],([e,t])=>!!(e&&ni(new Date(e.updatedAt),14))&&(!t||ni(new Date(t.updatedAt),3))),nl=(0,nt.r1)("has_created_figma_make_file");function nr(){return(0,i.jsx)(eX.u,{label:"FigmaMakeUpsellInDesignEditorOverlay",children:(0,i.jsx)(na,{})})}function na(){let e=(0,h.md)(ns),t=(0,h.md)(nl),n=(0,t1.No)(),l=(0,t1.px)(),r=l.unwrapOr(null)?.draftsFolderId??void 0,a=(0,t8.nt)(r),d="dark"===(0,t9.DP)(),u=d?(0,eW.ck)("1a369818117cc7e77826ee246da5938968f29e43"):(0,eW.ck)("c427705996f20b17615206adc93b3171f6646529"),{isShowing:x,show:p,complete:m}=(0,e2.e)({overlay:tt.qiY,priority:e4.N.DEFAULT_MODAL},[e,t,n,a]);s.useEffect(()=>{r&&p({canShow:(e,t,n,i)=>{let s=n.tier===I.Ag.STARTER&&!(0,o.kc)().bake_starter_limit;return e&&!t&&!s&&null!==i&&(0,t8.d6)(i,I._Y.FIGMAKE)}})},[p,r]);let g=(0,t6.$)({folderId:r,isDraftsFolder:!0,editorType:I._Y.FIGMAKE,forceOpenNewTab:!0,newFileFrom:nn.f6.FIGMAKE_POPOUT_UPSELL_IN_DESIGN_EDITOR,contextClicked:"figmake_popout_upsell_in_design_editor_created"});return(0,i.jsx)(t_.M,{isShowing:x,children:(0,i.jsx)(tk.fu,{name:"FigmaMakeUpsellInDesignEditor",children:(0,i.jsx)(tu.J,{brand:"seascape",children:(0,i.jsxs)("div",{"data-testid":"figma-make-upsell-in-design-editor-overlay",className:"x10l6tqk x1g84rlc x1u31bsw xqyf9gi x9f619 xrv6xtj xgk9eko x1mxnbhz xu5wzci x1tk3asg xho2vqm xdz8niu x1bw29jc xshklg3 xskzprw x78zum5 xdt5ytf xl56j7k x1i71x30 x1dipnxa x1vamu9a",children:[(0,i.jsx)("div",{className:"x10l6tqk x1psp13h xbyvkye",children:(0,i.jsx)(t5.Jn,{onClick:m,trackingProperties:{action:"close"},emphasized:!0,dataTestId:"figma-make-upsell-in-design-editor-overlay-close"})}),(0,i.jsxs)("div",{className:"x78zum5 xdt5ytf xg2d0mh",children:[(0,i.jsx)("div",{className:"x1l3kr2 x1mnx3iv xo8tsow xeefxrb xdjnq2g",children:(0,c.tx)("upsell.figma_make_upsell_in_design_editor.title")}),(0,i.jsx)("div",{children:(0,c.tx)("upsell.figma_make_upsell_in_design_editor.description")})]}),(0,i.jsx)(t3.e6,{"data-testid":"figma-make-upsell-in-design-editor-overlay-asset",trackingProperties:{trackingDescriptor:e0.c.FIGMA_MAKE_UPSELL_ASSET},onClick:g,...{0:{className:"x1ypdohk x18dl8mb x78zum5 xl56j7k x6s0dn4 xm3q4nm xb3r6kr x168yufr xgk9eko xsks9tx x1ailfhc"},1:{className:"x1ypdohk x18dl8mb x78zum5 xl56j7k x6s0dn4 xm3q4nm xb3r6kr x168yufr xgk9eko xsks9tx x1oa4r"}}[!!d<<0],children:(0,i.jsx)("video",{className:"x5yr21d xl1xv1r",src:u,"aria-label":(0,c.t)("upsell.figma_make_upsell_in_design_editor.image_alt"),autoPlay:!0,loop:!0,muted:!0})}),(0,i.jsx)(tu.J,{brand:"seascape",mode:"dark",children:(0,i.jsx)(t3.e6,{"data-testid":"figma-make-upsell-in-design-editor-overlay-cta",trackingProperties:{trackingDescriptor:e0.c.TRY_IT_NOW},onClick:g,className:"xi0y1te xvzdmf2 x19y5rnk xx99whi x4wtjwi xeq5yr9 xpvyfi4 xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up",children:(0,c.tx)("upsell.figma_make_upsell_in_design_editor.button_title")})})]})})})})}var no=n(450259),nd=n(443192),nu=n(719097),nx=n(643077),nc=n(592726),np=n(174730),nh=n(615782),nm=n(225654),ng=n(511570),nf=n.n(ng),ny=n(653899),nk=n(833805),nj=n(101880),n_=n(967782),nv=n(504307),nb=n(141773),nC=n(373235),nS=n(395556),nE=n(289050),nT=n(844182),nI=n(566905),nw=n(834524),nN=n(875997),nL=n(768300);let nM="starting_points_templates_modal--templateOption--qYXkm",nA="starting_points_templates_modal--templateOptionTitle--DmVPR",nR="starting_points_templates_modal--verticalTemplateImage--kAzQz";var nF=(e=>(e.DESKTOP="desktop",e.MOBILE="mobile",e.WEBSITE="website",e))(nF||{});let nO={x:0,y:0},nP={website:{x:0,y:1600},mobile:{x:0,y:300},desktop:{x:0,y:300}},nz={website:.1,mobile:.225,desktop:.1};function nB(e){return(0,i.jsx)(eX.u,{label:"StartingPointsTemplatesModal",children:(0,i.jsx)(nD,{...e})})}function nD({onClose:e}){let t=(0,l.wA)(),n=s.useRef(null),[r,d]=s.useState(!1),[u,x]=s.useState(!1),[p,m]=s.useState(!1),[g,f]=s.useState(!1),[y,k]=s.useState(window.innerWidth),[j,_]=s.useState({website:"",mobile:"",desktop:""}),v=(0,nC.q)(),b=(0,eq.tS)(),C=(0,l.d4)(e=>e.fileVersion),S=(0,l.d4)(e=>e.mirror.sceneGraph),E=v&&(0,nw.Qf)(S),T=!!E&&0===E.childCount,[I]=(0,nk.IT)((0,nv.Dz)({})),{inProductHelpViewType:w}=(0,nE.A5)(),N=(0,tU.ut)(a.Ez5?.uiState().inProductHelpSidePanelWidth,0),L="side_panel"===w?N:0,{insertTemplate:M}=(0,nb.Fz)(),A=(0,nN.g)(),R=(0,h.Xr)(nL.Yq),F=(0,h.Xr)(nL.bj),[O,P]=s.useState(!1),z=(0,nT.GQ)(),B=(0,nI.P)();(0,ny.h)(()=>{let e=()=>{k(window.innerWidth)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),s.useEffect(()=>{f(z+50>y/2-257||y-B-L-50<y/2+257),m(z+50>y/2-365||y-B-L-50<y/2+365)},[L,z,B,y]);let D=s.useCallback(()=>{if("loaded"!==I.status||!I.data)return;let e=[];for(let t of Object.values(nF)){let n=I.data[t]?.files;if(!n)return;let i={type:nS.n.HubFile,template:n};e.push(i)}Promise.all(e.map(e=>h.zl.get((0,nL.Re)({fileKey:b,fileVersion:C,template:e})))).then(()=>{P(!0)}).catch(e=>{console.error("Failed to load template buffers",e),P(!0)})},[b,C,I]);if(s.useEffect(()=>{if("loaded"===I.status)for(let e of Object.values(nF)){let t=I.data[e]?.preview_img_id;t&&_(n=>({...n,[e]:t}))}},[I]),s.useEffect(()=>{"loaded"!==I.status||O||D()},[I,O,D]),s.useEffect(()=>{v&&E&&!T&&!u&&e()},[v,E,T,u,e]),!(0,o.kc)().starting_points_modal)return null;let G=async n=>{if("loaded"!==I.status)return;d(!0);let i=I.data[n]?.files;i&&("basics"!==n?await (0,nb.Zg)({insert:()=>F({selectTemplateAfterCommit:!1,moveViewportAfterCommit:!1,priority:"user-visible",editScopeType:a.zkO.USER}),template:{template:i,type:nS.n.HubFile},fileKey:b,dispatch:t,triggeredFrom:"starting-points",userTriggered:!1}):await M({template:{template:i,type:nS.n.HubFile},userTriggered:!1,editScopeType:a.zkO.ONBOARDING,triggeredFrom:"starting-points",templateInsertionDirection:a.hKj.RIGHT}),"basics"===n?(0,n_.YQ)({id:"starting_points_basics_template_inserted"}):(0,n_.YQ)({id:"starting_points_template_inserted"}),e(),d(!1))},q=(0,i.jsx)(tk.$z,{onClick:()=>G("basics"),trackingProperties:{trackingDescriptor:e0.c.LEARN_THE_BASICS},children:(0,c.tx)("starting_points.learn_the_basics")}),V=e=>{if((0,ey.sx)("Starting Points Template Option Hover",{template:e}),!I.data)return;let n=I.data[e]?.files;if(!n)return;let i={type:nS.n.HubFile,template:n},s=nz[e];window.innerWidth>1700&&(s*=1.5),(0,nb.Zg)({insert:()=>A(i,{moveViewportAfterPreview:!0,priority:"user-visible",previewManager:{nodeType:a.Z6A.CANVAS},position:nO,viewportOptions:{position:nP[e],scale:s,duration:0}}),template:i,fileKey:b,dispatch:t,triggeredFrom:"starting-points",userTriggered:!1,isPreview:!0})};return(0,i.jsx)(tk.fu,{name:"Starting Points Modal",children:(0,i.jsx)("div",{className:"starting_points_templates_modal--startingPointsTemplatesModalPositioner--R8g3u",style:{marginRight:`${L}px`},children:(0,i.jsx)(nj.x,{isLoading:r,className:"starting_points_templates_modal--loadingSpinner--UOrjg",children:()=>(0,i.jsxs)("div",{className:nf()({"starting_points_templates_modal--startingPointsTemplatesModal--dUQte":!0,"starting_points_templates_modal--isHidden--jVN1L":g,"starting_points_templates_modal--isCondensedView--3tVz6":p}),onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),ref:n,children:[(0,i.jsxs)("div",{className:"starting_points_templates_modal--modalInstructions--ZtdTL",children:[(0,i.jsx)("div",{className:"starting_points_templates_modal--modalTitle--HT3eZ",children:(0,c.t)("starting_points.what_do_you_want_to_make_today")}),(0,i.jsx)("div",{className:"starting_points_templates_modal--modalLearnMore--g-GWo",children:(0,c.tx)("starting_points.or_learn_the_basics",{learnTheBasicsLink:q})})]}),(0,i.jsxs)("div",{className:"starting_points_templates_modal--optionContainer--mYEsG",children:[(0,i.jsxs)(tk.$z,{className:nM,onClick:()=>G("website"),onMouseEnter:()=>V("website"),onMouseLeave:R,trackingProperties:{trackingDescriptor:e0.c.WEBSITE_TEMPLATES},children:[(0,i.jsx)("div",{className:nA,children:(0,c.t)("starting_points.website")}),(0,i.jsx)(t2.oW,{className:nR,src:(0,eW.ck)(j.website),alt:"Website template"})]}),(0,i.jsxs)(tk.$z,{className:nM,onClick:()=>G("mobile"),onMouseEnter:()=>V("mobile"),onMouseLeave:R,trackingProperties:{trackingDescriptor:e0.c.MOBILE_APP_TEMPLATES},children:[(0,i.jsx)("div",{className:nA,children:(0,c.t)("starting_points.mobile_app")}),(0,i.jsx)(t2.oW,{className:nR,src:(0,eW.ck)(j.mobile),alt:"Mobile app template"})]}),(0,i.jsxs)(tk.$z,{className:nM,onClick:()=>G("desktop"),onMouseEnter:()=>V("desktop"),onMouseLeave:R,trackingProperties:{trackingDescriptor:e0.c.DESKTOP_APP_TEMPLATES},children:[(0,i.jsx)("div",{className:nA,children:(0,c.t)("starting_points.desktop_app")}),(0,i.jsx)(t2.oW,{className:"starting_points_templates_modal--desktopTemplateImage--3kplg",src:(0,eW.ck)(j.desktop),alt:"Desktop app template"})]})]}),(0,i.jsx)("div",{className:"starting_points_templates_modal--modalLearnMoreFooter--pSvfX",children:(0,c.tx)("starting_points.or_learn_the_basics",{learnTheBasicsLink:q})}),(0,i.jsx)("div",{className:"starting_points_templates_modal--closeButton--io-14",children:(0,i.jsx)(em.K,{onClick:e,"aria-label":(0,c.t)("general.close"),htmlAttributes:{"data-testid":"close-button"},children:(0,i.jsx)(nm.X,{})})})]})})})})}let nG=(0,nt.r1)("dismissed_starting_points_templates_modal");function nq(){return(0,i.jsx)(eX.u,{label:"StartingPointsTemplatesModalOverlay",children:(0,i.jsx)(nV,{})})}function nV(){let e=(0,l.wA)(),t=!!(0,o.kc)().starting_points_modal,n=(0,tT.QL)(tM.E_.key)===tM.E_.value,r=(0,j.aV)(),a=(0,l.d4)(e=>e.mirror.appModel.currentPage),d=(0,_.Fk)((e,t)=>(0,nx.zC)(e,t),a),u=(0,tT.QL)(nh.pt.KEY)===nh.pt.VALUE,x=(0,eq.q5)(),c=(0,nc.TA)(),p=x?.creatorId===c,m=(0,h.md)(e5.Fy),g=(0,h.md)(nu.UQ),f=!(0,np.f)("not_gen_0"),y=(0,h.md)(nG),k=(0,eW.Ay)().starting_points,{show:v,isShowing:b,complete:C}=(0,e2.e)({overlay:tt.EYw,priority:e4.N.OVERRIDING_MODAL+1},[m,y]);return(s.useEffect(()=>{t&&p&&!u&&!r&&d&&!b&&(n?v():f&&g&&k&&v({canShow:(e,t)=>!e&&!t}))},[t,p,r,d,b,n,f,g,u,k,y,v]),b)?(0,i.jsx)(nB,{onClose:()=>{y.data||e(nd.b({dismissed_starting_points_templates_modal:!0})),C()}}):null}var n$=n(482996),nH=n(850701),nU=n(296831),nK=n(475961),nW=n(339619),nZ=n(957128),nX=n(413358),nY=n(440819);let nQ=(0,nY.Op)({initial:"ready_to_show",states:[{id:"ready_to_show",transitions:[(0,nY.nr)("curator_content_shown","ui3_onboarding_was_shown_in_current_session",{condition:({event:e})=>e.properties.shown===tt.KTt.id})]},{id:"ui3_onboarding_was_shown_in_current_session",terminal:!0}]}),nJ=(0,nY.rn)("track_ui3_onboarding_shown",nQ);var n0=n(193317);function n1(){let{isShowing:e,complete:t,show:n,uniqueId:r}=(0,e2.e)({overlay:tt.l_p,priority:e4.N.SECONDARY_MODAL}),o=(0,l.wA)(),d=(0,j.aV)(),u=(0,eq.q5)(),x=(0,nc.iZ)(),p=(0,n$.te)(),m=!!(0,np.f)(nZ.bo),g="ui3_onboarding_was_shown_in_current_session"===(0,nU.zl)(nJ).currentState,f="no_figma_basics_onboarding_was_shown_in_current_session"===(0,nU.zl)(nX.j).currentState,y=(0,h.md)(nW.dL),k=(0,nK.jO)(),_=u?.canEdit,v=(0,l.d4)(e=>e.leftPanel.activeTab===a.xae.LAYERS);if((0,e1.E)(r,["Reset Visual Assets Tooltips",nZ.io],()=>{x&&u&&o(nd.b(n0.g))}),(0,s.useEffect)(()=>{!p()||!_||y||m||g||f||!k||d||!v||e||n()},[n,p,_,m,k,d,g,f,e,y,v]),(0,s.useEffect)(()=>{!v&&e&&t()},[v,e,t]),!e)return null;let b=(0,i.jsx)("strong",{style:{display:"contents"},children:(0,c.tx)("design_systems.assets_panel.assets")});return(0,i.jsx)(e6.X,{isShowing:e,title:(0,c.tx)("rcs.visual_assets.elevate_your_designs"),description:(0,c.tx)("rcs.visual_assets.grab_visual_assets",{strongAssets:b}),primaryCta:{label:(0,c.tx)("rcs.presets_baseline.try_it"),type:"button",onClick:()=>{o(nH.FP({tab:a.xae.ASSETS})),t()},ctaTrackingDescriptor:e0.c.PRESETS_TRY_IT},trackingContextName:"Visual Assets Intro Tooltip",userFlagOnShow:nZ.bo,position:e9.Q.UI3_EDITOR_TOP_LEFT,onClose:t})}var n2=n(326973),n3=n(873289),n5=n(846696),n7=n(825947),n4=n(878604),n8=n(293422),n6=n(414173),n9=n(877384),ie=n(513122),it=n(494366),ii=n(18978),is=n(894210),il=n(390452),ir=n(338052),ia=n(840930),io=n(315790);function id(){return(0,i.jsxs)("svg",{width:"56",height:"57",viewBox:"0 0 56 57",fill:"none",children:[(0,i.jsxs)("g",{clipPath:"url(#clip0_9897_16689)",children:[(0,i.jsx)("path",{d:"M0 5.5C0 2.73858 2.23858 0.5 5 0.5H51C53.7614 0.5 56 2.73858 56 5.5V51.5C56 54.2614 53.7614 56.5 51 56.5H5C2.23858 56.5 0 54.2614 0 51.5V5.5Z",fill:"#E4CCFF"}),(0,i.jsxs)("g",{filter:"url(#filter0_d_9897_16689)",children:[(0,i.jsx)("rect",{x:"9.5",y:"23",width:"24",height:"24",rx:"3",fill:"white",shapeRendering:"crispEdges"}),(0,i.jsx)("path",{d:"M20.6165 36.5908C21.1046 36.1028 21.8959 36.1028 22.384 36.5908L23.7629 37.9697C24.251 38.4579 24.251 39.2492 23.7629 39.7373L22.384 41.1162L22.2893 41.2021C21.8311 41.5758 21.1694 41.5758 20.7112 41.2021L20.6165 41.1162L19.2375 39.7373C18.78 39.2797 18.7512 38.5554 19.1516 38.0645L19.2375 37.9697L20.6165 36.5908ZM21.677 37.2979C21.5794 37.2003 21.4211 37.2003 21.3235 37.2979L19.9446 38.6768C19.8471 38.7744 19.8471 38.9327 19.9446 39.0303L21.3235 40.4092C21.4211 40.5067 21.5794 40.5067 21.677 40.4092L23.0559 39.0303C23.1534 38.9327 23.1534 38.7744 23.0559 38.6768L21.677 37.2979ZM16.7629 32.7373C17.2511 32.2493 18.0424 32.2493 18.5305 32.7373L19.9094 34.1162C20.3975 34.6043 20.3975 35.3957 19.9094 35.8838L18.5305 37.2627L18.4358 37.3486C17.9776 37.7223 17.3159 37.7223 16.8577 37.3486L16.7629 37.2627L15.384 35.8838C14.9265 35.4262 14.8977 34.7019 15.2981 34.2109L15.384 34.1162L16.7629 32.7373ZM24.47 32.7373C24.9581 32.2493 25.7494 32.2493 26.2375 32.7373L27.6165 34.1162C28.1045 34.6043 28.1045 35.3957 27.6165 35.8838L26.2375 37.2627L26.1428 37.3486C25.6846 37.7223 25.0229 37.7223 24.5647 37.3486L24.47 37.2627L23.0911 35.8838C22.6335 35.4262 22.6047 34.7019 23.0051 34.2109L23.0911 34.1162L24.47 32.7373ZM17.8235 33.4443C17.7259 33.3468 17.5676 33.3468 17.47 33.4443L16.0911 34.8232C15.9936 34.9208 15.9936 35.0792 16.0911 35.1768L17.47 36.5557C17.5676 36.6532 17.7259 36.6532 17.8235 36.5557L19.2024 35.1768C19.2999 35.0792 19.2999 34.9208 19.2024 34.8232L17.8235 33.4443ZM25.5305 33.4443C25.4329 33.3468 25.2746 33.3468 25.177 33.4443L23.7981 34.8232C23.7006 34.9208 23.7006 35.0792 23.7981 35.1768L25.177 36.5557C25.2746 36.6532 25.4329 36.6532 25.5305 36.5557L26.9094 35.1768C27.0069 35.0792 27.0069 34.9208 26.9094 34.8232L25.5305 33.4443ZM20.6165 28.8838C21.1046 28.3958 21.8959 28.3958 22.384 28.8838L23.7629 30.2627C24.251 30.7508 24.251 31.5421 23.7629 32.0303L22.384 33.4092L22.2893 33.4951C21.8311 33.8688 21.1694 33.8688 20.7112 33.4951L20.6165 33.4092L19.2375 32.0303C18.78 31.5726 18.7512 30.8484 19.1516 30.3574L19.2375 30.2627L20.6165 28.8838ZM21.677 29.5908C21.5794 29.4933 21.4211 29.4933 21.3235 29.5908L19.9446 30.9697C19.8471 31.0673 19.8471 31.2256 19.9446 31.3232L21.3235 32.7021C21.4211 32.7997 21.5794 32.7997 21.677 32.7021L23.0559 31.3232C23.1534 31.2256 23.1534 31.0673 23.0559 30.9697L21.677 29.5908Z",fill:"#D9B8FF"})]}),(0,i.jsxs)("g",{filter:"url(#filter1_d_9897_16689)",children:[(0,i.jsx)("rect",{x:"22.5",y:"10",width:"24",height:"24",rx:"3",fill:"white",shapeRendering:"crispEdges"}),(0,i.jsx)("path",{d:"M33.6165 23.5908C34.1046 23.1028 34.8959 23.1028 35.384 23.5908L36.7629 24.9697C37.251 25.4579 37.251 26.2492 36.7629 26.7373L35.384 28.1162L35.2893 28.2021C34.8311 28.5758 34.1694 28.5758 33.7112 28.2021L33.6165 28.1162L32.2375 26.7373C31.78 26.2797 31.7512 25.5554 32.1516 25.0645L32.2375 24.9697L33.6165 23.5908ZM34.677 24.2979C34.5794 24.2003 34.4211 24.2003 34.3235 24.2979L32.9446 25.6768C32.8471 25.7744 32.8471 25.9327 32.9446 26.0303L34.3235 27.4092C34.4211 27.5067 34.5794 27.5067 34.677 27.4092L36.0559 26.0303C36.1534 25.9327 36.1534 25.7744 36.0559 25.6768L34.677 24.2979ZM29.7629 19.7373C30.2511 19.2493 31.0424 19.2493 31.5305 19.7373L32.9094 21.1162C33.3975 21.6043 33.3975 22.3957 32.9094 22.8838L31.5305 24.2627L31.4358 24.3486C30.9776 24.7223 30.3159 24.7223 29.8577 24.3486L29.7629 24.2627L28.384 22.8838C27.9265 22.4262 27.8977 21.7019 28.2981 21.2109L28.384 21.1162L29.7629 19.7373ZM37.47 19.7373C37.9581 19.2493 38.7494 19.2493 39.2375 19.7373L40.6165 21.1162C41.1045 21.6043 41.1045 22.3957 40.6165 22.8838L39.2375 24.2627L39.1428 24.3486C38.6846 24.7223 38.0229 24.7223 37.5647 24.3486L37.47 24.2627L36.0911 22.8838C35.6335 22.4262 35.6047 21.7019 36.0051 21.2109L36.0911 21.1162L37.47 19.7373ZM30.8235 20.4443C30.7259 20.3468 30.5676 20.3468 30.47 20.4443L29.0911 21.8232C28.9936 21.9208 28.9936 22.0792 29.0911 22.1768L30.47 23.5557C30.5676 23.6532 30.7259 23.6532 30.8235 23.5557L32.2024 22.1768C32.2999 22.0792 32.2999 21.9208 32.2024 21.8232L30.8235 20.4443ZM38.5305 20.4443C38.4329 20.3468 38.2746 20.3468 38.177 20.4443L36.7981 21.8232C36.7006 21.9208 36.7006 22.0792 36.7981 22.1768L38.177 23.5557C38.2746 23.6532 38.4329 23.6532 38.5305 23.5557L39.9094 22.1768C40.0069 22.0792 40.0069 21.9208 39.9094 21.8232L38.5305 20.4443ZM33.6165 15.8838C34.1046 15.3958 34.8959 15.3958 35.384 15.8838L36.7629 17.2627C37.251 17.7508 37.251 18.5421 36.7629 19.0303L35.384 20.4092L35.2893 20.4951C34.8311 20.8688 34.1694 20.8688 33.7112 20.4951L33.6165 20.4092L32.2375 19.0303C31.78 18.5726 31.7512 17.8484 32.1516 17.3574L32.2375 17.2627L33.6165 15.8838ZM34.677 16.5908C34.5794 16.4933 34.4211 16.4933 34.3235 16.5908L32.9446 17.9697C32.8471 18.0673 32.8471 18.2256 32.9446 18.3232L34.3235 19.7021C34.4211 19.7997 34.5794 19.7997 34.677 19.7021L36.0559 18.3232C36.1534 18.2256 36.1534 18.0673 36.0559 17.9697L34.677 16.5908Z",fill:"#9747FF"})]})]}),(0,i.jsxs)("defs",{children:[(0,i.jsxs)("filter",{id:"filter0_d_9897_16689",x:"1.5",y:"17",width:"40",height:"40",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dy:"2"}),(0,i.jsx)("feGaussianBlur",{stdDeviation:"4"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,i.jsx)("feBlend",{mode:"multiply",in2:"BackgroundImageFix",result:"effect1_dropShadow_9897_16689"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_9897_16689",result:"shape"})]}),(0,i.jsxs)("filter",{id:"filter1_d_9897_16689",x:"14.5",y:"4",width:"40",height:"40",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dy:"2"}),(0,i.jsx)("feGaussianBlur",{stdDeviation:"4"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,i.jsx)("feBlend",{mode:"multiply",in2:"BackgroundImageFix",result:"effect1_dropShadow_9897_16689"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_9897_16689",result:"shape"})]}),(0,i.jsx)("clipPath",{id:"clip0_9897_16689",children:(0,i.jsx)("path",{d:"M0 5.5C0 2.73858 2.23858 0.5 5 0.5H51C53.7614 0.5 56 2.73858 56 5.5V51.5C56 54.2614 53.7614 56.5 51 56.5H5C2.23858 56.5 0 54.2614 0 51.5V5.5Z",fill:"white"})})]})]})}function iu(){return(0,i.jsxs)("svg",{width:"56",height:"57",viewBox:"0 0 56 57",fill:"none",children:[(0,i.jsxs)("g",{clipPath:"url(#clip0_9897_16676)",children:[(0,i.jsx)("path",{d:"M0 5.5C0 2.73858 2.23858 0.5 5 0.5H51C53.7614 0.5 56 2.73858 56 5.5V51.5C56 54.2614 53.7614 56.5 51 56.5H5C2.23858 56.5 0 54.2614 0 51.5V5.5Z",fill:"#FFBDF2"}),(0,i.jsxs)("g",{filter:"url(#filter0_d_9897_16676)",children:[(0,i.jsx)("rect",{x:"7",y:"8.5",width:"24",height:"18",rx:"3",fill:"white",shapeRendering:"crispEdges"}),(0,i.jsx)("path",{d:"M13.3983 21H11.9842L14.8319 13H16.4217L19.2694 21H17.8553L15.6561 14.5469H15.5936L13.3983 21ZM13.5272 17.8672H17.7147V18.9531H13.5272V17.8672ZM22.7736 23.375C22.2814 23.375 21.8582 23.3099 21.5041 23.1797C21.1525 23.0495 20.8673 22.875 20.6486 22.6563C20.4298 22.4375 20.2723 22.1979 20.1759 21.9375L21.3127 21.5781C21.3778 21.6927 21.4676 21.8112 21.5822 21.9336C21.6968 22.056 21.8517 22.1589 22.047 22.2422C22.2423 22.3281 22.491 22.3711 22.7931 22.3711C23.215 22.3711 23.564 22.2682 23.84 22.0625C24.116 21.8594 24.2541 21.5286 24.2541 21.0703V19.9141H24.1798C24.1095 20.0521 24.0067 20.1992 23.8713 20.3555C23.7358 20.5091 23.5535 20.6406 23.3244 20.75C23.0952 20.8568 22.8035 20.9102 22.4494 20.9102C21.9832 20.9102 21.5614 20.8008 21.1838 20.582C20.8088 20.3607 20.5106 20.0326 20.2892 19.5977C20.0679 19.1628 19.9572 18.6224 19.9572 17.9766C19.9572 17.3307 20.0666 16.7799 20.2853 16.3242C20.5041 15.8685 20.8022 15.5208 21.1798 15.2812C21.5574 15.0417 21.9832 14.9219 22.4572 14.9219C22.8192 14.9219 23.1134 14.9831 23.34 15.1055C23.5692 15.2253 23.7502 15.3685 23.883 15.5352C24.0158 15.6992 24.1173 15.8477 24.1877 15.9805H24.2658V15H25.5353V21.1172C25.5353 21.6302 25.4142 22.0534 25.172 22.3867C24.9324 22.7201 24.6043 22.9674 24.1877 23.1289C23.771 23.293 23.2996 23.375 22.7736 23.375ZM22.7775 19.8711C23.0952 19.8711 23.3647 19.7956 23.5861 19.6445C23.8074 19.4935 23.9754 19.276 24.09 18.9922C24.2072 18.7057 24.2658 18.3646 24.2658 17.9687C24.2658 17.5755 24.2085 17.2318 24.0939 16.9375C23.9793 16.6432 23.8114 16.4141 23.59 16.25C23.3686 16.0833 23.0978 16 22.7775 16C22.4442 16 22.1655 16.0859 21.9416 16.2578C21.7176 16.4297 21.5496 16.6641 21.4377 16.9609C21.3257 17.2578 21.2697 17.5937 21.2697 17.9687C21.2697 18.349 21.327 18.6823 21.4416 18.9687C21.5561 19.2526 21.7241 19.474 21.9455 19.6328C22.1694 19.7917 22.4468 19.8711 22.7775 19.8711Z",fill:"#FF24BD"}),(0,i.jsx)("path",{d:"M47.584 13.2226C47.7372 12.9929 48.0476 12.9308 48.2773 13.084C48.5071 13.2371 48.5692 13.5476 48.416 13.7773L43.416 21.2773C43.3329 21.402 43.1979 21.4833 43.0488 21.498C42.8999 21.5126 42.7523 21.4593 42.6465 21.3535L39.6465 18.3535C39.4513 18.1582 39.4512 17.8417 39.6465 17.6465C39.8173 17.4756 40.0813 17.4539 40.2754 17.582L40.3535 17.6465L42.9219 20.2148L47.584 13.2226Z",fill:"white"})]}),(0,i.jsxs)("g",{filter:"url(#filter1_d_9897_16676)",children:[(0,i.jsx)("rect",{x:"7",y:"30.5",width:"24",height:"18",rx:"3",fill:"white",shapeRendering:"crispEdges"}),(0,i.jsx)("path",{d:"M13.3983 43H11.9842L14.8319 35H16.4217L19.2694 43H17.8553L15.6561 36.5469H15.5936L13.3983 43ZM13.5272 39.8672H17.7147V40.9531H13.5272V39.8672ZM22.7736 45.375C22.2814 45.375 21.8582 45.3099 21.5041 45.1797C21.1525 45.0495 20.8673 44.875 20.6486 44.6563C20.4298 44.4375 20.2723 44.1979 20.1759 43.9375L21.3127 43.5781C21.3778 43.6927 21.4676 43.8112 21.5822 43.9336C21.6968 44.056 21.8517 44.1589 22.047 44.2422C22.2423 44.3281 22.491 44.3711 22.7931 44.3711C23.215 44.3711 23.564 44.2682 23.84 44.0625C24.116 43.8594 24.2541 43.5286 24.2541 43.0703V41.9141H24.1798C24.1095 42.0521 24.0067 42.1992 23.8713 42.3555C23.7358 42.5091 23.5535 42.6406 23.3244 42.75C23.0952 42.8568 22.8035 42.9102 22.4494 42.9102C21.9832 42.9102 21.5614 42.8008 21.1838 42.582C20.8088 42.3607 20.5106 42.0326 20.2892 41.5977C20.0679 41.1628 19.9572 40.6224 19.9572 39.9766C19.9572 39.3307 20.0666 38.7799 20.2853 38.3242C20.5041 37.8685 20.8022 37.5208 21.1798 37.2812C21.5574 37.0417 21.9832 36.9219 22.4572 36.9219C22.8192 36.9219 23.1134 36.9831 23.34 37.1055C23.5692 37.2253 23.7502 37.3685 23.883 37.5352C24.0158 37.6992 24.1173 37.8477 24.1877 37.9805H24.2658V37H25.5353V43.1172C25.5353 43.6302 25.4142 44.0534 25.172 44.3867C24.9324 44.7201 24.6043 44.9674 24.1877 45.1289C23.771 45.293 23.2996 45.375 22.7736 45.375ZM22.7775 41.8711C23.0952 41.8711 23.3647 41.7956 23.5861 41.6445C23.8074 41.4935 23.9754 41.276 24.09 40.9922C24.2072 40.7057 24.2658 40.3646 24.2658 39.9687C24.2658 39.5755 24.2085 39.2318 24.0939 38.9375C23.9793 38.6432 23.8114 38.4141 23.59 38.25C23.3686 38.0833 23.0978 38 22.7775 38C22.4442 38 22.1655 38.0859 21.9416 38.2578C21.7176 38.4297 21.5496 38.6641 21.4377 38.9609C21.3257 39.2578 21.2697 39.5937 21.2697 39.9687C21.2697 40.349 21.327 40.6823 21.4416 40.9687C21.5561 41.2526 21.7241 41.474 21.9455 41.6328C22.1694 41.7917 22.4468 41.8711 22.7775 41.8711Z",fill:"#FF99E0"}),(0,i.jsx)("path",{d:"M44 33.5C40.6863 33.5 38 36.1863 38 39.5C38 42.8137 40.6863 45.5 44 45.5C47.3137 45.5 50 42.8137 50 39.5C50 36.1863 47.3137 33.5 44 33.5ZM47.8721 36.335C48.5775 37.1969 49 38.2993 49 39.5C49 42.2614 46.7614 44.5 44 44.5C42.7994 44.5 41.6979 44.0764 40.8359 43.3711L47.8721 36.335ZM44 34.5C45.2007 34.5 46.3031 34.9225 47.165 35.6279L40.1289 42.6641C39.4236 41.8021 39 40.7006 39 39.5C39 36.7386 41.2386 34.5 44 34.5Z",fill:"white"})]})]}),(0,i.jsxs)("defs",{children:[(0,i.jsxs)("filter",{id:"filter0_d_9897_16676",x:"-1",y:"2.5",width:"61",height:"34",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dy:"2"}),(0,i.jsx)("feGaussianBlur",{stdDeviation:"4"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,i.jsx)("feBlend",{mode:"multiply",in2:"BackgroundImageFix",result:"effect1_dropShadow_9897_16676"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_9897_16676",result:"shape"})]}),(0,i.jsxs)("filter",{id:"filter1_d_9897_16676",x:"-1",y:"24.5",width:"61",height:"34",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dy:"2"}),(0,i.jsx)("feGaussianBlur",{stdDeviation:"4"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,i.jsx)("feBlend",{mode:"multiply",in2:"BackgroundImageFix",result:"effect1_dropShadow_9897_16676"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_9897_16676",result:"shape"})]}),(0,i.jsx)("clipPath",{id:"clip0_9897_16676",children:(0,i.jsx)("path",{d:"M0 5.5C0 2.73858 2.23858 0.5 5 0.5H51C53.7614 0.5 56 2.73858 56 5.5V51.5C56 54.2614 53.7614 56.5 51 56.5H5C2.23858 56.5 0 54.2614 0 51.5V5.5Z",fill:"white"})})]})]})}function ix(){return(0,i.jsxs)("svg",{width:"56",height:"57",viewBox:"0 0 56 57",fill:"none",children:[(0,i.jsxs)("g",{clipPath:"url(#clip0_10049_1824)",children:[(0,i.jsx)("path",{d:"M0 5.5C0 2.73858 2.23858 0.5 5 0.5H51C53.7614 0.5 56 2.73858 56 5.5V51.5C56 54.2614 53.7614 56.5 51 56.5H5C2.23858 56.5 0 54.2614 0 51.5V5.5Z",fill:"#BDE3FF"}),(0,i.jsxs)("g",{filter:"url(#filter0_d_10049_1824)",children:[(0,i.jsx)("rect",{x:"8",y:"8.5",width:"40",height:"40",rx:"3",fill:"white",shapeRendering:"crispEdges"}),(0,i.jsx)("path",{d:"M26 16C26 15.1716 26.6716 14.5 27.5 14.5H41.5C42.3284 14.5 43 15.1716 43 16C43 16.8284 42.3284 17.5 41.5 17.5H27.5C26.6716 17.5 26 16.8284 26 16Z",fill:"#BDE3FF"}),(0,i.jsx)("path",{d:"M26 29C26 28.1716 26.6716 27.5 27.5 27.5H41.5C42.3284 27.5 43 28.1716 43 29C43 29.8284 42.3284 30.5 41.5 30.5H27.5C26.6716 30.5 26 29.8284 26 29Z",fill:"#BDE3FF"}),(0,i.jsx)("path",{d:"M26 40C26 39.1716 26.6716 38.5 27.5 38.5H41.5C42.3284 38.5 43 39.1716 43 40C43 40.8284 42.3284 41.5 41.5 41.5H27.5C26.6716 41.5 26 40.8284 26 40Z",fill:"#BDE3FF"}),(0,i.jsx)("path",{d:"M14.9375 16.4902C15.248 16.4904 15.4999 16.7423 15.5 17.0527C15.4999 17.3632 15.2479 17.615 14.9375 17.6152C14.6273 17.615 14.3755 17.3638 14.375 17.0537C14.375 16.7431 14.6269 16.4904 14.9375 16.4902Z",fill:"#0D99FF"}),(0,i.jsx)("path",{d:"M19.0625 15.375C19.3731 15.3751 19.625 15.6279 19.625 15.9385C19.6245 16.2485 19.3726 16.4998 19.0625 16.5C18.7521 16.4997 18.5 16.248 18.5 15.9375C18.5 15.6269 18.752 15.3751 19.0625 15.375Z",fill:"#0D99FF"}),(0,i.jsx)("path",{d:"M15.3125 14.25C15.6231 14.2501 15.875 14.5019 15.875 14.8125C15.875 15.1231 15.6231 15.3749 15.3125 15.375C15.0019 15.3749 14.75 15.1231 14.75 14.8125C14.75 14.5019 15.0019 14.2501 15.3125 14.25Z",fill:"#0D99FF"}),(0,i.jsx)("path",{d:"M17.5625 13.876C17.8731 13.876 18.125 14.1269 18.125 14.4375C18.1249 14.7481 17.8731 15 17.5625 15C17.2519 14.9999 17.0001 14.7481 17 14.4375C17 14.1269 17.2519 13.876 17.5625 13.876Z",fill:"#0D99FF"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 12C19.4853 12 21.5 14.0147 21.5 16.5C21.5 16.728 21.4833 16.9525 21.4502 17.1719C21.2884 18.2437 20.2918 18.75 19.4551 18.75H17.75C17.75 19.366 17.4927 19.9576 17.0518 20.3467C16.5911 20.753 15.924 20.932 15.2471 20.6455C13.634 19.9627 12.5 18.3647 12.5 16.5C12.5 14.0147 14.5147 12 17 12ZM17 12.75C14.9289 12.75 13.25 14.4289 13.25 16.5C13.25 18.0529 14.1937 19.3855 15.5391 19.9551C16.302 20.278 17 19.5784 17 18.75C17 18.3358 17.3358 18 17.75 18H19.4551C20.0512 18 20.6191 17.649 20.708 17.0596C20.7355 16.877 20.75 16.6902 20.75 16.5C20.75 14.4289 19.0711 12.75 17 12.75Z",fill:"#0D99FF"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.498 27.1146C19.739 27.1146 19.935 27.1552 20.0859 27.2367C20.2387 27.3165 20.3597 27.4127 20.4482 27.5238C20.5367 27.633 20.6045 27.7322 20.6514 27.8206H20.7031V27.1663H21.5498V31.2445C21.5498 31.5865 21.469 31.8689 21.3076 32.0911C21.1479 32.3134 20.9291 32.4786 20.6514 32.5863C20.3737 32.6956 20.0595 32.7503 19.709 32.7503C19.3809 32.7503 19.0984 32.7063 18.8623 32.6195C18.628 32.5327 18.4378 32.4166 18.292 32.2708C18.1462 32.125 18.0408 31.965 17.9766 31.7913L18.7344 31.5521C18.7778 31.6285 18.8377 31.7078 18.9141 31.7894C18.9904 31.871 19.0944 31.9389 19.2246 31.9945C19.3548 32.0517 19.5204 32.0804 19.7217 32.0804C20.0029 32.0804 20.2359 32.0125 20.4199 31.8753C20.6039 31.7399 20.6953 31.5187 20.6953 31.2132V30.4427H20.6465C20.5996 30.5347 20.5306 30.6326 20.4404 30.7367C20.3502 30.839 20.2288 30.9274 20.0762 31.0003C19.9234 31.0715 19.7283 31.1068 19.4922 31.1068C19.1815 31.1067 18.9001 31.0338 18.6484 30.888C18.3986 30.7405 18.2003 30.5216 18.0527 30.2318C17.9052 29.9418 17.8311 29.5813 17.8311 29.1507C17.8311 28.7203 17.904 28.3529 18.0498 28.0492C18.1956 27.7455 18.3948 27.5135 18.6465 27.3538C18.8981 27.1943 19.1823 27.1146 19.498 27.1146ZM19.7109 27.8333C19.4889 27.8334 19.3035 27.8908 19.1543 28.0052C19.005 28.1198 18.893 28.2761 18.8184 28.474C18.7437 28.6719 18.7061 28.8958 18.7061 29.1458C18.7061 29.3993 18.7439 29.6219 18.8203 29.8128C18.8967 30.0019 19.0088 30.1494 19.1562 30.2552C19.3055 30.3611 19.4905 30.4144 19.7109 30.4144C19.9227 30.4144 20.1025 30.3637 20.25 30.263C20.3975 30.1624 20.5096 30.0175 20.5859 29.8285C20.6641 29.6375 20.7031 29.4097 20.7031 29.1458C20.7031 28.8837 20.6652 28.6545 20.5889 28.4583C20.5125 28.2623 20.4004 28.1097 20.2529 28.0003C20.1054 27.8892 19.9245 27.8333 19.7109 27.8333Z",fill:"#0D99FF"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.3721 31.1663H16.4297L15.9648 29.8021H13.9219L13.458 31.1663H12.5156L14.4141 25.8333H15.4736L17.3721 31.1663ZM14.1689 29.0785H15.7178L14.9639 26.8646H14.9219L14.1689 29.0785Z",fill:"#0D99FF"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.8379 42.748C16.0439 42.7685 16.2274 42.6181 16.248 42.4121L16.2891 42H17.4111L17.377 42.3379C17.3565 42.5439 17.5069 42.7274 17.7129 42.748C17.9189 42.7685 18.1024 42.6181 18.123 42.4121L18.1641 42H18.875C19.0821 42 19.25 41.8321 19.25 41.625C19.25 41.4179 19.0821 41.25 18.875 41.25H18.2393L18.3896 39.75H18.875C19.0821 39.75 19.25 39.5821 19.25 39.375C19.25 39.1679 19.0821 39 18.875 39H18.4639L18.498 38.6621C18.5185 38.4561 18.3681 38.2726 18.1621 38.252C17.9561 38.2315 17.7726 38.3819 17.752 38.5879L17.7109 39H16.5889L16.623 38.6621C16.6435 38.4561 16.4931 38.2726 16.2871 38.252C16.0811 38.2315 15.8976 38.3819 15.877 38.5879L15.8359 39H15.125C14.9179 39 14.75 39.1679 14.75 39.375C14.75 39.5821 14.9179 39.75 15.125 39.75H15.7607L15.6104 41.25H15.125C14.9179 41.25 14.75 41.4179 14.75 41.625C14.75 41.8321 14.9179 42 15.125 42H15.5361L15.502 42.3379C15.4815 42.5439 15.6319 42.7274 15.8379 42.748ZM16.3643 41.25L16.5146 39.75H17.6357L17.4854 41.25H16.3643Z",fill:"#0D99FF"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.625 44.25C20.2463 44.2499 20.75 43.7463 20.75 43.125V37.875C20.75 37.2537 20.2463 36.7501 19.625 36.75H14.375C13.7537 36.75 13.25 37.2537 13.25 37.875V43.125C13.25 43.7463 13.7537 44.25 14.375 44.25H19.625ZM14.375 43.5C14.1679 43.5 14 43.3321 14 43.125V37.875C14 37.6679 14.1679 37.5 14.375 37.5H19.625C19.832 37.5001 20 37.6679 20 37.875V43.125C20 43.3321 19.832 43.4999 19.625 43.5H14.375Z",fill:"#0D99FF"})]})]}),(0,i.jsxs)("defs",{children:[(0,i.jsxs)("filter",{id:"filter0_d_10049_1824",x:"0",y:"2.5",width:"56",height:"56",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dy:"2"}),(0,i.jsx)("feGaussianBlur",{stdDeviation:"4"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,i.jsx)("feBlend",{mode:"multiply",in2:"BackgroundImageFix",result:"effect1_dropShadow_10049_1824"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_10049_1824",result:"shape"})]}),(0,i.jsx)("clipPath",{id:"clip0_10049_1824",children:(0,i.jsx)("path",{d:"M0 5.5C0 2.73858 2.23858 0.5 5 0.5H51C53.7614 0.5 56 2.73858 56 5.5V51.5C56 54.2614 53.7614 56.5 51 56.5H5C2.23858 56.5 0 54.2614 0 51.5V5.5Z",fill:"white"})})]})]})}function ic(){return(0,i.jsxs)("svg",{width:"288",height:"173",viewBox:"0 0 288 173",fill:"none",children:[(0,i.jsxs)("g",{clipPath:"url(#clip0_10088_1793)",children:[(0,i.jsx)("rect",{y:"0.5",width:"288",height:"172",rx:"5",fill:"#F5F5F5"}),(0,i.jsx)("g",{filter:"url(#filter0_d_10088_1793)",children:(0,i.jsx)("rect",{x:"50",y:"26",width:"56",height:"120",rx:"4",fill:"#D9D9D9"})}),(0,i.jsx)("g",{filter:"url(#filter1_d_10088_1793)",children:(0,i.jsx)("rect",{x:"-22",y:"26",width:"56",height:"120",rx:"4",fill:"#D9D9D9"})}),(0,i.jsx)("g",{filter:"url(#filter2_d_10088_1793)",children:(0,i.jsx)("rect",{x:"122",y:"26",width:"56",height:"120",rx:"4",fill:"#D9D9D9"})}),(0,i.jsx)("rect",{x:"121.5",y:"25.5",width:"57",height:"120",stroke:"#0D99FF"}),(0,i.jsx)("rect",{x:"118.5",y:"22.5",width:"7",height:"7",fill:"white",stroke:"#0D99FF",strokeLinecap:"square"}),(0,i.jsx)("rect",{x:"118.5",y:"141.5",width:"7",height:"7",fill:"white",stroke:"#0D99FF",strokeLinecap:"square"}),(0,i.jsx)("rect",{x:"174.5",y:"22.5",width:"7",height:"7",fill:"white",stroke:"#0D99FF",strokeLinecap:"square"}),(0,i.jsx)("rect",{x:"174.5",y:"141.5",width:"7",height:"7",fill:"white",stroke:"#0D99FF",strokeLinecap:"square"}),(0,i.jsx)("g",{filter:"url(#filter3_d_10088_1793)",children:(0,i.jsx)("rect",{x:"194",y:"26",width:"56",height:"120",rx:"4",fill:"#D9D9D9"})}),(0,i.jsx)("rect",{x:"193.5",y:"25.5",width:"57",height:"120",stroke:"#0D99FF"}),(0,i.jsx)("rect",{x:"190.5",y:"22.5",width:"7",height:"7",fill:"white",stroke:"#0D99FF",strokeLinecap:"square"}),(0,i.jsx)("rect",{x:"190.5",y:"141.5",width:"7",height:"7",fill:"white",stroke:"#0D99FF",strokeLinecap:"square"}),(0,i.jsx)("rect",{x:"246.5",y:"22.5",width:"7",height:"7",fill:"white",stroke:"#0D99FF",strokeLinecap:"square"}),(0,i.jsx)("rect",{x:"246.5",y:"141.5",width:"7",height:"7",fill:"white",stroke:"#0D99FF",strokeLinecap:"square"}),(0,i.jsx)("g",{filter:"url(#filter4_d_10088_1793)",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M237.409 97.4091C238.033 96.7852 238.964 96.5835 239.79 96.8933L256.29 103.081C257.212 103.427 257.802 104.332 257.746 105.316C257.69 106.299 257.001 107.131 256.046 107.37L249.105 109.105L247.37 116.046C247.131 117.001 246.299 117.69 245.316 117.746C244.332 117.802 243.427 117.212 243.081 116.29L236.893 99.7901C236.584 98.9639 236.785 98.033 237.409 97.4091Z",fill:"white"})}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M239.263 98.2978C238.988 98.1945 238.678 98.2617 238.47 98.4697C238.262 98.6777 238.195 98.988 238.298 99.2634L244.485 115.763C244.601 116.071 244.902 116.267 245.23 116.249C245.558 116.23 245.835 116 245.915 115.682L247.868 107.868L255.682 105.915C256 105.835 256.23 105.558 256.249 105.23C256.267 104.902 256.071 104.601 255.763 104.485L239.263 98.2978Z",fill:"black"})]}),(0,i.jsx)("rect",{x:"0.5",y:"1",width:"287",height:"171",rx:"4.5",stroke:"#E6E6E6"}),(0,i.jsxs)("defs",{children:[(0,i.jsxs)("filter",{id:"filter0_d_10088_1793",x:"42",y:"20",width:"72",height:"136",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dy:"2"}),(0,i.jsx)("feGaussianBlur",{stdDeviation:"4"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.1 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_10088_1793"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_10088_1793",result:"shape"})]}),(0,i.jsxs)("filter",{id:"filter1_d_10088_1793",x:"-30",y:"20",width:"72",height:"136",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dy:"2"}),(0,i.jsx)("feGaussianBlur",{stdDeviation:"4"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.1 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_10088_1793"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_10088_1793",result:"shape"})]}),(0,i.jsxs)("filter",{id:"filter2_d_10088_1793",x:"114",y:"20",width:"72",height:"136",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dy:"2"}),(0,i.jsx)("feGaussianBlur",{stdDeviation:"4"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.1 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_10088_1793"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_10088_1793",result:"shape"})]}),(0,i.jsxs)("filter",{id:"filter3_d_10088_1793",x:"186",y:"20",width:"72",height:"136",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dy:"2"}),(0,i.jsx)("feGaussianBlur",{stdDeviation:"4"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.1 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_10088_1793"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_10088_1793",result:"shape"})]}),(0,i.jsxs)("filter",{id:"filter4_d_10088_1793",x:"232.25",y:"93.75",width:"30.0001",height:"30.0001",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dy:"1.5"}),(0,i.jsx)("feGaussianBlur",{stdDeviation:"2.25"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.35 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_10088_1793"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_10088_1793",result:"shape"})]}),(0,i.jsx)("clipPath",{id:"clip0_10088_1793",children:(0,i.jsx)("rect",{y:"0.5",width:"288",height:"172",rx:"5",fill:"white"})})]})]})}let ip="design-linter-landing-page";function ih(){let{hasNoSelectedNodes:e,doesExceedLimit:t}=ik(),n=(0,n7.Hl)(),l=(0,h.md)(io._M),r=(0,np.f)("seen_linter_home_view"),[a,o]=s.useState(!1),d=(0,nT.GQ)(),u=(0,ie.am)(),[x,p]=s.useState(()=>l===ii.FR.LANDING_PAGE_NO_SELECTION?"noNodesSelected":l===ii.FR.LANDING_PAGE_LIMIT_EXCEEDED?"layerLimitExceeded":"welcome"),m="welcome"===x,{isButtonDisabled:g,shouldShowLayerCount:f}={isButtonDisabled:s.useMemo(()=>{let n=e||t;return("noNodesSelected"===x||"layerLimitExceeded"===x)&&n},[x,e,t]),shouldShowLayerCount:s.useMemo(()=>{let e="noNodesSelected"===x,n=t||a;return"layerLimitExceeded"===x||e&&n},[x,t,a])},y=s.useCallback(()=>!!u&&(0===u.getDirectlySelectedNodes().length?(p("noNodesSelected"),!1):!t||(p("layerLimitExceeded"),!1)),[t,u]),k=s.useCallback(()=>{y()&&(0,ia._)()},[y]);return(s.useEffect(()=>{f&&!a&&o(!0)},[f,a]),s.useEffect(()=>{r&&m&&k()},[r,m,k]),r&&m)?null:(0,i.jsx)(n4.bL,{width:400,onClose:({source:e})=>{"outside"!==e&&n(ii.FR.LANDING_PAGE_WELCOME)},defaultPosition:{x:d+56,y:70},children:(0,i.jsxs)(to.vo,{children:[(0,i.jsx)(to.Y9,{children:(0,i.jsx)(to.hE,{children:(0,i.jsxs)("div",{className:"x78zum5 x167g77z x6s0dn4",children:[(0,c.tx)("design_linter.title"),(0,i.jsx)(il.E,{children:(0,c.tx)("general.beta")})]})})}),(0,i.jsxs)(to.nB,{children:[m&&(0,i.jsx)(ig,{}),"noNodesSelected"===x&&(0,i.jsx)(i_,{}),"layerLimitExceeded"===x&&(0,i.jsx)(iv,{})]}),(0,i.jsx)(to.wi,{children:f?(0,i.jsxs)("div",{className:"x78zum5 x1q0g3np x1qughib x6s0dn4 xh8yej3",children:[f&&(0,i.jsx)(ij,{}),(0,i.jsx)(im,{onContinue:k,step:x,hasNoSelectedNodes:e,doesExceedLimit:t,isButtonDisabled:g})]}):(0,i.jsx)(to.jk,{children:(0,i.jsx)(im,{onContinue:k,step:x,hasNoSelectedNodes:e,doesExceedLimit:t,isButtonDisabled:g})})})]})})}function im({onContinue:e,step:t,hasNoSelectedNodes:n,doesExceedLimit:s,isButtonDisabled:l}){return(0,i.jsx)(n8.$n,{recordingKey:et.Pt(ip,"continue-button"),"data-testid":`${ip}-continue-button`,onClick:e,htmlAttributes:{"data-tooltip":function({step:e,hasNoSelectedNodes:t,doesExceedLimit:n}){return"welcome"===e?"":t?(0,c.t)("design_linter.landing_page.no_nodes_selected.button_tooltip"):n?(0,c.t)("design_linter.landing_page.layer_limit_exceeded.title"):""}({step:t,hasNoSelectedNodes:n,doesExceedLimit:s}),"data-tooltip-type":is.Ib.TEXT},disabled:l,children:(0,c.tx)("general.continue")})}function ig(){return(0,i.jsxs)("div",{className:"x1xn8qrt xnjsko4 xboal0k x78zum5 xdt5ytf xl56j7k x6s0dn4 x2lah0s xkh2ocl x87ps6o x1665zp3","data-testid":`${ip}-welcome`,children:[(0,i.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 x2b8uid",children:[(0,i.jsx)("span",{className:"xor4psk x1ncjjhx xaoa4km x2i041 x14terfx xiuzu7u",children:(0,c.tx)("design_linter.landing_page.title")}),(0,i.jsx)("span",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xv1l7n4",children:(0,c.tx)("design_linter.landing_page.subheader")})]}),(0,i.jsxs)("div",{className:"x78zum5 xdt5ytf xou54vl",children:[(0,i.jsx)(ib,{headerText:(0,c.t)("design_linter.landing_page.feature_tokens_header"),subheaderText:(0,c.t)("design_linter.landing_page.feature_tokens_subheader"),children:(0,i.jsx)(ix,{})}),(0,i.jsx)(ib,{headerText:(0,c.t)("design_linter.landing_page.feature_contrast_header"),subheaderText:(0,c.t)("design_linter.landing_page.feature_contrast_subheader"),children:(0,i.jsx)(iu,{})}),(0,i.jsx)(ib,{headerText:(0,c.t)("design_linter.landing_page.feature_incorrect_assets_header"),subheaderText:(0,c.t)("design_linter.landing_page.feature_incorrect_assets_subheader"),children:(0,i.jsx)(id,{})})]})]})}let iy=(0,ir.n)(()=>{let e=(0,ie.am)();return e?.layerLimit??ie.W3});function ik(){let{layerCount:e,didExceedCountMax:t}=function(){let e=1.5*iy();return(0,_.Fk)(t=>{let n=t.getDirectlySelectedNodes(),i=0,s=!1;for(let t of n){if(s)break;(0,it.eA)(t,()=>{if((i+=1)>=e)return s=!0,"stop"})}return{layerCount:i,didExceedCountMax:s}})}(),n=iy(),i=t||e>n,s=0===e;return{layerCount:e,maxLayerCount:n,hasIssue:i||s,hasNoSelectedNodes:s,doesExceedLimit:i,didExceedCountMax:t}}function ij(){let{layerCount:e,maxLayerCount:t,hasIssue:n,didExceedCountMax:s,hasNoSelectedNodes:l}=ik(),r=`${e.toLocaleString()}${s?"+":""}`,a=t.toLocaleString(),o=s?" \xb7 "+(0,c.t)("design_linter.landing_page.layer_limit_exceeded.title"):"",d=`${r} / ${a}${o}`;return l&&(d=(0,c.t)("design_linter.landing_page.no_nodes_selected.error_footer")),(0,i.jsxs)("div",{className:"x78zum5 x1vvogim xnjsko4 xl56j7k x6s0dn4 x1jnr06f xkh2ocl",children:[(0,i.jsx)("div",{children:n?(0,i.jsx)(n6.f,{style:iC}):(0,i.jsx)(n9.W,{style:iS})}),(0,i.jsx)("div",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xv1l7n4 x2b8uid x87ps6o xss6m8b",children:d})]})}function i_(){return(0,i.jsxs)("div",{className:"x1xn8qrt xnjsko4 xboal0k x78zum5 xdt5ytf xl56j7k x6s0dn4 x2lah0s xkh2ocl x87ps6o","data-testid":`${ip}-no-nodes-selected`,children:[(0,i.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 x2b8uid x1vvogim xnjsko4",children:[(0,i.jsx)("span",{className:"xor4psk x1ncjjhx xaoa4km x2i041 x14terfx xiuzu7u",children:(0,c.tx)("design_linter.landing_page.no_nodes_selected.title")}),(0,i.jsx)("span",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xv1l7n4",children:(0,c.tx)("design_linter.landing_page.no_nodes_selected.subheader")})]}),(0,i.jsx)("div",{className:"x1vvogim xnjsko4",children:(0,i.jsx)(ic,{})})]})}function iv(){return(0,i.jsxs)("div",{className:"x1xn8qrt xnjsko4 xboal0k x78zum5 xdt5ytf xl56j7k x6s0dn4 x2lah0s xkh2ocl x87ps6o","data-testid":`${ip}-layer-limit-exceeded`,children:[(0,i.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 x2b8uid x1vvogim xnjsko4",children:[(0,i.jsx)("span",{className:"xor4psk x1ncjjhx xaoa4km x2i041 x14terfx xiuzu7u",children:(0,c.tx)("design_linter.landing_page.layer_limit_exceeded.title")}),(0,i.jsx)("span",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xv1l7n4",children:(0,c.tx)("design_linter.landing_page.layer_limit_exceeded.subheader")})]}),(0,i.jsx)("div",{className:"x1vvogim xnjsko4",children:(0,i.jsx)(ic,{})})]})}function ib({children:e,headerText:t,subheaderText:n}){return(0,i.jsxs)("div",{className:"x78zum5 xt970qd x17qtykl x6s0dn4 x1v2ro7d xkh2ocl",children:[e,(0,i.jsxs)("div",{className:"x78zum5 xdt5ytf xl56j7k x1cy8zhl x5mp9sv",children:[(0,i.jsx)("div",{className:"xuzfeq1 x8yk33q x1e00guj x18zpg43 x22v61l xiuzu7u",children:t}),(0,i.jsx)("div",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xv1l7n4",children:n})]})]})}let iC={"--color-icon":"var(--color-icon-warning)"},iS={"--color-icon":"var(--color-icon-success)"};var iE=n(776111),iT=n(326985),iI=n(680692),iw=n(453499);function iN(){let e=(0,iI.$)(),t=(0,iT.e)(),n=(0,iw.$)(e,t),i=(0,s.useMemo)(()=>{let t=new Set;return"loading"===e.status||"loading"===n.status?{status:"loading",availableLibraryKeys:t}:(e.data&&e.data.forEach(e=>t.add(e.library_key)),n.data&&n.data.forEach(e=>t.add(e.library_key)),{status:"loaded",availableLibraryKeys:t})},[e,n]);return{subscribedLibraryKeys:(0,s.useMemo)(()=>new Set(e?.data?.map(e=>e.library_key)),[e?.data]),subscribedLibraries:e,usedInFileLibraries:n,availableLibraryKeys:i,hasLoaded:"loaded"===e.status&&"loaded"===i.status}}var iL=n(847964),iM=n(926653),iA=n(7718),iR=n(140948),iF=n(624155),iO=n(746309),iP=n(504474);let iz=(0,s.memo)(function(){let e=function(){let e=(0,iP.dG)(iA.s4.TEXT,null),t=(0,h.md)(n5.Ut);return(0,s.useMemo)(()=>{let n=e.libraries.filter(e=>e.numStylesText>0&&t?.has(e.libraryKey));return{...e,libraries:n}},[e,t])}();return(function({status:e,libraries:t}){let[n,i]=(0,h.fp)(n5.jq),l=(0,h.md)(n5.Ut),r=(0,h.md)(eq.yV),a=function(){let e=(0,h.md)(iB);return(0,h.md)(n5.qp)?e:[]}(),{status:o,stylesByFileKey:d}=(0,iP.Zk)({styleType:iA.s4.TEXT,initialSelectedSubscribedStyle:null,selectedLibraries:t.filter(e=>e.numStylesText>0)}),u=(0,s.useMemo)(()=>{if("loading"===o||"loading"===e)return{status:"loading",subscribedStylesByFileKey:{},allStyles:[],localStyles:null};if((0,iE.PN)())return{status:"loaded",subscribedStylesByFileKey:{},allStyles:[],localStyles:null};if("invalidated"===n.status||"loaded"===o){let e=Object.entries(d).reduce((e,[t,n])=>(l?.has(n.libraryKey)&&(e[t]=n),e),{}),t=Object.values(e).flatMap(e=>e.styles),n=null;return a.length>0&&r?.key&&r?.libraryKey&&(n={fileKey:r.key,styles:a,libraryKey:(0,iM.l)(r.libraryKey)},t.push(...a)),{status:"loaded",subscribedStylesByFileKey:e,allStyles:t,localStyles:n}}return n},[o,e,n,d,a,l,r?.key,r?.libraryKey]);(0,s.useEffect)(()=>{(u.status!==n.status||u.allStyles.length!==n.allStyles.length)&&i(u)},[u,n,i])}(e),e.libraries.length)?(0,i.jsx)(iO.MM,{inheritStyleKey:null,inheritStyleID:null,styleType:iA.s4.TEXT,selectedLibraries:e.libraries}):null}),iB=(0,iR.bt)(e=>(0,iF.ti)(e.library.local.styles,iA.s4.TEXT));var iD=n(436991),iG=n(285466),iq=n(550527),iV=n.n(iq),i$=n(361170),iH=n(681958),iU=n(347900),iK=n(91832),iW=n(419822),iZ=n(170627),iX=n(354114);function iY({title:e,getItems:t,getItemName:n}){let[i,l]=(0,s.useState)(!1),r=(0,s.useCallback)(async()=>{i||(l(!0),await s());async function s(){try{let i;let s=[];(0,iZ.l7)(a.zkO.USER,"debug-linter-visual-groups",()=>{let t=(0,Q.UN)(),n=t.getCurrentPage();(i=t.createNode("SECTION")).fills=[{type:"SOLID",color:{r:.9,g:.9,b:.9,a:0},opacity:1}],i.name=e;let s=0;for(let e of n?.childrenNodes??[])e.x+e.size.x>s&&(s=e.x+e.size.x);i.x=s+100,i.y=0});let l=0,r=40,o=t();for(let[e,[t,d]]of Array.from(o.entries()).entries()){let o;(0,iZ.l7)(a.zkO.USER,"debug-linter-visual-groups",()=>{let a=(0,Q.UN)();if(e>0){let e=a.createNode("RECTANGLE");e.fills=[{type:"SOLID",color:{r:.3,g:.3,b:.3,a:1},opacity:1}],e.size={x:l,y:12},e.y=r+40,e.x=40,i.appendChild(e),r+=e.size.y+80,s.push(e.guid)}(o=a.createNode("FRAME")).visible=!1,o.name=n(t),o.x=40,o.y=r,o.fills=[{type:"SOLID",color:{r:.7,g:.7,b:.7,a:1},opacity:1}],o.stackMode="HORIZONTAL",o.stackSpacing=40,o.stackCounterSizing="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE",o.stackTopPadding=40,o.stackBottomPadding=40,o.stackLeftPadding=40,o.stackRightPadding=40,o.frameMaskDisabled=!0});let u=0,x=0,c=0;for(let[e,t]of d.entries())await new Promise(e=>setTimeout(e,0)),(0,iZ.l7)(a.zkO.USER,"debug-linter-visual-groups",()=>{let n;let s=(0,Q.UN)(),l=s.get(t);if(!l)return;if("DOCUMENT"===l.type)n=s.createNode("FRAME").guid;else{if("CANVAS"===l.type)return;n=l.clone()}if(e>0){let e=s.createNode("RECTANGLE");e.fills=[{type:"SOLID",color:{r:.6,g:.2,b:.6,a:1},opacity:1}],e.size={x:4,y:x+40},e.y=40,e.x=u,o.appendChild(e),u+=e.size.x+40}let a=s.get(n);a&&(a.y=40,a.x=u,a.stackPositioning="AUTO",u+=a.size.x+40,x=Math.max(x,a.size.y),c=Math.max(c,a.size.x),"SECTION"===l.type?(i.appendChild(a),a.y=r):o.appendChild(a))});l=Math.max(l,u),r=r+x+120,(0,iZ.l7)(a.zkO.USER,"debug-linter-visual-groups",()=>{if(i.size={x:l+40,y:r},0===o.childCount){o.removeSelfAndChildren();return}o.size={x:u,y:x+40},i.appendChild(o),o.visible=!0})}let d=(0,Q.UN)().getCurrentPage();(0,iZ.l7)(a.zkO.USER,"debug-linter-visual-groups",()=>{i&&(d?.appendChild(i),function(e,t){let n=(0,Q.UN)();for(let i of e){let e=n.get(i);e&&(e.size={x:t,y:e.size.y})}}(s,i.size.x-80),a.Egt?.replaceSelection([i.guid],!0),iX.Y5.triggerAction("goto-layer",{args:{nodeId:i.guid}}))})}catch(e){console.error(e)}finally{l(!1)}}},[i,t,n,e]);return{isRunning:i,handleClick:r}}function iQ(){let e=(0,h.md)(io.Bd),{isRunning:t,handleClick:n}=iY({title:"Visual groups",getItems:(0,s.useCallback)(()=>{let t=new Map;return e.forEach(e=>{let n=`${e.id} | ${e.type}`;t.set(n,Array.from(e.rootNodeIdToViolatingNodeIdSet.keys()))}),t},[e]),getItemName:(0,s.useCallback)(e=>e,[])});return(0,i.jsx)("div",{className:"xz9dl7a",children:(0,i.jsx)(n8.$n,{disabled:t,onClick:n,iconPrefix:t?(0,i.jsx)(iW.k,{}):void 0,children:"Inspect groups"})})}function iJ(){let e=function(){let e=(0,h.md)(n5.fY);return(0,s.useMemo)(()=>(0,iK.RG)(e?.devIds??[]),[e])}(),{isRunning:t,handleClick:n}=iY({title:"Visual Hashes",getItems:(0,s.useCallback)(()=>(function(e){let t=new Map,n=(0,Q.UN)();return e.forEach(e=>{let i=n.get(e);i&&(0,iH.hV)(i,e=>{let n=String(a.mHF?.getVisualGroupFieldsHash(e.guid)??0),i=t.get(n)??[];t.set(n,[...i,e.guid])})}),t})(e),[e]),getItemName:(0,s.useCallback)(e=>`Hash: ${e}`,[])});return(0,i.jsx)("div",{className:"xz9dl7a",children:(0,i.jsx)(n8.$n,{disabled:t,onClick:n,iconPrefix:t?(0,i.jsx)(iW.k,{}):void 0,children:"Inspect Vis. G Field Hashes"})})}var i0=n(216940),i1=n(684742),i2=n(350019),i3=n(848561),i5=n(748703),i7=n(445306),i4=n(106271),i8=n(303647),i6=n(325721),i9=n(205917);function se(){return(0,h.md)(i8.aW)?(0,i.jsx)(st,{}):null}function st(){let[e,t]=(0,s.useState)(""),[n,l]=(0,s.useState)(""),r=(0,h.md)(i8.uw),a=(0,h.md)(i8.iO)??{title:"",blockType:null,suggestionId:null,display:"GRID",items:[]},o=(0,i6.sf)(),d=r?.current?.getBoundingClientRect()??{x:0,y:0,width:0,height:0},u=(0,s.useMemo)(()=>({x:d.x+("LIST"===a.display?d.width:0),y:d.y+("GRID"===a.display?d.height:0)}),[d.y,d.x,d.height,d.width,a.display]),x=(0,s.useMemo)(()=>iV()(e=>{l(e)},150),[]);(0,s.useEffect)(()=>(x(e),()=>{x.cancel()}),[x,e]);let p=(0,c.t)("design_linter.dropdown.search_placeholder"),m=(0,s.useRef)(null);return(0,i.jsx)(n4.bL,{width:260,maxHeight:320,onClose:o,defaultPosition:u,children:(0,i.jsxs)(to.vo,{children:[(0,i.jsxs)(sn,{children:[(0,i.jsx)(to.hE,{children:a.title}),(0,i.jsx)(i0.p,{type:"search",size:"md",placeholder:p,ref:m,id:p,value:e,onChange:e=>t(e)})]}),(0,i.jsx)(to.nB,{scrolling:"none",padding:0,children:(0,i.jsx)(si,{blockId:a.blockType,suggestionId:a.suggestionId,items:a.items,display:a.display,searchQuery:n})})]})})}function sn({children:e}){return(0,i.jsx)("div",{className:"design_linter_suggestions_modal--header--XSpwy","data-fpl-header":!0,children:e})}function si({blockId:e,suggestionId:t,items:n,display:s,searchQuery:l}){let r=(0,h.md)(i8.rg)??H.lQ,a=(0,h.md)(i8.jV)??(()=>!1);return"GRID"===s?(0,i.jsx)(sr,{items:n,onSelection:r,checkIsSelected:a}):(0,i.jsx)(ss,{blockId:e,suggestionId:t,items:n,searchQuery:l,onSelection:r,checkIsSelected:a})}function ss({blockId:e,suggestionId:t,items:n,searchQuery:l,onSelection:r,checkIsSelected:a}){let o="design-linter-dropdown",d=(0,s.useRef)(null),[u,x]=(0,s.useState)(null),p=(0,h.Xr)(iL.dd),m=(0,s.useCallback)(e=>{x(e)},[x]),g=(0,s.useCallback)(e=>{u===e&&x(null)},[u,x]),f=(0,i6.sf)(),y=(0,s.useCallback)((e,t,n)=>{r&&(p({selectedNewOption:e.length>0,hadSearchTerm:l.length>0}),r({node_id:e,rankPosition:t,isFromSuggestedList:n}))},[r,l,p]),k=!0,j=(0,i6.bV)(n,l),_=(0,s.useCallback)(e=>{let t=j[e];return t?`${e}-${t.id}`:""},[j]),v=(0,s.useCallback)(()=>d.current,[d]),b=(0,i2.Te)({count:j.length,estimateSize:e=>j[e]?.type==="LIST_SEPARATOR"?16:32,getItemKey:_,getScrollElement:v,overscan:5});return(0,s.useEffect)(()=>{let e=j.findIndex(e=>a(e))??-1;e>=0&&b.scrollToIndex(e,{align:"center"})},[a,j,b]),(0,i9.Dm)({blockId:e,suggestionId:t,checkIsSelected:a,filteredItems:j,searchQuery:l}),(0,i.jsxs)(i3.dP,{recordingKey:o,children:[j.length>0?(0,i.jsx)("div",{ref:d,className:"xysyzu8",style:{height:`${Math.min(b.getTotalSize()+8,248)}px`},children:(0,i.jsx)("div",{className:"x1n2onr6",style:{height:`${b.getTotalSize()+8}px`},children:b.getVirtualItems().map(e=>{let{index:t}=e,n=[1,t],s=j[t];if(!s)return null;k=!1;let l=!!a&&a(s);return(0,i.jsx)("div",{className:"x10l6tqk x13vifvy xu96u03 xh8yej3 x78zum5 x6s0dn4",style:{height:`${e.size}px`,transform:`translateY(${e.start}px)`},children:(0,i.jsx)(sl,{isHighlighted:!b.isScrolling&&u===t,isSelected:l,keyboardNavigationPath:n,listItem:s,onItemHighlight:()=>{m(t)},onItemMouseLeave:()=>{g(t)},onItemSelect:()=>{if("variable"in s){let e=j.slice(0,t).filter(e=>"LIST"===e.type&&"variable"in e).length;y(s.variable.node_id,e,s.isSuggestion)}if("style"in s){let e=j.slice(0,t).filter(e=>"TEXT_STYLE_LIST"===e.type).length;y(s.style.node_id,e,s.isSuggestion)}f()},recordingKey:et.Pt(o,`${"variable"in s?s.variable.id:t}`)})},e.key)})})}):null,k?(0,i.jsx)("div",{className:"x78zum5 xl56j7k x6s0dn4 xt970qd x16r4bg1 x87ps6o",style:{height:(0,i4.Ih)({layout:"list"})},children:(0,c.t)("variables.binding_ui.no_search_results")}):null]})}let sl=s.memo(function({isHighlighted:e,isSelected:t,keyboardNavigationPath:n,listItem:s,onItemHighlight:l,onItemMouseLeave:r,onItemSelect:a,recordingKey:o}){let d=(0,h.md)(i8.Ue)??null;switch(s.type){case"LIST":return(0,i.jsx)("div",{className:"x1sxf85j xb3r6kr xet2fuk x1db2dqx x1iyjqo2",children:(0,i.jsx)(i7._J,{disabledVariableIds:new Set,isHighlighted:e,isLinterItem:!0,isSelected:t,keyboardNavigationPath:n,onItemHighlight:l,onItemMouseLeave:r,onItemSelect:a,pickerType:"fields",recordingKey:o,valuePreview:d?d(s):null,variable:s.variable,variableSet:s.variableSet},s.id)});case"TEXT_STYLE_LIST":return(0,i.jsx)("div",{className:"x1sxf85j xb3r6kr xet2fuk x1db2dqx x1iyjqo2",children:(0,i.jsx)(i5.m3,{dsStyle:s.style,additionalClassName:tc.s.h24.flex.wFull.$,children:(0,i.jsx)(i7.DL,{dsStyle:s.style,hideContextMenu:!0,isHighlighted:e,isLinterItem:!0,isSelected:t,keyboardNavigationPath:n,onItemContextMenu:r,onItemHighlight:l,onItemMouseLeave:r,onItemSelect:a,recordingKey:o})})});case"LIST_SEPARATOR":return(0,i.jsx)("div",{className:"xjm9jq1 x1m4xfpy xh8yej3"});case"LIST_SECTION_HEADER":return(0,i.jsx)(i7.KL,{groupName:s.name,fileName:s.fileName,secondaryText:s.secondaryText});case"LIST_HIERARCHY_PATH":return(0,i.jsx)(i7.Tg,{groupName:s.label});default:return null}});function sr({items:e,onSelection:t,checkIsSelected:n}){let l=(0,i6.sf)(),r=(0,s.useCallback)((e,n,i)=>{t({node_id:e,rankPosition:n,isFromSuggestedList:i})},[t]),a=tc.s.flex.justifyCenter.itemsCenter.colorBgSecondary.selectNone.bRadius5.$,o=tc.s.b2.colorBorderSelected.$;return(0,i.jsx)("div",{className:tc.s.grid.borderBox.gridTemplateColumns2.mt8.mb8.ml16.$,children:e.map((t,s)=>{let d=!!n&&n(t),u="isSuggestion"in t&&t.isSuggestion;return"GRID"===t.type?(0,i.jsxs)("div",{className:tc.s.textBodyMedium.colorText.truncate.selectNone.mt8.mr16.mb8.$,children:[(0,i.jsx)(i1.E,{className:nf()("design_linter_suggestions_modal--thumbnailContainer--mBL-q",a,d?o:null),onClick:()=>{let n=e.slice(0,s).filter(e=>"GRID"===e.type||"LIST"===e.type&&("variable"in e||"style"in e)||"TEXT_STYLE_LIST"===e.type).length;r(t.id,n,u),l()},children:(0,i.jsx)(t2.oW,{src:t.thumbnail_url,alt:t.name})}),(0,i.jsx)("h3",{className:tc.s.truncate.mt2.$,children:t.name})]},t.id):null})})}function sa(){let e=(0,h.md)(n5.u2),t=(0,h.md)(n5.fY),n=(0,iK.RG)(t?.devIds??[]),l=function(){let e=(0,h.md)(n5.fY),[t,n]=(0,s.useState)(0);return(0,s.useEffect)(()=>{let t=0;if(e){let n=(0,Q.UN)();e.devIds.forEach(e=>{let i=n.getFromDeveloperFriendlyId(e);i&&(0,iH.hV)(i,()=>{t++})})}n(t)},[e]),t}(),r=(0,h.md)(iU.yd),a=(0,h.md)(n5.Iy),{status:o}=(0,h.md)(n5.v4),d=function(){let e=(0,h.md)(n5.m7);return(0,s.useMemo)(()=>Array.from(e.values()).reduce((e,t)=>e+t.size,0),[e])}(),u=function(){let[e,t]=(0,s.useState)(0),n=(0,h.md)(n5.Iy),i=(0,h.md)(n5.m7);return(0,s.useEffect)(()=>{let e=new Set;for(let t of n.values())for(let n of t.violatingNodeIdToRootNodeId.keys())e.add(n);let s=new Set;for(let t of i.values())for(let n of t.values())for(let t of n)e.has(t.guid)||s.add(t.guid);t(s.size)},[i,n]),e}(),x=function(){let e=(0,h.md)(n5.m7);return(0,s.useMemo)(()=>{let t={};for(let n of e.values())for(let e of n.values())for(let n of e){let{ruleId:e}=n;t[e]=t[e]||[],t[e].push(n)}return Object.entries(t).map(([e,t])=>({rule:e,count:t.length}))},[e])}(),c=(0,h.md)(io._M),p=(0,h.md)(n5.Ut);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:tc.s.grid.gridTemplateColumns2.gap2.py8.$,children:[(0,i.jsx)("div",{className:tc.s.textHeadingSmall.mr1.$,children:"Linter status:"}),(0,i.jsx)("div",{className:tc.s.textBodyMedium.$,children:e}),(0,i.jsx)("div",{className:tc.s.textHeadingSmall.mr1.$,children:"Current linter view:"}),(0,i.jsx)("div",{className:tc.s.textBodyMedium.$,children:c}),(0,i.jsx)("div",{className:tc.s.textHeadingSmall.mr1.$,children:"Selected libraries:"}),(0,i.jsx)("div",{className:tc.s.textBodyMedium.$,children:Array.from(p??new Set).join(", ")??"None"}),(0,i.jsx)("div",{className:tc.s.textHeadingSmall.mr1.$,children:"Variable context status:"}),(0,i.jsx)("div",{className:tc.s.textBodyMedium.$,children:o}),(0,i.jsx)("div",{className:tc.s.textHeadingSmall.mr1.$,children:"Linting target:"}),(0,i.jsx)("div",{className:tc.s.textBodyMedium.maxW200.overflowAuto.$,children:`${n.join(",")}`}),(0,i.jsx)("div",{className:tc.s.textHeadingSmall.mr1.$,children:"Linting target nodes:"}),(0,i.jsx)("div",{className:tc.s.textBodyMedium.$,children:l}),(0,i.jsx)("div",{className:tc.s.textHeadingSmall.mr1.$,children:"Lintable nodes:"}),(0,i.jsx)("div",{className:tc.s.textBodyMedium.$,children:r}),(0,i.jsx)("div",{className:tc.s.textHeadingSmall.mr1.$,children:"Visual groups:"}),(0,i.jsx)("div",{className:tc.s.textBodyMedium.$,children:a.size}),(0,i.jsx)("div",{className:tc.s.textHeadingSmall.mr1.$,children:"Violations:"}),(0,i.jsx)("div",{className:tc.s.textBodyMedium.$,children:d}),(0,i.jsx)("div",{className:tc.s.textHeadingSmall.mr1.$,children:"Ungrouped violations:"}),(0,i.jsx)("div",{className:tc.s.textBodyMedium.$,children:u}),(0,i.jsx)("div",{className:tc.s.textHeadingSmall.pb4.$,children:"Violations per rule:"}),(0,i.jsx)("ol",{children:x.map(({rule:e,count:t})=>(0,i.jsxs)("span",{className:tc.s.textBodyMedium.block.$,children:[(0,i.jsx)("strong",{children:e}),": ",t]},e))})]})})}function so(e){if(!e)return"loading";let t=e.toFixed(3);return e<1e3?`${t}ms`:e<6e4?`${(e/1e3).toFixed(2)}s (${t}ms)`:`${(e/6e4).toFixed(2)}min (${t}ms)`}function sd({label:e,value:t,isHeader:n=!1}){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:nf()(tc.s.textHeadingSmall.mr1.$,{[tc.s.textHeadingMedium.$]:n}),children:e}),(0,i.jsx)("div",{className:tc.s.textBodyMedium.$,children:so(t)})]})}function su({items:e}){return(0,i.jsx)("div",{className:tc.s.flex.flexColumn.overflowAuto.$,children:(0,i.jsx)("table",{children:(0,i.jsx)("tbody",{children:e.map(([e,t])=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{className:tc.s.textBodyMedium.pr2.italic.noWrap.$,children:(0,i.jsx)("strong",{children:e})}),(0,i.jsx)("td",{className:tc.s.textBodyMedium.alignLeft.$,children:so(t)})]},e))})})})}function sx(){let e=(0,h.md)(iU.eF),t=(0,h.md)(iU.L2)??[],n=t.reduce((e,{duration:t})=>e+t,0),s=(0,h.md)(iU.rT)??new Map,l=(0,h.md)(iU.KV)??new Map,r=(0,h.md)(iU.zZ)??new Map;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:tc.s.textHeadingSmall.mr1.textHeadingMedium.$,children:"Overall latency info:"}),(0,i.jsxs)("div",{className:tc.s.grid.gridTemplateColumns2.gap2.py8.$,children:[(0,i.jsx)(sd,{label:"Time until first group:",value:e}),(0,i.jsx)(sd,{label:"Total loading time:",value:n}),(0,i.jsx)("div",{className:tc.s.textHeadingSmall.mr1.$,children:"Time per status:"}),(0,i.jsx)(su,{items:t.map(({status:e,duration:t})=>[e,t])}),(0,i.jsx)("div",{className:tc.s.textHeadingSmall.pb4.$,children:"Detection time per rule:"}),(0,i.jsx)(su,{items:Array.from(s)}),(0,i.jsx)("div",{className:tc.s.textHeadingSmall.pb4.$,children:"Avg detection time per rule per node:"}),(0,i.jsx)(su,{items:Array.from(l)}),(0,i.jsx)("div",{className:tc.s.textHeadingSmall.pb4.$,children:"P95 detection time per rule:"}),(0,i.jsx)(su,{items:Array.from(r).filter(([e,t])=>null!==t).map(([e,t])=>[e,t])})]})]})}function sc(){let e=(0,h.md)(io.E$),t=e?.rootNodeIdToViolatingNodeIdSet.size,n=(0,h.md)(iU.Op),s=(0,h.md)(iU.iS),l=(0,h.md)(iU.ky);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:tc.s.textHeadingSmall.italic.mt8.$,children:"For current group:"}),(0,i.jsxs)("div",{className:tc.s.grid.gridTemplateColumns2.gap2.py8.$,children:[(0,i.jsx)("div",{className:tc.s.textHeadingSmall.mr1.$,children:"Group id:"}),(0,i.jsx)("div",{className:tc.s.textBodyMedium.$,children:e?.id??"none"}),(0,i.jsx)("div",{className:tc.s.textHeadingSmall.mr1.$,children:"Group size (nodes):"}),(0,i.jsx)("div",{className:tc.s.textBodyMedium.$,children:t}),(0,i.jsx)(sd,{label:"Fix loading time:",value:n}),(0,i.jsx)(sd,{label:"Current thumbnail loading time:",value:s}),(0,i.jsx)(sd,{label:"Suggested thumbnail loading time:",value:l})]})]})}function sp(){let e=(0,ie.am)();return(0,i.jsxs)("div",{className:tc.s.flex.flexColumn.gap4.py8.w150.$,children:[(0,i.jsx)(n8.$n,{onClick:()=>{e?.debugLinterState()},children:"Copy linter state"}),(0,i.jsx)(iQ,{}),(0,i.jsx)(iJ,{})]})}let sh=(0,h.eU)(!1);function sm(){let e=(0,h.md)(sh),t=(0,h.md)(io.r4);return e&&t?(0,i.jsxs)(n4._L,{defaultWidth:600,defaultHeight:500,defaultPosition:{left:(t?.x??0)+528+56,top:t?.y},onClose:({source:e})=>{"outside"!==e&&h.zl.set(sh,!1)},children:[(0,i.jsxs)(to.vo,{children:[(0,i.jsx)(to.Y9,{children:"Design linter debug info"}),(0,i.jsxs)(to.nB,{children:[(0,i.jsx)(sa,{}),(0,i.jsx)(sx,{}),(0,i.jsx)(sc,{}),(0,i.jsx)(sp,{})]})]}),(0,i.jsx)(se,{})]}):null}let sg={sidebarWidth:"var(--x5rzc0s)"};var sf=n(821655),sy=n(369729),sk=n(263188),sj=n(383424),s_=n(568590);let sv=(0,h.eU)(null,async e=>{h.zl.set(iU.Op,null);let t=performance.now(),n=e(io.E7),i=(0,ie.X5)();if(!i)return;let s=Object.values(n);await Promise.allSettled(s.map(e=>i.requestFix(e))),h.zl.set(iU.Op,performance.now()-t)});var sb=n(30532),sC=n(892572),sS=n(487899),sE=n(271899),sT=n(357524),sI=n(284467),sw=n(222357),sN=n(769845),sL=n(958208),sM=n(156774),sA=n(764354),sR=n(30520),sF=(e=>(e.SIDEBAR="sidebar",e.PREVIEW="preview",e))(sF||{}),sO=(e=>(e.COLOR="color",e.IMAGE="image",e))(sO||{});function sP(){return{bg:"var(--color-bg-secondary)",type:"color"}}function sz(e,t){let n=(0,sT.ei)(e),i=(0,sR.wg)(n),[l,r]=(0,s.useState)(sP());return(0,s.useEffect)(()=>{let n=(0,Q.UN)().get(e);if(!n)return;let s=n.parentNode;for(;s;){let e=s.guid,n=(0,sN.kl)(s.fills).paint;if(n){let s=n.type;if("SOLID"===s){r(function(e){let t=e.color;if(!t)return sP();let n=e.opacity??1,{hex:i}=(0,sL.XF)(t),s=Math.floor(255*n).toString(16);return{bg:`#${i}${s}`,type:"color"}}(n));return}if("IMAGE"===s){r(sB(e,"preview"===t?8:2,i));return}if("VIDEO"!==s&&"EMOJI"!==s){r(sB(e,2,i));return}r(sP());return}s=s.parentNode}let l=a.Egt?.getNodePageBackgroundColor(e);r(l?{bg:l,type:"color"}:sP())},[i,e,t]),l}function sB(e,t,n){let i=`${e}-${t}`,s=h.zl.get(n5.g7),l=s.get(i),r=l?.lastEditedAtTime!==n;if(l&&!r)return{bg:l.src,type:"image"};let o=function(e,t){let n=a.mHF?.copyNodeToLinterScene(e);if(!n)return null;let i=new Q.qo(a.juq.LINTER).get(n);if(!i)return null;for(let e of i.childrenNodes)e.removeSelfAndChildren();i.cornerRadius=0,i.effects=[];let s=(0,sA.L6)(n,t);return s?(0,sM.Pv)(s.image,new i$.Mi(s.width,s.height)):null}(e,t);if(!o)return sP();if(n>0){let e=new Map(s);e.set(i,{src:o,lastEditedAtTime:n}),h.zl.set(n5.g7,e)}return{bg:o,type:"image"}}let sD=s.memo(function({rootNodeId:e,reason:t,thumbnailWidth:n,thumbnailHeight:s,thumbnailPadding:l,source:r}){let a=(0,sT.ei)(e),o=(0,sR.wg)(a),d=(0,sw.yh)({nodeId:e,width:n,height:s,shouldSkip:!1,version:o,reason:t,regenerateAfterImagesLoaded:!0,isDevModeBlendedSection:!1,shouldCache:o>0}),{bg:u,type:x}=sz(e,r),p=x===sO.COLOR,h=x===sO.IMAGE;return d?(0,i.jsx)("div",{...m.Ay.props(sH.thumbnailContainer,h&&sH.backgroundImageContainer,sH.thumbnailContainerDimensions(s),p&&sH.thumbnailContainerBackgroundColor(u),h&&sH.thumbnailContainerBackgroundImage(u)),children:(0,i.jsx)("div",{...m.Ay.props(sH.thumbnailSizer(n)),children:(0,i.jsx)(t2.oW,{src:d.src,className:"x19kjcj4 x193iq5w xmz0i5r",alt:(0,c.t)("design_linter.penalty_box.thumbnail_alt")})})}):(0,i.jsx)(sI.Qp,{...m.Ay.props(sH.loadingThumbnail,sH.loadingThumbnailDimensions(n,s,l)),animationType:sI.JR.LIGHT_SHIMMER})}),sG={kB7OPa:"x9f619",kzqmXN:"x5lhr3w",k7Eaqz:"xkj4a21",k1xSpc:"x78zum5",kjj79g:"xl56j7k",kGNEyG:"x6s0dn4",kmVPX3:"xe8ttls",kg3NbH:"",kuDDbn:"",kE3dHu:"",kP0aTx:"",kpe85a:"",k8WAf4:"",kLKAdn:"",kGO01o:"",kMzoRj:"xmkeg23",kjGldf:"",k2ei4v:"",kZ1KPB:"",ke9TFa:"",kWqL5O:"",kLoX6v:"",kEafiO:"",kt9PQ7:"",ksu8eU:"x1y0btm7",kJRH4f:"",kVhnKS:"",k4WBpm:"",k8ry5P:"",kSWEuD:"",kDUl1X:"",kPef9Z:"",kfdmCh:"",kVAM5u:"x1co876m",kzOINU:"",kGJrpR:"",kaZRDh:"",kBCPoo:"",k26BEO:"",k5QoK5:"",kLZC3w:"",kL6WhQ:"",kaIpWk:"x19y5rnk",krdFHd:"",kfmiAY:"",kVL7Gh:"",kT0f0o:"",kIxVMA:"",ksF3WI:"",kqGeR4:"",kYm2EN:"",$$css:!0},sq={kUk6DE:"x5mp9sv",kzQI83:"",kmuXW:"",kCS8Yb:"",kZKoxP:"x16ye13r",$$css:!0},sV={kKwaWg:"x1e87kdn",$$css:!0},s$={kzqmXN:"x5lhr3w",k7Eaqz:"xkj4a21",kZKoxP:"x16ye13r",kmVPX3:"x1fozly0",kg3NbH:"",kuDDbn:"",kE3dHu:"",kP0aTx:"",kpe85a:"",k8WAf4:"",kLKAdn:"",kGO01o:"",$$css:!0},sH={thumbnailContainer:{k1xSpc:"x78zum5",kaIpWk:"x19y5rnk",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,$$css:!0},thumbnailSizer:e=>[sG,{"--x-width":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`),"--x-minWidth":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`)}],thumbnailContainerDimensions:e=>[sq,{"--x-height":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`)}],thumbnailContainerBackgroundColor:e=>[{kWkggS:null!=e?"xl8spv7":e,$$css:!0},{"--x-backgroundColor":null!=e?e:void 0}],thumbnailContainerBackgroundImage:e=>[sV,{"--x-backgroundImage":`url(${e})`}],loadingThumbnail:{kMzoRj:"xmkeg23",kjGldf:null,k2ei4v:null,kZ1KPB:null,ke9TFa:null,kWqL5O:null,kLoX6v:null,kEafiO:null,kt9PQ7:null,ksu8eU:"x1y0btm7",kJRH4f:null,kVhnKS:null,k4WBpm:null,k8ry5P:null,kSWEuD:null,kDUl1X:null,kPef9Z:null,kfdmCh:null,kVAM5u:"x1co876m",kzOINU:null,kGJrpR:null,kaZRDh:null,kBCPoo:null,k26BEO:null,k5QoK5:null,kLZC3w:null,kL6WhQ:null,kaIpWk:"x19y5rnk",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,kB7OPa:"x9f619",$$css:!0},loadingThumbnailDimensions:(e,t,n)=>[s$,{"--x-width":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`),"--x-minWidth":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`),"--x-height":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${t}px`),"--x-padding":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${n}px`)}],backgroundImageContainer:{kz484i:"xiy17q3",kgSjnq:"x18d0r48",k1YJky:"x1xsqp64",kDwdnV:null,kAiEkY:null,kWkggS:"x1v8gsql",$$css:!0}},sU="design-linter-sidebar";var sK=(e=>(e.GROUP="group",e.ROOT="root",e))(sK||{});function sW(){let e=(0,s.useRef)(null),t=(0,h.md)(io.$H),n=function(){let e=(0,h.md)(io.nr),t=(0,h.md)(io.Bd);return(0,s.useMemo)(()=>{if(!t)return[];let n=[];return t.forEach(t=>{let i=e===t.id,s=i?(0,sR.zr)(t):[],l=1+s.length;n.push({type:"group",group:t,isFirstInGroup:!0,isLastInGroup:1===l}),i&&s.forEach((e,i)=>{let l=Q.UN().get(e)?.name;n.push({type:"root",group:t,rootNodeId:e,rootName:l,isFirstInGroup:!1,isLastInGroup:i===s.length-1})})}),n},[t,e])}(),l=(0,h.md)(io.nr),r=(0,i2.Te)({count:n.length,getScrollElement:()=>e.current,overscan:10,estimateSize:e=>{let t=n[e];return t?.type==="root"?32:112}}),a=n.findIndex(e=>e.group.id===l);(0,s.useEffect)(()=>{-1!==a&&r.scrollToIndex(a,{align:"start"})},[a,r]),(0,s.useEffect)(()=>{r.measure()},[n,r]);let o=t?t.y-40:480;return(0,i.jsx)(sj.P,{ref:e,children:(0,i.jsx)("div",{"data-testid":sU,...m.Ay.props(s2.contentWrapper(o)),children:(0,i.jsx)("div",{...m.Ay.props(s2.virtualContainer(r.getTotalSize(),8)),children:r.getVirtualItems().map(e=>{let t=n[e.index];if(!t)return null;let s="group"===t.type,l=`root-${t.group.id}-${t.rootNodeId}`;return s&&(l=`group-${t.group.id}`),(0,i.jsx)("div",{...m.Ay.props(s2.virtualItem(e.size,e.start+8)),children:(0,i.jsx)(sZ,{group:t.group,virtualRow:e,isGroupItem:s,rootNodeId:t.rootNodeId,rootName:t.rootName,isFirstInGroup:t.isFirstInGroup,isLastInGroup:t.isLastInGroup})},l)})})})})}function sZ({group:e,virtualRow:t,isGroupItem:n,rootNodeId:l,rootName:r,isFirstInGroup:a,isLastInGroup:o}){let{isEntireGroupSelected:d,isHoveredGroupItem:u,isHoveredRootItem:x,isSelectedRootItem:c}=function({isGroupItem:e,groupId:t,rootNodeId:n}){let i=(0,h.md)(io.NM),l=(0,h.md)(io.xo),r=(0,h.md)(io.xX),a=function(e){let t=(0,h.md)(io.Bd);return(0,s.useMemo)(()=>{let n=t?.find(t=>t.id===e);return n?n.rootNodeIdToViolatingNodeIdSet.size:0},[t,e])}(i),o=t===i,d=t===r.groupId,u=e&&r.isGroupItem&&d,x=n===r.rootNodeId&&d;return{isEntireGroupSelected:o&&(!l||a<=1),isHoveredGroupItem:u,isHoveredRootItem:!e&&x,isSelectedRootItem:o&&!!l&&n===l}}({isGroupItem:n,groupId:e.id,rootNodeId:l}),p=function({groupId:e,rootNodeId:t,isGroupItem:n}){let i=(0,h.Xr)(io.xX);return{onMouseEnter:()=>{i({groupId:e,rootNodeId:t??null,isGroupItem:n}),t&&(0,tB.Uc)(t)},onMouseLeave:()=>{i({groupId:null,rootNodeId:null,isGroupItem:n}),(0,tB.Uc)("")}}}({groupId:e.id,rootNodeId:l,isGroupItem:n}),m=n?(0,sR.ac)(e):l;return m?n?(0,i.jsx)(sX,{displayedNodeId:m,group:e,groupId:e.id,hoverHandlers:p,isFirstInGroup:a,isHovered:u,isLastInGroup:o,isSelected:d,virtualRow:t}):(0,i.jsx)(sY,{displayedNodeId:m,group:e,hoverHandlers:p,isFirstInGroup:a,isHovered:x,isInSelectedGroup:d,isLastInGroup:o,isSelectedRow:c,rootName:r,rootNodeId:l,virtualRow:t}):null}function sX({displayedNodeId:e,isHovered:t,isSelected:n,groupId:l,group:r,virtualRow:a,isFirstInGroup:o,isLastInGroup:d,hoverHandlers:u}){let x=(0,h.md)(io.JQ).has(l),c=(0,i6.sf)(),p=(0,n7.Wo)(),m=(0,n7.Vz)(),g=(0,n7.Ci)(),f=(0,n7.RD)(),y=(0,s.useCallback)(()=>{c(),p(r.id),m(),n?g(r.id):f(r.id)},[c,p,r.id,m,n,g,f]),k=et.Pt(sU,`group-${a.index}`);return(0,i.jsx)(i1.E,{...{0:{className:"x78zum5 x1n2onr6 xh8yej3 xb3r6kr"},2:{className:"x78zum5 x1n2onr6 xh8yej3 xb3r6kr x1k1lpwg x5omr3n"},1:{className:"x78zum5 x1n2onr6 xh8yej3 xb3r6kr xabvvm4 xeyy32k"},3:{className:"x78zum5 x1n2onr6 xh8yej3 xb3r6kr x1k1lpwg x5omr3n xabvvm4 xeyy32k"}}[!!o<<1|!!d<<0],recordingKey:k,"data-index":a.index,onClick:y,htmlAttributes:{...u,"data-testid":k},children:(0,i.jsxs)("div",{...{0:{className:"xe8ttls x78zum5 x6s0dn4"},2:{className:"xe8ttls x78zum5 x6s0dn4 x30nh5c x19y5rnk"},1:{className:"xe8ttls x78zum5 x6s0dn4 xcr9a89"},3:{className:"xe8ttls x78zum5 x6s0dn4 x19y5rnk xcr9a89"}}[!!(t&&!n)<<1|!!n<<0],children:[(0,i.jsx)(sD,{rootNodeId:e,reason:"design-linter.sidebar-thumbnail",thumbnailWidth:128,thumbnailHeight:96,thumbnailPadding:8,source:sF.SIDEBAR}),(0,i.jsx)(sQ,{isViewed:x,instanceCount:r.rootNodeIdToViolatingNodeIdSet.size})]})})}function sY({displayedNodeId:e,rootName:t,isHovered:n,isInSelectedGroup:l,isSelectedRow:r,group:a,rootNodeId:o,virtualRow:d,isFirstInGroup:u,isLastInGroup:x,hoverHandlers:c}){let p=(0,i6.sf)(),h=(0,n7.Wo)(),g=(0,n7.OI)(),f=1===a.rootNodeIdToViolatingNodeIdSet.size,y=(0,s.useCallback)(()=>{!f&&(p(),h(a.id),o&&g(o))},[p,h,a.id,o,g,f]),k=et.Pt(sU,`root-${d.index}`),j=f?{}:c,_=!f&&n,v=l&&_,b=!l&&_,C=f&&l,S=l?f?s2.rootItemInSelectedGroupOnlyRoot:s2.rootItemInSelectedGroup:null,E=r?f?s2.selectedRootItemOnlyRoot:s2.selectedRootItem:null,T=l?f?s2.rootItemContainerInSelectedGroupOnlyRoot:s2.rootItemContainerInSelectedGroup:null;return(0,i.jsx)(i1.E,{...m.Ay.props(s2.item,s2.rootItemContainer,u&&s2.firstInGroup,x&&s2.lastInGroup,T),recordingKey:k,"data-index":d.index,onClick:y,disabled:f,htmlAttributes:{...j,"data-testid":k},children:(0,i.jsx)("div",{...m.Ay.props(s2.rootItem,S,v&&s2.hoveredRootItemInSelectedGroup,b&&s2.hoveredRootItem,E),children:(0,i.jsxs)("div",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x78zum5 x1jnr06f x12ulsxz xdqyycr x6s0dn4 xh8yej3 xeuugli",children:[(0,i.jsx)(sE.Bf,{guid:e,...{0:{},1:{className:"x1epfdc"}}[!!(r||C)<<0]}),(0,i.jsx)("div",{className:"xb3r6kr xlyipyv xuxw1ft x1iyjqo2 xs83m0k x1t1x2f9",children:t})]})})})}function sQ({isViewed:e,instanceCount:t}){return(0,i.jsx)(sS.F,{...{0:{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x6s0dn4 x19y5rnk x78zum5 xss6m8b xg2d0mh xlup9mm x1qpfodn xt9pc3i x10l6tqk xomnu4r xu5wzci x1tk3asg"},1:{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x6s0dn4 x19y5rnk x78zum5 xss6m8b xg2d0mh xlup9mm x1qpfodn xt9pc3i x10l6tqk xomnu4r x1yjdb4r x1akne3o xmkeg23 x1y0btm7 x1co876m"}}[!!e<<0],children:t})}let sJ={k7Eaqz:"x1qn71ht",kzqmXN:"xj64pm3",kZKoxP:"x16ye13r",$$css:!0},s0={kVAEAm:"x1n2onr6",kZKoxP:"x16ye13r",kg3NbH:"xdqyycr",kuDDbn:"",kE3dHu:"",kP0aTx:"",kpe85a:"",$$css:!0},s1={kVAEAm:"x10l6tqk",k87sOh:"x13vifvy",kbCHJM:"xncym2f",kCIrl2:"x19up5dg",kLqNvP:"",kt4wiu:"",kZKoxP:"x16ye13r",k3aq6I:"xsqj5wx",$$css:!0},s2={contentWrapper:e=>[sJ,{"--x-height":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`)}],virtualContainer:(e,t)=>[s0,{kLKAdn:null!=t?"x1jm3axb":t,kGO01o:null!=t?"xjqpyvm":t,$$css:!0},{"--x-height":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`),"--x-paddingTop":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(t),"--x-paddingBottom":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(t)}],virtualItem:(e,t)=>[s1,{"--x-height":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`),"--x-transform":`translateY(${t}px)`}],item:{k1xSpc:"x78zum5",kVAEAm:"x1n2onr6",kzqmXN:"xh8yej3",kVQacm:"xb3r6kr",kXHlph:null,kORKVm:null,$$css:!0},firstInGroup:{kIxVMA:"x1k1lpwg",ksF3WI:"x5omr3n",krdFHd:null,kfmiAY:null,$$css:!0},lastInGroup:{kqGeR4:"xabvvm4",kYm2EN:"xeyy32k",kVL7Gh:null,kT0f0o:null,$$css:!0},rootItemContainer:{k1xSpc:"x78zum5",kGNEyG:"x6s0dn4",kzqmXN:"xh8yej3",k7Eaqz:"xeuugli",kZKoxP:"x10w6t97",$$css:!0},rootItem:{k1xSpc:"x78zum5",kGNEyG:"x6s0dn4",kzqmXN:"xh8yej3",k7Eaqz:"xeuugli",kZKoxP:"xxk0z11",$$css:!0},rootItemContainerInSelectedGroup:{kWkggS:"xpjdn5u",$$css:!0},rootItemContainerInSelectedGroupOnlyRoot:{kWkggS:"xcr9a89",$$css:!0},rootItemInSelectedGroup:{kWkggS:"xpjdn5u",$$css:!0},rootItemInSelectedGroupOnlyRoot:{kWkggS:"xcr9a89",$$css:!0},selectedRootItem:{kaIpWk:"x19y5rnk",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,kWkggS:"xkg04fo",$$css:!0},selectedRootItemOnlyRoot:{kaIpWk:"x13ol8rl",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,kWkggS:"xcr9a89",$$css:!0},hoveredRootItemInSelectedGroup:{kaIpWk:"x19y5rnk",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,kWkggS:"x1be12tr",$$css:!0},hoveredRootItem:{kaIpWk:"x19y5rnk",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,kWkggS:"x30nh5c",$$css:!0}};var s3=n(947357),s5=n(608608),s7=n(271849),s4=n(492210),s8=n(648526),s6=n(4865),s9=n(312387),le=n(240803),lt=n(779491);let ln=[2,3,6,13,25,50,75,100,200,300,1e3];var li=(e=>(e.CURRENT="current",e.SUGGESTED="suggested",e))(li||{});function ls(e){let t=(0,h.md)(io.$H),n=sz(e,sF.PREVIEW),i=lj(e,"suggested");return{modalSize:t,background:n,suggestedHighlightInfo:function(e,t){if(!e)return null;let{activeToLinterGuidsMap:n,linterToActiveGuidsMap:i,linterGuidsToNodeInfoMap:s}=function(e){let t=h.zl.get(n5.qL).get(lg(e,li.SUGGESTED));return{activeToLinterGuidsMap:t?.activeToLinterGuidsMap,linterToActiveGuidsMap:t?.linterToActiveGuidsMap,linterGuidsToNodeInfoMap:t?.linterGuidsToNodeInfoMap}}(e);return ld(t,n?.get(e)??"-1:-1",i,s)}(e,i)}}function ll({children:e,modalSize:t}){return(0,i.jsx)(le.o,{eventListeners:["onPointerDown"],children:(0,i.jsx)("div",{...m.xk(lh.previewContainer(t?.x)),children:e})})}function lr({shouldShow:e}){return(0,i.jsx)("div",{className:"x87ps6o x10l6tqk xfr5jun x19up5dg x11uqc5h",children:e&&(0,i.jsx)(lt.UN,{})})}function la(){return(0,i.jsx)("div",{})}function lo(e,t){let{thumbnail:n,status:s}=e;return n&&"loaded"===s?(0,i.jsx)(lt.Nf,{image:n,paddingPixels:30,Overlay:t,customLoadingIndicator:(0,i.jsx)(la,{}),resetEnhancedOnBaseChange:!0,clearBaseBeforeDrawing:!0}):"loading"===s?(0,i.jsx)("div",{className:"x78zum5 x5yr21d xh8yej3 x6s0dn4 xl56j7k x1v8gsql",children:(0,i.jsx)(iW.k,{size:"md"})}):(0,i.jsx)("div",{className:"x78zum5 x5yr21d xh8yej3 x6s0dn4 xl56j7k x1v8gsql",children:(0,c.tx)("design_linter.preview.thumbnail_unavailable")})}function ld(e,t,n,i){let s=i?.get(t)?.absoluteRenderBounds;if(!s)return null;let l=[];for(let{guid:t,ruleId:r,detectionContext:a}of e){let o=i?.get(t);if(!o)continue;let{absoluteCornerPoints:d,unrotatedBoundingBox:u,childrenUnrotatedBoundingBoxesMap:x,cornerRadiusValues:c,absoluteTransform:p,stackTopPadding:h,stackBottomPadding:m,stackLeftPadding:g,stackRightPadding:f,stackSpacing:y,gridColumnGap:k,gridRowGap:j,gridColumnCount:_,gridRowCount:v,gridRowComputedSizesInOrder:b,gridColumnComputedSizesInOrder:C}=o,S=u?lu(u,s):null,E=d?{topLeft:lx(d.topLeft,s),topRight:lx(d.topRight,s),bottomLeft:lx(d.bottomLeft,s),bottomRight:lx(d.bottomRight,s)}:null,T=new Map;for(let[e,t]of x)if(t){let n=lu(t,s);T.set(e,n)}let I=function(e,t,n){let i=(0,Q.UN)(),s=n?.get(e);if(!s)return!1;for(let l of t){if(l.guid===e)continue;let t=n?.get(l.guid);if(t&&(0,iH.rV)(i,t,s))return!0}return!1}(t,e,n);l.push({guid:t,ruleId:r,detectionContext:a,isNested:I,unrotatedBounds:S,childrenUnrotatedBoundsMap:T,cornerRadiusValues:c,cornerPoints:E,absoluteTransform:p,stackTopPadding:h,stackBottomPadding:m,stackLeftPadding:g,stackRightPadding:f,stackSpacing:y,gridColumnGap:k,gridRowGap:j,gridColumnCount:_,gridRowCount:v,gridRowComputedSizesInOrder:b,gridColumnComputedSizesInOrder:C})}return{overlayInfoList:l}}function lu(e,t){return{x:e.x-t.x,y:e.y-t.y,width:e.width,height:e.height}}function lx(e,t){return{x:e.x-t.x,y:e.y-t.y}}function lc({title:e}){return(0,i.jsx)("div",{className:"xuuh30 x10l6tqk x1ey2m1c x1vjfegm x87ps6o x1y1aw1k xwib8y2 x1nrll8i",children:(0,i.jsx)("span",{className:"x4oah1p xewu7z0 x2ua9qx x1dnis8n xawads1 x1akne3o x2b8uid xldgpng x1iorvi4 xy13l1i xjkvuk6 x163pfp xur7f20",children:e})})}let lp={kzqmXN:"x5lhr3w",k7Eaqz:"xkj4a21",kZKoxP:"x14luw17",kt9PQ7:"xso031l",ksu8eU:"x1y0btm7",kJRH4f:"",kVhnKS:"",k4WBpm:"",k8ry5P:"",kSWEuD:"",kDUl1X:"",kPef9Z:"",kfdmCh:"",kVAM5u:"x7z60cl",kzOINU:"",kGJrpR:"",kaZRDh:"",kBCPoo:"",k26BEO:"",k5QoK5:"",kLZC3w:"",kL6WhQ:"",kWkggS:"x1v8gsql",$$css:!0},lh={previewContainer:e=>[lp,{"--x-width":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`calc(${e??528}px - ${sg.sidebarWidth})`),"--x-minWidth":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`calc(${e??528}px - ${sg.sidebarWidth})`)}]};function lm(e,t,n){let[i,l]=(0,s.useState)(!1),r=(0,ie.am)();(0,s.useEffect)(()=>{l(!0)},[]);let[o,d]=(0,s.useState)({thumbnail:null,status:"loading"}),u=(0,s.useRef)(null),{violationsWithFixes:x,areFixesReady:c}=function(e){let t=function(e){let t=(0,h.md)(io.IZ);return(0,s.useMemo)(()=>{if(!e)return[];let n=(0,Q.UN)();return t.filter(t=>t.guid===e||(0,iH.rV)(n,e,t.guid))},[e,t])}(e),n=(0,h.md)(io.$C),[i,l]=(0,s.useState)(!1);return{violationsWithFixes:(0,s.useMemo)(()=>{if(!n)return[];let e=!0,i=t.map(t=>{let i=n.get(t.groupKey);return i?.status==="loading"&&(e=!1),{violation:t,selectedFix:i?.fix||null}});return l(e),i},[n,t]),areFixesReady:i}}(t);return(0,s.useEffect)(()=>{if(!i)return;let s=e===li.SUGGESTED,l=async()=>{let i=performance.now();s?h.zl.set(iU.ky,null):h.zl.set(iU.iS,null);let l=new AbortController;u.current=l;try{let i;if(!t)return;let o=lg(t,e),u=h.zl.get(n5.qL).get(o),c=n<=0,p=u?.lastEditedAtTime!==n||c,m=p,g="";if(s){g=function(e){let t=JSON.stringify(e.map(e=>(function({violation:e,selectedFix:t}){var n;return t?.fixContext?`${e.guid}_${e.groupKey}_${n=t.fixContext,JSON.stringify(n,(e,t)=>t&&"object"==typeof t&&!Array.isArray(t)?Object.keys(t).sort().reduce((e,n)=>(e[n]=t[n],e),{}):t)}`:`${e.guid}_${e.groupKey}`})(e)).sort());return(0,s6.F)(t)}(x);let e=u?.violationsStateHash!==g;m=p||e}if(u&&!m){d({thumbnail:u.thumbnail,status:"loaded"});return}let f=()=>{d({thumbnail:null,status:"error"}),console.error("Error generating thumbnail: Called showError on delegate")};if((i=s?await lf(r,t,n,g,x,f,l.signal):function(e,t,n,i){let s=a.mHF?.copyNodeToLinterScene(e);if(!s)throw Error("Current linter scene guid not found");let l=(0,Q.UN)().get(e);if(!l)throw Error("Original node not found");if(i.aborted)throw new s4.Cu;let r=new Q.qo(a.juq.LINTER).get(s);if(!r)throw Error("Current linter scene node not found");let{activeToLinterGuidsMap:o,linterToActiveGuidsMap:d}=ly(l,r);return{thumbnail:(0,s9.SI)({nodeId:s,linterScene:!0,showError:n})(),activeToLinterGuidsMap:o,linterToActiveGuidsMap:d,linterGuidsToNodeInfoMap:lk(r),lastEditedAtTime:t}}(t,n,f,l.signal)).thumbnail){d({thumbnail:i.thumbnail,status:"loaded"}),function(e,t){let n=new Map(h.zl.get(n5.qL));n.set(e,t),h.zl.set(n5.qL,n)}(o,i);return}throw d({thumbnail:null,status:"error"}),Error("Error generating thumbnail: Thumbnail delegate does not exist")}catch(i){if(i instanceof s4.Cu)return;d({thumbnail:null,status:"error"}),(0,ek.$D)(p.e.DS_ENABLEMENT,i,{extra:{originalGuid:t,thumbnailType:e,lastEditedAtTime:n}})}finally{let e=performance.now()-i;s?h.zl.set(iU.ky,e):h.zl.set(iU.iS,e)}};if(s&&!c){d({thumbnail:null,status:"loading"});return}return l(),()=>{u.current?.abort()}},[t,n,e,x,c,i,r]),o}function lg(e,t){return`${e}-${t}`}async function lf(e,t,n,i,s,l,r){let o=a.mHF?.copyNodeToLinterScene(t);if(!o)throw Error("Suggested linter scene guid not found");let d=(0,Q.UN)().get(t);if(!d)throw Error("Original node not found");if(r.aborted)throw new s4.Cu;let u=new Q.qo(a.juq.LINTER).get(o);if(!u)throw Error("Suggested linter scene node not found");let{activeToLinterGuidsMap:x,linterToActiveGuidsMap:c}=ly(d,u);await e?.applyFixesToThumbnailNode(s,x,r);let p=(0,s9.SI)({nodeId:o,linterScene:!0,showError:l})();if(r.aborted)throw new s4.Cu;return a.mHF?.applyPendingLinterNodeUpdates(o),{thumbnail:p,activeToLinterGuidsMap:x,linterToActiveGuidsMap:c,linterGuidsToNodeInfoMap:lk(u),lastEditedAtTime:n,violationsStateHash:i}}function ly(e,t){let n=new Map,i=new Map,s=[],l=[];return(0,it.eA)(e,e=>{s.push(e.guid)}),(0,it.eA)(t,e=>{l.push(e.guid)}),s.forEach((e,t)=>{let s=l[t];s&&(n.set(e,s),i.set(s,e))}),{activeToLinterGuidsMap:n,linterToActiveGuidsMap:i}}function lk(e){let t=new Map;return(0,it.eA)(e,e=>{let n=null,i=new Map;try{let t=a.mHF?.getUnrotatedLinterNodeBounds(e.guid);if(!t)throw Error("Result is undefined or null");let s=t.bounds;n={x:s.origin.x,y:s.origin.y,width:s.size.x,height:s.size.y},t.childrenGuids.forEach((e,n)=>{let s=t.childrenBounds[n];s&&i.set(e,{x:s.origin.x,y:s.origin.y,width:s.size.x,height:s.size.y})})}catch(t){console.error(`Failed to get unrotated bounds for linter node ${e.guid}, error:`,t)}t.set(e.guid,{absoluteRenderBounds:function(e,t){let n=t?e.absoluteRenderBounds:e.absoluteBoundingBox;return n?{x:n.x,y:n.y,width:n.w,height:n.h}:null}(e,!0),unrotatedBoundingBox:n,childrenUnrotatedBoundingBoxesMap:i,cornerRadiusValues:e.cornerRadiusValues,absoluteCornerPoints:a.mHF?.getLinterNodeAbsoluteCornerPoints(e.guid)??null,absoluteTransform:e.absoluteTransform,stackTopPadding:e.stackTopPadding,stackBottomPadding:e.stackBottomPadding,stackLeftPadding:e.stackLeftPadding,stackRightPadding:e.stackRightPadding,stackSpacing:e.stackSpacing,gridColumnGap:e.gridColumnGap,gridRowGap:e.gridRowGap,gridColumnCount:e.gridColumnCount,gridRowCount:e.gridRowCount,gridRowComputedSizesInOrder:e.gridRowSizesInOrder.map(e=>e.computedSize),gridColumnComputedSizesInOrder:e.gridColumnSizesInOrder.map(e=>e.computedSize)})}),t}function lj(e,t){let n=(0,h.md)(n5.hx);return(0,s.useMemo)(()=>{if(!e)return[];let i=(0,Q.UN)(),s=n.filter(t=>t.guid===e||(0,iH.rV)(i,e,t.guid)),l=h.zl.get(n5.qL).get(lg(e,t)),r=l?.activeToLinterGuidsMap;return s.reduce((e,t)=>{let{guid:n,ruleId:i,detectionContext:s,nodeType:l,developerId:a}=t,o=r?.get(n);return o&&e.push(new s8.U({ruleId:i,guid:o,detectionContext:s,nodeType:l,developerId:a})),e},[])},[e,t,n])}var l_=n(700170),lv=n(779319),lb=n(582789),lC=n(724744);function lS(e){let t;return"prop"in e&&(t=e.prop),"assetType"in e&&(t=e.assetType),t??""}function lE(e,t){let n=e.transformRect(new lb.r(new lC.M(t.x,t.y),new lC.M(t.width,t.height)));return{x:n.left(),y:n.top(),width:n.width(),height:n.height()}}function lT(e,t){let n=new lC.M(t.x,t.y),i=e.transformPoint(n);return{x:i.x,y:i.y}}function lI(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function lw(e,t){let n=lI(e.topRight,e.topLeft),i=lI(e.bottomLeft,e.topLeft),s={topLeft:lT(t,e.topLeft),topRight:lT(t,e.topRight),bottomRight:lT(t,e.bottomRight),bottomLeft:lT(t,e.bottomLeft)},l=lI(s.topRight,s.topLeft),r=lI(s.bottomLeft,s.topLeft),a=Math.min(l/n,r/i);return{transformedPoints:s,width:l,height:r,scale:a}}function lN(e){let t=lv.s.fromFigMatrix(e);return{normalizedRotation:(t.toDegrees()%360+360)%360,isFlipped:0>t.determinant()}}let lL={blueBorderHover:{kVAEAm:"x10l6tqk",kVAM5u:"x1va2ikv",kzOINU:null,kGJrpR:null,kaZRDh:null,kBCPoo:null,k26BEO:null,k5QoK5:null,kLZC3w:null,kL6WhQ:null,ksu8eU:"x1y0btm7",kJRH4f:null,kVhnKS:null,k4WBpm:null,k8ry5P:null,kSWEuD:null,kDUl1X:null,kPef9Z:null,kfdmCh:null,$$css:!0},pinkBgHover:{kVAEAm:"x10l6tqk",kWkggS:"x6zv46q",kSiTet:"xuzhngd",$$css:!0}};function lM({overlayInfo:e,imageTransform:t}){let n,s;let{detectionContext:l,cornerRadiusValues:r,cornerPoints:a,absoluteTransform:o}=e;if(!a)return null;let{transformedPoints:d,width:u,height:x,scale:c}=lw(a,t),p=Math.max(16*c,16),h=lS(l);if(!(h in l_.I$))return null;let g=l_.I$[h];if(!g)return null;let f=g.toLowerCase(),y=f.includes("right"),k=f.includes("bottom"),j=function(e,t,n,i,s){let l=Math.min(t/(e.topLeft+e.topRight),1),r=Math.min(n/(e.topRight+e.bottomRight),1),a=Math.min(t/(e.bottomLeft+e.bottomRight),1),o=Math.min(n/(e.topLeft+e.bottomLeft),1),d=e.topLeft*Math.min(l,o);return{topLeft:d*i+2,topRight:e.topRight*Math.min(l,r)*i+2,bottomRight:e.bottomRight*Math.min(a,r)*i+s,bottomLeft:e.bottomLeft*Math.min(a,o)*i+s}}(r,u/c,x/c,c,2);y&&k?(n=j.bottomRight,s=d.bottomRight):y&&!k?(n=j.topRight,s=d.topRight):!y&&k?(n=j.bottomLeft,s=d.bottomLeft):(n=j.topLeft,s=d.topLeft);let{borderWidth:_,borderLength:v}=function(e,t,n,i,s,l,r,a){let o=s?"bottom":"top",d=i?"Right":"Left",u=i?l[`${o}Left`]:l[`${o}Right`];return{borderWidth:Math.max(Math.min(n+(e+2-u-n)/2-2,a),n),borderLength:Math.max(Math.min(n+(t+2-(s?l[`top${d}`]:l[`bottom${d}`])-n)/2-2,a),n)}}(u,x,n,y,k,j,2,p),b=y?s.x-_:s.x-1,C=k?s.y-v:s.y-1,{normalizedRotation:S,isFlipped:E}=lN(o),T=s.x-b,I=s.y-C,w={width:_,height:v,transformOrigin:`${T}px ${I}px`,transform:`translate(${b}px, ${C}px) rotate(${S}deg)${E?" scaleY(-1)":""}`,[`border${k?"Bottom":"Top"}Width`]:2,[`border${y?"Right":"Left"}Width`]:2,[`border${k?"Bottom":"Top"}${y?"Right":"Left"}Radius`]:n};return(0,i.jsx)("div",{...m.Ay.props(lL.blueBorderHover),style:w})}function lA({overlayInfo:e,imageTransform:t}){let{detectionContext:n,unrotatedBounds:l,cornerPoints:r,gridColumnGap:a,gridRowGap:o,gridColumnCount:d,gridRowCount:u,gridRowComputedSizesInOrder:x,gridColumnComputedSizesInOrder:c,absoluteTransform:p}=e;if(!l||!r)return null;let h=lE(t,l),g="GRID_COLUMN_GAP"===lS(n),f=(g?d:u)-1,y=g?c:x,{width:k,height:j,scale:_}=lw(r,t),v=(g?a:o)*_,{normalizedRotation:b,isFlipped:C}=lN(p),S=[],E=g?e.stackLeftPadding*_:e.stackTopPadding*_;for(let e=0;e<f;e++){let t=y[e];if(!t)continue;E+=t*_;let n=g?E+h.x:h.x,i=g?h.y:E+h.y,l=g?v:k,r=g?j:v,a=h.x-n,o=C?h.y+h.height-i:h.y-i;S.push((0,s.createElement)("div",{...m.Ay.props(lL.pinkBgHover),key:`hover-grid-${e}`,style:{transformOrigin:`${a}px ${o}px`,transform:`translate(${n}px, ${i}px) rotate(${b}deg)`,width:l,height:r}})),E+=v}return(0,i.jsx)(i.Fragment,{children:S})}var lR=n(110973);function lF({overlayInfo:e,imageTransform:t}){let{detectionContext:n,cornerPoints:s,absoluteTransform:l}=e;if(!s)return null;let{transformedPoints:r,width:a,height:o,scale:d}=lw(s,t),u=lS(n);if(!(u in lR.A))return null;let x=lR.A[u];if(!x)return null;let c=e[({paddingTop:"stackTopPadding",paddingBottom:"stackBottomPadding",paddingLeft:"stackLeftPadding",paddingRight:"stackRightPadding"})[x]]*d,p={paddingTop:r.topLeft,paddingBottom:r.bottomLeft,paddingLeft:r.topLeft,paddingRight:r.topRight}[x],{translateX:h,translateY:g,highlightWidth:f,highlightHeight:y}={paddingTop:{translateX:p.x,translateY:p.y,highlightWidth:a,highlightHeight:c},paddingBottom:{translateX:p.x,translateY:p.y-c,highlightWidth:a,highlightHeight:c},paddingLeft:{translateX:p.x,translateY:p.y,highlightWidth:c,highlightHeight:o},paddingRight:{translateX:p.x-c,translateY:p.y,highlightWidth:c,highlightHeight:o}}[x],{normalizedRotation:k,isFlipped:j}=lN(l),_=p.x-h,v=p.y-g,b=`translate(${h}px, ${g}px) rotate(${k}deg)${j?" scaleY(-1)":""}`;return(0,i.jsx)("div",{...m.Ay.props(lL.pinkBgHover),style:{transformOrigin:`${_}px ${v}px`,transform:b,width:f,height:y}})}function lO({overlayInfo:e,imageTransform:t}){let{ruleId:n,detectionContext:l,unrotatedBounds:r,childrenUnrotatedBoundsMap:a,cornerPoints:o,stackSpacing:d,absoluteTransform:u}=e;if(!r||!o||0===a.size)return null;let x=lE(t,r),c=Array.from(a.entries()).map(([e,n])=>({guid:e,bounds:lE(t,n)})),p=lS(l),h=n===sb.C.REQUIRE_HORIZONTAL_SPACING_VARIABLES||"STACK_SPACING_HORIZONTAL"===p,g=c.sort((e,t)=>h?e.bounds.x-t.bounds.x:e.bounds.y-t.bounds.y),{width:f,height:y,scale:k}=lw(o,t),j=d*k,{normalizedRotation:_,isFlipped:v}=lN(u),b=[];for(let e=0;e<g.length-1;e++){let t=g[e];if(!t)continue;let n=`${t.guid}`;if(h){let e=t.bounds.x+t.bounds.width,i=x.y,l=x.x-e,r=v?x.y+x.height-i:x.y-i;b.push((0,s.createElement)("div",{...m.Ay.props(lL.pinkBgHover),key:n,style:{transformOrigin:`${l}px ${r}px`,transform:`translate(${e}px, ${i}px) rotate(${_}deg)`,width:j,height:y}}))}else{let e=t.bounds.y+t.bounds.height,i=x.x,l=x.x-i,r=v?x.y+x.height-e:x.y-e;b.push((0,s.createElement)("div",{...m.Ay.props(lL.pinkBgHover),key:n,style:{transformOrigin:`${l}px ${r}px`,transform:`translate(${i}px, ${e}px) rotate(${_}deg)`,width:f,height:j}}))}}return(0,i.jsx)(i.Fragment,{children:b})}let lP=(0,s.createContext)(null);function lz({children:e,value:t}){return(0,i.jsx)(lP.Provider,{value:t,children:e})}function lB(e){let t=(0,s.useContext)(lP);return t?(0,i.jsx)(lD,{...e,...t}):null}let lD=s.memo(function(e){let{overlayInfoList:t,transform:n}=e;return(0,i.jsx)(i.Fragment,{children:t.map((e,t)=>(0,i.jsx)("div",{children:(0,i.jsx)(lG,{overlayInfo:e,imageTransform:n})},t))})});function lG({overlayInfo:e,imageTransform:t}){let{detectionContext:n}=e;switch(e.ruleId){case sb.C.REQUIRE_CORNER_RADIUS_VARIABLES:return(0,i.jsx)(lM,{overlayInfo:e,imageTransform:t});case sb.C.REQUIRE_HORIZONTAL_SPACING_VARIABLES:case sb.C.REQUIRE_VERTICAL_SPACING_VARIABLES:if(!("prop"in n))return null;switch(n.prop){case"STACK_SPACING_HORIZONTAL":case"STACK_SPACING_VERTICAL":return(0,i.jsx)(lV,{overlayInfo:e,imageTransform:t});case"GRID_COLUMN_GAP":case"GRID_ROW_GAP":return(0,i.jsx)(l$,{overlayInfo:e,imageTransform:t});default:return(0,i.jsx)(lq,{overlayInfo:e,imageTransform:t})}case sb.C.REQUIRE_PADDING_VARIABLES:return(0,i.jsx)(lH,{overlayInfo:e,imageTransform:t});case sb.C.REQUIRE_ASSETS_FROM_SELECTED_LIBRARIES:if(!("assetType"in n))return null;switch(n.assetType){case"RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS":case"RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS":case"RECTANGLE_TOP_LEFT_CORNER_RADIUS":case"RECTANGLE_TOP_RIGHT_CORNER_RADIUS":return(0,i.jsx)(lM,{overlayInfo:e,imageTransform:t});case"STACK_SPACING_HORIZONTAL":case"STACK_SPACING_VERTICAL":return(0,i.jsx)(lV,{overlayInfo:e,imageTransform:t});case"STACK_PADDING_TOP":case"STACK_PADDING_BOTTOM":case"STACK_PADDING_LEFT":case"STACK_PADDING_RIGHT":return(0,i.jsx)(lH,{overlayInfo:e,imageTransform:t});case"GRID_ROW_GAP":case"GRID_COLUMN_GAP":return(0,i.jsx)(l$,{overlayInfo:e,imageTransform:t});default:return(0,i.jsx)(lq,{overlayInfo:e,imageTransform:t})}default:return(0,i.jsx)(lq,{overlayInfo:e,imageTransform:t})}}function lq({overlayInfo:e,imageTransform:t}){let{cornerPoints:n,absoluteTransform:s}=e;if(!n)return null;let{transformedPoints:l,width:r,height:a}=lw(n,t),{normalizedRotation:o,isFlipped:d}=lN(s),u=l.topLeft.x-2,x=l.topLeft.y-2,c=l.topLeft.x-u,p=l.topLeft.y-x,h=`translate(${u}px, ${x}px) rotate(${o}deg)${d?" scaleY(-1)":""}`;return(0,i.jsx)("div",{...m.Ay.props(lL.blueBorderHover),style:{transformOrigin:`${c}px ${p}px`,transform:h,borderWidth:2,width:r,height:a}})}function lV({overlayInfo:e,imageTransform:t}){return(0,i.jsxs)(i.Fragment,{children:[!e.isNested&&(0,i.jsx)(lq,{overlayInfo:e,imageTransform:t}),(0,i.jsx)(lO,{overlayInfo:e,imageTransform:t})]})}function l$({overlayInfo:e,imageTransform:t}){return(0,i.jsxs)(i.Fragment,{children:[!e.isNested&&(0,i.jsx)(lq,{overlayInfo:e,imageTransform:t}),(0,i.jsx)(lA,{overlayInfo:e,imageTransform:t})]})}function lH({overlayInfo:e,imageTransform:t}){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(lq,{overlayInfo:e,imageTransform:t}),(0,i.jsx)(lF,{overlayInfo:e,imageTransform:t})]})}function lU({rootNodeId:e,lastEditedAtTime:t}){let n=lm(li.SUGGESTED,e,t),{modalSize:s,background:l,suggestedHighlightInfo:r}=ls(e),a=!!n.thumbnail&&"loaded"===n.status;return(0,i.jsx)(ll,{modalSize:s,children:(0,i.jsx)("div",{className:"x5yr21d xh8yej3 x78zum5 xdt5ytf",children:(0,i.jsx)("div",{className:"x1n2onr6 xh8yej3 x1iyjqo2 xs83m0k x1t1x2f9",children:(0,i.jsxs)(lt.ao,{zoomPercentageOptions:ln,zoomOnMousePointer:!0,canFitZoomExceed100:!0,resetStateOnChangeValue:e,className:"x5yr21d xh8yej3 x78zum5 xdt5ytf",children:[(0,i.jsx)(lK,{image:n,highlightInfo:r,background:l,title:(0,c.t)("design_linter.preview.suggested")}),(0,i.jsx)(lr,{shouldShow:a})]})})})})}function lK({image:e,highlightInfo:t,background:n,title:s}){let l=lo(e,lB);return(0,i.jsx)(lz,{value:t,children:(0,i.jsx)(lW,{title:s,background:n,children:l})})}function lW({title:e,children:t,background:n}){let{bg:s,type:l}=n,r=l===sO.COLOR,a=l===sO.IMAGE;return(0,i.jsxs)("div",{...m.xk(lX.suggestedOnlyThumbnailContainer,a&&lX.backgroundImageContainer,r&&lX.dynamicBackgroundColor(s),a&&lX.dynamicBackgroundImage(s)),children:[(0,i.jsx)(lc,{title:e}),t]})}let lZ={kKwaWg:"x1e87kdn",$$css:!0},lX={suggestedOnlyThumbnailContainer:{kVAEAm:"x10l6tqk",kzqmXN:"xh8yej3",k1xSpc:"x3nfvp2",kXwgrk:"xdt5ytf",kZKoxP:"x5yr21d",kVQacm:"xb3r6kr",kXHlph:null,kORKVm:null,kzQI83:"x1iyjqo2",$$css:!0},backgroundImageContainer:{kz484i:"xiy17q3",kgSjnq:"x18d0r48",k1YJky:"x1xsqp64",kDwdnV:null,kAiEkY:null,kWkggS:"x1v8gsql",$$css:!0},dynamicBackgroundColor:e=>[{kWkggS:null!=e?"xl8spv7":e,$$css:!0},{"--x-backgroundColor":null!=e?e:void 0}],dynamicBackgroundImage:e=>[lZ,{"--x-backgroundImage":`url(${e})`}]},lY=s.memo(function(){let{rootNodeId:e}=function(){let e=(0,h.md)(io.E$),t=(0,h.md)(io.Bp)??"",n=(0,s.useMemo)(()=>e&&t?e.rootNodeIdToViolatingNodeIdSet.get(t)??new Set:new Set,[t,e]),i=(0,h.md)(io.xo);return i?{rootNodeId:i,violatingNodeIdSet:new Set([i]),hasValidGroup:!0}:{rootNodeId:t,violatingNodeIdSet:n,hasValidGroup:!!e}}(),t=(0,sT.ei)(e),n=(0,sR.wg)(t);return(0,o.kc)().aip_flower_garden_no_current?(0,i.jsx)(lU,{lastEditedAtTime:n,rootNodeId:e}):(0,i.jsx)(lQ,{lastEditedAtTime:n,rootNodeId:e})});function lQ({rootNodeId:e,lastEditedAtTime:t}){let{modalSize:n,background:s,suggestedHighlightInfo:l}=ls(e),r=lj(e,li.CURRENT),a=function(e,t){if(!e)return null;let{activeToLinterGuidsMap:n,linterToActiveGuidsMap:i,linterGuidsToNodeInfoMap:s}=function(e){let t=h.zl.get(n5.qL).get(lg(e,li.CURRENT));return{activeToLinterGuidsMap:t?.activeToLinterGuidsMap,linterToActiveGuidsMap:t?.linterToActiveGuidsMap,linterGuidsToNodeInfoMap:t?.linterGuidsToNodeInfoMap}}(e);return ld(t,n?.get(e)??"-1:-1",i,s)}(e,r),o=lm(li.CURRENT,e,t),d=lm(li.SUGGESTED,e,t),u=!!o.thumbnail&&!!d.thumbnail&&"loaded"===o.status&&"loaded"===d.status;return(0,i.jsx)(ll,{modalSize:n,children:(0,i.jsxs)(s5.qW,{zoomPercentageOptions:ln,zoomOnMousePointer:!0,canFitZoomExceed100:!0,resetStateOnChangeValue:e,compareThumbnailSource:s7.FO.LINTER,children:[(0,i.jsx)(lJ,{image:o,highlightInfo:a,background:s,title:(0,c.t)("design_linter.preview.current"),thumbnailType:li.CURRENT}),(0,i.jsx)(lJ,{image:d,highlightInfo:l,background:s,title:(0,c.t)("design_linter.preview.suggested"),thumbnailType:li.SUGGESTED}),(0,i.jsx)(lr,{shouldShow:u})]})})}function lJ({image:e,highlightInfo:t,background:n,title:s,thumbnailType:l}){let r=lo(e,lB),a=l===li.CURRENT,o=l===li.SUGGESTED,{bg:d,type:u}=n,x=u===sO.COLOR,c=u===sO.IMAGE;return(0,i.jsx)(lz,{value:t,children:(0,i.jsxs)("div",{...{0:{className:"x10l6tqk x3hqpx7 x3nfvp2 xdt5ytf x5yr21d xb3r6kr x1iyjqo2"},4:{className:"x10l6tqk x3hqpx7 x3nfvp2 xdt5ytf x5yr21d xb3r6kr x1iyjqo2 xu96u03"},2:{className:"x10l6tqk x3hqpx7 x3nfvp2 xdt5ytf x5yr21d xb3r6kr x1iyjqo2 x3m8u43 xe0pwq x1y0btm7 x7z60cl"},6:{className:"x10l6tqk x3hqpx7 x3nfvp2 xdt5ytf x5yr21d xb3r6kr x1iyjqo2 xu96u03 x3m8u43 xe0pwq x1y0btm7 x7z60cl"},1:{className:"x10l6tqk x3hqpx7 x3nfvp2 xdt5ytf x5yr21d xb3r6kr x1iyjqo2 xiy17q3 x18d0r48 x1xsqp64 x1v8gsql"},5:{className:"x10l6tqk x3hqpx7 x3nfvp2 xdt5ytf x5yr21d xb3r6kr x1iyjqo2 xu96u03 xiy17q3 x18d0r48 x1xsqp64 x1v8gsql"},3:{className:"x10l6tqk x3hqpx7 x3nfvp2 xdt5ytf x5yr21d xb3r6kr x1iyjqo2 x3m8u43 xe0pwq x1y0btm7 x7z60cl xiy17q3 x18d0r48 x1xsqp64 x1v8gsql"},7:{className:"x10l6tqk x3hqpx7 x3nfvp2 xdt5ytf x5yr21d xb3r6kr x1iyjqo2 xu96u03 x3m8u43 xe0pwq x1y0btm7 x7z60cl xiy17q3 x18d0r48 x1xsqp64 x1v8gsql"}}[!!a<<2|!!o<<1|!!c<<0],style:{...x&&{backgroundColor:d},...c&&{backgroundImage:`url(${d})`}},children:[(0,i.jsx)(lc,{title:s}),r]})})}var l0=n(333331),l1=n(727612),l2=n(50593),l3=n(471628),l5=n(469603),l7=n(288747),l4=n(754039),l8=n(564914),l6=n(751831),l9=n(671170),re=n(237677),rt=n(736813),rn=n(390579),ri=n(89312),rs=n(772963),rl=n(683794),rr=n(638641);function ra(e){let t=(0,h.md)(io.$C);return t?.get(e)??{fix:null,status:"loading"}}function ro(e){return(0,h.md)(n5.VG).get(e)??{fix:null,status:"loading"}}var rd=n(131442);function ru({applyFixToRow:e,hasFix:t}){return(0,i.jsx)(em.K,{htmlAttributes:t?{"data-tooltip-type":is.Ib.TEXT,"data-tooltip":(0,c.t)("design_linter.penalty_box.apply_suggestion_tooltip")}:{},onClick:e,"aria-label":t?(0,c.t)("design_linter.penalty_box.apply_suggestion_tooltip"):"",disabled:!t,children:(0,i.jsx)(rd.r,{})})}function rx({blockConfig:e,children:t,violationsByGroupKey:n}){let{getLabel:s,id:l}=e,r=(0,h.md)(sC.kR);return n&&0!==Object.keys(n).length?(0,i.jsx)(rj,{label:s(),children:t(!!r)},l):null}function rc({children:e,showHover:t,applyFixToRow:n,hasFix:s,customContainerStyle:l,shouldShowApplyButton:r=!0}){return(0,i.jsx)("div",{...m.Ay.props(rC.violationRowContainer,l),children:(0,i.jsxs)("div",{...{0:{className:"x9f619 x78zum5 x6s0dn4 xfawy5m xe3gq44 x1jnr06f"},1:{className:"x9f619 x78zum5 x6s0dn4 xfawy5m xe3gq44 x1jnr06f x30nh5c x19y5rnk"}}[!!t<<0],children:[e,(0,i.jsx)("div",{className:"x78zum5 x6s0dn4 x1jnr06f x8x9d4c",children:r&&n&&(0,i.jsx)(ru,{applyFixToRow:n,hasFix:s??!1})})]})})}function rp({applyFixToRow:e,children:t,fixStatus:n,isApplying:s,showHover:l}){return(0,i.jsxs)(rc,{showHover:l,applyFixToRow:e,hasFix:"loaded"===n,children:[(0,i.jsxs)("div",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x78zum5 x1n0bwc9 x6s0dn4",children:[(0,i.jsx)("div",{...{0:{className:"xlyipyv xuxw1ft xb3r6kr x6wrskw x29ncy0 xwrg52n"},1:{className:"xlyipyv xuxw1ft xb3r6kr x6wrskw x29ncy0 xwrg52n x3vvef7"}}[!!s<<0],children:t.currentValue}),(0,i.jsx)("div",{className:"x78zum5 x6s0dn4 xl56j7k xvy4d1p xxk0z11",children:(0,i.jsx)(l9.H,{className:"xe5c7bq"})})]}),(0,i.jsx)(rm,{fixStatus:n,children:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"xxbzjz2 x1l2q4c8 x78zum5 x6s0dn4",children:t.suggestedValue})})})]})}function rh({children:e,fixStatus:t,groupKey:n,violations:l,isApplying:r}){let[a,o]=(0,s.useState)(!1),{applyFixToRow:d,isApplying:u}=function(e,t){let[n,i]=(0,s.useState)("idle"),l=(0,ie.am)();return{applyFixToRow:(0,s.useCallback)(()=>{"running"!==n&&(i("running"),setTimeout(async()=>{let n=e[0]?.ruleId;try{if(!l)throw Error("Design linter not available");let n=h.zl.get(io.$C),s=[],r=[],a=n?.get(t);if(!a?.fix?.fixContext)throw Error("No fix context available");a.fix.ruleId===sb.C.EXTENSIBILITY_RULE?r.push(...e):s.push({violations:e,fixContext:a.fix.fixContext}),await l.applyFixContextToViolations({violationsWithFixContexts:s,customRuleViolations:r}),i("applied"),(0,iL.lX)(e.length,a.fix.ruleId)}catch{(0,sR.Lt)({message:(0,c.t)("design_linter.penalty_box.fix_failed_bell"),icon:rr.zX.EXCLAMATION,type:"fix error"}),(0,iL.Yu)(n),i("error")}},0))},[n,e,t,l]),isApplying:"running"===n}}(l,n);return!l||0===l.length||u?null:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{onMouseEnter:()=>{o(!0),h.zl.set(n5.hx,l)},onMouseLeave:()=>{o(!1),h.zl.set(n5.hx,[])},children:e.suggestionRowContent({fixStatus:t,isApplying:r,showHover:a&&!r,applyFixToRow:d})})})}function rm({fixStatus:e,children:t}){return"loading"===e?(0,i.jsx)("div",{className:"x78zum5 x6s0dn4 x19y5rnk x7z60cl xmkeg23 x1y0btm7 x1yjdb4r xxbzjz2 x1l2q4c8",children:(0,i.jsx)(sI.Wi,{className:"x5yr21d xh8yej3",opacity:33,animationType:sI.JR.SHIMMER})}):(0,i.jsx)("div",{className:"xxbzjz2 x1l2q4c8 x78zum5 x6s0dn4 x1jnr06f",children:t})}let rg=s.forwardRef(function({onClick:e,type:t},n){return(0,i.jsx)(rk,{ref:n,onClick:e,children:e=>(0,i.jsx)("div",{...{0:{className:"x78zum5 x6s0dn4 x1n0bwc9 xmauxvm x1iyjqo2 xs83m0k x1t1x2f9"},1:{className:"x78zum5 x6s0dn4 x1iyjqo2 xs83m0k x1t1x2f9 x1akne3o xfq8vap"}}[!!e<<0],children:(0,i.jsx)(rf,{type:t})})})});function rf({type:e}){let t=(0,c.t)("design_linter.penalty_box.no_suggestion_found");return e===rl.kQ.TEXT?t=(0,c.t)("design_linter.suggestion_block.select_style"):(e===rl.kQ.COLOR||e===rl.kQ.NUMBER)&&(t=(0,c.t)("design_linter.suggestion_block.select_variable")),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r_,{children:(0,i.jsx)(re.V,{})}),(0,i.jsx)(rs.G,{text:t})]})}function ry({label:e,value:t,isApplying:n}){let s=void 0!==t;return(0,i.jsxs)("span",{...{0:{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xrvj5dj xju1xpo xh8yej3 x87ps6o"},1:{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xrvj5dj xju1xpo xh8yej3 x87ps6o x167g77z"}}[!!s<<0],"data-tooltip":e,"data-tooltip-type":is.Ib.TEXT,children:[(0,i.jsx)("div",{...{0:{className:"xlyipyv xuxw1ft xb3r6kr"},1:{className:"xlyipyv xuxw1ft xb3r6kr x3vvef7"}}[!!n<<0],children:e}),s&&(0,i.jsx)("div",{...{0:{className:"x1n0bwc9"},1:{className:"x3vvef7"}}[!!n<<0],children:t})]})}let rk=s.forwardRef(function({children:e,onClick:t,tooltip:n,disabled:s=!1},l){let[r,a]=(0,ri.M)();return(0,i.jsx)("div",{ref:e=>{r(e),l&&("function"==typeof l?l(e):l.current=e)},...{0:{className:"xh8yej3 xgqtt45 x78zum5 x6s0dn4 x19y5rnk x7z60cl x87ps6o xmkeg23 x1y0btm7 x1yjdb4r x1iyjqo2 xs83m0k x1t1x2f9 xmzs88n x9f619"},1:{className:"xh8yej3 xgqtt45 x78zum5 x6s0dn4 x19y5rnk x7z60cl x87ps6o xmkeg23 x1y0btm7 x1iyjqo2 xs83m0k x1t1x2f9 xmzs88n x9f619 x1oqziki"}}[!!a<<0],children:(0,i.jsx)(i1.E,{onClick:t,className:"x78zum5 x6s0dn4 xjbqb8w xh8yej3 x1l2q4c8 x1iyjqo2 xs83m0k x1t1x2f9","data-tooltip":n,"data-tooltip-type":is.Ib.TEXT,disabled:s,children:e(a)})})});function rj({children:e,label:t}){return(0,i.jsxs)("div",{"data-testid":"design-linter-suggestion-block-container",className:"x78zum5 xdt5ytf x87ps6o xwib8y2",children:[(0,i.jsx)("div",{className:"x78zum5 x6s0dn4 x10w6t97 x1qughib xnm25rq xnuq7ks",children:(0,i.jsx)("div",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x78zum5",children:t})}),e]})}function r_({children:e,isDisabled:t}){return(0,i.jsx)("div",{...{0:{className:"x78zum5 x6s0dn4 xl56j7k xxk0z11 xvy4d1p xnei2rj"},1:{className:"x78zum5 x6s0dn4 xl56j7k xxk0z11 xvy4d1p xnei2rj x1ksfsxq"}}[!!t<<0],children:e})}function rv({items:e,header:t,suggestionBlock:n,rowListId:l="row-list"}){let[r,a]=(0,s.useState)(!1),[o,d]=(0,s.useState)(!1);return(0,i.jsxs)("div",{className:"x78zum5 xdt5ytf",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[t&&(0,i.jsxs)(i1.E,{onClick:()=>a(e=>!e),className:"xrbesu5 x12cwyba x1l993ej x1ejgcx7 x1aos5ly x10dr8xq xnjsko4 xyfqnmn x78zum5 x6s0dn4 x5mp9sv x87ps6o","aria-label":r?(0,c.t)("design_linter.suggestion_block.expand_list_aria"):(0,c.t)("design_linter.suggestion_block.collapse_list_aria"),children:[(0,i.jsx)("div",{className:"xmauxvm x15kz4h8 x1hshjfz x78zum5 x6s0dn4 xl56j7k",children:o&&(r?(0,i.jsx)(rt.k,{}):(0,i.jsx)(rn.O,{}))}),(0,i.jsx)("div",{className:"x78zum5 x6s0dn4 x1jnr06f",children:t})]}),!r&&e.filter(Boolean).map((e,t)=>(0,i.jsx)("div",{children:e},`${n}-${l}-${t}`))]})}function rb(){return(0,i.jsx)("div",{className:"xjm9jq1 xbpqucl"})}let rC={violationRowContainer:{k1xSpc:"x78zum5",k8WAf4:"xt970qd",kLKAdn:null,kGO01o:null,kg3NbH:"xdqyycr",kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,kzqmXN:"x144ku6",kZKoxP:"x10w6t97",kB7OPa:"x9f619",$$css:!0}};var rS=n(760800),rE=n(568383),rT=n(959345);function rI(e){return"libraryKey"in e&&"checkpointId"in e}function rw(){let{blocks:e,totalViolations:t}=(0,h.md)(sC.Q6),n=s.useMemo(()=>{let t=e.flatMap(e=>Object.entries(e.violationsByGroupKey).flatMap(([t,n])=>n.map(n=>({groupKey:t,violation:n,blockConfig:e.blockConfig})))).reduce((e,{blockConfig:t,groupKey:n,violation:i})=>{let{detectionContext:s}=i;if(!rI(s))return e;let{checkpointId:l}=s,r=s.libraryKey;return e[r]||(e[r]={blockConfig:t,violationsByCheckpoint:{}}),e[r].violationsByCheckpoint[l]||(e[r].violationsByCheckpoint[l]={violationLists:[],violationsByGroupKey:{}}),e[r].violationsByCheckpoint[l].violationsByGroupKey[n]||(e[r].violationsByCheckpoint[l].violationsByGroupKey[n]=[],e[r].violationsByCheckpoint[l].violationLists.push({groupKey:n,violation:i})),e[r].violationsByCheckpoint[l].violationsByGroupKey[n].push(i),e},{});return Object.keys(t).sort().map(e=>({libraryKey:e,blockConfig:t[e].blockConfig,violationsByCheckpoint:t[e].violationsByCheckpoint}))},[e]);return t?(0,i.jsx)(i.Fragment,{children:n.map(({libraryKey:e,blockConfig:t,violationsByCheckpoint:n},l)=>(0,i.jsxs)(s.Fragment,{children:[l>0&&(0,i.jsx)(rb,{}),(0,i.jsx)(rN,{libraryKey:e,blockConfig:t,violationsByCheckpoint:n})]},`library-${e}`))}):null}function rN({libraryKey:e,blockConfig:t,violationsByCheckpoint:n}){let l=function(e){let{checkpoints:t}=(0,h.md)(l6._);return s.useMemo(()=>Object.entries(e).filter(([e,{violationLists:n}])=>n.length>0||!t?.find(t=>t.id===e)).map(([e,{violationLists:n,violationsByGroupKey:i}])=>{let s=t?.find(t=>t.id===e);return s&&null!==s.publishDate?{violationLists:n,violationsByGroupKey:i,publishDate:s.publishDate,checkpointId:e,description:s.description}:null}).filter(e=>null!==e).sort((e,t)=>new Date(t.publishDate).getTime()-new Date(e.publishDate).getTime()).map(({checkpointId:e,description:t,publishDate:n,violationLists:i,violationsByGroupKey:s})=>({checkpointId:e,description:t,publishDate:n,violationLists:i,violationsByGroupKey:s})),[t,e])}(n);return(0,i.jsx)("div",{children:(0,i.jsx)(rv,{suggestionBlock:rl.pZ.ASSET_UPDATES,header:(0,i.jsxs)("div",{className:"x87ps6o",children:[(0,i.jsx)("div",{className:"xrbesu5 x12cwyba x1l993ej x1ejgcx7 x1aos5ly",children:(0,c.t)("design_linter.suggestion_block_headers.update_assets")}),(0,i.jsx)("div",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x78zum5 x6s0dn4 x1n0bwc9",children:(0,c.tx)("design_linter.suggestion_block.assets_outside_selected_libraries",{name:(0,i.jsx)(rL,{libraryKey:e})})})]}),items:l.map(e=>(0,i.jsx)(rA,{blockConfig:t,violationSubblockData:e},e.checkpointId))})})}function rL({libraryKey:e}){let{subscribedLibraries:t,usedInFileLibraries:n}=iN(),s="loaded"===t.status?t.data.find(t=>t.library_key===e):void 0,l="loaded"===n.status?n.data.find(t=>t.library_key===e):void 0,r=s?.library_name||l?.library_name;return r?(0,i.jsx)(rM,{libraryName:r,libraryKey:e}):null}function rM({libraryName:e,libraryKey:t}){let n=(0,l7.sZ)(),s=(0,l4.Oe)(n),l=(0,l1.fV)(t),r=(0,h.md)(rE.V9),a=t?r[t]?.hubFileId??null:null;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"xdj266r x1ldx8e xat24cr x1iog12x",children:e}),s&&l&&(0,i.jsx)(l2.KP,{libraryKey:t}),a&&(0,i.jsx)(l3.E,{libraryKey:t,showTooltip:!0})]})}function rA({blockConfig:e,violationSubblockData:t}){let n=t.violationLists[0]?.violation.detectionContext??null,l=n&&rI(n),r=l?n.assetId:void 0,a=l&&n?.assetType==="COMPONENT"?l8.PW.COMPONENT:l&&n?.assetType==="STATE_GROUP"?l8.PW.STATE_GROUP:l8.PW.STYLE,o=(0,l5.R8)({assetKey:r,type:a}),d=s.useMemo(()=>{if("loaded"!==o.status)return;let e=(0,l0.oA)(o.data?.assetAttribution);return e?.type===I.GC.TEAM?e.handle:e?.type===I.GC.COMMUNITY?e.name:void 0},[o]);return(0,i.jsx)(rx,{blockConfig:{...e,getLabel:()=>(0,i.jsxs)("div",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x78zum5 xdt5ytf",children:[d&&(0,i.jsx)("div",{children:(0,rT.U)(d,t.publishDate)}),d&&t.description&&(0,i.jsx)("div",{className:"x1n0bwc9",children:t.description})]})},violationsByGroupKey:t.violationsByGroupKey,children:e=>(0,i.jsx)(rR,{violationLists:t.violationLists,violationsByGroupKey:t.violationsByGroupKey,isApplying:e})},t.checkpointId)}function rR({violationLists:e,isApplying:t,violationsByGroupKey:n}){return(0,i.jsx)(i.Fragment,{children:e.map(({groupKey:e,violation:s})=>{let{detectionContext:l}=s;return rI(l)?(0,i.jsx)(rF,{groupKey:e,violations:n[s.groupKey]??[],isApplying:t},e):null})})}function rF({groupKey:e,violations:t,isApplying:n}){let s=t[0],{status:l}=ra(e),r=(0,h.md)(l6.m);if(!s?.detectionContext)return null;let{detectionContext:a}=s;if(!rI(a))return null;let o="completed"===r[a.assetType+a.checkpointId]&&"loaded"===l?"loaded":"loading",d="COMPONENT"===a.assetType||"STATE_GROUP"===a.assetType,u="TEXT_STYLE"===a.assetType;return(0,i.jsx)(rh,{fixStatus:o,groupKey:e,violations:t,isApplying:n,children:{suggestionRowContent:e=>(0,i.jsx)(rc,{...e,customContainerStyle:rz.assetRowContainer,hasFix:"loaded"===o,children:d?(0,i.jsx)(rP,{context:a,...e}):u?(0,i.jsx)(rO,{context:a,...e}):null})}})}function rO({context:e}){let{checkpoints:t}=(0,h.md)(l6._),{assetId:n,checkpointId:s}=e,l=t?.find(e=>e.id===s);if(!l)return null;let r=l.styles.find(e=>e.key===n);return r?(0,i.jsxs)("div",{className:"x78zum5 x6s0dn4 x1vvogim xfn1xvj xe3gq44",children:[(0,i.jsx)("div",{className:"x6s0dn4 x1v8gsql xmkeg23 x1y0btm7 x1co876m x1sxf85j x78zum5 x2lah0s xl56j7k xyo1k6t x187nhsf xn3w4p2",children:(0,i.jsx)(rS.M,{item:r,localThumbnailGenerationBehavior:"default",draggable:!1,style:{maxHeight:"70%",maxWidth:"70%"}})}),(0,i.jsx)("span",{className:"x1iyjqo2 xb3r6kr xlyipyv xuxw1ft x1nx2rwh","data-tooltip":r.name,"data-tooltip-type":is.Ib.TEXT,children:r.name})]}):null}function rP({context:e}){let t=(0,iF.eS)(iF.aD.CURRENT),{assetId:n}=e;if(!t[n])return null;let s=t[n];return(0,i.jsxs)("div",{className:"x78zum5 x6s0dn4 x1vvogim xfn1xvj xe3gq44",children:[(0,i.jsx)("div",{className:"x6s0dn4 x1v8gsql xmkeg23 x1y0btm7 x1co876m x1sxf85j x78zum5 x2lah0s xl56j7k xyo1k6t x187nhsf xn3w4p2",children:(0,i.jsx)(rS.M,{item:s,localThumbnailGenerationBehavior:"default",draggable:!1,style:{maxHeight:"90%",maxWidth:"90%"}})}),(0,i.jsx)("span",{className:"x1iyjqo2 xb3r6kr xlyipyv xuxw1ft x1nx2rwh","data-tooltip":s.name,"data-tooltip-type":is.Ib.TEXT,children:s.name})]})}let rz={assetRowContainer:{k1xSpc:"x78zum5",k8WAf4:"xt970qd",kLKAdn:null,kGO01o:null,kg3NbH:"xdqyycr",kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,kZKoxP:"xng8ra",$$css:!0}};var rB=n(252591),rD=n(491488),rG=n(979850),rq=n(185411),rV=n(930612),r$=n(322839),rH=n(391145),rU=n(31786);function rK(e){return"libraryKey"in e&&"assetType"in e}function rW(e){return!!e&&"resolvedValue"in e&&e.resolvedValue.type===a.Z_n.FLOAT}function rZ(e){return!!e&&"resolvedValue"in e&&e.resolvedValue.type===a.Z_n.COLOR}function rX(e){return!!e&&"type"in e&&e.type===rU.PW.STYLE}let rY="suggestion_rule_blocks--chit--zCpjn";function rQ(){let{blocks:e,totalViolations:t}=(0,h.md)(sC.LG),n=s.useMemo(()=>{let t=e.flatMap(e=>Object.entries(e.violationsByGroupKey).flatMap(([t,n])=>n.map(n=>({groupKey:t,violation:n,blockConfig:e.blockConfig})))).reduce((e,{blockConfig:t,groupKey:n,violation:i})=>{let{detectionContext:s}=i;if(!rK(s))return e;let l=((e,t)=>{let n=["FRAME","TEXT"].includes(e)?i.nodeType:"SHAPE";return["RECTANGLE_TOP_LEFT_CORNER_RADIUS","RECTANGLE_TOP_RIGHT_CORNER_RADIUS","RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS","RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS"].includes(t)?"SHAPE-CORNER_RADIUS":["STACK_PADDING_LEFT","STACK_PADDING_RIGHT","STACK_PADDING_TOP","STACK_PADDING_BOTTOM"].includes(t)?`${n}-PADDING`:["STACK_SPACING_HORIZONTAL","GRID_COLUMN_GAP"].includes(t)?`${n}-SPACING_HORIZONTAL`:["STACK_SPACING_VERTICAL","GRID_ROW_GAP"].includes(t)?`${n}-SPACING_VERTICAL`:"TEXT_STYLE"===t?`${n}-STYLE`:`${n}-${t}`})(i.nodeType,s.assetType),r=s.libraryKey;return e[r]||(e[r]={blockConfig:t,violationsByType:{"FRAME-FILL":{violationLists:[],violationsByGroupKey:{}},"FRAME-STROKE":{violationLists:[],violationsByGroupKey:{}},"FRAME-SPACING_HORIZONTAL":{violationLists:[],violationsByGroupKey:{}},"FRAME-SPACING_VERTICAL":{violationLists:[],violationsByGroupKey:{}},"FRAME-PADDING":{violationLists:[],violationsByGroupKey:{}},"TEXT-FILL":{violationLists:[],violationsByGroupKey:{}},"TEXT-STROKE":{violationLists:[],violationsByGroupKey:{}},"TEXT-STYLE":{violationLists:[],violationsByGroupKey:{}},"SHAPE-FILL":{violationLists:[],violationsByGroupKey:{}},"SHAPE-STROKE":{violationLists:[],violationsByGroupKey:{}},"SHAPE-COMPONENT":{violationLists:[],violationsByGroupKey:{}},"SHAPE-CORNER_RADIUS":{violationLists:[],violationsByGroupKey:{}}}}),e[r].violationsByType[l]&&(e[r].violationsByType[l].violationsByGroupKey[n]||(e[r].violationsByType[l].violationsByGroupKey[n]=[],e[r].violationsByType[l].violationLists.push({groupKey:n,violation:i})),e[r].violationsByType[l].violationsByGroupKey[n].push(i)),e},{});return Object.keys(t).sort().map(e=>({libraryKey:e,blockConfig:t[e].blockConfig,violationsByType:t[e].violationsByType}))},[e]);return t?(0,i.jsx)(i.Fragment,{children:n.map(({libraryKey:e,blockConfig:t,violationsByType:n},l)=>(0,i.jsxs)(s.Fragment,{children:[l>0&&(0,i.jsx)(rb,{}),(0,i.jsx)(rJ,{libraryKey:e,blockConfig:t,violationsByType:n})]},`library-${e}`))}):null}function rJ({libraryKey:e,blockConfig:t,violationsByType:n}){let l=s.useMemo(()=>Object.entries(n).filter(([e,{violationLists:t}])=>t.length>0).map(([e,{violationLists:t,violationsByGroupKey:n}])=>{let i={violationLists:t,violationsByGroupKey:n};switch(e){case"FRAME-FILL":return{...i,key:"frameFill",priority:1,label:(0,c.t)("design_linter.suggestion_block.fill_colors.background_colors")};case"FRAME-STROKE":return{...i,key:"frameStroke",priority:2,label:(0,c.t)("design_linter.suggestion_block.stroke_colors.stroke_color")};case"SHAPE-FILL":return{...i,key:"shapeFill",priority:3,label:(0,c.t)("design_linter.suggestion_block.fill_colors.shape_colors")};case"SHAPE-STROKE":return{...i,key:"shapeStroke",priority:4,label:(0,c.t)("design_linter.suggestion_block.stroke_colors.shape_stroke_colors")};case"TEXT-FILL":return{...i,key:"textFill",priority:5,label:(0,c.t)("design_linter.suggestion_block.fill_colors.text_color")};case"TEXT-STROKE":return{...i,key:"textStroke",priority:6,label:(0,c.t)("design_linter.suggestion_block.stroke_colors.text_stroke_color")};case"TEXT-STYLE":return{...i,key:"textStyle",priority:7,label:(0,c.t)("design_linter.suggestion_block.text_style")};case"SHAPE-CORNER_RADIUS":return{...i,key:"shapeCornerRadius",priority:8,label:(0,c.t)("design_linter.suggestion_block.corner_radius")};case"FRAME-SPACING_HORIZONTAL":return{...i,key:"frameSpacingHorizontal",priority:9,label:(0,c.t)("design_linter.suggestion_block.horizontal_spacing")};case"FRAME-SPACING_VERTICAL":return{...i,key:"frameSpacingVertical",priority:10,label:(0,c.t)("design_linter.suggestion_block.vertical_spacing")};case"FRAME-PADDING":return{...i,key:"framePadding",priority:11,label:(0,c.t)("design_linter.suggestion_block.padding")};case"SHAPE-COMPONENT":return{...i,key:"component",priority:12,label:(0,c.t)("design_linter.suggestion_block.library_assets.components")};default:return null}}).filter(e=>null!==e).sort((e,t)=>e.priority-t.priority),[n]);return(0,i.jsx)("div",{children:(0,i.jsx)(rv,{rowListId:e,suggestionBlock:rl.pZ.ASSETS_OUTSIDE_SELECTED_LIBRARIES,header:(0,i.jsxs)("div",{className:"x87ps6o",children:[(0,i.jsx)("div",{className:"xrbesu5 x12cwyba x1l993ej x1ejgcx7 x1aos5ly",children:(0,c.t)("design_linter.suggestion_block_headers.unexpected_assets")}),(0,i.jsx)("div",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x78zum5 x6s0dn4 x1n0bwc9",children:(0,c.tx)("design_linter.suggestion_block.assets_outside_selected_libraries",{name:(0,i.jsx)(r0,{libraryKey:e})})})]}),items:l.map(e=>(0,i.jsx)(rx,{blockConfig:{...t,getLabel:()=>e.label},violationsByGroupKey:e.violationsByGroupKey,children:t=>(0,i.jsx)(r2,{violationLists:e.violationLists,violationsByGroupKey:e.violationsByGroupKey,isApplying:t})},e.key))})})}function r0({libraryKey:e}){let{subscribedLibraries:t,usedInFileLibraries:n}=iN(),s="loaded"===t.status?t.data.find(t=>t.library_key===e):void 0,l="loaded"===n.status?n.data.find(t=>t.library_key===e):void 0,r=s?.library_name||l?.library_name;return r?(0,i.jsx)(r1,{libraryName:r,libraryKey:e}):null}function r1({libraryName:e,libraryKey:t}){let n=(0,l7.sZ)(),s=(0,l4.Oe)(n),l=(0,l1.fV)(t),r=(0,h.md)(rE.V9),a=t?r[t]?.hubFileId??null:null;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"xdj266r x1ldx8e xat24cr x1iog12x",children:e}),s&&l&&(0,i.jsx)(l2.KP,{libraryKey:t}),a&&(0,i.jsx)(l3.E,{libraryKey:t,showTooltip:!0})]})}function r2({violationLists:e,isApplying:t,violationsByGroupKey:n}){return(0,i.jsx)(i.Fragment,{children:e.map(({groupKey:e,violation:s})=>{let{detectionContext:l}=s;return rK(l)?(0,i.jsx)(r3,{groupKey:e,violations:n[s.groupKey]??[],ruleId:s.ruleId,isApplying:t},e):null})})}function r3({groupKey:e,violations:t,ruleId:n,isApplying:s}){let l=t[0],{fix:r,status:a}=ra(e);if(!l?.detectionContext)return null;let{detectionContext:o,developerId:d,nodeType:u}=l;if(!rK(o))return null;let x="TEXT_STYLE"===o.assetType,c="COMPONENT"===o.assetType,p=rV.P.includes(o.assetType);return c?(0,i.jsx)(r4,{detectionContext:o,fixStatus:a,groupKey:e,violations:t,isApplying:s}):(0,i.jsx)(rh,{fixStatus:a,groupKey:e,violations:t,isApplying:s,children:{suggestionRowContent:t=>(0,i.jsx)(rp,{...t,children:{currentValue:x?(0,i.jsx)(r5,{context:o}):(0,i.jsx)(r7,{context:o}),suggestedValue:x?(0,i.jsx)(r6,{fix:r,groupKey:e,isApplying:s,ruleId:n}):p?(0,i.jsx)(r9,{fix:r,groupKey:e,ruleId:n,violatingDevId:d,assetType:o.assetType,isApplying:s}):(0,i.jsx)(ae,{fix:r,groupKey:e,ruleId:n,violatingDevId:d,nodeType:u,assetType:o.assetType,isApplying:s})}})}})}function r5({context:e}){let t=e?.assetId??null,n=(0,r$.Fj)(t);if(!e||!n)return null;let s=n.name;return(0,i.jsx)("span",{"data-tooltip":s,"data-tooltip-type":is.Ib.TEXT,children:s})}function r7({context:e}){let t=(0,h.md)(n5.nE);if(!e)return null;let{assetId:n}=e,s=rD.sD.fromString(n);if(!s)return null;let l=t[s],r=l?.name;if(l||(r=rG.D(s)?.name),!r)return null;let a=r;return(0,i.jsx)("span",{"data-tooltip":a,"data-tooltip-type":is.Ib.TEXT,children:a})}function r4({detectionContext:e,fixStatus:t,groupKey:n,violations:s,isApplying:l}){let r=(0,iF.eS)(iF.aD.CURRENT)[e.assetId];return r?(0,i.jsx)(rh,{fixStatus:t,groupKey:n,violations:s,isApplying:l,children:{suggestionRowContent:e=>(0,i.jsx)(rc,{...e,customContainerStyle:at.componentRowContainer,shouldShowApplyButton:!1,children:(0,i.jsx)(r8,{item:r,...e})})}}):null}function r8({item:e}){return(0,i.jsxs)("div",{className:"x78zum5 x6s0dn4 xe8ttls xe3gq44",children:[(0,i.jsx)("div",{className:"x6s0dn4 x1v8gsql xmkeg23 x1y0btm7 x1co876m x1sxf85j x78zum5 x2lah0s xl56j7k xyo1k6t x187nhsf xn3w4p2",children:(0,i.jsx)(rS.M,{className:"thumbClassName",item:e,localThumbnailGenerationBehavior:"default",draggable:!1,style:{maxHeight:"90%",maxWidth:"90%"}})}),(0,i.jsx)("span",{className:"x1iyjqo2 xb3r6kr xlyipyv xuxw1ft x1nx2rwh","data-tooltip":e.name,"data-tooltip-type":is.Ib.TEXT,children:e.name})]})}function r6({fix:e,groupKey:t,isApplying:n,ruleId:l}){let{fixContext:r,valid:a}=e??{},o=(0,s.useRef)(null),[d,u]=(0,h.fp)(i8.uw),x=(0,h.Xr)(i8.aW),p=(0,h.Xr)(i8.iO),m=(0,h.Xr)(i8.rg),g=(0,h.Xr)(i8.jV),f=(0,i6.sf)(),{fix:y}=ro(t),{fixContext:k}=y??{},j=r?.fixes,_=k?.fixes,{allStyles:v,listItems:b,styleNodeIdToStyle:C}=(0,i6.td)({selectedStyles:j?.fixes??[],cachedStyles:(_?.fixes??[]).slice(0,i6.lz)}),S=j?.fixes.length?j?.fixes[0]:v[0],E=(0,s.useCallback)(e=>!!(e?.id&&rX(j?.fixes[0]))&&e.id===j?.fixes[0].node_id,[j]),T=(0,s.useCallback)(({node_id:e,rankPosition:n,isFromSuggestedList:i})=>{let s=C[e];if(!s)return;let a={...r,fixes:{suggestionId:(0,U.g)(),fixes:[s],selectedItemRankPosition:n,selectedItemIsFromSuggestedList:i}};h.zl.set(io.Sg,{groupKey:t,selectedFixItem:{fix:{ruleId:l,valid:!0,fixContext:a},status:"loaded"}})},[C,t,r,l]),I=(0,s.useCallback)(()=>{if(n)return;let e=!!d?.current&&!!o.current,t=d?.current===o.current;if(e&&t){f();return}let i=r?.suggestionId;g(()=>E),m(()=>T),p({title:(0,c.t)("design_linter.rules.text_styles.dropdown_title"),blockType:rl.pZ.ASSETS_OUTSIDE_SELECTED_LIBRARIES,suggestionId:i,display:"LIST",items:b}),u(o),x(!0)},[f,d,n,E,b,T,u,x,g,p,m,r]);return e&&a&&r&&rX(S)?(0,i.jsx)(rk,{ref:o,onClick:I,tooltip:S.name,children:()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r_,{isDisabled:n,children:(0,i.jsx)(rH.J,{fillStyle:S,className:rY})}),(0,i.jsx)(ry,{label:S.name,isApplying:n})]})}):(0,i.jsx)(rg,{ref:o,onClick:I,type:rl.kQ.TEXT})}function r9({ruleId:e,fix:t,groupKey:n,violatingDevId:l,assetType:r,isApplying:o}){let{fixContext:d,valid:u}=t??{},x=(0,s.useRef)(null),p=(0,i6.sf)(),[m,g]=(0,h.fp)(i8.uw),f=(0,h.Xr)(i8.aW),y=(0,h.Xr)(i8.iO),k=(0,h.Xr)(i8.rg),j=(0,h.Xr)(i8.jV),{fix:_}=ro(n),{fixContext:v}=_??{},b=d?.fixes,C=v?.fixes,S=(0,rq.d$)({ruleId:e,assetType:r}),{fixes:E,listItems:T,allResolvedVariables:I,variableMap:w}=(0,i6.Dt)({selectedFixes:b?.fixes??[],cachedFixes:(C?.fixes??[]).slice(0,i6.OL),violatingDevId:l,type:a.rXF.FLOAT,scopes:S}),N=(0,s.useMemo)(()=>{if(!rW(b?.fixes[0]))return E[0];let e=b?.fixes[0].variableId;if(!e||!I)return E[0];let t=I.libraryVariables[e]?.resolvedValue??I.localVariables[e]?.resolvedValue;return t?{variableId:e,resolvedValue:t}:E[0]},[b,I,E]),L=(0,s.useCallback)(e=>!!(e?.id&&rW(b?.fixes[0]))&&e.id===b?.fixes[0].variableId,[b]),M=(0,s.useCallback)(({node_id:t,rankPosition:i,isFromSuggestedList:s})=>{if(!I)return;let l=I.libraryVariables[t]?.resolvedValue??I.localVariables[t]?.resolvedValue;if(!l)return;let r={...d,fixes:{suggestionId:(0,U.g)(),fixes:[{variableId:t,resolvedValue:l}],selectedItemRankPosition:i,selectedItemIsFromSuggestedList:s}};h.zl.set(io.Sg,{groupKey:n,selectedFixItem:{fix:{ruleId:e,valid:!0,fixContext:r},status:"loaded"}})},[I,e,n,d]),A=(0,s.useCallback)(()=>{let e=!!m?.current&&!!x.current,t=m?.current===x.current;if(e&&t){p();return}let n=d?.suggestionId;g(x),f(!0),j(()=>L),k(()=>M),y({title:(0,c.t)("design_linter.rules.number_rules.dropdown_title"),blockType:rl.pZ.ASSETS_OUTSIDE_SELECTED_LIBRARIES,suggestionId:n,display:"LIST",items:T})},[m,g,f,j,L,k,M,y,T,p,d]);if(!t||!u||!d||!E||0===E.length||!N||!l)return(0,i.jsx)(rg,{ref:x,onClick:A,type:rl.kQ.NUMBER});let{variableId:R,resolvedValue:F}=N,O=(w??{})[R]?.name,P=F.value;return P&&O?(0,i.jsx)(rk,{ref:x,onClick:A,tooltip:O,disabled:o,children:()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r_,{isDisabled:o,children:(0,i.jsx)(rB.J,{})}),(0,i.jsx)(ry,{label:O,value:P,isApplying:o})]})}):(0,i.jsx)(rg,{ref:x,onClick:A,type:rl.kQ.NUMBER})}function ae({ruleId:e,fix:t,groupKey:n,violatingDevId:l,nodeType:r,assetType:o,isApplying:d}){let{fixContext:u,valid:x}=t??{},p=(0,s.useRef)(null),m=(0,i6.sf)(),[g,f]=(0,h.fp)(i8.uw),y=(0,h.Xr)(i8.aW),k=(0,h.Xr)(i8.iO),j=(0,h.Xr)(i8.rg),_=(0,h.Xr)(i8.jV),{fix:v}=ro(n),{fixContext:b}=v??{},C=u?.fixes,S=b?.fixes,E=(0,rq.d$)({ruleId:e,nodeType:r,assetType:o}),{fixes:T,listItems:I,allResolvedVariables:w,variableMap:N}=(0,i6.Dt)({selectedFixes:C?.fixes??[],cachedFixes:(S?.fixes??[]).slice(0,i6.EN),violatingDevId:l,type:a.rXF.COLOR,scopes:E}),L=(0,s.useMemo)(()=>{if(!rZ(C?.fixes[0]))return T[0];let e=C?.fixes[0].variableId;if(!e||!w)return T[0];let t=w.libraryVariables[e]?.resolvedValue??w.localVariables[e]?.resolvedValue;return t?{variableId:e,resolvedValue:t}:T[0]},[C,w,T]),M=(0,s.useCallback)(e=>!!(e?.id&&rZ(C?.fixes[0]))&&e.id===C?.fixes[0].variableId,[C]),A=(0,s.useCallback)(({node_id:t,rankPosition:i,isFromSuggestedList:s})=>{if(!w)return;let l=w.libraryVariables[t]?.resolvedValue??w.localVariables[t]?.resolvedValue;if(!l)return;let r={...u,fixes:{suggestionId:(0,U.g)(),fixes:[{variableId:t,resolvedValue:l}],selectedItemRankPosition:i,selectedItemIsFromSuggestedList:s}};h.zl.set(io.Sg,{groupKey:n,selectedFixItem:{fix:{ruleId:e,valid:!0,fixContext:r},status:"loaded"}})},[w,e,u,n]),R=(0,s.useCallback)(()=>{let e=!!g?.current&&!!p.current,t=g?.current===p.current;if(e&&t){m();return}let n=u?.suggestionId;f(p),y(!0),_(()=>M),j(()=>A),k({title:(0,c.t)("design_linter.rules.color_rules.dropdown_title"),blockType:rl.pZ.ASSETS_OUTSIDE_SELECTED_LIBRARIES,suggestionId:n,display:"LIST",items:I})},[g,f,y,_,M,j,A,k,I,m,u]);if(!t||!x||!u||!T||0===T.length||!L||!l)return(0,i.jsx)(rg,{ref:p,onClick:R,type:rl.kQ.COLOR});let{variableId:F,resolvedValue:O}=L,P=(N??{})[F]?.name,z=O.value;return z&&P?(0,i.jsx)(rk,{ref:p,onClick:R,tooltip:P,disabled:d,children:()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r_,{isDisabled:d,children:(0,i.jsx)(rH.J,{color:z,opacity:z.a,className:rY})}),(0,i.jsx)(ry,{label:P,isApplying:d})]})}):(0,i.jsx)(rg,{ref:p,onClick:R,type:rl.kQ.COLOR})}let at={componentRowContainer:{k1xSpc:"x78zum5",k8WAf4:"xt970qd",kLKAdn:null,kGO01o:null,kg3NbH:"xdqyycr",kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,kZKoxP:"xng8ra",$$css:!0}};var an=n(41076),ai=n(435049);function as(){let{blocks:e,totalViolations:t}=(0,h.md)(sC.r0);return t?(0,i.jsx)(rv,{suggestionBlock:rl.sE.COLOR_VARIABLES,header:(0,c.t)("design_linter.suggestion_block_headers.color"),items:e.map(({blockConfig:e,violationsByGroupKey:t})=>(0,i.jsx)(rx,{blockConfig:e,violationsByGroupKey:t,children:n=>(0,i.jsx)(i.Fragment,{children:Object.entries(t).map(([t,s])=>{let l=s[0];return(0,i.jsx)(al,{blockId:e.id,violations:s,groupKey:t,ruleId:l?.ruleId,isApplying:n},t)})})},e.id))}):null}function al({blockId:e,groupKey:t,violations:n,ruleId:s,isApplying:l}){let r=n[0],{fix:a,status:o}=ra(t);if(!r?.detectionContext)return null;let{detectionContext:d,developerId:u,nodeType:x}=r;return(0,i.jsx)(rh,{fixStatus:o,groupKey:t,violations:n,isApplying:l,children:{suggestionRowContent:n=>(0,i.jsx)(rp,{...n,children:{currentValue:(0,i.jsx)(ar,{context:d}),suggestedValue:(0,i.jsx)(aa,{blockId:e,fix:a,groupKey:t,ruleId:s,violatingDevId:u,nodeType:x,isApplying:l})}})}})}function ar({context:e}){if(!e)return null;let t=e.color,n=e.opacity,s=`${an.z5.format(t)}${n&&n<1?` \xb7 ${function(e){let t=new ai.t6({min:0,max:100});return`${t.format(100*e)}%`}(n)}`:""}`;return(0,i.jsx)("span",{"data-tooltip":s,"data-tooltip-type":is.Ib.TEXT,children:s})}function aa({blockId:e,ruleId:t,fix:n,groupKey:l,violatingDevId:r,nodeType:o,isApplying:d}){let{fixContext:u,valid:x}=n??{},p=s.useRef(null),m=(0,i6.sf)(),[g,f]=(0,h.fp)(i8.uw),y=(0,h.Xr)(i8.aW),k=(0,h.Xr)(i8.iO),j=(0,h.Xr)(i8.rg),_=(0,h.Xr)(i8.jV),{fix:v}=ro(l),{fixContext:b}=v??{},C=u?.fixes,S=b?.fixes,E=(0,rq.d$)({ruleId:t,nodeType:o}),{fixes:T,listItems:I,allResolvedVariables:w,variableMap:N}=(0,i6.Dt)({selectedFixes:C??[],cachedFixes:(S??[]).slice(0,i6.EN),violatingDevId:r,type:a.rXF.COLOR,scopes:E}),L=(0,s.useMemo)(()=>{if(!C?.length)return T[0];let e=C[0]?.variableId;if(!e||!w)return T[0];let t=w.libraryVariables[e]?.resolvedValue??w.localVariables[e]?.resolvedValue;return t?{variableId:e,resolvedValue:t}:T[0]},[C,w,T]),M=(0,s.useCallback)(e=>!!(e?.id&&C?.length)&&e.id===C[0]?.variableId,[C]),A=(0,s.useCallback)(({node_id:e,rankPosition:n,isFromSuggestedList:i})=>{if(!w||!t)return;let s=w.libraryVariables[e]?.resolvedValue??w.localVariables[e]?.resolvedValue;if(!s)return;let r={...u,fixes:[{variableId:e,resolvedValue:s}],selectedItemRankPosition:n,selectedItemIsFromSuggestedList:i};h.zl.set(io.Sg,{groupKey:l,selectedFixItem:{fix:{ruleId:t,valid:!0,fixContext:r},status:"loaded"}})},[w,t,l,u]),R=(0,s.useCallback)(()=>{let t=!!g?.current&&!!p.current,n=g?.current===p.current;if(t&&n){m();return}let i=u?.suggestionId;f(p),y(!0),_(()=>M),j(()=>A),k({title:(0,c.t)("design_linter.rules.color_rules.dropdown_title"),suggestionId:i,blockType:e,display:"LIST",items:I})},[e,g,f,y,_,M,j,A,k,I,m,u]);if(!n||!x||!u||!T||0===T.length||!L||!r)return(0,i.jsx)(rg,{ref:p,onClick:R,type:rl.kQ.COLOR});let{variableId:F,resolvedValue:O}=L,P=(N??{})[F]?.name,z=O.value;return z&&P?(0,i.jsx)(rk,{ref:p,onClick:R,tooltip:P,disabled:d,children:()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r_,{isDisabled:d,children:(0,i.jsx)(rH.J,{color:z,opacity:z.a,className:rY})}),(0,i.jsx)(ry,{label:P,isApplying:d})]})}):(0,i.jsx)(rg,{ref:p,onClick:R,type:rl.kQ.COLOR})}function ao(){let{blocks:e,totalViolations:t}=(0,h.md)(sC.yU),n=(0,h.md)(n5.d$),l=s.useMemo(()=>{let t=e.flatMap(e=>Object.entries(e.violationsByGroupKey).flatMap(([t,n])=>n.map(n=>({groupKey:t,violation:n,blockConfig:e.blockConfig})))),n={};return t.forEach(({blockConfig:e,groupKey:t,violation:i})=>{let{detectionContext:s}=i,l=s?.pluginId,r=s?.rule?.name;l&&r&&(n[l]||(n[l]={}),n[l][r]||(n[l][r]={blockConfig:e,violationsByGroupKey:{},ruleName:r}),n[l][r].violationsByGroupKey[t]||(n[l][r].violationsByGroupKey[t]=[]),n[l][r].violationsByGroupKey[t].push(i))}),Object.keys(n).sort().map(e=>({pluginId:e,rules:Object.values(n[e])}))},[e]);return t?(0,i.jsx)(i.Fragment,{children:l.map(({pluginId:e,rules:t},l)=>(0,i.jsxs)(s.Fragment,{children:[l>0&&(0,i.jsx)(rb,{}),(0,i.jsx)(rv,{suggestionBlock:rl.pZ.EXTENSIBILITY_RULE,header:(0,c.t)("design_linter.rules.plugin_rules.header",{pluginName:n?.get(e)?.name??""}),items:t.map(({blockConfig:t,violationsByGroupKey:n,ruleName:s})=>(0,i.jsx)(rx,{blockConfig:{...t,getLabel:()=>(0,i.jsx)("span",{children:s})},violationsByGroupKey:n,children:e=>(0,i.jsx)(i.Fragment,{children:Object.entries(n).map(([t,n])=>(0,i.jsx)(ad,{groupKey:t,violations:n,isApplying:e},t))})},`${t.id}-${e}-${s}`))})]},`plugin-${e}`))}):null}let ad=s.memo(function({groupKey:e,violations:t,isApplying:n}){return(0,i.jsx)("div",{children:(0,i.jsx)(au,{violations:t,groupKey:e,isApplying:n})},e)});function au({violations:e,groupKey:t,isApplying:n}){let[l]=(0,s.useState)(!1),{status:r}=ra(t),a=e[0],o=a?.detectionContext;return!l&&o?.explanation&&e.length?(0,i.jsx)(rh,{fixStatus:"loaded"===r?"loaded":"loading",groupKey:t,violations:e,isApplying:n,children:{suggestionRowContent:e=>(0,i.jsx)(rc,{...e,hasFix:!0,children:(0,i.jsx)("div",{className:"x1akne3o x37zpob x1iyjqo2 xs83m0k x1t1x2f9 xilkfi8 x1vvkbs x1mzt3pk xeuugli",children:o.explanation})})}}):null}function ax(){let{blocks:e,totalViolations:t}=(0,h.md)(sC.d9);return t?(0,i.jsx)(rv,{suggestionBlock:rl.sE.NUMBER_VARIABLES,header:(0,c.t)("design_linter.suggestion_block_headers.number"),items:e.map(({blockConfig:e,violationsByGroupKey:t})=>(0,i.jsx)(rx,{blockConfig:e,violationsByGroupKey:t,children:n=>(0,i.jsx)(i.Fragment,{children:Object.entries(t).map(([t,s])=>{let l=s[0];return(0,i.jsx)(ac,{blockId:e.id,violations:s,groupKey:t,ruleId:l?.ruleId,isApplying:n},t)})})},e.id))}):null}function ac({blockId:e,groupKey:t,violations:n,ruleId:s,isApplying:l}){let r=n[0],{fix:a,status:o}=ra(t);if(!r?.detectionContext)return null;let{detectionContext:d,developerId:u}=r;return(0,i.jsx)(rh,{fixStatus:o,groupKey:t,violations:n,isApplying:l,children:{suggestionRowContent:n=>(0,i.jsx)(rp,{...n,children:{currentValue:(0,i.jsx)(ap,{context:d}),suggestedValue:(0,i.jsx)(ah,{blockId:e,fix:a,groupKey:t,ruleId:s,violatingDevId:u,isApplying:l})}})}})}function ap({context:e}){if(!e)return null;let t=parseFloat(e.numericValue.toFixed(2)).toString();return(0,i.jsx)("span",{"data-tooltip":t,"data-tooltip-type":is.Ib.TEXT,children:t})}function ah({blockId:e,ruleId:t,fix:n,groupKey:l,violatingDevId:r,isApplying:o}){let{fixContext:d,valid:u}=n??{},x=(0,s.useRef)(null),p=(0,i6.sf)(),[m,g]=(0,h.fp)(i8.uw),f=(0,h.Xr)(i8.aW),y=(0,h.Xr)(i8.iO),k=(0,h.Xr)(i8.rg),j=(0,h.Xr)(i8.jV),{fix:_}=ro(l),{fixContext:v}=_??{},b=d?.fixes,C=v?.fixes,S=(0,rq.d$)({ruleId:t}),{fixes:E,listItems:T,allResolvedVariables:I,variableMap:w}=(0,i6.Dt)({selectedFixes:b??[],cachedFixes:(C??[]).slice(0,i6.OL),violatingDevId:r,type:a.rXF.FLOAT,scopes:S}),N=s.useMemo(()=>{if(!b?.length)return E[0];let e=b[0]?.variableId;if(!e||!I)return E[0];let t=I.libraryVariables[e]?.resolvedValue??I.localVariables[e]?.resolvedValue;return t?{variableId:e,resolvedValue:t}:E[0]},[b,I,E]),L=(0,s.useCallback)(e=>!!(e?.id&&b?.length)&&e.id===b[0]?.variableId,[b]),M=(0,s.useCallback)(({node_id:e,rankPosition:n,isFromSuggestedList:i})=>{if(!I||!t)return;let s=I.libraryVariables[e]?.resolvedValue??I.localVariables[e]?.resolvedValue;if(!s)return;let r={...d,fixes:[{variableId:e,resolvedValue:s}],selectedItemRankPosition:n,selectedItemIsFromSuggestedList:i};h.zl.set(io.Sg,{groupKey:l,selectedFixItem:{fix:{ruleId:t,valid:!0,fixContext:r},status:"loaded"}})},[I,t,l,d]),A=(0,s.useCallback)(()=>{let t=!!m?.current&&!!x.current,n=m?.current===x.current;if(t&&n){p();return}let i=d?.suggestionId;g(x),f(!0),j(()=>L),k(()=>M),y({title:(0,c.t)("design_linter.rules.number_rules.dropdown_title"),blockType:e,suggestionId:i,display:"LIST",items:T})},[e,m,g,f,j,L,k,M,y,T,p,d]);if(!n||!u||!d||!E||0===E.length||!N||!r)return(0,i.jsx)(rg,{ref:x,onClick:A,type:rl.kQ.NUMBER});let{variableId:R,resolvedValue:F}=N,O=(w??{})[R]?.name,P=F.value;return O?(0,i.jsx)(rk,{ref:x,onClick:A,tooltip:O,disabled:o,children:()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r_,{isDisabled:o,children:(0,i.jsx)(rB.J,{})}),(0,i.jsx)(ry,{label:O,value:P,isApplying:o})]})}):(0,i.jsx)(rg,{ref:x,onClick:A,type:rl.kQ.NUMBER})}var am=n(350205),ag=n(131436),af=n(467202);function ay(){let{blocks:e,totalViolations:t}=(0,h.md)(sC.qQ);return t?(0,i.jsx)(rv,{suggestionBlock:rl.pZ.TEXT_BACKGROUND_CONTRAST_AA,header:(0,c.t)("design_linter.suggestion_block_headers.accessibility_standards"),items:e.map(({blockConfig:e,violationsByGroupKey:t})=>(0,i.jsx)(rx,{blockConfig:e,violationsByGroupKey:t,children:n=>(0,i.jsx)(i.Fragment,{children:Object.entries(t).map(([t,s])=>{let l=s[0];return(0,i.jsx)(ak,{blockId:e.id,violations:s,groupKey:t,ruleId:l?.ruleId,isApplying:n},t)})})},e.id))}):null}function ak({blockId:e,groupKey:t,violations:n,ruleId:s,isApplying:l}){let r=n[0],{fix:a,status:o}=ra(t);if(!r?.detectionContext)return null;let{detectionContext:d,developerId:u}=r;return(0,i.jsx)(rh,{fixStatus:o,groupKey:t,violations:n,isApplying:l,children:{suggestionRowContent:n=>(0,i.jsx)(rp,{...n,children:{currentValue:(0,i.jsx)(aj,{context:d}),suggestedValue:(0,i.jsx)(a_,{blockId:e,fix:a,groupKey:t,ruleId:s,violatingDevId:u,isApplying:l,detectionContext:d})}})}})}function aj({context:e}){if(!e)return null;let t=e.fillColor,n=e.fillOpacity,s=`${an.z5.format(t)}${n&&n<1?` \xb7 ${function(e){let t=new ai.t6({min:0,max:100});return`${t.format(100*e)}%`}(n)}`:""}`;return(0,i.jsx)("span",{"data-tooltip":s,"data-tooltip-type":is.Ib.TEXT,children:s})}function a_({blockId:e,ruleId:t,fix:n,groupKey:l,violatingDevId:r,isApplying:o,detectionContext:d}){let{fixContext:u,valid:x}=n??{},p=s.useRef(null),m=(0,i6.sf)(),[g,f]=(0,h.fp)(i8.uw),y=(0,h.Xr)(i8.aW),k=(0,h.Xr)(i8.iO),j=(0,h.Xr)(i8.rg),_=(0,h.Xr)(i8.jV),v=(0,h.Xr)(i8.Ue),{fix:b}=ro(l),{fixContext:C}=b??{},S=u?.fixes,E=C?.fixes,{fixes:T,listItems:I,allResolvedVariables:w,variableMap:N}=(0,i6.Dt)({selectedFixes:S??[],cachedFixes:(E??[]).slice(0,i6.EN),violatingDevId:r,type:a.rXF.COLOR,scopes:(0,rq.d$)({ruleId:t})}),L=s.useMemo(()=>{if(!S?.length)return T[0];let e=S[0]?.variableId;if(!e||!w)return T[0];let t=w.libraryVariables[e]?.resolvedValue??w.localVariables[e]?.resolvedValue;return t?{variableId:e,resolvedValue:t}:T[0]},[S,w,T]),M=s.useCallback(e=>!!(e?.id&&S?.length)&&e.id===S[0]?.variableId,[S]),A=s.useCallback(({node_id:e,rankPosition:n,isFromSuggestedList:i})=>{if(!w||!t)return;let s=w.libraryVariables[e]?.resolvedValue??w.localVariables[e]?.resolvedValue;if(!s)return;let r={...u,fixes:[{variableId:e,resolvedValue:s}],selectedItemRankPosition:n,selectedItemIsFromSuggestedList:i};h.zl.set(io.Sg,{groupKey:l,selectedFixItem:{fix:{ruleId:t,valid:!0,fixContext:r},status:"loaded"}})},[w,t,l,u]),R=s.useCallback(()=>{let t=!!g?.current&&!!p.current,n=g?.current===p.current;if(t&&n){m();return}let{backgroundColor:s,contrastRatios:l}=d,r=function(e){if("LIST"!==e.type||!e.variable||!w)return null;let t=e.variable.node_id,n=w.libraryVariables[t]?.resolvedValue??w.localVariables[t]?.resolvedValue;if(!n?.value)return null;let r=n.value;return(0,i.jsx)(av,{backgroundColor:s,selectedColor:r,contrastRatios:l})},a=u?.suggestionId;f(p),y(!0),_(()=>M),j(()=>A),v(()=>r),k({title:(0,c.t)("design_linter.rules.color_rules.dropdown_title"),blockType:e,suggestionId:a,display:"LIST",items:I})},[e,g,f,y,_,M,j,A,v,k,I,m,d,w,u]);if(!n||!x||!u||!T||0===T.length||!L||!r)return(0,i.jsx)(rg,{ref:p,onClick:R,type:rl.kQ.COLOR});let{variableId:F,resolvedValue:O}=L,P=(N??{})[F]?.name,z=O.value;return z&&P?(0,i.jsx)(rk,{ref:p,onClick:R,tooltip:P,disabled:o,children:()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r_,{isDisabled:o,children:(0,i.jsx)(rH.J,{color:z,opacity:z.a,className:rY})}),(0,i.jsx)(ry,{label:P,isApplying:o}),(0,i.jsx)(av,{backgroundColor:d.backgroundColor,selectedColor:O.value,contrastRatios:d.contrastRatios})]})}):(0,i.jsx)(rg,{ref:p,onClick:R,type:rl.kQ.COLOR})}function av({backgroundColor:e,selectedColor:t,contrastRatios:n}){let l=s.useMemo(()=>{let{aaPass:i}=(0,af.Ef)((0,sN.Hu)(t),e,n?.AA,n?.AAA);return!!i},[e,t,n]);return(0,i.jsxs)("div",{...{0:{className:"x78zum5 x6s0dn4 x195vfkc x87ps6o x1n0bwc9 xmauxvm"},1:{className:"x78zum5 x6s0dn4 x195vfkc x87ps6o xq6u9c4 x11vm0g5"}}[!!l<<0],children:[l?(0,i.jsx)(am.l,{}):(0,i.jsx)(ag.X,{}),(0,c.t)("design_linter.suggestion_block.text_background_contrast_aa.aaStandard")]})}function ab(){let{blocks:e,totalViolations:t}=(0,h.md)(sC.GM);return t?(0,i.jsx)(rv,{suggestionBlock:rl.pZ.TEXT_STYLE,header:(0,c.t)("design_linter.suggestion_block_headers.styles"),items:e.map(({blockConfig:e,violationsByGroupKey:t})=>(0,i.jsx)(rx,{blockConfig:e,violationsByGroupKey:t,children:n=>(0,i.jsx)(i.Fragment,{children:Object.entries(t).map(([t,s])=>(0,i.jsx)(aC,{blockId:e.id,violations:s,groupKey:t,isApplying:n},t))})},e.id))}):null}function aC({blockId:e,groupKey:t,violations:n,isApplying:s}){let l=n[0],{fix:r,status:a}=ra(t);return l?.detectionContext?(0,i.jsx)(rh,{fixStatus:a,groupKey:t,violations:n,isApplying:s,children:{suggestionRowContent:n=>(0,i.jsx)(rp,{...n,children:{currentValue:(0,i.jsx)(aS,{context:l.detectionContext}),suggestedValue:(0,i.jsx)(aE,{blockId:e,fix:r,groupKey:t,isApplying:s})}})}}):null}function aS({context:e}){let{fontFamily:t,fontSize:n,lineHeight:s}=e,l=parseFloat(n.toFixed(2)).toString(),r=parseFloat(s.toFixed(2)).toString(),a=`${t} ${l}, ${r}`;return(0,i.jsx)("span",{"data-tooltip":a,"data-tooltip-type":is.Ib.TEXT,children:a})}function aE({blockId:e,fix:t,groupKey:n,isApplying:l}){let{fixContext:r,valid:a}=t??{},o=s.useRef(null),[d,u]=(0,h.fp)(i8.uw),x=(0,h.Xr)(i8.aW),p=(0,h.Xr)(i8.iO),m=(0,h.Xr)(i8.rg),g=(0,h.Xr)(i8.jV),f=(0,i6.sf)(),{fix:y}=ro(n),{fixContext:k}=y??{},j=r?.fixes,_=k?.fixes,{allStyles:v,listItems:b,styleNodeIdToStyle:C}=(0,i6.td)({selectedStyles:j??[],cachedStyles:(_??[]).slice(0,i6.lz)}),S=j?.length?j[0]:v[0],E=s.useCallback(e=>!!(e?.id&&j?.length)&&e.id===j?.[0]?.node_id,[j]),T=s.useCallback(({node_id:e,rankPosition:t,isFromSuggestedList:i})=>{let s=C[e];if(!s)return;let l={...r,fixes:[s],selectedItemRankPosition:t,selectedItemIsFromSuggestedList:i};h.zl.set(io.Sg,{groupKey:n,selectedFixItem:{fix:{ruleId:sb.C.REQUIRE_TEXT_STYLES,valid:!0,fixContext:l},status:"loaded"}})},[C,n,r]),I=s.useCallback(()=>{if(l)return;let t=!!d?.current&&!!o.current,n=d?.current===o.current;if(t&&n){f();return}let i=r?.suggestionId;g(()=>E),m(()=>T),p({title:(0,c.t)("design_linter.rules.text_styles.dropdown_title"),blockType:e,suggestionId:i,display:"LIST",items:b}),u(o),x(!0)},[e,f,d,l,E,b,T,u,x,g,p,m,r]);return t&&a&&r&&S?(0,i.jsx)(rk,{ref:o,onClick:I,tooltip:S.name,children:()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r_,{isDisabled:l,children:(0,i.jsx)(rH.J,{fillStyle:S,className:rY})}),(0,i.jsx)(ry,{label:S.name,isApplying:l})]})}):(0,i.jsx)(rg,{ref:o,onClick:I,type:rl.kQ.TEXT})}function aT(){(0,ny.h)(()=>{(0,iL.fx)()});let e=(0,s3.K)();return(0,i.jsxs)(sf.Cs,{variant:"warn",children:[(0,i.jsx)(sy.Q,{children:(0,c.tx)("design_linter.modal.stale_linter_banner.title")}),(0,i.jsx)(sk.$,{onClick:e,children:(0,c.tx)("design_linter.modal.stale_linter_banner.button")})]})}function aI(){let[e,t]=s.useState(!1),n=(0,h.md)(io.E$)??null,l=(0,h.md)(io.NM),r=(0,h.md)(io.xo),a=r??(0,sR.ac)(n),d=null!=n,u=(0,i6.sf)(),x=function(){let e=function(){let{blocks:e,totalViolations:t}=(0,h.md)(sC.r0);return!!e.length&&!!t}(),t=function(){let{blocks:e,totalViolations:t}=(0,h.md)(sC.GM);return!!e.length&&!!t}(),n=function(){let{blocks:e,totalViolations:t}=(0,h.md)(sC.d9);return!!e.length&&!!t}(),l=function(){let{blocks:e,totalViolations:t}=(0,h.md)(sC.qQ);return!!e.length&&!!t}(),r=function(){let{blocks:e,totalViolations:t}=(0,h.md)(sC.Q6);return!!e.length&&!!t}(),a=function(){let{blocks:e,totalViolations:t}=(0,h.md)(sC.LG);return!!e.length&&!!t}(),o=function(){let{blocks:e,totalViolations:t}=(0,h.md)(sC.yU);return!!e.length&&!!t}();return s.useMemo(()=>{let s=[];return e&&s.push({key:rl.pZ.BACKGROUND_COLOR,block:(0,i.jsx)(as,{})}),t&&s.push({key:rl.pZ.TEXT_STYLE,block:(0,i.jsx)(ab,{})}),n&&s.push({key:rl.pZ.CORNER_RADIUS,block:(0,i.jsx)(ax,{})}),l&&s.push({key:rl.pZ.TEXT_BACKGROUND_CONTRAST_AA,block:(0,i.jsx)(ay,{})}),r&&s.push({key:rl.pZ.ASSET_UPDATES,block:(0,i.jsx)(rw,{})}),a&&s.push({key:rl.pZ.ASSETS_OUTSIDE_SELECTED_LIBRARIES,block:(0,i.jsx)(rQ,{})}),o&&s.push({key:rl.pZ.EXTENSIBILITY_RULE,block:(0,i.jsx)(ao,{})}),s},[r,e,t,n,l,a,o])}(),p=(0,s3.F)(),m=function(){let e=(0,h.md)(n5.wU);return!(0,o.kc)().aip_flower_garden_full_responsiveness&&e.size>0}(),{next:g,hasNext:f}=function(e,t){let n=(0,h.md)(io.NM),i=(0,h.md)(io.xo),l=(0,h.md)(io.Bd),r=(0,h.md)(n5.Iy),a=(0,s.useRef)(null),o=(0,s.useRef)(null),d=(0,s.useRef)(null),u=(0,s.useRef)(null),x=(0,n7.Wo)(),c=(0,n7.OI)(),p=(0,n7.Vz)(),m=(0,n7.RD)();(0,s.useEffect)(()=>{if(!(o.current!==n))return;o.current=n;let e=l.map(e=>e.id),t=e.findIndex(e=>e===n);a.current=-1!==t?e.slice(t+1):e},[n,l]),(0,s.useEffect)(()=>{let e=u.current!==i,t=o.current!==n;if(!e&&!t)return;if(u.current=i,!n){d.current=null;return}let s=r.get(n);if(!s){d.current=null;return}let l=(0,sR.zr)(s);if(!i){d.current=l;return}let a=l.findIndex(e=>e===i);d.current=-1!==a?l.slice(a+1):l},[i,n,r]);let g=(0,s.useCallback)(e=>{c(e),t?.()},[c,t]),f=(0,s.useCallback)(e=>{let n=r.get(e);n&&(0,iL.JT)(n),x(e),p(),m(e),h.zl.set(sv),t?.()},[r,p,m,x,t]),y=(0,s.useCallback)(()=>{let e=d.current?.[0];if(e)return g(e),!0;if(!n)return!1;let t=r.get(n);if(!t)return!1;let s=(0,sR.ac)(t);return!!s&&s!==i&&(g(s),!0)},[g,n,i,r]),k=(0,s.useCallback)(()=>{if(!a.current||!l.length)return;let e=l.reduce((e,t)=>(e.add(t.id),e),new Set),t=null;for(let n=0;n<a.current.length;n++){let i=a.current[n]??null;if(i&&e.has(i)){t=i;break}}if(!t){let e=l[0]?.id??"";if(!e){(0,ia._)();return}t=e}f(t)},[l,f]);return{next:(0,s.useCallback)(()=>{if(e){k();return}y()||k()},[e,y,k]),hasNext:l.length>0}}(null===r,(0,s.useCallback)(()=>{t(!1)},[])),y=p||e;return(!function({selectedGroupId:e,selectedRootId:t,isCompleted:n,hasNext:i,next:l}){let r=(0,s.useRef)(!1),a=n&&i;(0,s.useEffect)(()=>{r.current=!1},[e,t]),(0,s.useEffect)(()=>{a&&!r.current&&(r.current=!0,l())},[a,l])}({selectedGroupId:l,selectedRootId:r,isCompleted:y,hasNext:f,next:g}),(0,i9.fR)(),y&&d)?(0,i.jsx)("div",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x1n0bwc9 x78zum5 xl56j7k x6s0dn4 x87ps6o xdt5ytf x1i71x30 xh8yej3",children:(0,c.tx)("design_linter.modal.group_suggestions_completed")}):(0,s.createElement)("div",{className:"x78zum5 x5yr21d xh8yej3 xdt5ytf x1yjdb4r",key:`suggestionsView-${l}-${a}`},(0,i.jsx)(lY,{}),(0,i.jsx)(sj.P,{children:(0,i.jsx)("div",{className:"x78zum5 xdt5ytf x1iyjqo2 xqo8coc xuhaxrz x1obevfs",children:(0,i.jsx)("div",{className:"x78zum5 xdt5ytf x5yr21d xp6roeo x1iyjqo2",onScroll:u,children:(0,i.jsx)("div",{className:"x78zum5 x1iyjqo2 xdt5ytf x1gskr33",children:x.map(({key:e,block:t},n)=>(0,i.jsxs)(s.Fragment,{children:[n>0&&(0,i.jsx)(rb,{}),t]},`suggestion-block-${e}-${l}-${r}`))})})})}),(0,i.jsxs)("div",{className:"xr1yuqi x2lah0s",children:[m&&(0,i.jsx)(aT,{}),(0,i.jsx)(aL,{setDidIgnore:t})]}))}let aw="design-linter-ignore-all-group",aN="design-linter-apply-all-group";function aL({setDidIgnore:e}){let t=(0,n7.rL)(e),{applyAllFixes:n}=function(){let e=(0,ie.am)();return{applyAllFixes:(0,s.useCallback)(async()=>{if(!e)throw Error("Design linter not available");h.zl.set(sC.kR,!0),await new Promise(e=>requestAnimationFrame(()=>e()));let t=!1,n=0,i=0,s=0,l=e.linterAbortSignal;try{let r=h.zl.get(io.DJ);for(let a of Object.values(r)){if(l.aborted)break;try{let r=[],o=[];for(let e in a){let t=a[e]??[],s=h.zl.get(io.$C)?.get(e);s?.fix?.fixContext&&(s.fix.ruleId===sb.C.EXTENSIBILITY_RULE?o.push(...t):r.push({violations:t,fixContext:s.fix.fixContext}),n+=t.length,i+=1)}await e.applyFixContextToViolations({violationsWithFixContexts:r,customRuleViolations:o,shouldSkipCommit:!0,abortSignal:l}),t=!0,s+=1}catch{(0,iL.m7)()}finally{h.zl.set(sC.kR,!1)}}t&&(0,iL.i7)({numViolationsFixed:n,numRowsFixed:i,numBlocksFixed:s})}catch{(0,iL.Rz)()}finally{t&&iX.Y5.commit()}},[e])}}(),l=(0,h.md)(sC.kR),r=!(0,h.md)(io.mE)||l;return(0,i.jsx)("div",{className:"x78zum5 x13a6bvl x178xt8z x13fuv20 x16ufvko x9f619","data-testid":"design-linter-group-view-footer",children:(0,i.jsxs)("div",{className:"xe8ttls x78zum5 x13a6bvl x883omv x2lah0s xxk0z11 xjwf9q1",children:[(0,i.jsx)(n8.$n,{onClick:t,variant:"secondary",htmlAttributes:{"data-testid":aw},recordingKey:aw,children:(0,c.tx)("design_linter.suggestion_block.ignore_all")}),(0,i.jsx)(n8.$n,{onClick:n,variant:"primary",htmlAttributes:{"data-testid":aN},recordingKey:aN,disabled:r,children:(0,i.jsxs)("div",{className:"x78zum5 x6s0dn4 x1jnr06f",children:[l&&(0,i.jsx)(iW.k,{size:"sm"}),(0,c.tx)("design_linter.suggestion_block.apply_all_btn")]})})]})})}let aM=(0,s.memo)(function(){return!function(){let e=(0,h.md)(io.vu),t=(0,h.md)(io.xo),n=(0,s_.Z)("design_linter_group_selection_navigate");(0,s.useEffect)(()=>{let i=t?[t]:e;if(!i.length||(a.Egt?.replaceSelection(i,!0),!(0,o.kc)().aip_flower_garden_zoom_to_node))return;let s=(0,ia.a)();s&&n(a.mHF?.getViewportSettingsForLinterAutoZoom(i,s)??null)},[n,e,t])}(),(0,ny.h)(()=>{h.zl.set(sv)}),(0,i.jsxs)("div",{className:"x78zum5 x5yr21d",children:[(0,i.jsx)("div",{className:"xs1s249 x32b0ac x1lpqudl",children:(0,i.jsx)(sW,{})}),(0,i.jsx)(aI,{})]})}),aA=s.memo(function(){return(0,i.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 xl56j7k x1nfngrj x1iyjqo2 xs83m0k x1t1x2f9",children:[(0,i.jsx)(iW.k,{}),(0,i.jsx)("span",{className:"x1n0bwc9 xuzfeq1 x8yk33q x1e00guj x18zpg43 x22v61l xrybvsa x17qaar8 x2b8uid x87ps6o",children:(0,c.tx)("design_linter.modal.loading")})]})});function aR(){let e=(0,n7._i)(),t=(0,n7.l2)()&&!e;return(!function(e){let t=(0,l.wA)(),n=(0,np.f)("seen_linter_home_view");(0,s.useEffect)(()=>{n||e||t(nd.b({seen_linter_home_view:!0}))},[n,t,e])}(e),(0,i9._9)(),(0,i9.p6)(),(0,n7.Y0)(),!function(){let e=(0,h.md)(iL.Vg),t=(0,n7.bk)(),n=(0,s.useRef)(null);(0,s.useEffect)(()=>{(async function(){e!==n.current&&e&&(n.current=e,await t())})()},[t,e])}(),e)?(0,i.jsx)("div",{className:"x78zum5 xh8yej3 x5yr21d xdt5ytf x6s0dn4 xl56j7k",children:(0,i.jsx)(aA,{})}):t?(0,i.jsx)("div",{"data-testid":"design-linter-container-no-violations",className:"x1n0bwc9 xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x78zum5 xh8yej3 x5yr21d xdt5ytf xl56j7k",children:(0,i.jsxs)("div",{className:"x78zum5 xl56j7k x87ps6o xdt5ytf x6s0dn4",children:[(0,i.jsx)("span",{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh x1ah0xmj x1akne3o",children:(0,c.tx)("design_linter.modal.suggestions_completed_title")}),(0,i.jsx)("span",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x1n0bwc9",children:(0,c.tx)("design_linter.modal.suggestions_completed_subtitle")})]})}):(0,i.jsx)(aM,{})}function aF(){let e=iD.ox(),t=function(){let e=(0,h.Xr)(io.$H);return(0,s.useMemo)(()=>iV()(t=>{e(t)},100),[e])}(),n=function(){let e=(0,h.Xr)(io.r4);return(0,s.useMemo)(()=>iV()(t=>{e(t)},100),[e])}(),l=(0,n7.Hl)(),r=(0,h.Xr)(io.$H),a=s.useCallback(e=>{e.size&&t(e.size),n(e.position)},[n,t]);(0,ny.h)(()=>{let e={x:528,y:664};t(e),r(e),n({x:d.x,y:d.y})}),(0,s.useLayoutEffect)(()=>{let n=new i$.Mi(528,664);e.setSize(n),t(n),r(n)},[r,t,e]),(0,iL.ZE)();let d=(0,s.useMemo)(()=>new i$.Mi(56,70),[]);return(0,i.jsxs)(n4.bL,{width:528,maxHeight:664,defaultPosition:{left:d.x,top:d.y},manager:e,onClose:({source:e})=>{"outside"!==e&&((0,iL.Zz)(e),l(ii.FR.SELECTED_VISUAL_GROUP_VIEW))},onTransform:a,children:[(0,i.jsxs)(to.vo,{children:[(0,i.jsx)(to.Y9,{children:(0,i.jsx)(aO,{})}),(0,i.jsxs)(to.nB,{padding:0,scrolling:"none",className:"xb3r6kr xrvx654",children:[(0,i.jsx)(aR,{}),!!(0,o.kc)().aip_flower_garden_debug&&(0,i.jsx)(sm,{})]})]}),(0,i.jsx)(se,{})]})}function aO(){let e=(0,n7._i)(),t=(0,h.Xr)(sh);return(0,i.jsx)("div",{className:"xt0e3qv x87ps6o xh8yej3",children:(0,i.jsxs)("div",{className:"x78zum5 x1qughib x6s0dn4",children:[(0,i.jsxs)("div",{className:"xnfn54o x78zum5 x167g77z x6s0dn4",children:[(0,i.jsx)("div",{className:"x78zum5 x1g2dr8m xiqqdae xkezfkh x1giz659 x14kxzw3 xb3r6kr xlyipyv xuxw1ft",children:e?(0,c.tx)("design_linter.title"):(0,c.tx)("design_linter.review_title")}),(0,i.jsx)("div",{className:"x2lah0s",children:(0,i.jsx)(il.E,{children:(0,c.tx)("general.beta")})})]}),!!(0,o.kc)().aip_flower_garden_debug&&(0,i.jsx)("div",{className:"x78zum5 xg2d0mh x1057jvv",children:(0,i.jsx)(em.K,{onClick:()=>{t(e=>!e)},"aria-label":"Internal debug view",children:(0,i.jsx)(iG.W,{})})})]})})}function aP(){return(0,n5.L4)()?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(iz,{}),(0,i.jsx)(az,{})]}):null}let az=s.memo(()=>{let e=(0,tU.ut)(a.Ez5?.uiState()?.showDesignLinter,!1),t=(0,h.md)(io.pR),n=(0,n7.PM)(),l=(0,o.kc)().aip_flower_garden_component_update;if((0,s.useEffect)(()=>()=>{a.Ez5?.uiState()?.showDesignLinter?.set(!1)},[]),(0,n7.mr)(),(0,n7.vP)(),!function(){let{subscribedLibraryKeys:e,availableLibraryKeys:{availableLibraryKeys:t,status:n},hasLoaded:i}=iN(),[l,r]=(0,h.fp)(n5.Ut),a=(0,h.Xr)(n5.W0),o=(0,eq.tS)();(0,s.useEffect)(()=>{(0,iE.nl)()&&o&&(e.add(o),t.add(o)),i&&!l&&(r(e),a({status:n,availableLibraryKeys:t}))},[i,l,r,a,e,o,t,n])}(),(0,n7.xg)(),(0,iL.yU)(e,t),!e)return null;let r=n?(0,i.jsx)(ih,{}):(0,i.jsx)(aF,{});return l?(0,i.jsx)(aB,{children:r}):r});function aB({children:e}){return(0,n7.zO)(),(0,i.jsx)(i.Fragment,{children:e})}var aD=n(382256),aG=n(519609),aq=n(513833),aV=n(776968),a$=n(704086),aH=n(743802),aU=n(896784),aK=n(512038),aW=n(582689),aZ=n(45763);function aX({children:e}){return(0,i.jsx)(aZ.G.Provider,{value:{loggerEventName:"design_navigate"},children:(0,i.jsx)(aK.s.Provider,{value:{allowLibraryPublish:!0},children:(0,i.jsx)(aW.y0.Provider,{value:aW.X,children:e})})})}var aY=n(55029),aQ=n(551037),aJ=n(83202),a0=n(530299),a1=n(443208),a2=n(583134),a3=n(865840),a5=n(375627),a7=n(679985),a4=n(754446),a8=n(390669),a6=n(861671),a9=n(64004);function oe({dropdownShown:e,pickerShown:t,saveAsState:n,sceneGraphSelection:s}){let r=(0,l.wA)(),a=(0,eq.q5)(),o=(0,j.p8)("currentPage"),d=(0,j.p8)("isReadOnly"),u=(0,j.p8)("currentSelectedProperty"),x=(0,T.m0)(),p=d&&!x,h=(0,a4.Gt)("numSelected"),{exportSettings:m}=(0,a4.pw)("exportSettings"),g=(0,a6.Wd)();return(0,i.jsx)(a8.VF,{isVisible:!0,children:()=>(0,i.jsx)(a6.LI,{currentPage:o,currentSelectedProperty:u,dispatch:r,dropdownShown:e,exportSettings:m,isSelectionRenamable:a6.LI.isSelectionRenamable(Object.keys(s)),numSelected:h,openFile:a,panelWidth:a9.iP,pickerShown:t,recordingKey:"exportsPanel",saveAsState:n,sceneGraphSelection:s,singleNodeName:g,standalone:!0,title:p?(0,c.t)("fullscreen.properties_panel.export"):(0,c.t)("fullscreen.properties_panel.presets")},"export")})}var ot=n(510314),on=n(512810),oi=n(834573),os=n(665891),ol=n(645842),or=n(167151),oa=n(88393),oo=n(309801),od=n(890719),ou=n(229733);function ox({dropdownShown:e,pickerShown:t,sceneGraphSelection:n,shownPanels:s,userFlags:l}){let r=(0,eq.q5)(),d=(0,or.cJ)(),u=(0,a4.tN)("containsSiteWebpages"),x=!s[a.ibQ.FRAME_PRESETS]&&!s[a.ibQ.PENCIL_TOOL]&&!u;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a8.VF,{isVisible:s[a.ibQ.FRAME_PRESETS],children:()=>(0,i.jsx)(oa.nl,{recordingKey:"framePresetPanel"},"frame-presets")}),!d&&(0,i.jsx)(a8.VF,{isVisible:s[a.ibQ.PENCIL_TOOL],children:()=>(0,i.jsx)(od.q,{id:"pencilToolPanel",recordingKey:"pencilToolPanel",openFile:r},"pencilToolPanel")}),(0,i.jsx)(a8.VF,{isVisible:x,children:()=>(0,i.jsx)(ou.Z0,{recordingKey:"prototypePanel",dropdownShown:e,pickerShown:t,sceneGraphSelection:n,shouldUseSelectedStyleProperties:!0,userFlags:l},"prototype")}),(0,o.kc)().jsx_debugging&&(0,i.jsx)(oo.Ay,{recordingKey:"jsxDebugPanel"})]})}function oc({scrollContainer:e,refMainScrollContainer:t,...n}){(0,ot.S2)();let s=(0,aQ.k)(),l=n.propertiesPanelTab,r=(0,j.p8)("topLevelMode"),o=(0,a9.Dj)(n.user),d=r!==a.lyf.PREVIEW&&(r!==a.lyf.BRANCHING||!o)&&r!==a.lyf.DEV_HANDOFF&&l===a.FAf.DESIGN,u=r!==a.lyf.PREVIEW&&r!==a.lyf.BRANCHING&&l===a.FAf.PROTOTYPE,x=r===a.lyf.PREVIEW&&!n.userStateLoaded&&!s||l===a.FAf.INSPECT,c=l===a.FAf.EXPORT,p=l===a.FAf.COMMENT;return(0,i.jsxs)(i.Fragment,{children:[d&&(0,i.jsx)(a7.Y,{scrollContainer:e,...n}),u&&(0,i.jsx)(ox,{dropdownShown:n.dropdownShown,pickerShown:n.pickerShown,sceneGraphSelection:n.sceneGraphSelection,shownPanels:n.shownPanels,userFlags:n.userFlags}),x&&(0,i.jsx)(on.q,{scrollContainer:e}),c&&(0,i.jsx)(oe,{dropdownShown:n.dropdownShown,pickerShown:n.pickerShown,saveAsState:n.saveAsState,sceneGraphSelection:n.sceneGraphSelection}),p&&(0,i.jsx)(n.commentsPanel,{})]})}function op(e){return(0,i.jsx)(eX.u,{label:"PropertiesPanel",children:(0,i.jsx)(oh,{...e})})}function oh(e){!function(){let{isPropertiesPanelCollapsed:e,setPropertiesPanelCollapsed:t}=(0,a5.iT)(),n=(0,nT.Ye)(),i=(0,T.ow)(),r=(0,j.ax)(),o=(0,j.dH)(),d=o===a.NLJ.FRAME||o===a.NLJ.COMMENTS||o===a.NLJ.VECTOR_PENCIL,u=(0,l.d4)(e=>e.mirror.appModel.activeUserAction===a.QOV.DEFAULT),x=(0,a5.ys)();(0,s.useEffect)(()=>{u&&!i&&e&&(d||r)&&t(!1)},[r,u,o,t,e,n,d,i]),(0,s.useEffect)(()=>{x&&t(!0)},[x,t,e])}();let t=(0,j.p8)("showUi"),[n,r]=(0,h.fp)(ol.m),d=(0,l.d4)(e=>e.mirror.appModel.topLevelMode),u=(0,j.p8)("isReadOnly"),x=(0,ot.G$)(),c=(0,j.dH)(),p=function(){let e=(0,os.NK)(),t=(0,os.Ex)(),n=(0,os.UM)(),i=(0,os.Eo)();return(0,s.useMemo)(()=>({[a.FAf.COMMENT]:e,[a.FAf.INSPECT]:t,[a.FAf.DESIGN]:n,[a.FAf.PROTOTYPE]:i}),[e,t,n,i])}(),m=(0,a3.wm)(()=>{let t=d===a.lyf.PREVIEW,n=d===a.lyf.LAYOUT,i=d===a.lyf.BRANCHING;return n&&u||t?[a.FAf.COMMENT,a.FAf.INSPECT]:n&&e.propertiesPanelTab===a.FAf.COMMENT?[a.FAf.COMMENT]:i?[a.FAf.INSPECT]:x?[a.FAf.DESIGN,a.FAf.PROTOTYPE,a.FAf.INSPECT]:[a.FAf.DESIGN,a.FAf.PROTOTYPE]},[d,u,e.propertiesPanelTab,x]),g=s.useCallback(e=>{c===a.NLJ.SCALE&&e===a.FAf.PROTOTYPE?iX.Y5.triggerAction("set-tool-default"):d===a.lyf.PREVIEW&&(e===a.FAf.COMMENT?iX.Y5.triggerAction("set-tool-comments"):iX.Y5.triggerAction("set-tool-default"))},[c,d]);if((0,o.kc)().dont_render_ui&&!t)return(0,i.jsx)(i.Fragment,{});(0,o.kc)().ui3p_properties_panel_view_tab_logging&&!(0,a2.A)(m,n)&&r(m);let f=null,y=e=>{f=e};return(0,i.jsx)(oi.j,{recordingKey:e.recordingKey,activeTab:e.propertiesPanelTab,refMainScrollContainer:y,shouldDeferCanvasUpdateOnPanelResize:!0,tabs:m,tabInfo:p,onSetTabsHeader:g,children:(0,i.jsx)(oc,{...e,scrollContainer:f,refMainScrollContainer:y})})}var om=n(831330),og=n(454903),of=n(190764);let oy=s.memo(function(){let e=(0,j.aV)(),t=(0,l.d4)(e=>e.loadingState),n=(0,Q.UN)(),r=(0,l.d4)(e=>e.mirror.sceneGraphSelection),o=(0,l.d4)(e=>e.currentUserOrgId),d=(0,l.d4)(e=>e.dropdownShown),u=(0,l.d4)(e=>e.fonts),x=(0,l.d4)(e=>e.fileVersion),c=(0,l.d4)(e=>e.installedPluginVersions),p=(0,l.d4)(e=>e.library),h=(0,l.d4)(e=>e.localPlugins),m=(0,l.d4)(e=>e.modalShown),g=(0,l.d4)(e=>e.openFile),f=(0,l.d4)(e=>e.pickerShown),y=(0,l.d4)(e=>e.pickerInStyleCreationShown),k=(0,l.d4)(e=>e.publishedPlugins),_=(0,l.d4)(e=>e.saveAsState),v=(0,l.d4)(e=>e.selectedView),b=(0,l.d4)(e=>e.voice.showWidget),C=(0,l.d4)(e=>e.stylePickerListLayout),S=(0,l.d4)(e=>e.stylePickerShown),E=(0,l.d4)(e=>e.stylePreviewShown),I=(0,l.d4)(e=>e.styleSets),w=(0,l.d4)(e=>e.usedKeyboardShortcuts),N=(0,l.d4)(e=>e.user),L=(0,l.d4)(e=>e.userFlags),M=(0,l.d4)(e=>e.userStateLoaded),A=(0,l.d4)(e=>e.repos),R=(0,l.d4)(e=>e.folders),F=(0,l.d4)(e=>e.teams),O=(0,l.d4)(e=>e.orgById),P=(0,l.d4)(e=>e.orgUsersByOrgId),z=(0,l.d4)(e=>e.userEduGracePeriods),B=(0,l.d4)(e=>e.licenseGroups),D=(0,T.my)()===tW.nT.Design,G=(0,aQ.k)(),q=(0,a0.VP)(t,"edit_button_upgrading_to_edit"),V=e||q,$=(0,tU.ut)((0,tB.aY)(),a.FAf.DESIGN),H=(0,tU.J2)(a.Ez5.propertiesPanelState().shownPropertiesPanels),U=(0,tz.Ku)(),K=(0,tz.qw)(),W=(0,tD.s_)(),Z=!(0,aY.Oo)()&&W,X=(0,tU.J2)((0,tz.UK)().renderRulers),{isRightPanelCollapsed:Y}=(0,s.useContext)(a1.t),{inProductHelpViewType:J}=(0,nE.A5)(),ee=(0,tD.yO)(),et=(0,aJ.T)(),en=(0,aJ.q)(),ei=(0,s.useMemo)(()=>G?a.FAf.COMMENT:$,[$,G]);return(0,s.useEffect)(()=>{ei!==$&&tB.aY()?.set(ei)},[ei,$]),(0,i.jsxs)(of.o,{boundaryKey:"PropertiesPanel",loggedOutDesktopRevampExpAvaialable:D,children:[(0,i.jsx)(op,{allSavedPlugins:c,colorFormat:U,commentsPanel:og.L,currentUserOrgId:o,dropdownShown:d,fileVersion:x,folders:R,fonts:u,hasMergedDimensionsAndAutolayout:!0,inProductHelpSidePanelWidth:ee,inProductHelpViewType:J,isCollapsed:Y,isLoading:V,isUIMinimized:en,justChangedMinimizeUIValue:et,library:p,licenseGroups:B,localPlugins:h,modalShown:m,openFile:g,orgById:O,orgUsersByOrgId:P,pickerInStyleCreationShown:y,pickerShown:f,propertiesPanelSplitPosition:K,propertiesPanelTab:ei,publishedPlugins:k,recordingKey:"propertiesPanel",repos:A,rulersVisible:X,saveAsState:_,sceneGraph:n,sceneGraphSelection:r,selectedView:v,shouldAnimateLoadingState:e,shouldShowBackgroundGradient:Z,showVoiceWidget:b,shownPanels:H,stylePickerListLayout:C,stylePickerShown:S,stylePreviewShown:E,styleSets:I,teams:F,usedKeyboardShortcuts:w,user:N,userEduGracePeriods:z,userFlags:L,userStateLoaded:M},(0,iE.tw)()??void 0),(0,i.jsx)(om.tZ,{})]})});var ok=n(444449),oj=n(495766),o_=n(7331),ov=n(605251),ob=n(389276),oC=n(738849),oS=n(998873),oE=n(980931),oT=n(118775),oI=n(840206),ow=n(432099),oN=n(171660),oL=n(739801),oM=n(10411),oA=n(781018);function oR(){let e=(0,e2.e)({overlay:tt.Dqt,priority:e4.N.DEFAULT_MODAL});(0,e1.E)(e.uniqueId,"commentThreadMobileAnnouncementClicked",()=>{(0,ey.sx)("sidebar_announcement_mobile_app_download_prompt_modal_shown"),e.show({})});let t=(0,s.useCallback)(async()=>{(0,ey.sx)("sidebar_announcement_mobile_app_download_prompt_email_me_cta_clicked"),await ow.Ay.post("/api/send_mobile_download_email"),e.complete()},[e]);return(0,i.jsx)(oL.h,{isShowing:e.isShowing,modalType:oM.q3.FEATURE_UPDATE,closeButtonStyle:oM.M_.ON_DARK,element:()=>(0,i.jsx)(oF,{onEmailClick:t}),trackingContextName:"mobile_comment_announcement",onClickPrimaryCta:e.complete,onClose:e.complete,onManualDismiss:e.complete})}function oF(e){return(0,i.jsxs)("div",{className:"modal_comment_sidebar_announcement--container--5oh-p",children:[(0,i.jsxs)("div",{className:"modal_comment_sidebar_announcement--imageContainer--Vuo-V",children:[(0,i.jsx)("img",{alt:"Background",src:(0,eW.ck)("e19f2f58bc09414847ad59ff9228e07032e8842c"),className:"modal_comment_sidebar_announcement--image--lyA61"}),(0,i.jsx)("div",{className:"modal_comment_sidebar_announcement--spacer--m02YT"}),(0,i.jsx)(oA.T,{})]}),(0,i.jsxs)("div",{className:"modal_comment_sidebar_announcement--textContainer--btaTy",children:[(0,i.jsx)("div",{className:"modal_comment_sidebar_announcement--title--eiyLq",children:(0,i.jsx)(oN.E,{fontSize:24,fontWeight:"semi-bold",children:(0,c.t)("rcs.mobile_comment_announcement.title")})}),(0,i.jsx)("div",{className:"modal_comment_sidebar_announcement--description--Y8AJE",children:(0,i.jsx)(oN.E,{fontSize:14,children:(0,c.t)("rcs.mobile_comment_announcement.description")})})]}),(0,i.jsxs)("div",{className:"modal_comment_sidebar_announcement--buttonsContainer--UTcgc",children:[(0,i.jsx)(n8.$n,{variant:"secondary",onClick:e.onEmailClick,iconPrefix:(0,i.jsx)(oT.S,{}),children:(0,c.t)("rcs.mobile_comment_announcement.email_download_link")}),(0,i.jsx)(n8.$n,{variant:"primary",onClick:()=>{(0,ey.sx)("sidebar_announcement_mobile_app_download_prompt_learn_more_cta_clicked"),tQ.Ay.unsafeRedirect("https://help.figma.com/hc/articles/1500007537281-Guide-to-the-Figma-mobile-app#download","_blank")},iconPrefix:(0,i.jsx)(oI.M,{}),children:(0,c.t)("rcs.rcs_shared.learn_more")})]})]})}var oO=n(722850),oP=n(50454),oz=n(728458),oB=n(31542),oD=n(141330),oG=n(290407),oq=n(288971),oV=n(598369);function o$(){let e=(0,oG.wj)(oD.JT.EXPAND_IMAGE),t=(0,tU.ut)(a.ruz?.expandState().dragTarget,null),n=(0,oq.zB)(oD.JT.EXPAND_IMAGE),s=(0,tU.ut)(a.Ez5?.editShapeBehaviorState().isAnyHandleBeingDragged,!1);return t&&e.state!==oG.qy.RUNNING&&n&&!s?(0,i.jsx)(x.tH,{boundaryKey:"ExpandImageOverlay",fallback:x.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:p.e.AI_PRODUCTIVITY},children:(0,i.jsx)(oU,{dragTarget:t})}):null}let oH="expand-image-overlay";function oU({dragTarget:e}){let t=(0,s.useCallback)(()=>(0,oB.T4)(e.source),[e.source]);return(0,s.useEffect)(()=>(a.ruz?.expandState().isExpandButtonShowing.set(!0),(0,oV.Vm)(e.guid,(0,i.jsx)(tk.fu,{name:"Expand Image Button",properties:{source:e.source},children:(0,i.jsx)(P.m,{role:"region","aria-label":(0,c.t)("image_ai.expand.label"),children:(0,i.jsx)("div",{...m.Ay.props(oK.button,[a._ns.TOP,a._ns.TOP_LEFT,a._ns.TOP_RIGHT].includes(e.direction)&&oK.top,[a._ns.BOTTOM,a._ns.BOTTOM_LEFT,a._ns.BOTTOM_RIGHT].includes(e.direction)&&oK.bottom,[a._ns.LEFT,a._ns.TOP_LEFT,a._ns.BOTTOM_LEFT].includes(e.direction)&&oK.left,[a._ns.RIGHT,a._ns.TOP_RIGHT,a._ns.BOTTOM_RIGHT].includes(e.direction)&&oK.right,[a._ns.TOP,a._ns.BOTTOM].includes(e.direction)&&oK.centerX,[a._ns.LEFT,a._ns.RIGHT].includes(e.direction)&&oK.centerY,[a._ns.TOP,a._ns.BOTTOM].includes(e.direction)&&oK.centerX,[a._ns.LEFT,a._ns.RIGHT].includes(e.direction)&&oK.centerY),children:(0,i.jsx)(t3.Me,{trackingProperties:{trackingDescriptor:e0.c.EXPAND_IMAGE,source:e.source},"aria-label":(0,c.t)("image_ai.expand.label"),variant:"primary",onClick:t,children:(0,i.jsx)(oz.V,{})})})})}),{minSize:64,overlayId:oH}),()=>{(0,oV.ks)(e.guid,oH),a.ruz?.expandState().isExpandButtonShowing.set(!1)}),[e.guid,e.source,e.direction,t]),null}let oK={button:{kfzvcC:"x71s49j",kVAEAm:"x10l6tqk",$$css:!0},top:{k87sOh:"x8ow593",$$css:!0},bottom:{krVfgx:"x17339ns",$$css:!0},left:{kbCHJM:"x2s4c47",kLqNvP:null,kt4wiu:null,$$css:!0},right:{kCIrl2:"xibut22",kLqNvP:null,kt4wiu:null,$$css:!0},centerX:{kbCHJM:"x1nrll8i",kLqNvP:null,kt4wiu:null,k3aq6I:"xuuh30",$$css:!0},centerY:{k87sOh:"xwa60dl",k3aq6I:"x1cb1t30",$$css:!0}};var oW=n(508504),oZ=n(57712),oX=n(991263),oY=n(470875),oQ=n(871052),oJ=n(5175),o0=n(7221),o1=n(735652),o2=n(866810),o3=n(996981),o5=n(897024),o7=n(681075),o4=n(11216),o8=n(12480),o6=n(446071);let o9=s.memo(function({shouldShowDragAndDropBorder:e}){let t=(0,j.p8)("isReadOnly"),n=(0,l.d4)(e=>e.progressBarState),p=(0,j.p8)("loadingEmbeds"),h=(0,tD.L3)(),m=(0,tK.Lk)(),g=(0,s.useRef)(null),f=(0,l.d4)(e=>e.userFlags),y=!!(0,o.kc)().internal_only_debug_tools||!!f.has_cursor_bot_onboarding_v2,k=(0,l.d4)(e=>e.openFile),_=k?k.key:"";(0,tO.Gb)(_),(0,tH.W)(),(0,tZ.qh)();let v=(0,tq.BI)(),b=(0,tF.e)(),C=(0,tE.l7)(),S=(0,aH.b)(),E=(0,tU.ut)((0,tz.UK)().enableCodegenMcpServer,!1),T=w(),I=(0,u.BE)(),N=(0,t$.o3)(t$.nt.collabToolsInDesign),L=(0,l.d4)(e=>e.multiplayerEmoji),M=(0,i.jsx)(P.m,{role:"region","aria-label":(0,c.t)("fullscreen_actions.left_sidebar_label"),children:C?(0,i.jsx)(x.tH,{boundaryKey:"DevModeLeftPanel",fallback:x.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:r.eBU.DEVELOPER_TOOLS},children:(0,i.jsx)(eK.O,{})}):(0,i.jsx)(ov.m,{})});return(0,i.jsxs)(aX,{children:[(0,i.jsx)(tP.ED,{}),(0,i.jsxs)(ok.sk,{children:[n.mode!==a.Oin.OFF&&(0,i.jsx)("div",{className:o6._q}),(0,i.jsxs)(n3.pO,{initialFilterState:{currentPage:!1},children:[p.map(e=>(0,i.jsx)(aV._,{nodeId:e},`loading-embed-${e}`)),I&&(0,o.kc)().aip_expand_image&&(0,i.jsx)(o$,{}),I&&T&&(0,i.jsx)(eO,{}),(0,i.jsx)(oj.qn,{}),(0,i.jsx)(o3.u,{}),(0,o.kc)().aip_mw_video&&(0,i.jsx)(oZ.H,{}),h&&(0,i.jsx)(oE.n,{}),(0,o.kc)().ce_al_experiments_on&&(0,i.jsx)(oE.n,{}),(0,i.jsx)(aq.G,{}),(0,i.jsx)(aq.b,{}),(0,i.jsx)(oW.J,{}),!(C||b||S)&&(0,i.jsx)(n2.b,{}),(0,o.kc)().dt_mcp_auto_resources&&E&&(0,i.jsx)(d.y6,{}),(0,i.jsx)(oj.XI,{commentsDetailContainerRef:g}),(0,i.jsx)(o8.Z,{}),(0,o.kc)().cursor_bot&&y&&(0,i.jsx)(oC.S,{}),(0,i.jsx)(o_.X,{}),N&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(oX.c7,{}),(0,i.jsx)(a$.S4,{multiplayerEmoji:L})]}),(0,i.jsx)(aD.J,{}),(0,i.jsx)(ob.Nz,{}),(0,i.jsx)("div",{ref:g}),!(0,tG.T)()&&M,!t&&(0,i.jsx)(oO.E,{}),(0,i.jsx)(aG.G,{children:C||S?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(de,{}),!!v?.shouldOptimizeForIpadApp&&(0,i.jsx)(o1.K,{}),!!v?.shouldOptimizeForIpadApp&&(0,i.jsx)(o2.t,{})]})}),(0,o.kc)().bake_canvas&&(0,i.jsx)(oQ.tX,{}),e&&(0,i.jsx)(ob.X5,{}),(0,o.kc)().aip_flower_garden&&(0,i.jsx)(aP,{})]}),(0,i.jsx)(tX.A,{editorType:tW.nT.Design,openFile:k}),(0,i.jsx)(oP.l,{defaultViewTabsAvailable:!0,defaultViewAssetsTabVisible:!0})]}),m&&(0,i.jsx)(oS.K,{className:o6.PA,children:(0,i.jsx)(o0.s,{})})]})}),de=s.memo(function(){let e=(0,j.p8)("topLevelMode"),t=(0,j.ax)(),n=(0,j.dH)();return(0,tV.z)({topLevelMode:a.lyf.PREVIEW,eventName:"Preview Mode Selection Changed",teamFilesOnly:!0}),s.useEffect(()=>{t&&e===a.lyf.PREVIEW&&n!==a.NLJ.COMMENTS&&(0,tB.NT)(a.FAf.INSPECT)},[t,e,n]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(oy,{}),(0,i.jsx)(dt,{})]})}),dt=s.memo(function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(tY.p,{children:(0,i.jsx)(no.NuxOnboardingOverlay,{entryPoint:oJ.C5.Design})}),(0,i.jsx)(tY.p,{featureFlag:"starting_points_modal",children:(0,i.jsx)(nq,{})}),(0,i.jsx)(tY.p,{children:(0,i.jsx)(nr,{})}),(0,i.jsx)(tY.p,{children:(0,i.jsx)(tb,{})}),(0,i.jsx)(tY.p,{children:(0,i.jsx)(tA,{})}),(0,i.jsx)(tY.p,{children:(0,i.jsx)(oY.e,{})}),(0,i.jsx)(tY.p,{featureFlag:"mobile_prompt_sidebar_modal",children:(0,i.jsx)(oR,{})}),(0,i.jsx)(tY.p,{children:(0,i.jsx)(tl.S,{})}),(0,i.jsx)(tY.p,{children:(0,i.jsx)(n1,{})}),(0,i.jsx)(tY.p,{children:(0,i.jsx)(ti,{})}),(0,i.jsx)(tY.p,{children:(0,i.jsx)(t4,{})}),(0,i.jsx)(tY.p,{featureFlag:"cheddar",children:(0,i.jsx)(o5.Ab,{})}),(0,i.jsxs)(tY.p,{featureFlag:"buzz_import_from_design",children:[(0,i.jsx)(eU.Hm,{}),(0,i.jsx)(eH,{})]}),(0,i.jsx)(tY.p,{featureFlag:"bob_template_gen",children:(0,i.jsx)(o7.E,{})})]})});function dn(){let[e,t]=(0,s.useState)(!1);return(0,i.jsx)(aU.c,{loadedCommentsProvider:!1,children:(0,i.jsx)(o4.v,{setShouldShowDragAndDropBorder:t,isDragTarget:!1,children:(0,i.jsx)(o9,{shouldShowDragAndDropBorder:e})})})}},73632:(e,t,n)=>{n.d(t,{D:()=>a,G:()=>r});var i=n(754446),s=n(510314),l=n(64004);function r(){let e=(0,s.GV)();return(0,l.M0)(e)}function a(e){let t=(0,s.GV)(),{stateGroupSelectionInfo:n}=(0,i.fC)("stateGroupSelectionInfo");return(0,l.tV)(t,n)&&1===e}},959091:(e,t,n)=>{n.d(t,{P:()=>k});var i=n(104076),s=n(716976),l=n(382629),r=n(120440),a=n(933688),o=n(685899),d=n(55470),u=n(188665),x=n(350081),c=n(951002),p=n(641518),h=n(390036),m=n(67282),g=n(128962);function f({action:e}){switch(e.type){case u.ZU.FLYOUT:return(0,i.jsx)(a.E,{name:"selection_actions_button",alsoTrack:()=>({layerButtonAction:`open_flyout_${(0,h.uc)(e.dropdownKey)}`}),children:(0,i.jsx)(g.F,{flyoutConfig:e,recordingKey:p.Pt(o.If,e.flyoutRecordingKey)})},e.dropdownKey);case u.ZU.ACTION:return(0,i.jsx)(a.E,{name:"selection_actions_button",alsoTrack:()=>({layerButtonAction:`${(0,h.uc)(e.action)}`}),children:(0,i.jsx)(m.QE,{item:e,numUnreadComments:0,recordingKey:o.If})},e?.reactKey??e?.recordingKey);case u.ZU.CUSTOM_ACTION:return(0,i.jsx)(o.XS,{item:e},e.recordingKey);case u.ZU.ACTION_SUBMENU:return(0,i.jsx)(a.E,{name:"selection_actions_button",alsoTrack:()=>({layerButtonAction:`open_submenu_${(0,h.uc)(e.getTitle())}`}),children:(0,i.jsx)(m.QE,{item:e,numUnreadComments:0,recordingKey:p.Pt(o.If,e.recordingKey)})},e.recordingKey);default:(0,c.xb)(e)}}var y=n(250828);let k=s.memo(e=>{let t=s.useMemo(()=>e.actions.map(e=>e.filter(e=>(0,l.Vq)(e))),[e.actions]),n=(0,x.U)(t),c=function(e){let t=(0,o.fJ)();return(0,s.useMemo)(()=>{let n=!1,i=e.flat().filter(e=>("preventHoisting"in e&&e.preventHoisting&&(n=!0),!("preventHoisting"in e)||!e.preventHoisting));return(0,o.b_)(t,i,n)},[e,t])}(n),p=(0,o.yG)(n,c),h=p.reduce((e,t)=>e+t.length,0)>0;return(0,i.jsxs)("div",{...r.xk(y.R.selectionActionsButtons),children:[c.map(e=>{let t=e.type===u.ZU.FLYOUT?e.flyoutRecordingKey:"reactKey"in e?e.reactKey:e.recordingKey;return(0,i.jsx)(f,{action:e},t)}),h&&(0,i.jsx)(a.E,{name:"selection_actions_overflow_menu",children:(0,i.jsx)(d.S,{enabledToolbarItems:p,recordingKey:"selectionActionsButtons"})})]})});k.displayName="SelectionActionsButtons"},287736:(e,t,n)=>{n.d(t,{W:()=>f});var i=n(104076),s=n(716976),l=n(171704),r=n(466209),a=n(579824),o=n(662812),d=n(139318),u=n(812714),x=n(795033),c=n(120440),p=n(406954),h=n(737139),m=n(962326),g=n(250828);function f(e){let t=s.useRef(null),n=function({fallback:e,onBeforeFocus:t},n){return function(e,t){let n=(0,d.M)(t),i=(0,s.useRef)(null);return(0,s.useEffect)(()=>(0,o.ch)(n.current,"focusin",e=>{i.current=e.target}),[]),(0,s.useEffect)(()=>{let t=n.current;if(!t)return;let s=new MutationObserver(t=>{var n;if(!i.current)return;let s=(n=i.current,e=>a.Nr(e)?.contains(n)??!1);for(let n of t)if(function(e,t){for(let n of e)if(t(n))return n;return null}(n.removedNodes,s)){let t=(0,a.Nr)(n.previousSibling),s=(0,a.Nr)(n.nextSibling),l=i.current,r=l;for(;r.parentElement;)r=r.parentElement;e({focused:l,root:r,previous:t,next:s});break}});return s.observe(t,{childList:!0,subtree:!0}),()=>s.disconnect()},[]),n}(n=>{let i=function({focused:e,root:t,previous:n,next:i},s){if(!n&&!i)return s;let l=(0,r.nq)(t).indexOf(e),a=(0,r.nq)(i??n);return a[l]??a[0]??s}(n,e?.current||null);t&&(i=t(i)),i?.focus()},void 0)}({onBeforeFocus:s.useCallback(e=>(0,u.kc)().ui3p_a11y_selection_actions_retain_focus&&"keyboard"===l.F.type?t.current?(0,p.xv)(t.current)??e:e:null,[])}),f=(0,x.Xr)(m.A),y=s.useCallback(e=>{e&&f(t),n.current=e,t.current=e},[n,f]);return(0,i.jsxs)(h.Zk,{ref:y,style:{paddingBottom:0},children:[(0,i.jsxs)("div",{...c.xk(g.R.nameAndActionsContainer),children:[e.selectionName,e.selectionActionsButtons]}),(0,i.jsx)("div",{...c.xk(g.R.selectionActionsChildren),children:e.children})]})}},573653:(e,t,n)=>{n.d(t,{Y:()=>o});var i=n(104076),s=n(192075),l=n(170907),r=n(737139),a=n(973228);function o({onExpand:e}){return(0,i.jsx)(r.Zk,{"data-testid":"toggle-simplified-panels",className:a.aW,children:(0,i.jsx)(l.z,{onClick:e,recordingKey:"toggleSimplifiedPanels",children:(0,s.tx)("design_systems.component_properties.show_more_properties")})})}},57712:(e,t,n)=>{n.d(t,{H:()=>E});var i=n(104076),s=n(716976),l=n(903927),r=n(276800),a=n(584781),o=n(795033),d=n(165681),u=n(772523),x=n(223837),c=n(176836),p=n(692042),h=n(74620),m=n(835307),g=n(569258),f=n(749484),y=n(266808),k=n(980852),j=n(609817),_=n(88180),v=n(185117),b=n(382827);function C(e){return e?e.richMediaInfo?.richMediaType==="VIDEO"?e.childrenGuids[0]??null:e.hasEnabledVideoPaint?e.guid:null:null}function S(e){let t=C(e.mirror.sceneGraph.get(e.mirror.appModel.hoveredNode));return t?[t]:[]}function E(){let e=function(){let e=(0,h.Mw)(),t=(0,l.d4)(S);return(0,s.useMemo)(()=>{let n=[...t],i=C(e);return i&&n.push(i),[...new Set(n)]},[t,e])}();return e.length?(0,i.jsx)(T,{videoNodeIds:e}):null}function T({videoNodeIds:e}){let t=function(e){let t=(0,s.useCallback)(e=>e.nodeId&&e.position?{nodeId:e.nodeId,position:e.position}:void 0,[]);return(0,x.tB)("VideoOverlays",e,t,{useFlushSyncExpensive:!0})}(e),n=(0,p._X)({subscribeToUpdates_expensive:!0});return n?(0,i.jsx)(i.Fragment,{children:Object.entries(t).map(([e,t])=>(0,i.jsx)(I,{nodeId:e,position:t.position,viewportInfo:n},e))}):null}function I({nodeId:e,position:t,viewportInfo:n}){let[C,S]=(0,s.useState)(!1),E=(0,b.sO)(),T=(0,h.KH)(),I=(0,s.useMemo)(()=>Object.keys(T),[T]),w=(0,l.d4)(e=>e.mirror.sceneGraph),N=(0,s.useMemo)(()=>(0,p.Yb)(n,t),[n,t]),L=(0,m.wA)((e,t)=>{let n=e.get(t);if(!n||!n.hasEnabledVideoPaint)return null;let i=n.fills.findIndex(e=>c.y7(e)?.video?.hash);if(-1===i)return null;let s=n.fills[i];return s&&s.video?.hash?{hexHash:(0,a.nj)(s.video.hash),index:i,showControls:!!(n.videoPlayback?.showControls||n.isInImmutableFrame)}:null},e),[M,A,R,F,O]=function(e,t,n,i,l,r){let[a,d]=(0,s.useState)("dormant"),[u,x,c]=(0,_.J)(null),[p,h,m]=(0,_.J)(null),[g,b,C]=(0,_.J)(null),[S]=(0,o.fp)(v.oe),E=(0,s.useRef)();void 0===E.current&&(E.current=S[e]?.currentVolume??1);let T=function(e,t,n,i,l,r,a,o){let d=(0,s.useRef)(r),u=(0,s.useRef)(a);return(0,s.useCallback)(()=>{if(!e)return;t("loading");let s=document.createElement("video");s.crossOrigin="anonymous",s.autoplay=!0,s.muted=0===o,s.volume=o,n(s);let r=document.createElement("div");r.appendChild(s),r.style.width=`${d.current}px`,r.style.height=`${u.current}px`,document.body.appendChild(r),i(r),async function(){e&&l(await (0,f.mc)(null,s,e))}()},[e,t,l,n,i,o])}(t,d,m,C,c,i,l,E.current),I=(0,s.useCallback)(()=>{if(u.current){try{u.current.dispose()}catch(e){console.error("Error disposing of video player",e)}c(null)}function t(){let t=(0,k.UN)().get(e);t&&null!=n&&(y.Ez5?.markContainingIndependentLayerNodesDirty(t.guid)||y.Ez5?.invalidateCanvas(),y.Ez5?.moveFromIndependentRenderLayer(t.guid),t.invalidateCanvasSpaceBoundsForSelfAndParents())}p.current&&p.current.parentNode&&p.current.remove(),m(null),g.current&&g.current.parentNode&&g.current.remove(),C(null),y.Ez5?.removeAllVideoNodeReferences(e),d("dormant"),t(),setTimeout(t,0)},[e,n,u,c,d,p,m,g,C]);return function(e,t,n,i,l,r){let a=(0,s.useRef)(r);a.current=r,(0,s.useEffect)(()=>{n&&i&&i.parentNode&&null!=t&&(n.on("playing",()=>{l("playing");let n=(0,k.UN)().get(e);if(n){n.initializeVideoTextureInFillPaint(t,i.videoWidth,i.videoHeight),n.setVideoElementInFillPaint(t,i),y.Ez5?.moveToIndependentRenderLayer(n.guid);let s=()=>{if(!a.current&&(n=(0,k.UN)().get(e))){let e=Math.floor(1e3*i.currentTime);n.setVideoCurrentTimeInFillPaint(t,e),n.setVideoIsPlayingInFillPaint(t,!i.paused),y.Ez5?.markContainingIndependentLayerNodesDirty(n.guid)||y.Ez5?.invalidateCanvas(),n.invalidateCanvasSpaceBoundsForSelfAndParents()}};if("requestVideoFrameCallback"in HTMLVideoElement.prototype){let e=()=>{s(),i.requestVideoFrameCallback(e)};e()}else{let e=()=>{s(),requestAnimationFrame(e)};e()}}}),k.UN().get(e)?.videoPlayback?.muted&&(n.muted(!0),n.volume(0)),n.play())},[e,t,n,i,l])}(e,n,x,h,d,r),(0,s.useEffect)(()=>{if(!h)return;let t=S[e]?.currentVolume;void 0!==t&&h.volume!==t&&(h.volume=t)},[S,h,e]),(0,s.useEffect)(()=>()=>{I()},[I]),(0,s.useEffect)(()=>{let e=(0,j.tG)().subscribeToContextLost(()=>{I()});return()=>{e()}},[I]),[h,b,a,T,I]}(e,L?.hexHash??null,L?.index??null,t.width*n.zoomScale,t.height*n.zoomScale,n.isPanning||n.isZooming),P=(0,s.useCallback)(t=>{let n=w.get(e),i=n?.parentNode?.type||"";if((0,g.MT)(i)){let e=n?.parentGuid;e&&!I.includes(e)&&u.tJ([e])}else I.includes(e)||u.tJ([e]);t&&"dormant"!==R?t?.paused?t?.play():t?.pause():(S(!1),F())},[R,F,e,I,w]),z=(0,f.DD)(e),B=(0,f.ZU)(e),[D,G]=(0,o.fp)(v.H),{isVideoNodeHovered:q,pointerDownOnVideo:V}=D,$=(0,s.useCallback)((e,t)=>{G({isVideoNodeHovered:e,pointerDownOnVideo:t})},[G]);return L&&L.showControls?(0,i.jsx)("div",{style:{position:"fixed",width:t.width*n.zoomScale,height:t.height*n.zoomScale,top:n.y,left:n.x,transform:`translate(${N.x}px, ${N.y}px) ${(0,x.aZ)(t)}`,transformOrigin:"top left",pointerEvents:"none"},children:(0,i.jsx)("div",{style:{pointerEvents:"auto"},children:(0,i.jsx)(d._L,{didAutoplayOnSelection:!1,hasEnded:C,isLoading:"loading"===R,isMaximized:!1,isVideoHovered:!0,isVideoNodeHovered:q,mediaHash:L.hexHash,pointerDownOnVideo:V,setHasEnded:e=>{S(e),e&&O()},setIsMaximized:r.lQ,setIsVideoHovered:r.lQ,setVideoControls:$,shouldHideControlBar:B,shouldHideFullscreenButton:E,shouldHidePlaybackButton:z,toggleVideoPlayback:P,videoContainerElement:A,videoElement:M})})}):null}},991263:(e,t,n)=>{n.d(t,{c7:()=>O});var i=n(104076),s=n(716976),l=n(903927),r=n(681398),a=n(192075),o=n(89782),d=n(211862),u=n(141524),x=n(894210),c=n(826160),p=n(314788),h=n(88314),m=n(983500),g=n(345477),f=n(223837),y=n(692042),k=n(594440),j=n(404343);let _=(0,m.hG)(j.Yub),v=(0,m.hG)(j.Dts)+4;function b({stamp:e,renderChildren:t}){let n=(0,y._X)({subscribeToUpdates_expensive:!0}),[l,r]=(0,s.useState)(null),a=(0,g.Yk)(),[o,d]=(0,s.useState)(x.Zj.ABOVE),[u,c]=(0,s.useState)(null),p=e.guid;(0,s.useEffect)(()=>{let e=`stamp-tooltip-${p}`,t=(0,f.EE)(e,[p],e=>r(e.position));return r(t.currentNodePosition[p]?.position||null),()=>{(0,f.lB)(e)}},[p]);let m=(0,s.useMemo)(()=>l?(0,y.Yb)(n,l.absoluteBounds):null,[l,n]),j=(0,s.useMemo)(()=>m?{...m,x:m.x+n.x,y:m.y+n.y}:null,[m,n.x,n.y]),b=(0,s.useMemo)(()=>!!m&&(0,y.ZT)(m,n),[m,n]),C=(0,s.useCallback)((e,t,i)=>{let s;let l=n.y+10,r=n.y+n.height-10-a-t.height,o=n.x+10,d=n.x+n.width-10-t.width,u=x.Zj.ABOVE,c=(0,h.qE)((0,k.Al)(e,t),o,d);return c+_+v>e.x+e.width?(c=(0,h.qE)(e.x+e.width+i,o,d),u=x.Zj.RIGHT):c+t.width-_-v<e.x&&(c=(0,h.qE)(e.x-t.width-i,o,d),u=x.Zj.LEFT),u===x.Zj.LEFT||u===x.Zj.RIGHT?s=(0,k.tJ)(e,t):(s=(0,k.T1)(e,t,i))<l&&(s=(0,k.DH)(e,t,i),u=x.Zj.BELOW),{pos:u,x:c,y:(0,h.qE)(s,l,r)}},[a,n]),S=(0,s.useCallback)((e,t,n)=>C(e,t,n).x,[C]),E=(0,s.useCallback)((e,t,n)=>C(e,t,n).y,[C]),T=(0,s.useCallback)((e,t,n,i)=>{if(!j)return;let s=C(j,n,i).pos;d(s),c(i=>{let l=function({targetRect:e,tooltipRect:t,tooltipPosition:n}){let i=e.x-t.x+e.width/2,s=e.y-t.y+e.height/2,l=t.width-2*_-v,r=t.height-2*_-v;switch(n){case x.Zj.ABOVE:return{left:(0,h.qE)(i-_,v,l),top:Math.floor(t.height)};case x.Zj.BELOW:return{left:(0,h.qE)(i-_,v,l),top:-_};case x.Zj.RIGHT:return{left:-_,top:(0,h.qE)(s-_,v,r)};case x.Zj.LEFT:return{left:Math.floor(t.width),top:(0,h.qE)(s-_,v,r)}}}({targetRect:j,tooltipRect:{x:e,y:t,width:n.width,height:n.height},tooltipPosition:s});return i&&l.top===i.top&&l.left===i.left?i:l})},[C,j]);return j&&b?(0,i.jsx)(k.lM,{style:{WebkitUserSelect:"none"},targetRect:j,offset:_,positionX:S,positionY:E,onPosition:T,children:t({arrowPosition:u,tooltipPosition:o})}):null}let C="stamp_overlay--userText--FdBYI ellipsis--ellipsis--Tjyfa",S="stamp_overlay--tRexAvatarForeground--6Qkya",E={[x.Zj.ABOVE]:"stamp_overlay--downArrow--VJLl5 stamp_overlay--arrow--F8-y5",[x.Zj.BELOW]:"stamp_overlay--upArrow--PCqYY stamp_overlay--arrowInset--8zLXg stamp_overlay--arrow--F8-y5",[x.Zj.RIGHT]:"stamp_overlay--leftArrow--u3dvc stamp_overlay--arrow--F8-y5",[x.Zj.LEFT]:"stamp_overlay--rightArrow--G7DIa stamp_overlay--arrow--F8-y5"},T={[x.Zj.ABOVE]:"stamp_overlay--animationUp--Pq4mv stamp_overlay--animationBase--a-FJI",[x.Zj.BELOW]:"stamp_overlay--animationDown--mBXfv stamp_overlay--animationBase--a-FJI",[x.Zj.RIGHT]:"stamp_overlay--animationRight--2KY5g stamp_overlay--animationBase--a-FJI",[x.Zj.LEFT]:"stamp_overlay--animationLeft--daYLK stamp_overlay--animationBase--a-FJI"};function I(e){let t=e.mirror.sceneGraph,n=Object.keys(e.mirror.sceneGraphSelection);if(1!==n.length)return null;let i=t.get(n[0]);return i&&"STAMP"===i.type?i:null}function w(e){let t=e.mirror.sceneGraph.get(e.mirror.appModel.hoveredNode);return t&&"STAMP"===t.type?t.guid:null}function N({shouldShowAvatar:e,avatarEntity:t,text:n}){return(0,i.jsxs)(i.Fragment,{children:[e&&(0,i.jsx)(c.Ro,{size:16,entity:t}),(0,i.jsx)("div",{className:C,children:n})]})}function L({size:e}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",children:[(0,i.jsxs)("g",{clipPath:"url(#clip0_1941_43995)",children:[(0,i.jsx)("rect",{className:"stamp_overlay--tRexAvatarBackground--tprTe",width:"16",height:"16"}),(0,i.jsx)("path",{className:S,d:"M3 9.90476V8H9V9.42857V10.8571V13C9 15.2091 7.20914 17 5 17H0L-0.71875 11.7143L3 9.90476Z"}),(0,i.jsx)("path",{className:S,fillRule:"evenodd",clipRule:"evenodd",d:"M4.81038 2.08926C3.50282 2.45482 3 3.93364 3 5.29134V8C3 8.55228 3.44771 9 4 9H13C13.5523 9 14 8.55228 14 8V6.16667C14 4.50981 12.6569 3.16667 11 3.16667H8.24357C7.98467 3.16667 7.73678 3.06531 7.53359 2.90486C7.09796 2.56089 6.25898 2 5.42 2C5.21483 2 5.00965 2.03354 4.81038 2.08926ZM5.75 5.5C6.16421 5.5 6.5 5.16421 6.5 4.75C6.5 4.33579 6.16421 4 5.75 4C5.33579 4 5 4.33579 5 4.75C5 5.16421 5.33579 5.5 5.75 5.5Z"}),(0,i.jsx)("path",{className:S,d:"M11.8504 13.8881C10.8861 14.05 10.9477 12.5057 9.64966 12.5057C8.35158 12.5057 7.14966 13.3116 7.14966 12.1587C7.14966 11.0057 8.35155 11 9.64962 11C11.5299 11 12.8147 13.7262 11.8504 13.8881Z"})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_1941_43995",children:(0,i.jsx)("circle",{r:"8",cx:"8",cy:"8",fill:"black"})})})]})}function M({stamp:e,shouldAnimate:t,testId:n}){let s=e.stampData?.stampedByUserId||null,l=e.stampData?.userId||null,{user:r,loading:o}=(0,u.wW)(s),{user:x,loading:c}=(0,u.wW)(l),p=d.q5()?.org?.name,h=(()=>{let t=!e.isFaceStamp,n=!!e.stampData?.votingSessionId;if(s&&o||l&&c)return(0,i.jsxs)(i.Fragment,{children:[t&&(0,i.jsx)("div",{className:"stamp_overlay--loadingAvatar--DkN-J stamp_overlay--loadingBase--2UAyM"}),(0,i.jsx)("div",{className:"stamp_overlay--loadingUserText--845yi stamp_overlay--loadingBase--2UAyM"})]});if(r){let e=r.handle;return(0,i.jsx)(N,{shouldShowAvatar:t,avatarEntity:r,text:n?(0,a.tx)("voting.stamp_tooltip.vote",{userName:e}):l&&s!==l?(0,i.jsxs)("div",{className:"stamp_overlay--faceStampTooltipText--bMf1l",children:[x?.handle," ",(0,i.jsx)("br",{}),(0,i.jsx)("p",{className:"stamp_overlay--stampedByText--fK8AK",children:(0,a.tx)("whiteboard.stamp.stamped_by_tooltip",{userName:e})})]}):e})}if(x){let e=x.handle;return(0,i.jsx)(N,{shouldShowAvatar:t,avatarEntity:x,text:n?(0,a.tx)("voting.stamp_tooltip.vote",{userName:e}):e})}if(l&&(0,u.Fl)(l)||s&&(0,u.Fl)(s)){let e=n?(0,a.tx)("voting.stamp_tooltip.visitor_vote"):p?(0,a.tx)("voting.stamp_tooltip.visitor_with_org",{orgName:p}):(0,a.tx)("voting.stamp_tooltip.visitor_without_org");return(0,i.jsx)(N,{shouldShowAvatar:t,avatarEntity:{id:s||l||void 0},text:e})}return s||l?(0,i.jsx)(N,{shouldShowAvatar:t,avatarEntity:{},text:(0,a.tx)("voting.stamp_tooltip.unavailable")}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(L,{size:16}),(0,i.jsx)("div",{className:C,children:(0,a.tx)("voting.stamp_tooltip.old_stamp")})]})})();return(0,i.jsx)(b,{stamp:e,renderChildren:({tooltipPosition:e,arrowPosition:s})=>(0,i.jsxs)("div",{className:t?T[e]:"",children:[(0,i.jsx)("div",{className:"stamp_overlay--tooltip---xJx5","data-testid":n,children:h}),s&&(0,i.jsx)("div",{className:E[e],style:s})]})})}let A=s.memo(function(){let e=(0,l.d4)(I);return(0,i.jsx)(i.Fragment,{children:e&&(0,i.jsx)(M,{stamp:e,shouldAnimate:!0,testId:"selected-stamp-tooltip"},e.guid)})}),R=s.memo(()=>{let e=(0,l.d4)(I),t=(0,p.d0)();return e?.isFaceStamp&&!e?.stampData?.votingSessionId&&t?null:(0,i.jsx)(i.Fragment,{children:e&&(0,i.jsx)(M,{stamp:e,shouldAnimate:!0,testId:"selected-stamp-tooltip"},e.guid)})}),F=s.memo(function(){let e=(0,l.d4)(w),[t,n]=(0,s.useState)(null),[r,a]=(0,s.useState)(!0),d=(0,l.d4)(e=>t?e.mirror.sceneGraph.get(t):null),u=(0,l.d4)(I),x=(0,p.d0)(),c=(0,o.e_)();return((0,s.useEffect)(()=>{let i=!!t;if(e!==t&&(e||t)){if(e&&i){a(!1),n(e);return}if(e&&!i){let t=setTimeout(()=>{n(e)},100);return()=>clearTimeout(t)}if(!e&&i){let e=setTimeout(()=>{n(null),a(!0)},300);return()=>clearTimeout(e)}}},[e,t]),u?.isFaceStamp&&!u?.stampData?.votingSessionId&&x||c&&u?.id===d?.id)?null:(0,i.jsx)(i.Fragment,{children:d&&(0,i.jsx)(M,{stamp:d,testId:"hovered-stamp-tooltip",shouldAnimate:r},d.guid)})}),O=s.memo(function(){let e=(0,o.e_)();return(0,r.aJ)()?e?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(R,{}),(0,i.jsx)(F,{})]}):(0,i.jsx)(F,{}):(0,i.jsx)(A,{})})},871052:(e,t,n)=>{n.d(t,{tX:()=>ea,Oy:()=>ex});var i=n(104076),s=n(716976),l=n(59423),r=n(151823),a=n(742212),o=n(667693),d=n(88314),u=n(917360),x=n(224781),c=n(902892),p=n(878604),h=n(268389),m=n(236901),g=n(500767),f=n(266808),y=n(980852),k=n(812714),j=n(795033);n(120440);var _=n(666875),v=n(222714),b=n(361170),C=n(192075),S=n(211862),E=n(835307),T=n(990609),I=n(107799),w=n(266230),N=n(803120),L=n(129575),M=n(492130),A=n(825543),R=n(329232),F=n(389006),O=n(776975),P=n(533144),z=n(66827),B=n(855492),D=n(401763),G=n(652931),q=n(126968),V=n(130249),$=n(170627),H=n(883765),U=n(74620),K=n(592726),W=n(331497),Z=n(577932),X=n(580276),Y=n(68902),Q=n(588402),J=n(540041),ee=n(743558),et=n(784817),en=n(121363),ei=n(732791),es=n(32404),el=n(429033);function er({codeInstanceNodeGuid:e,codeInstanceNode:t,entryPointCodeFileGuid:n,entryPointCodeFile:l,previewState:a,isResizingPanel:o,newCodeLayerState:d,setCodeInstanceNode:u,setEntryPointCodeFile:x,forceReadOnly:c,hideChatBox:p,onChatInputBlur:h,onChatInputFocus:m}){let g=(0,K.iZ)(),_=(0,S.tS)();(0,es.zA)();let v=(0,L.di)({codeFileNode:l});(0,el.m)({chatController:v});let b=(0,s.useMemo)(()=>(0,i.jsx)(J.d,{nodeGuid:n}),[n]),C=(0,j.Xr)((0,I.mC)(n)),E=(0,X.Xu)(),T=(0,j.md)(Y.LR),{changedFiles:N}=(0,ee.E)(l??null,v,r.lV.CODE_IN_SITES),M=(0,en.P)(),A=(0,V.og)(l?.codeFileFullPath),R=(0,s.useMemo)(()=>(0,Z.qE)(_||null,n),[_,n]);return function(e,t,n){let i=(0,U.eY)(),{attachments:l,setAttachments:r,claimAPendingAttachmentOrMakeOne:a,createPendingAttachmentsForNodes:o}=(0,w._9)(e),d=f.Ez5?.codeSelection(),u=(0,W.ut)(d?.selectedPromptFrames,[]),x=(0,s.useCallback)(()=>{let e=u?.[0]??"";e&&t===ex.EMPTY&&((0,et.E)([e],i,r,()=>{},n,a,void 0,o),f.n1M?.clearSelectedPromptFrames())},[u,t,i,r,n,a,o]);(0,s.useEffect)(()=>{0===l.length&&x()},[l,x,t])}(n,a,(0,s.useCallback)((e,t,n)=>{H.az.trackDefinedEvent("ai_for_production.code_chat_design_node_pasted",{number_of_nodes:t,number_of_instances:n,persistent_entity_id:R,file_key:_||void 0})},[_,R])),(0,i.jsx)(Q.U,{chatController:v,chatMessagesNode:l,chatMessagesNodeGuid:n,codeInstanceGuid:e,emptyState:b,enableAssetImport:(0,k.kc)().bake_import,enableDragUpload:!0,enableDsImport:(0,k.kc)().bake_ds_import_plan_enabled,enableImageAttachment:!0,featureType:r.lV.CODE_IN_SITES,forceReadOnly:c,hideChatBox:p,isResizingPanel:o,onChatInputBlur:h,onChatInputFocus:m,rootPath:A,sendMessage:async(i,s)=>{let a=i.plainText;a||(a=i.hidden?"":j.zl.get((0,I.mC)(n)));let o={...i,plainText:a},c=t,p=l;if((0,k.kc)().bake_canvas_server_files_client&&d){if($.l7.ai("initialize-new-make-layer",()=>{f.glU?.initializeNewMakeLayer(e,n,d.initializingNodeIds)}),c=(0,y.UN)().get(e),p=(0,y.UN)().get(n),!c||!p){console.warn("Failed to initialize new make layer");return}u(c),x(p)}C(""),await (0,ei.O)({featureType:r.lV.FIGMAKE_IN_DESIGN,userMessageContent:o,rawUserChatDetails:s,user:g,chatMessagesNode:p,chatController:v,setInput:C,fileKey:_,autoFixingUserMessageId:null,canUseSupabase:E,changedFiles:N,model:M,instanceNode:c,requestInitiator:r.bG.USER,mcpPreferences:T})},setInput:C,showCodeStreaming:!0,showCopyButton:!0})}function ea({forceReadOnly:e,hideToolbar:t,hideChatBox:n}){let l=(0,j.md)(I.Vp),r=(0,j.md)(P.wh),a=(0,E.Fk)((e,t)=>t.flatMap(t=>e.get(t)?.guid??[]),r),o=Array.from((0,s.useMemo)(()=>{let e=(0,y.UN)();return new Map(a.map(t=>[t,e.get(t)]).filter(e=>null!=e[1]))},[a]).values())[0],d=(0,s.useCallback)(()=>{j.zl.set(I.Vp,null)},[]);return o||l?.newCodeInstanceNodeId?(0,i.jsx)(ec,{codeInstanceNodeToEdit:o??null,newCodeLayerState:l,onClose:d,forceReadOnly:e,showToolbar:!t,hideChatBox:n}):null}function eo({name:e}){return(0,i.jsxs)("div",{className:"x1kzcg16 xlup9mm x1yjdb4r xso031l x1q0q8m5 xertd99 x78zum5 x1nfngrj xkh2ocl",children:[(0,i.jsx)(u.J,{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x1akne3o",htmlAttributes:{"data-tooltip":e,"data-tooltip-type":"text"},children:e}),(0,i.jsx)(D.M,{})]})}function ed({panelConfiguration:e,handleSegmentChange:t}){return(0,i.jsx)("div",{className:"x78zum5 x6s0dn4 xl56j7k x1iyjqo2 x1excjyp",children:(0,i.jsxs)(x.bL,{value:e,onChange:t,legend:(0,i.jsx)(c.q,{children:(0,C.t)("sites.panel.code_window_display_picker.hidden_legend")}),children:[(0,i.jsx)(q.A,{selectedValue:e,value:"preview",IconComponent:m.T,text:(0,C.t)("make.window.preview")}),(0,i.jsx)(q.A,{selectedValue:e,value:"code",IconComponent:g.U,text:(0,C.t)("make.window.code")})]})})}function eu({panelConfiguration:e,handleSegmentChange:t}){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"x1vvogim xaope02 x1yjdb4r xso031l x1q0q8m5 xertd99 x78zum5 x13a6bvl x6s0dn4 x1nfngrj",children:(0,i.jsx)(ed,{panelConfiguration:e,handleSegmentChange:t})})})}var ex=(e=>(e[e.EMPTY=0]="EMPTY",e[e.THINKING=1]="THINKING",e[e.LOADED=2]="LOADED",e))(ex||{});function ec({codeInstanceNodeToEdit:e,newCodeLayerState:t,onClose:n,forceReadOnly:r,showToolbar:a,hideChatBox:u}){let[x,c]=s.useState("preview"),[m,g]=s.useState(e),[y,k]=s.useState(()=>(0,A.h)(e)),[C,S]=s.useState(!1),E=m?.guid??t?.newCodeInstanceNodeId,T=y?.guid??t?.newEntryPointCodeFileNodeId,N=function(e,t){let{exchange:n}=(0,I.$W)(e),i=function(e){let[t,n]=s.useState(()=>eg(e?.sourceCode));return(0,s.useEffect)(()=>{t&&n(eg(e?.sourceCode))},[e?.sourceCode,t,n]),t}(t);return i&&n?.messages?.length?1:i?0:2}(T,y),{setAttachments:L}=(0,w._9)(T),M=s.useCallback(e=>{(0,P.UM)(),n(),L([]),f.n1M?.clearPastedDesign()},[n,L]),R=function(){let e;let[{windowInnerWidth:t,windowInnerHeight:n}]=(0,_.A)((0,v.l)(),300,{equalityFn:o.c2}),[i,l]=(0,j.fp)(P.yq);if(i){let s=(0,d.qE)(i.x,0,t-i.width),l=(0,d.qE)(i.y,0,n-i.height),r=(0,d.qE)(i.width,640,t-s),a=(0,d.qE)(i.height,480,n-l);e={x:s,y:l,width:r,height:a}}else{let i=(0,d.qE)(t*em.targetPercentWidth,em.minWidth,em.maxWidth-2*em.margin),s=(0,d.qE)(Math.min(i/em.aspectRatio,n-2*em.margin),em.minHeight,em.maxHeight);e={x:(t-i)/2,y:(n-s)/2,width:i,height:s}}let r=s.useMemo(()=>new b.Mi(e.x,e.y),[e.x,e.y]),a=s.useCallback(({x:e,y:t,width:n,height:s})=>{i&&e===i.x&&t===i.y&&n===i.width&&s===i.height||l({x:e,y:t,width:n,height:s})},[i,l]),u=s.useCallback(t=>{let n=t.size?.x??e.width,i=t.size?.y??e.height;a({x:t.position?.x??e.x,y:t.position?.y??e.y,width:n,height:i})},[a,e.width,e.height,e.x,e.y]);return{initialPosition:r,initialHeight:e.height,initialWidth:e.width,handleTransform:u,constraints:eh}}(),[F,O]=s.useState(R.initialWidth),z=s.useCallback(e=>{f.Ez5?.uiState()?.isMakeModalChatInputFocused.set(e)},[]),B=s.useRef(null);return(m?.isAlive||t?.newCodeInstanceNodeId)&&E&&T?(0,i.jsx)(p._L,{defaultWidth:R.initialWidth,defaultHeight:R.initialHeight,onClose:M,defaultPosition:R.initialPosition,onTransform:e=>{R.handleTransform(e),e.size&&O(e.size.x)},ref:B,recordingKey:"sites-code-window",draggable:"anywhere",constraints:R.constraints,children:(0,i.jsx)(h.vo,{children:(0,i.jsx)(h.nB,{padding:0,scrolling:"none",children:(0,i.jsxs)(l.YZ,{direction:"horizontal",children:[(0,i.jsx)(l.Zk,{defaultSize:35,minSize:20,children:(0,i.jsxs)("div",{className:"x78zum5 xdt5ytf x5yr21d",children:[(0,i.jsx)(eo,{name:m?.name??""}),(0,i.jsx)(er,{codeInstanceNode:m,codeInstanceNodeGuid:E,entryPointCodeFile:y,entryPointCodeFileGuid:T,forceReadOnly:r,hideChatBox:u,isResizingPanel:C,newCodeLayerState:t,onChatInputBlur:()=>{z(!1)},onChatInputFocus:()=>{z(!0)},previewState:N,setCodeInstanceNode:g,setEntryPointCodeFile:k})]})}),(0,i.jsx)(l.TW,{onDragging:e=>{S(e)},className:"x1i1rx1s xbpqucl"}),(0,i.jsx)(l.Zk,{children:(0,i.jsxs)("div",{className:"x78zum5 xdt5ytf x5yr21d",children:[(0,i.jsx)(eu,{panelConfiguration:x,handleSegmentChange:c}),(0,i.jsx)(ep,{chatNode:y,codeInstanceNode:m,forceReadOnly:r,isDragging:C,panelConfiguration:x,previewState:N,showToolbar:a,windowRef:B})]})})]})})})}):null}function ep({panelConfiguration:e,chatNode:t,codeInstanceNode:n,isDragging:a,windowRef:o,previewState:d,forceReadOnly:u,showToolbar:x}){let c=(0,j.md)(P.Jl),p=(0,y.UN)().get(c),h=(0,A.h)(t),m=(0,L.di)({codeFileNode:t}),g=p?.guid,f=t?.guid,_=s.useCallback(e=>{if(!g)return;let t=R.O.get(g);t&&(e===M.d.ERROR?t.hasErrors=!0:e===M.d.LOADED&&(t.hasErrors=!1))},[g]),v=s.useMemo(()=>{let e=t?.codeFilePath||void 0;return(0,i.jsx)(T.S,{selectedCodeFileNode:p,nodeWithChatMessages:t,featureType:r.lV.FIGMAKE_IN_DESIGN,rootPath:e})},[t,p]),b=s.useMemo(()=>(0,i.jsx)(F.RL,{codeFile:p,nodeWithChatMessages:t,fullHeight:!0,forceDisableEditable:u}),[t,p,u]),C=(0,S.tS)();(0,s.useEffect)(()=>{if(!g)return;let e=R.O.start(C,g);return()=>e.end()},[g,C]);let{triggerSelfHeal:E}=(0,N.u)({chatMessagesNode:t,chatController:m,disabled:!(0,k.kc)().bake_auto_error_fix,featureType:r.lV.FIGMAKE_IN_DESIGN}),I=s.useCallback((e,t,n,i)=>{h&&E(h,n,i)},[E,h]),w=(0,O.rh)(n),D=s.useMemo(()=>{let e=2===d;return(0,i.jsx)("div",{...{0:{className:"xh8yej3 x5yr21d"},1:{className:"xh8yej3 x5yr21d x1s85apg x47corl"}}[!e<<0],children:(0,i.jsx)(z.m,{chatNodeId:f??null,codeSelectionToRender:w,disablePointerEvents:a,isVisible:!0,jsxDev:(0,k.kc)().code_layers_click_to_inspect,onError:I,onPreviewStateChange:_,sandbox:null,showToolbar:x,showViewOptions:!0,windowRef:o})})},[w,o,_,x,a,f,I,d]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"x78zum5 xdt5ytf x5yr21d",children:["preview"===e&&(0,i.jsx)("div",{className:"xh8yej3 x5yr21d x78zum5 xl56j7k x6s0dn4",children:1===d?(0,i.jsx)(G.Ay,{}):0!==d&&n?D:(0,i.jsx)(B.p,{})}),"code"===e&&(0,i.jsxs)(l.YZ,{direction:"horizontal",children:[(0,i.jsx)(l.Zk,{defaultSize:35,children:v}),(0,i.jsx)(l.Zk,{defaultSize:65,children:b})]})]})})}let eh={minWidth:640,minHeight:480,maxWidth:"100vw",maxHeight:"100vh"},em={minWidth:750,minHeight:500,maxWidth:1200,maxHeight:800,margin:16,targetPercentWidth:.6,aspectRatio:1.5};function eg(e){return!e||""===(e=e.trim())||e===a.j||e===a.o}},571861:(e,t,n)=>{n.d(t,{iX:()=>G});var i=n(104076),s=n(716976),l=n(99723),r=n(266808),a=n(812714),o=n(776111),d=n(291705),u=n(466890),x=n(633065),c=n(192075),p=n(58212),h=n(814082),m=n(130689),g=n(675477),f=n(443192),y=n(17057),k=n(944350),j=n(821359),_=n(977899),v=n(894210),b=n(116553),C=n(753703),S=n(484655),E=n(403206),T=n(683785),I=n(695370),w=n(479929),N=n(974528);let{hasCommandModifier:L}=d.KeyBindingUtil;var M=(e=>(e.Bold="toggle-bold",e.Italic="toggle-italic",e.Strikethrough="toggle-strikethrough",e))(M||{}),A=(e=>(e.UL="toggle-unordered-list",e.OL="toggle-ordered-list",e))(A||{}),R=(e=>(e.ListBackspace="handle-list-backspace",e.Undo="handle-undo",e.Redo="handle-redo",e.Link="toggle-link",e))(R||{});let F={BOLD:{fontWeight:600},HIGHLIGHT:{background:"var(--color-texthighlight)"}},O={"toggle-bold":"BOLD","toggle-italic":"ITALIC","toggle-strikethrough":"STRIKETHROUGH"},P={"toggle-unordered-list":"unordered-list-item","toggle-ordered-list":"ordered-list-item"},z=new Set(["HIGHLIGHT",...Object.values(O)]);function B(){let e=[{strategy:I.Er,component:e=>(0,i.jsx)("span",{className:N.lE,spellCheck:!1,children:e.children})},{strategy:I.f7,component:e=>(0,i.jsx)("span",{className:N.lE,spellCheck:!1,children:e.children})},{strategy:I.cL,component:e=>(0,i.jsx)("span",{className:N.Zg,spellCheck:!1,children:e.children})},{strategy:I.mi,component:e=>{let t="",n="";if(e.entityKey&&e.contentState){let i=e.contentState.getEntity(e.entityKey).getData();t=i.hyperlink,n=i.commentEditorType}return(0,i.jsx)("span",{className:N.JM,"data-tooltip":v.MW.HYPERLINK_POPUP,"data-tooltip-can-edit":!0,"data-tooltip-entity-key":e.entityKey,"data-tooltip-interactive":!0,"data-tooltip-precise":!0,"data-tooltip-show-above":!0,"data-tooltip-target-ref-key":n,"data-tooltip-type":v.Ib.SPECIAL,"data-tooltip-unconstrain-width":!0,"data-tooltip-url-string":t,spellCheck:!1,children:e.children})}},{strategy:I.DL,component:e=>{let t=(0,w.Vt)(e.decoratedText);if(1!==t.length)return(0,i.jsx)(i.Fragment,{children:e.children});let n=new URL(t[0].href).toString();return(0,i.jsx)("span",{className:N.JM,"data-testid":`implicit-hyperlink-${n}`,"data-tooltip":v.MW.HYPERLINK_POPUP,"data-tooltip-can-edit":!1,"data-tooltip-interactive":!0,"data-tooltip-precise":!0,"data-tooltip-show-above":!0,"data-tooltip-type":v.Ib.SPECIAL,"data-tooltip-unconstrain-width":!0,"data-tooltip-url-string":n,spellCheck:!1,children:e.children})}}];return new d.CompositeDecorator(e)}let D=RegExp(/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)$/,"i");class G extends s.Component{constructor(e){super(e),this.TEST_ONLY_mentionsSearchPending=null,this.pendingMentionsSearch=null,this.wrapperRef=s.createRef(),this.onChange=e=>{let t=this.state.editorState;this.setState({editorState:e});let n=t.getCurrentContent(),i=e.getCurrentContent(),s=t.getSelection(),l=e.getSelection();n!==i?this.onEditorContentChange(e):this.props.typeahead?.type==="mentions"?s.getAnchorKey()!==l.getAnchorKey()||s.getFocusKey()!==l.getFocusKey()?this.clearTypeahead("changed_selection_mentions_typeahead"):this.setState({editorState:d.EditorState.forceSelection(e,l)}):s!==l&&this.clearTypeahead("changed_selection")},this.onEditorContentChange=e=>{let t=(0,I.yN)(e),n=(0,I.ws)(e);this.props.updateMessage([t,n]);let{search:i,type:s}=(0,I.TE)(e);null!=i?"MENTION"===s?this.onMentionSearchChange(i):"EMOJI"===s?this.onEmojiSearchChange(i):"COMPLETE_EMOJI"===s&&(this.clearTypeahead("completed_emoji_search"),this.insertEmojiFromString(i)):this.clearTypeahead("input_deleted")},this.hasTypeahead=()=>!!this.props.typeahead,this.insertMention=(e,t)=>{let n=(0,I.Gm)(this.state.editorState);this.state.contactsAnalytics?.trackResultClicked(n,t.index,t.mentions.length,e.id.startsWith("invite-")),(0,S.r)(n,t,!0);let i=(0,T.AO)(this.state.editorState,e);"profile_handle"in e&&this.props.dispatch((0,m.Hx)(e)),this.onChange(i)},this.insertEmoji=e=>{let t=(0,T.gG)(this.state.editorState,e);this.onChange(t)},this.insertSuggestion=e=>{let t=(0,T.Ed)(this.state.editorState,e.suggestedComments[e.index]);this.onChange(t)},this.insertFirstPendingUserInvite=e=>{if(e[0].user?.email){let t=(0,T.rv)(this.state.editorState,e[0]);this.onChange(t)}},this.insertEmojiFromString=e=>{let t=(0,T.Ly)(this.state.editorState,e);this.onChange(t)},this.onInsert=()=>{let e=this.props.typeahead;e&&"mentions"===e.type&&e.mentions[e.index]?this.insertMention(e.mentions[e.index],e):e&&"emojis"===e.type&&e.emojis[e.index]?this.insertEmoji(e.emojis[e.index]):e&&"suggestions"===e.type&&this.insertSuggestion(e)},this.assignEditorOnInsertClear=()=>{this.props.editorOnInsert(this.onInsert),this.props.editorOnClear(()=>this.clearTypeahead("editor_clear"))},this.newMentionsSearch=async e=>{this.pendingMentionsSearch&&this.pendingMentionsSearch.cancel(),this.pendingMentionsSearch=new E.qm;try{return{result:await (0,E.t8)((0,j.fG)(e,this.props.mentionables,!this.props.isProtoView&&this.props.figmaEditorType===k._Y.DESIGN),this.pendingMentionsSearch),canceled:!1}}catch(e){if(e instanceof E.cJ)return{result:null,canceled:!0};throw e}},this.onMentionSearchChange=(0,l.s)(async e=>{let t=this.newMentionsSearch(e);(0,o.Lg)()&&(this.TEST_ONLY_mentionsSearchPending=t);let{result:n,canceled:i}=await t;i||(n?(this.state.contactsAnalytics?.trackQueryResult(e,n?.mentions.length??0),this.props.dispatch(h.We(n))):this.props.dispatch(h.We({type:"mentions",mentions:[],index:0,maxMentions:0,search:e,query:e})),this.props.onUpdateTextArea(this.state.editorState))},300),this.onEmojiSearchChange=e=>{this.props.dispatch(h.We((0,j.oQ)(e))),this.props.onUpdateTextArea(this.state.editorState)},this.clearTypeahead=e=>{this.pendingMentionsSearch&&this.pendingMentionsSearch.cancel(),this.state.contactsAnalytics?.endSession(e),this.hasTypeahead()&&(this.props.typeahead?.type==="suggestions"?"editor_clear"===e?this.props.dispatch(h.UU({force:!0})):"changed_selection"!==e&&this.props.dispatch(h.We(null)):this.props.dispatch(h.We(null)))},this._handleBeforeInput=(e,t)=>{if(this.props.maxCommentLength&&t.getCurrentContent().getPlainText("").length>=this.props.maxCommentLength)return"handled";let n=(0,I.Wt)(t,e);if("ordered-list-item"===n||"unordered-list-item"===n)return t=(0,I.q7)(t,n),this.onChange(t),"handled";let i=(0,I.XM)(t,e);return i?(t=(0,I.oP)(t,e,i),this.onChange(t),"handled"):"not-handled"},this.selectAll=()=>{let e=this.state.editorState.getSelection(),t=this.state.editorState.getCurrentContent(),n=e.merge({anchorKey:t.getFirstBlock().getKey(),anchorOffset:0,focusOffset:t.getLastBlock().getText().length,focusKey:t.getLastBlock().getKey()});this.setState({editorState:d.EditorState.forceSelection(this.state.editorState,n)})},this.hasFocus=()=>this.state.editorState.getSelection().getHasFocus(),this.focus=(e=!0)=>{let t=this.state.editorState.getSelection();t.getHasFocus()?this.props.onFocus():e?setTimeout(()=>{this.props.moveFocusToStartOnMount?this.setState({editorState:(0,I.jM)(this.state.editorState)}):this.setState({editorState:d.EditorState.moveFocusToEnd(this.state.editorState)}),this.onFocus()},0):this.setState({editorState:d.EditorState.forceSelection(this.state.editorState,t)})},this.moveFocusBefore=()=>{let e=(0,I.d8)(this.state.editorState),t=this.state.editorState.getCurrentContent().getBlockBefore(e.getKey()),n=this.state.editorState.getSelection();if(t){let e=n.merge({anchorKey:t.getKey(),anchorOffset:t.getLength(),focusKey:t.getKey(),focusOffset:t.getLength()});this.setState({editorState:d.EditorState.forceSelection(this.state.editorState,e)})}},this.isAllSelected=()=>{let e=this.state.editorState;return e.isSelectionAtStartOfContent()&&e.isSelectionAtEndOfContent()},this.onNavigationKeyDown=e=>(e.stopPropagation(),this.hasTypeahead())?(e.preventDefault(),null):(0,d.getDefaultKeyBinding)(e),this.handleEscape=()=>{this.hasTypeahead()||this.props.isThreadCommentOverflowMenuOpen||this.props.editingComment&&"comment-editor-reply"===this.props.editorType||this.props.onCancel()},this.handleReturn=(e,t)=>{e.stopPropagation();let n=this.state.editorState.getCurrentContent().getPlainText(),i=/^\s+$/,s=!!n&&!i.test(n),l=t.getSelection(),r=t.getCurrentContent().getBlockForKey(l.getStartKey());if(this.hasTypeahead())return e.preventDefault(),"handled";if(s){if(e.altKey||e.metaKey)return e.preventDefault(),this.props.onSubmit(),"handled";if(e.shiftKey||e.ctrlKey){let e=(0,I.XM)(t,"\n");if(e){t=(0,I.oP)(t,"",e);let n=d.Modifier.splitBlock(t.getCurrentContent(),t.getSelection());return t=d.EditorState.push(t,n,"split-block"),this.onChange(t),"handled"}}else if(l.isCollapsed()&&["unordered-list-item","ordered-list-item"].includes(r.getType())){if(i.test(r.getText())){let e=d.Modifier.setBlockType(t.getCurrentContent(),l,"unstyled");t=d.EditorState.push(t,e,"change-block-type")}else{let e=d.Modifier.splitBlock(t.getCurrentContent(),l);t=d.EditorState.push(t,e,"split-block")}return this.onChange(t),"handled"}else if(this.props.submitOnEnter)return e.preventDefault(),this.props.onSubmit(),"handled"}return"not-handled"},this.handlePastedFiles=e=>(this.props.onFilePaste&&this.props.onFilePaste(e),"handled"),this.handlePastedText=(e,t,n)=>{if(!e)return"handled";let i=n.getSelection(),s=n.getCurrentContent();if(!(0,I.c9)(n)&&e.match(D)&&(0,w.$x)((0,b.xT)(e))){for(let e of(i.getIsBackward()&&(i=i.merge({anchorKey:i.getFocusKey(),anchorOffset:i.getFocusOffset(),focusKey:i.getAnchorKey(),focusOffset:i.getAnchorOffset(),isBackward:!1})),Object.values(O)))s=d.Modifier.removeInlineStyle(s,i,e);let t=(s=s.createEntity("HYPERLINK","MUTABLE",{hyperlink:e,commentEditorType:this.props.editorType})).getLastCreatedEntityKey(),l=d.Modifier.applyEntity(s,i,t);n=d.EditorState.push(n,l,"apply-entity");let r=i.merge({anchorOffset:i.getEndOffset(),anchorKey:i.getEndKey(),focusOffset:i.getEndOffset(),focusKey:i.getEndKey()});return n=d.EditorState.forceSelection(n,r),this.onChange(n),"handled"}if((0,a.kc)().comments_html_paste&&t){let e=(0,I._S)(t),i=d.Modifier.replaceWithFragment(n.getCurrentContent(),n.getSelection(),e.getBlockMap()),s=d.EditorState.push(n,i,"insert-fragment");return this.onChange(s),"handled"}{let t=d.Modifier.replaceWithFragment(n.getCurrentContent(),n.getSelection(),d.ContentState.createFromText(e).getBlockMap()),i=d.EditorState.push(n,t,"insert-fragment");return this.onChange(i),"handled"}},this.onSubmitHyperlink=e=>{let t=this.state.editorState;if(this.state.hyperlinkState){let n=this.state.hyperlinkState.selectionToHyperlink,i=(0,b.xT)(e);if((0,w.$x)(i)){if(n.isCollapsed()){let e=t.getCurrentContent();e=d.Modifier.insertText(e,n,i),t=d.EditorState.push(t,e,"insert-characters");let s=n.getStartOffset();n=(0,I.Ji)(t,{start:s,end:s+i.length})}let e=t.getCurrentContent();for(let t of z)e=d.Modifier.removeInlineStyle(e,n,t);if(t=d.EditorState.push(t,e,"change-inline-style"),this.state.hyperlinkState.entityKey){e=e.replaceEntityData(this.state.hyperlinkState.entityKey,{hyperlink:i,commentEditorType:this.props.editorType});let s=d.Modifier.applyEntity(e,n,this.state.hyperlinkState.entityKey);t=d.EditorState.push(t,s,"apply-entity")}else{let s=(e=e.createEntity("HYPERLINK","MUTABLE",{hyperlink:i,commentEditorType:this.props.editorType})).getLastCreatedEntityKey(),l=d.Modifier.applyEntity(e,n,s);t=d.EditorState.push(t,l,"apply-entity")}}else{let e=t.getCurrentContent();e=d.Modifier.removeInlineStyle(e,n,"HIGHLIGHT"),t=d.EditorState.push(t,e,"change-inline-style"),this.props.dispatch(p.F.enqueue({message:(0,c.t)("hyperlink.invalid_link_plain")}))}this.onChange(t),this.setState({hyperlinkState:null})}},this.onFocus=()=>{if(this.assignEditorOnInsertClear(),this.props.setIsEditorFocused(!0),this.focus(!this.props.maintainSelectionOnFocus),this.state.hyperlinkState?.selectionToHyperlink&&!this.props.hyperlinkLocation){let e=this.state.editorState.getCurrentContent(),t=this.state.editorState;e=d.Modifier.removeInlineStyle(e,this.state.hyperlinkState.selectionToHyperlink,"HIGHLIGHT"),t=d.EditorState.push(t,e,"change-inline-style"),this.onChange(t),this.setState({hyperlinkState:null})}},this.onBlur=()=>{let{typeahead:e}=this.props;if(e&&"mentions"===e.type&&e.mentions[e.index]){this.state.contactsAnalytics?.endSession("input_blurred");let t=(0,I.Gm)(this.state.editorState);(0,S.r)(t,e,!1)}this.props.setIsEditorFocused(!1)},this.handleKeyCommand=(e,t)=>{if(O[e]){let n=O[e],i=d.RichUtils.toggleInlineStyle(t,n);if(i)return this.onChange(i),"handled"}else if(P[e]){let n=P[e],i=d.RichUtils.toggleBlockType(t,n);if(i)return this.onChange(i),"handled"}else if("handle-undo"===e){t=d.EditorState.undo(t);let e=(0,I.d8)(t).getText();for(let n of I.Bm)if(e.trim()===n||"1."===e.trim()){let n=e.length;t=d.EditorState.forceSelection(t,(0,I.Ji)(t,{start:n,end:n}))}return this.onChange(t),"handled"}else if("handle-redo"===e){let e=(0,I.d8)(t).getText();t=d.EditorState.redo(t);let n=(0,I.d8)(t).getText();for(let i of I.Bm)if(e.trim()===i||n.trim()===i){let e=n.length;return t=d.EditorState.forceSelection(t,(0,I.Ji)(t,{start:e,end:e})),this.onChange(t),"handled"}if("1."===e.trim()||"1."===n.trim()){let e=n.length;return t=d.EditorState.forceSelection(t,(0,I.Ji)(t,{start:e,end:e})),this.onChange(t),"handled"}return this.onChange(t),"handled"}else if("handle-list-backspace"===e){let e=d.Modifier.setBlockType(t.getCurrentContent(),t.getSelection(),"unstyled"),n=d.EditorState.push(t,e,"change-block-type");return this.onChange(n),"handled"}else if("toggle-link"===e){let{selection:e,entityKey:n}=(0,I.M1)(t);t=d.EditorState.forceSelection(t,e),this.onChange(t);let i=(0,I.L5)();if(i&&this.props.setHyperlinkLocation&&this.props.setHyperlinkEditorRef)return this.setHyperlinkEditorState(t,i,n),"handled"}return"not-handled"},this.getActiveHyperlinkForCurrentSelection=()=>this.state.hyperlinkState?.entityKey?this.state.editorState.getCurrentContent().getEntity(this.state.hyperlinkState.entityKey).getData().hyperlink:"",this.onRemoveHyperlink=()=>{if(this.state.hyperlinkState?.entityKey){let e=this.state.editorState,t=d.Modifier.applyEntity(this.state.editorState.getCurrentContent(),this.state.hyperlinkState.selectionToHyperlink,null);this.onChange(d.EditorState.push(e,t,"apply-entity"))}},this.keyBindingFn=e=>{if("Escape"===e.key&&!this.props.delegateEscapeHandling)return this.handleEscape(),null;if("Backspace"===e.key){let e=(0,I.d8)(this.state.editorState);if(("ordered-list-item"===e.getType()||"unordered-list-item"===e.getType())&&(0,I.wT)(this.state.editorState))return"handle-list-backspace"}if("ArrowUp"===e.key||"ArrowDown"===e.key||"ArrowLeft"===e.key||"ArrowRight"===e.key||"Tab"===e.key)return this.onNavigationKeyDown(e);if(L(e)){e.stopPropagation();let t=r.Ez5?.uiState().isUI3.getCopy()??!1,n="k"===e.key&&!t||e.shiftKey&&"u"===e.key&&t;if("z"===e.key&&!e.shiftKey)return"handle-undo";if("z"===e.key&&e.shiftKey)return"handle-redo";if("b"===e.key)return"toggle-bold";if("i"===e.key)return"toggle-italic";if(n)return"toggle-link";if(e.shiftKey&&"x"===e.key)return"toggle-strikethrough";if(e.shiftKey&&"8"===e.key)return"toggle-unordered-list";if(e.shiftKey&&"7"===e.key)return"toggle-ordered-list"}return e.stopPropagation(),(0,d.getDefaultKeyBinding)(e)},this.onMouseDown=e=>{e.stopPropagation()},this.onContextMenu=e=>{x.eD||e.stopPropagation()},this.addAriaHiddenToPlaceholder=()=>{let e=this.wrapperRef.current?.querySelector(".public-DraftEditorPlaceholder-root");e&&e.setAttribute("aria-hidden","true")};let t=(0,y.Ty)(e.currentOrgId??null,e.user??null,e.currentOrgUsers),n=(0,y.pP)(e.currentOrgId,e.openFileTeamId,t),i=e.openFileTeamId??null,u=null,g=B();u=this.props.messageMeta?(0,I.Aw)(this.props.messageMeta,g,this.props.editorType):d.EditorState.createEmpty(g),this.state={editorState:u,contactsAnalytics:new y.yO(y.I2,e.openFileKey,n,e.currentOrgId,i,"draftjs"),hyperlinkState:null}}async componentDidMount(){if(this.assignEditorOnInsertClear(),this.addAriaHiddenToPlaceholder(),this.props.mountInputFocused){let e=this.props.moveFocusToStartOnMount?(0,I.jM)(this.state.editorState):d.EditorState.moveFocusToEnd(this.state.editorState);if(this.props.setIsEditorFocused(!0),this.onChange(e),(!this.props.hasMentionedPendingUserInvite||!this.props.hasMentionedPendingUserInviteTwice)&&this.props.pendingUserInvites&&this.props.pendingUserInvites.length>0){if(1===this.props.pendingUserInvites.length)this.insertFirstPendingUserInvite(this.props.pendingUserInvites);else{let{result:t,canceled:n}=await this.newMentionsSearch("");n||setTimeout(()=>{this.props.dispatch(h.We(t)),this.onChange(e),this.props.onUpdateTextArea(this.state.editorState)},180)}}}this.props.editorRef&&this.props.editorType&&this.props.dispatch(g.pP({targetKey:this.props.editorType,targetRef:this.props.editorRef})),this.props.updateMessageOnMount&&this.onEditorContentChange(this.state.editorState)}componentDidCatch(e){"Node.removeChild: The node to be removed is not a child of this node"===e.message&&this.forceUpdate()}componentDidUpdate(e){this.addAriaHiddenToPlaceholder();let t=this.state.editorState;if(!(0,u.Wf)(this.props.messageMeta,e.messageMeta)){let e=(0,I.yN)(this.state.editorState);if(!(0,u.Wf)(e,this.props.messageMeta)){let e=B();t=(0,I.Aw)(this.props.messageMeta,e,this.props.editorType),t=this.state.editorState.getSelection().getHasFocus()?d.EditorState.moveFocusToEnd(t):d.EditorState.moveSelectionToEnd(t),this.onChange(t)}let n=this.props.pendingUserInvites?.length===1?t.getCurrentContent().getPlainText()===`${this.props.pendingUserInvites[0].user?.email} `:""===t.getCurrentContent().getPlainText();(!this.props.hasMentionedPendingUserInvite||!this.props.hasMentionedPendingUserInviteTwice)&&(this.props.pendingUserInvites?.length??0)>0&&this.props.user?.id&&!this.props.typeahead&&n&&setTimeout(async()=>{if(this.props.onUpdateTextArea(this.state.editorState),this.props.pendingUserInvites?.length===1)this.props.dispatch(h.We((0,C.tI)({index:-1,userId:this.props?.user?.id})));else{let e=await (0,j.fG)("",this.props.mentionables,!this.props.isProtoView&&this.props.figmaEditorType===k._Y.DESIGN);this.props.dispatch(h.We(e))}},180)}if(e.mentionables!==this.props.mentionables&&this.onEditorContentChange(t),this.props.initMention&&!e.initMention){let e;let n=t;e=n.getSelection().size>0?d.Modifier.replaceText(n.getCurrentContent(),n.getSelection(),"@"):d.Modifier.insertText(n.getCurrentContent(),n.getSelection(),"@"),this.setState({editorState:d.EditorState.push(t,e,"insert-fragment")})}if(!e.typeahead&&this.props.typeahead&&"mentions"===this.props.typeahead.type){let{search:e}=(0,I.TE)(t);""===e&&this.state.contactsAnalytics?.trackQueryResult("",this.props.typeahead.mentions.length),this.props.dispatch(h.Qe())}}componentWillUnmount(){this.props.setIsEditorFocused(!1);let e=this.props.pendingUserInvites&&this.props.pendingUserInvites.length>0;e&&!this.props.hasMentionedPendingUserInvite?(this.props.dispatch(f.b({has_mentioned_pending_user_invite:!0})),this.props.setPendingUserInvitesAtom?.([])):e&&this.props.hasMentionedPendingUserInvite&&!this.props.hasMentionedPendingUserInviteTwice&&this.props.dispatch(f.b({has_mentioned_pending_user_invite_twice:!0}))}editHyperlinkFromTooltip(e,t){let n=this.state.editorState.getCurrentContent(),i="",s=0,l=0;if(n.getBlockMap().every((t,n)=>(t&&t.findEntityRanges(t=>t.getEntity()===e,(e,t)=>{i=n||"",s=e,l=t}),!i)),this.props.dispatch(g.jD()),""===i)return;let r=this.state.editorState.getSelection().merge({anchorKey:i,focusKey:i,anchorOffset:s,focusOffset:l});r=(0,I.Qo)(this.state.editorState,r,e);let a=d.EditorState.forceSelection(this.state.editorState,r);this.onChange(a),t&&this.setHyperlinkEditorState(a,t,e)}setHyperlinkEditorState(e,t,n){if(this.props.setHyperlinkLocation&&this.props.setHyperlinkEditorRef&&this.props.editorRef){this.setState({hyperlinkState:{selectionToHyperlink:e.getSelection(),entityKey:n}}),this.props.setHyperlinkLocation(t),this.props.setHyperlinkEditorRef(this.props.editorRef);let i=d.Modifier.applyInlineStyle(e.getCurrentContent(),e.getSelection(),"HIGHLIGHT"),s=d.EditorState.push(e,i,"change-inline-style");this.onChange(s)}}render(){let e=N.DX;e=this.props.className?e+" "+this.props.className:e+" "+N.DL;let t=(0,I.FA)(this.state.editorState);return(0,i.jsx)("div",{className:e,onMouseDown:(0,a.kc)().a11y_new_comments_to_fpl?void 0:this.onMouseDown,onPointerDown:(0,a.kc)().a11y_new_comments_to_fpl?this.onMouseDown:void 0,onContextMenu:this.onContextMenu,onFocus:this.onFocus,onClick:this.onFocus,"data-testid":"editable-typeahead",ref:this.wrapperRef,children:(0,i.jsx)(d.Editor,{"aria-haspopup":"listbox",ariaActiveDescendantID:this.props.typeahead?.type==="mentions"?this.props.activeMentionsId:void 0,ariaControls:this.props.typeahead?.type==="mentions"?_.Qd:void 0,ariaDescribedBy:"",ariaExpanded:this.props.typeahead?.type==="mentions",ariaLabel:this.props.ariaLabel??this.props.placeholderText,customStyleMap:F,editorState:this.state.editorState,handleBeforeInput:this._handleBeforeInput,handleKeyCommand:this.handleKeyCommand,handlePastedFiles:this.handlePastedFiles,handlePastedText:this.handlePastedText,handleReturn:this.handleReturn,keyBindingFn:this.keyBindingFn,onBlur:this.onBlur,onChange:this.onChange,placeholder:t?this.props.placeholderText:void 0,readOnly:this.props.readOnly,role:"combobox",spellCheck:!0,tabIndex:this.props.tabIndex||0})})}}G.displayName="EditableTypeahead"}}]);

//# debugId=b86af0ac-63d9-50f1-92fd-dea9c1442fe3

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/8140b1fd5ebc6d4fa457ee824fb2922aa6f816c9/a88a4c5a-fdca7819afecc84d.min.js.map