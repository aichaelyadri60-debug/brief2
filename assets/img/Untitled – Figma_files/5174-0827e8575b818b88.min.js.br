"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="4cbbaa32-502d-5947-a366-95bd6c8c7ee9")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[5174],{238241:(e,i,n)=>{n.d(i,{E:()=>f,c:()=>j});var t=n(104076),l=n(962856),s=n(416381),r=n(838167),a=n(364031),d=n(937505),o=n(624155),u=n(564914),c=n(423683),p=n(391145),g=n(415567),m=n(434103),x=n(645249);function h({color:e}){if((0,o.w$)(e.type===m.q.STYLE?e.dsStyle:void 0),e.type===m.q.STYLE){let i=e.dsStyle.value;return e.dsStyle.kind===u.AT.SUBSCRIBED_WITHOUT_LIBRARY&&(i.style_type="FILL"),(0,t.jsx)(x.zi,{dsStyle:i,disableTooltip:!0})}return(0,t.jsx)(p.J,{className:"code_and_properties_panel_preview--colorChit--N58wX",paint:e.paint})}function v(){let{chits:e=[],total:i}=(0,r.x1)();return i?(0,t.jsxs)("span",{className:"code_and_properties_panel_preview--colorChitRow--cMZM3",children:[e.map(e=>(0,t.jsx)(h,{color:e},e.type===m.q.RAW?e.encodedPaint:e.dsStyle?.value?.node_id)),i>3&&(0,t.jsxs)("span",{children:["+",i-3]})]}):null}function j({plugin:e}){return(0,t.jsx)(l.E,{variant:"defaultOutline",iconPrefix:(0,t.jsx)(c.d,{plugin:e}),children:e.name})}function f(){let e=(0,a.sQ)(),i=(0,d.AF)(),n=(0,s.v4)(),l=(0,s.AC)(n),r="SECTION"===(0,g.rb)();return i&&e&&"first-party"!==n.type&&l&&!r?(0,t.jsx)(j,{plugin:l}):(0,t.jsx)(v,{})}},838167:(e,i,n)=>{n.d(i,{Fe:()=>N,r_:()=>S,x1:()=>R});var t=n(104076),l=n(716976),s=n(903927),r=n(192075),a=n(315361),d=n(130161),o=n(552001),u=n(266808),c=n(322839),p=n(111297),g=n(835307),m=n(964299),x=n(728233),h=n(405210);function v({isSubsection:e}){let i=(0,c.q6)("EFFECT"),n=(0,c.q6)("TEXT"),l=(0,a.uQ)();return(0,g.Fk)((e,i)=>{if(!i)return!1;let n=e?.get(i);return!!n&&("SECTION"===n.type||"FRAME"===n.type)},l)?(0,t.jsxs)(t.Fragment,{children:[i.visibleItems.length>0&&(0,t.jsx)(p.fu,{name:"Selection styles panel",properties:{resourceType:"Effect",count:i.totalItems},children:(0,t.jsxs)(m.VZ,{title:(0,r.t)("dev_handoff.selection_effect_styles"),recordingKey:"devModeSelectionEffectStyles",isSubsection:e,noPadding:e,noBorder:e,children:[i.visibleItems.map(e=>(0,t.jsx)(j,{styleData:e},e?.key)),i.showMoreButton]})}),n.visibleItems.length>0&&(0,t.jsx)(p.fu,{name:"Selection styles panel",properties:{resourceType:"Text",count:n.totalItems},children:(0,t.jsxs)(m.VZ,{title:(0,r.t)("dev_handoff.selection_text_styles"),recordingKey:"devModeSelectionTextStyles",isSubsection:e,noPadding:e,noBorder:e,children:[n.visibleItems.map(e=>(0,t.jsx)(j,{styleData:e},e?.key)),n.showMoreButton]})})]}):null}function j({styleData:e}){return(0,t.jsx)(x._p,{styleId:e.key,styleNodeId:e.node_id,styleType:e.style_type,onMouseEnter:()=>{u.kTx?.highlightOnlySameStyleInSublayers(e.guids)},onMouseLeave:()=>{u.kTx?.highlightOnlySameStyleInSublayers([])},className:"selection_styles_panel--styleRow--t--sj",children:(0,t.jsx)(h.s0,{styleKey:e.key,styleType:e.style_type,rowWithAccessoryButton:!0})})}var f=n(371952),I=n(3041),_=n(346260),y=n(773726),w=n(425119),b=n(884828),T=n(126494),C=n(109456);function R(){let e=(0,_.SG)(),i=(0,_.VS)(),n=T.N()?.[0],{selectionVariables:t,selectionStyles:r,selectionValues:a}=(0,d.M)(),o=(0,s.d4)(e=>e.mirror.selectionPaints.emptyDueToLimitExceeded);return l.useMemo(()=>{if(!e.length&&!i.length&&!n?.strokeColors.length&&!t.length&&!r.length&&!a.length)return{total:0,chits:[],emptyDueToLimitExceeded:o};let l=e.length+i.length+(n?.strokeColors.length??0)+t.length+r.length+a.length,s=[];for(let l of[e,i,n?.strokeColors,t,r,a])if(l&&0!==l.length&&(s.push(...l.slice(0,3-s.length)),3===s.length))break;return{chits:s,total:l,emptyDueToLimitExceeded:o}},[e,i,n?.strokeColors,t,r,a,o])}function S(){let{total:e,emptyDueToLimitExceeded:i}=R();return e||i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.J,{isSubsection:!0}),(0,t.jsxs)(m.VZ,{title:(0,r.t)("inspect_panel.colors.title"),additionalHeaders:(0,t.jsx)(_.Af,{}),recordingKey:"colors",noBorder:!0,noPadding:!0,isSubsection:!0,children:[(0,t.jsx)(_.ZN,{hideBorder:!0,noPadding:!0,isSubsection:!0}),(0,t.jsx)(T.o,{hideBorder:!0,noPadding:!0,isSubsection:!0}),(0,t.jsx)(o.V,{hideBorder:!0,noPadding:!0,isSubsection:!0})]})]}):null}function N(){(0,f.JG)({enabled:!0});let e=(0,a.uQ)();return(0,g.Fk)((e,i)=>{if(!i)return!1;let n=e?.get(i);return!!n&&!!n.isAlive&&"SECTION"===n.type},e)?(0,t.jsx)(S,{}):(0,t.jsxs)("div",{className:"figma_properties_section--figmaPropertiesSection--H09WT",children:[(0,t.jsx)(w.X,{hideBorder:!0,noPadding:!0,isSubsection:!0}),(0,t.jsx)(C.U,{hideBorder:!0,noPadding:!0,isSubsection:!0}),(0,t.jsx)(S,{}),(0,t.jsx)(h.yg,{hideBorder:!0,noPadding:!0,isSubsection:!0}),(0,t.jsx)(y.F,{hideBorder:!0,noPadding:!0,isSubsection:!0}),(0,t.jsx)(v,{isSubsection:!0}),(0,t.jsx)(I.t,{isSubsection:!0})]})}},303327:(e,i,n)=>{n.d(i,{$b:()=>S,jp:()=>A,gn:()=>F,Be:()=>E});var t=n(104076),l=n(716976),s=n(903927),r=n(962856),a=n(623411),d=n(307829),o=n(266808),u=n(641518),c=n(407899),p=n(192075),g=n(416381),m=n(238241),x=n(886377),h=n(566866),v=n(599441),j=n(506192),f=n(937505),I=n(894210),_=n(881547),y=n(547127),w=n(964299),b=n(954741);let T="code_settings_panel--codeSettingRow--81hbo",C="code_settings_panel--codeSettingLabel--OV3RZ",R="code_settings_panel--codeSettingValueWrapper--UMoQH";function S({onlyShowFirstPartyLanguages:e,disabled:i}){(0,v.YE)();let n=(0,v.Em)(),l=(0,f.AF)();return(0,t.jsx)(w.VZ,{title:(0,p.t)("dev_handoff.code.settings"),recordingKey:"codeSettings",collapsiblePanelKey:"code_settings",additionalHeaders:l?(0,t.jsx)(_.u,{}):void 0,collapsedHeaders:l?(0,t.jsx)(N,{}):void 0,children:(0,t.jsx)("div",{className:"code_settings_panel--codeSettingsPanel--LR2Tt",children:l?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P,{onlyShowFirstPartyLanguages:e,disabled:i}),n&&(0,t.jsx)(k,{disabled:i}),!i&&(0,t.jsx)(B,{recordingKey:"codeSettings.pluginSettings"})]}):(0,t.jsx)("div",{className:T,children:(0,p.tx)("fullscreen.properties_panel.this_file_s_editor_has_disabled_exporting_copying_and_sharing.seat_rename")})})})}function N(){let e=(0,g.v4)(),i=(0,g.AC)(e),n=(0,g.P0)().format(e);return"first-party"===e.type?(0,t.jsx)(r.E,{variant:"inactiveOutline",children:n}):i?(0,t.jsx)(m.c,{plugin:i}):null}function P({onlyShowFirstPartyLanguages:e,disabled:i}){return(0,t.jsxs)("div",{className:T,children:[(0,t.jsx)("div",{className:C,children:(0,p.tx)("dev_handoff.code.settings.language")}),(0,t.jsx)("div",{className:R,children:(0,t.jsx)(x.NH,{dropdownId:"DEV_HANDOFF_NO_SELECTION_CODE_LANGUAGE_DROPDOWN",onlyShowFirstPartyLanguages:e,disabled:i})})]})}function k({disabled:e}){let i=(0,g.v4)(),n=(0,v.Bs)(),s=(0,g.QN)(),r=(0,v.RH)(),d=l.useCallback(e=>n(i,s,{unit:e}),[i,n,s]),o=l.useId();return(0,t.jsxs)("div",{className:T,children:[(0,t.jsx)(a.J,{className:C,htmlFor:o,children:(0,p.tx)("dev_handoff.alternative_units.dimension_unit")}),(0,t.jsx)(F,{currentUnit:r,onChangeUnit:d,disabled:e,dropdownId:o})]})}function F({currentUnit:e,onChangeUnit:i,disabled:n,dropdownId:s}){let r=(0,v.wQ)(),a=l.useMemo(()=>new E(r),[r]),o=a.format(e),{manager:u,getTriggerProps:g}=d.b({initialPosition:"bottom"});return(0,t.jsxs)(d.bL,{manager:u,children:[(0,t.jsx)(c.e,{...g({id:s}),"aria-label":(0,p.t)("dev_handoff.alternative_units.dimension_unit_named",{unit:o}),htmlAttributes:{"data-tooltip-type":I.Ib.TEXT,"data-tooltip":(0,p.t)("dev_handoff.alternative_units.dimension_unit"),"data-testid":"dimension_unit"},disabled:n,children:o}),(0,t.jsx)(d.mc,{children:h.zq.map(n=>(0,t.jsx)(d.q7,{onClick:()=>i(n),"aria-checked":n===e,children:a.format(n)},n))})]})}class E{constructor(e){this.scaledUnitName=e}format(e){return e===o.tKW.PIXEL?(0,p.t)("dev_handoff.alternative_units.pixel_unit"):this.scaledUnitName}}function B(e){let i=(0,v.SF)({includeActions:!1});return 0===i.length?null:(0,t.jsx)(t.Fragment,{children:i.map(i=>(0,t.jsx)(D,{item:i,recordingKey:u.Pt(e,`${i.name}`)},i.name))})}function D({item:e,recordingKey:i}){return(0,t.jsxs)("div",{className:T,children:[(0,t.jsx)("div",{className:C,children:e.displayText}),(0,t.jsx)(A,{item:e,recordingKey:i})]})}function A({item:e,recordingKey:i}){let{showing:n,data:r,toggle:a}=(0,j.BK)("CODEGEN_PLUGIN_SETTINGS_DROPDOWN"),d=(0,s.wA)(),o=l.useRef(null),c=e.name===r?.name&&n,p=e.children?.find(e=>e.isChecked)?.displayText??"",g=u.rf(u.Pt(i,"select"),"click",()=>a({data:{name:e.name??""}}));return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{ref:o,className:R,children:(0,t.jsx)(b.uQ,{formatter:{format:e=>e},property:p,onClick:g})}),c&&o.current&&(0,t.jsx)(y.j,{activatePathOnMount:p?[p]:void 0,alwaysShowCheckMarkOffset:!0,dispatch:d,items:e.children??[],lean:"right",leanPadding:8,onSelectItem:e=>{e.callback?.("",null,d)},parentRect:o.current.getBoundingClientRect(),recordingKey:u.Pt(i,"dropdown"),showPoint:!1})]})}},130161:(e,i,n)=>{n.d(i,{L:()=>a,M:()=>d});var t=n(104076),l=n(716976),s=n(322839);let r=l.createContext({selectionVariables:[],selectionStyles:[],selectionValues:[]});function a({children:e}){let{selectionVariables:i,selectionStyles:n,selectionValues:l}=(0,s.MK)();return(0,t.jsx)(r.Provider,{value:{selectionVariables:i,selectionStyles:n,selectionValues:l},children:e})}function d(){return l.useContext(r)}},552001:(e,i,n)=>{n.d(i,{V:()=>I});var t=n(104076),l=n(903927),s=n(293422),r=n(266808),a=n(883765),d=n(630615),o=n(192075),u=n(220729),c=n(130161),p=n(968169),g=n(211862),m=n(624155),x=n(564914),h=n(346260),v=n(964299),j=n(434103),f=n(737139);function I({hideBorder:e,noPadding:i,isSubsection:n}){let{selectionVariables:u,selectionStyles:p,selectionValues:m}=(0,c.M)(),x=(0,l.d4)(g.sS),I=(0,l.d4)(e=>e.mirror.selectionPaints.emptyDueToLimitExceeded),{visibleItems:w,showMoreButton:b}=(0,d.y)({items:[...u,...p,...m],shouldResetOnSelectionChange:!0});return I||w.length?(0,t.jsxs)(v.VZ,{title:(0,o.t)("dev_handoff.selection_colors"),recordingKey:"handoffColorStyles",additionalHeaders:n?void 0:(0,t.jsx)(h.Af,{}),fadedTitle:n,snugTitle:n,noPadding:i,noBorder:e,isSubsection:n,children:[I&&(0,t.jsx)(f.fI,{children:(0,t.jsx)("div",{className:"selection_colors_panel--ignoreLimitButton--US3qr",children:(0,t.jsx)(s.$n,{variant:"secondary",onClick:()=>{(0,a.sx)("Show Selection Paints For Large Selection",{fileKey:x||""}),r.Osy.ignoreLimitWhenCollectingPaints()},children:(0,o.tx)("dev_handoff.selection_colors.show_colors")})})}),w.map((e,i)=>e.type===j.q.STYLE?(0,t.jsx)(_,{colorStyle:e},i):(0,t.jsx)(y,{colorValue:e},i)),b]}):null}function _({colorStyle:e}){let{dsStyle:i,styleGUIDs:n}=e;(0,m.w$)(i);let l=i.value;i.kind===x.AT.SUBSCRIBED_WITHOUT_LIBRARY&&(l.style_type="FILL",l.node_id=i.value.node_id);let s=(0,p.Ku)();return(0,t.jsx)(h.Gz,{color:e,format:s,onMouseEnter:()=>r.Osy.highlightOnlySameStyleInSublayers(n),onMouseLeave:()=>r.Osy.highlightOnlySameStyleInSublayers([])})}function y({colorValue:e}){let{paint:i,encodedPaint:n,valueFormatter:l}=e,s=(0,p.Ku)(),{isVariableRow:r,onMouseEnter:a,onMouseLeave:d,variable:o,variableDisplayName:c}=(0,u.X)({...i,encodedPaint:n,valueFormatter:l});return r?(0,t.jsx)(h.DP,{formattableColor:{...e,variable:{variable:o,variableDisplayName:c}},format:s,onMouseEnter:a,onMouseLeave:d}):(0,t.jsx)(h.DP,{formattableColor:e,format:s,onMouseEnter:a,onMouseLeave:d})}},201975:(e,i,n)=>{n.d(i,{p:()=>x,t:()=>m});var t=n(903927),l=n(437540),s=n(366535),r=n(443192),a=n(4033),d=n(912610),o=n(792028),u=n(417553),c=n(717648),p=n(447584),g=n(498011);function m(e,i,n){let{appModel:m,selectedView:x}=(0,l.R)(e=>({appModel:e.mirror.appModel,selectedView:e.selectedView})),h=(0,t.wA)(),v=(0,a.cW)()[e],j=(0,d.uF)(v),f=(0,a.Be)(),I=f.plugins[e]||f.orgPlugins[e]||j,_=Object.values((0,a.$1)()).find(i=>i.plugin_id===e),y=_?.manifest.menu&&_.manifest.menu.length>0&&!(0,d.LW)(_)?(0,p.z)(_.manifest.menu,_):[],w=I.manifest.menu&&I.manifest.menu.length>0&&!(0,d.LW)(I)?(0,p.z)(I.manifest.menu,I):[],b=(0,c.jv)(w.map(e=>(0,g.q)(e,e=>()=>i(e))),{appModel:m,selectedView:x}),T=(0,c.jv)(y.map(e=>(0,g.q)(e,e=>()=>n(e))),{appModel:m,selectedView:x});if(!_)return b;if(!v||v&&!v.current_plugin_version_id)return T;let C=[];return _.error?C.push({displayText:"\u26A0 In-development version",callback:()=>{h((0,s.to)({type:u.r,data:{dispatch:h,error:_.error,resourceType:o.bD.PLUGIN},showModalsBeneath:!0}))}}):C.push({displayText:"In-development version",...T.length>0?{children:T}:{callback:()=>{"figma"===(0,d.T)()&&(h(r.b({seen_published_plugin_onboarding_modal:!0})),h(r.b({seen_development_plugin_onboarding_modal:!0}))),n()}}}),C.push({displayText:"Published version",...b.length>0?{children:b}:{callback:()=>{"figma"===(0,d.T)()&&(h(r.b({seen_published_plugin_onboarding_modal:!0})),h(r.b({seen_development_plugin_onboarding_modal:!0}))),i()}}}),C}function x(e,i){let n=(0,t.d4)(e=>e.mirror.appModel),l=(0,t.d4)(e=>e.selectedView),s=(0,a.cW)()[e],r=(0,d.uF)(s),o=r.manifest.menu&&r.manifest.menu.length>0?(0,p.z)(r.manifest.menu,r):[];return(0,c.jv)(o.map(e=>(0,g.q)(e,e=>()=>i(e))),{appModel:n,selectedView:l})}},327439:(e,i,n)=>{n.d(i,{pG:()=>G,qs:()=>U});var t=n(104076),l=n(716976),s=n(54527),r=n(404377),a=n(189311),d=n(754245),o=n(903927),u=n(454851),c=n(853943),p=n(266808),g=n(795033),m=n(824570),x=n(166887),h=n(559954),v=n(665261),j=n(1188),f=n(236631),I=n(192075),_=n(549571),y=n(147046),w=n(475034),b=n(92063),T=n(201975),C=n(489175),R=n(819851),S=n(4232),N=n(4033),P=n(772523),k=n(506192),F=n(436648),E=n(792028),B=n(894210),D=n(830178),A=n(270154),O=n(423683),M=n(547127),L=n(215853),V=n(966990);function U(){let e=(0,A.VR)(),i=(0,N.x)();return(0,t.jsx)(G,{...e,runPlugin:i})}let G=l.memo(function(e){return!function(){let[e,i]=l.useState(!1);return l.useEffect(()=>{let e=requestAnimationFrame(()=>{i(!0)});return()=>cancelAnimationFrame(e)},[]),e}()?null:(0,t.jsx)(j.tH,{boundaryKey:"PinnedPlugins",fallback:(0,t.jsx)(t.Fragment,{}),children:(0,t.jsxs)(h.hh,{children:[(0,t.jsx)(z,{...e}),(0,t.jsx)(W,{})]})})});function W(){let e=J(),i=!!e,[n,s]=l.useState({x:0,y:0});return l.useEffect(()=>{if(i){let e=e=>{s({x:e.clientX,y:e.clientY})};return window.addEventListener("mousemove",e),()=>window.removeEventListener("mousemove",e)}},[i]),e?d.createPortal((0,t.jsx)(O.V,{plugin:e,className:f.s.h16.w16.bRadius2.$,style:{position:"fixed",left:n.x-8,top:n.y-8,pointerEvents:"none",zIndex:1e5}}),document.body):null}function z(e){let{pinnedPlugins:i,unpinPlugin:n,movePin:s,runPlugin:r}=e,a=(0,g.md)(D.be),[d,u]=l.useState(!1),c=J(),p=(0,o.wA)(),{shownPlugins:x,overflowPlugins:h}=i.length>3?{shownPlugins:i.slice(0,2),overflowPlugins:i.slice(2)}:{shownPlugins:i,overflowPlugins:[]},v=a?.plugin_id??null,j=h.findIndex(e=>e.plugin_id===v);if(-1!==j){let e=h[j];c||h.splice(j,1),x.push(e)}let I=x[x.length-1]?.plugin_id,_=(0,m.k9)(()=>new Set(i.map(e=>e.plugin_id)),[i]);return l.useEffect(()=>{p(w.Vg({resourceType:E.bD.PLUGIN,resourceIds:Array.from(_)}))},[_,p]),(0,t.jsx)("div",{className:f.s.flex.flexRow.flexGrow1.itemsEnd.$,"data-testid":"pinned-plugins",children:(0,t.jsxs)("div",{className:"pinned_plugins--pins--1aHI1",children:[(0,t.jsx)(K,{target:{type:"begin"},variant:"vertical"}),x.map(e=>{let i=e.plugin_id===v&&!!c&&-1!==j;return(0,t.jsxs)("div",{style:{visibility:i?"hidden":"visible",display:"contents"},children:[(0,t.jsx)(q,{plugin:e,unpinPlugin:n,movePin:s,runPlugin:r,setIsDropdownShown:u}),(0,t.jsx)(K,{target:{type:"after",id:e.plugin_id},variant:"vertical",disabled:i})]},e.plugin_id)}),h.length>0&&(0,t.jsx)(H,{isDropdownShown:!!c||d,setIsDropdownShown:u,plugins:h,unpinPlugin:n,lastShownPluginID:I,movePin:s,runPlugin:r})]})})}function q({plugin:e,unpinPlugin:i,movePin:n,runPlugin:r,setIsDropdownShown:a}){let d=(0,S.Gt)(e.plugin_id,"pinned"),u=(0,g.md)(D.be),c=u?.plugin_id??null,m=(0,x.U)(),h=l.useRef(null),v=(0,_._I)(),j=(0,R.m0)()&&!v,I=(0,o.wA)(),w=(0,k.Um)(),C=(0,T.p)(e.plugin_id,d),N=C.length>0,E=(0,V.yG)(e.plugin_id,"pinned")&&N,A=l.useCallback(i=>{if(N){E?I(y.oB()):I((0,V.dr)({pluginId:e.plugin_id,tileType:"pinned"}));return}d()},[N,d,E,I,e.plugin_id]),[{isDragging:L},U]=(0,s.i)(()=>({type:"pinned-plugin",collect:e=>({isDragging:!!e.isDragging()}),item:e,canDrag:()=>c!==e.plugin_id&&!j,end:(i,t)=>{let l=t.getDropResult();t.didDrop()&&l&&n(e.plugin_id,l)}}),[j,n,c,e.plugin_id]),G=w?.type===Y&&w.data.pluginId===e.plugin_id,W=l.useCallback(i=>{i.stopPropagation(),i.preventDefault(),G?I(y.oB()):I(y.j7({type:Y,data:{targetRect:i.currentTarget.getBoundingClientRect(),pluginId:e.plugin_id}}))},[I,G,e.plugin_id]),z=h.current?.getBoundingClientRect();return(0,t.jsxs)("div",{className:f.s.relative.$,ref:h,children:[(0,t.jsx)("button",{className:u?.plugin_id===e.plugin_id?"pinned_plugins--runningPin--SFxzi pinned_plugins--basePin--ivx6q":"pinned_plugins--pin--QIbCP pinned_plugins--basePin--ivx6q","data-tooltip-type":G||L?void 0:B.Ib.TEXT,"data-tooltip":G||L?void 0:e.name,onClick:i=>{j?((0,P.ax)(p._gJ.PLUGIN),I(b.IN({fdPreviewResource:{id:e.plugin_id,type:F.sk.PLUGIN}}))):N?A(i):r&&((0,P.ax)(p._gJ.PLUGIN),c!==e.plugin_id&&(d(),m("Dev Handoff Ran Pinned Plugin",{pluginId:e.plugin_id})),a(!1))},onContextMenu:W,children:(0,t.jsx)(O.V,{plugin:e,draggable:!1,className:f.s.h16.w16.bRadius2.$,ref:U,style:{opacity:L?.5:1}})}),G&&(0,t.jsx)($,{plugin:e,unpinPlugin:i}),E&&z&&(0,t.jsx)(M.j,{showPoint:!1,items:C,onSelectItem:i=>{i.callback&&(i.callback("",null,I),a(!1),m("Dev Handoff Ran Pinned Plugin Submenu",{pluginId:e.plugin_id}))},parentRect:z,dispatch:I,lean:"left"})]})}function H({plugins:e,unpinPlugin:i,lastShownPluginID:n,isDropdownShown:s,setIsDropdownShown:r,movePin:a,runPlugin:d}){let o=l.useRef(null);return l.useEffect(()=>{let e=e=>{o.current&&!o.current.contains(e.target)&&r(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[r]),(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"pinned_plugins--dotContainer--SMpVn",ref:o,children:[(0,t.jsx)(u.d,{recordingKey:"overflow_pins","aria-expanded":!1,onClick:()=>{r(!s)},"aria-label":(0,I.t)("dev_handoff.inspect_panel.more_plugins"),htmlAttributes:{onMouseDown:C.dG,"data-tooltip-type":B.Ib.TEXT,"data-tooltip":(0,I.t)("dev_handoff.inspect_panel.more_plugins")},children:(0,t.jsx)(c.J,{})}),s&&(0,t.jsxs)("div",{className:"pinned_plugins--dropdown--qIr18",children:[(0,t.jsx)(K,{target:{type:"after",id:n},variant:"horizontal"}),e.map(e=>(0,t.jsxs)(l.Fragment,{children:[(0,t.jsx)(q,{plugin:e,unpinPlugin:i,movePin:a,runPlugin:d,setIsDropdownShown:r}),(0,t.jsx)(K,{target:{type:"after",id:e.plugin_id},variant:"horizontal"})]},e.plugin_id))]})]})})}function $({plugin:e,unpinPlugin:i}){let n=(0,k.Um)();return(0,t.jsx)(L.Cf,{targetRect:n?.data.targetRect,lean:"left",minWidth:64,maxWidth:120,disableDropdownScrollContainer:!0,propagateCloseClick:!0,children:(0,t.jsx)(v.c$,{onClick:()=>i(e.plugin_id),children:(0,I.tx)("dev_handoff.inspect_panel.unpin")})})}function K({target:e,variant:i,disabled:n=!1}){let[{isOver:l},s]=(0,r.H)(()=>({accept:"pinned-plugin",drop:()=>e,collect:e=>({isOver:!!e.isOver()}),canDrop:()=>!n}),[e,n]),a={position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",flexGrow:"begin"===e.type?1:0,..."vertical"===i?"begin"===e.type?{position:"relative",justifyContent:"end",minWidth:16,height:24,marginRight:-8}:{width:16,height:24,top:0,left:-8}:{width:24,height:16,top:-8,left:0}};return(0,t.jsx)("div",{style:{position:"relative",flexGrow:"begin"===e.type?1:0,width:0,height:0,display:"flex",overflow:"visible",zIndex:1},children:(0,t.jsx)("div",{style:a,ref:s,children:l&&(0,t.jsx)(Z,{variant:i,target:e})})})}function Z({variant:e,target:i}){return(0,t.jsx)("div",{style:{background:"var(--color-icon-brand)",..."horizontal"===e?{height:2,width:32}:{height:32,width:2},..."begin"===i.type?{marginRight:6}:{}}})}function J(){let e=(0,a.u)(),[i,n]=l.useState(null);return l.useEffect(()=>e.getMonitor().subscribeToStateChange(()=>{"pinned-plugin"===e.getMonitor().getItemType()?n(e.getMonitor().getItem()):n(null)}),[e,n]),i}let Y="PINNED_PLUGIN_DROPDOWN"},698162:(e,i,n)=>{n.d(i,{_:()=>v,n:()=>h});var t=n(104076),l=n(716976),s=n(420680),r=n(706903);let a=(0,l.memo)(function(e){return(0,t.jsxs)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:[(0,t.jsx)("path",{fill:"var(--fpl-icon-color-3, var(--color-icon-tertiary))",d:"M8 6.5A1.5 1.5 0 0 1 9.5 5h5A1.5 1.5 0 0 1 16 6.5v11.597c0 .89-1.074 1.336-1.705.71L12 16.525l-2.295 2.28c-.631.627-1.705.18-1.705-.71z"}),(0,t.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"m12 15.116.705.7L15 18.096V6.5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0-.5.5v11.597l2.295-2.28zm0 1.41 2.295 2.28c.631.627 1.705.18 1.705-.71V6.5A1.5 1.5 0 0 0 14.5 5h-5A1.5 1.5 0 0 0 8 6.5v11.597c0 .89 1.074 1.336 1.705.71z",clipRule:"evenodd"})]})});var d=n(812714),o=n(511570),u=n.n(o),c=n(140490),p=n(192075),g=n(894210),m=n(822034),x=n(824079),h=(e=>(e.DETAIL="detail",e.TILE="title",e.FIGJAM_PLUGIN_ROW="figjam_plugin_row",e))(h||{});let v=(0,c._)(function(e){let{isSavedForUser:i,save:n,unsave:l}=(0,m.QK)(e.resourceId,e.resourceType);return(0,t.jsx)(j,{onClick:e=>{i?l():n(),e.stopPropagation()},isSaved:i,parentView:e.parentView,isFauxFocused:e.isFauxFocused})},"ResourceSaveButton");function j(e){let i="title"===e.parentView?u()({"save_button--showOnFocus--IJG5J":(0,d.kc)().figjam_a11y_inserts_modal&&!e.isSaved,[x.Xb]:!e.isSaved,[x.ez]:e.isSaved||!!e.isFauxFocused}):"figjam_plugin_row"===e.parentView?x._P:"",{SaveIcon:n,SaveFilledIcon:o}=l.useMemo(()=>(e.parentView,{SaveIcon:r.T,SaveFilledIcon:a}),[e.parentView]);return(0,t.jsx)("div",{className:i,children:(0,t.jsx)(s.K,{onClick:e.onClick,"aria-label":e.isSaved?(0,p.t)("community.saves.remove_from_saves"):(0,p.t)("community.saves.save"),"aria-pressed":e.isSaved,htmlAttributes:{"data-tooltip-type":g.Ib.TEXT,"data-tooltip":e.isSaved?(0,p.t)("community.saves.remove_from_saves"):(0,p.t)("community.saves.save")},children:e.isSaved?(0,t.jsx)(o,{}):(0,t.jsx)(n,{})})})}},966990:(e,i,n)=>{n.d(i,{Cg:()=>eT,GJ:()=>eq,R7:()=>ex,dr:()=>eW,ff:()=>ey,tO:()=>eU,yG:()=>ez});var t=n(104076),l=n(716976),s=n(903927);if(443==n.j)var r=n(276800);var a=n(382629),d=n(936031),o=n(420680),u=n(740681),c=n(333985),p=n(853943),g=n(170627),m=n(511570),x=n.n(m),h=n(633065),v=n(140490),j=n(225686),f=n(555013),I=n(848561),_=n(652539),y=n(236631),w=n(192075),b=n(659062),T=n(911990),C=n(208632),R=n(45468),S=n(159240),N=n(950382),P=n(860120),k=n(15329),F=n(147046),E=n(443192),B=n(111297),D=n(201975),A=n(819851),O=n(4232),M=n(4033),L=n(249586),V=n(548883),U=n(36362),G=n(156134),W=n(506192),z=n(288747),q=n(944350),H=n(912610),$=n(436648),K=n(792028),Z=n(437761),J=n(894210),Y=n(167860),Q=n(423683),X=n(995104),ee=n(874216),ei=n(702388),en=n(611373),et=n(547127),el=n(721187),es=n(631722),er=n(820579),ea=n(698162),ed=n(196497),eo=n(487030),eu=n(991104),ec=n(213233),ep=n(824079),eg=n(957897),em=n(586486),ex=(e=>(e.COMMUNITY="community",e.RECENT="recent",e.DEVELOPMENT="development",e.DEVELOPMENT_MISSING_LOCAL="development_missing_local",e.ORG_PRIVATE="org_private",e.SAVED="saved",e.INVITED="invited",e))(ex||{});function eh(e){let i=(0,s.d4)(e=>e.orgById);if(e.resource.is_private){let n=e.resource?.org_id&&i[e.resource.org_id]?.name;return(0,t.jsx)(u.s,{className:ep.Sx,"data-tooltip-type":J.Ib.TEXT,"data-tooltip":n?(0,w.t)("community.plugins.private_for_plugin_org_name",{orgName:n}):(0,w.t)("community.plugins.private_for_plugin_org")})}return(0,t.jsx)(t.Fragment,{})}let ev=l.createContext(null);function ej(){return(0,a.sR)(l.useContext(ev),"Must be wrapped within <FdBrowseWidgetTileContext.Provider>")}let ef=l.createContext(null);function eI(){return(0,a.sR)(l.useContext(ef),"Must be wrapped within <FdBrowsePluginTileContext.Provider>")}function e_(e,i,n){let t=l.useRef(null),s=l.useCallback(()=>{t.current&&t.current.click()},[t]),{setKeyboardNavigationElement:r,isFauxFocused:a,keyboardNavigationItem:d}=(0,I.M3)({path:i||[0],fauxClick:s,id:e}),o=n&&i&&i.length>=2&&i[0]===ec.B6&&0===i[1];return l.useEffect(()=>{o&&d?.fauxFocus()},[o,d]),{setKeyboardNavigationElement:r,isFauxFocused:a,keyboardNavigationButtonRef:t}}let ey=(0,v._)(function({resourceId:e,type:i,keyboardNavigationPath:n,shouldFocusFirstItem:s}){let r;let{activeTab:a,viewResource:d}=(0,ec.IT)(),o=(0,M.$1)(),u="development"===i?Object.values(o).find(i=>String(i.localFileId)===e):null,c=u?.plugin_id,p=l.useCallback(()=>d({id:c??e}),[e,d,c]),g=l.useMemo(()=>a===$.sk.WIDGET?{viewWidgetDetails:p,keyboardNavigationPath:n,shouldFocusFirstItem:s}:{viewPluginDetails:p,keyboardNavigationPath:n,shouldFocusFirstItem:s},[a,n,p,s]);if(a===$.sk.WIDGET){switch(i){case"community":r=(0,t.jsx)(eM,{widgetId:e});break;case"recent":r=(0,t.jsx)(eE,{widgetId:e,type:"recent"});break;case"development":r=(0,t.jsx)(eA,{localFileId:e});break;case"development_missing_local":r=(0,t.jsx)(eA,{widgetId:e});break;case"org_private":r=(0,t.jsx)(eD,{widgetId:e});break;case"saved":r=(0,t.jsx)(eB,{widgetId:e,type:"saved"});break;case"invited":r=(0,t.jsx)(eO,{widgetId:e});break;default:return null}return(0,t.jsx)(ev.Provider,{value:g,children:r})}switch(i){case"community":r=(0,t.jsx)(eb,{pluginId:e});break;case"recent":r=(0,t.jsx)(ew,{pluginId:e});break;case"development":r=(0,t.jsx)(eN,{localFileId:e});break;case"development_missing_local":r=(0,t.jsx)(eN,{pluginId:e});break;case"org_private":r=(0,t.jsx)(eP,{pluginId:e});break;case"saved":r=(0,t.jsx)(eR,{pluginId:e,type:"saved"});break;case"invited":r=(0,t.jsx)(eC,{pluginId:e});break;default:return null}return(0,t.jsx)(ef.Provider,{value:g,children:r})},"FdBrowseResourceTile");function ew({pluginId:e}){let i=(0,M.b4)()[e],n=(0,M.cW)()[e],l=(0,V.tw)(n);return i?(0,Z.ZQ)(i)?(0,t.jsx)(eN,{localFileId:i.localFileId.toString(),isRecentTile:!0}):l?null:(0,t.jsx)(eR,{pluginId:i.plugin_id,type:"recent"}):null}function eb(e){let i=(0,M.cW)()[e.pluginId];if(e.plugin&&(i=e.plugin),!i)return null;let n=(0,H.uF)(i),{description:l,tagline:s}=n,r=(0,ec.fO)(i),a=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:ep.y7,children:(0,k.G8)({tagline:s,description:l},j.$J)}),(0,t.jsx)("div",{className:ep.Yl,children:r})]});return(0,t.jsx)(eF,{pluginVersion:n,subheader:a,pluginId:e.pluginId,primaryCTAButton:e.ctaButton,alwaysShowPrimaryCTA:e.alwaysShowCta,isDevModeWizard:e.isDevModeWizard,onClick:e.onClick,isCommunityPreview:!0})}function eT({plugin:e,ctaButton:i,onClick:n}){let l={viewPluginDetails:r.lQ,keyboardNavigationPath:void 0,shouldFocusFirstItem:void 0};return(0,t.jsx)(ef.Provider,{value:l,children:(0,t.jsx)(eb,{pluginId:e.id,plugin:e,ctaButton:i,alwaysShowCta:!0,isDevModeWizard:!0,onClick:n})})}function eC(e){let i=(0,M.cW)()[e.pluginId],n=(0,s.wA)(),r=l.useCallback(()=>{n(F.oB())},[n]);if(!i)return null;let a=(0,H.uF)(i),{description:d,tagline:o}=a,u=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:ep.Pg,children:(0,k.G8)({tagline:o,description:d},j.$J)}),(0,t.jsx)("div",{className:ep.Yl,children:(0,ec.fO)(i)})]});return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(eF,{pluginVersion:a,subheader:u,pluginId:e.pluginId,onClick:r,showEditorTypeIcon:!0,isNotification:!0,metadataOverrideNode:(0,t.jsx)(er.PE,{resource:i})})})}let eR=l.memo(function(e){let i=(0,M.Be)(),n=i.plugins[e.pluginId]||i.orgPlugins[e.pluginId],s=(0,M.b4)()[e.pluginId],r=(0,M.cW)()[e.pluginId],a=l.useMemo(()=>"recent"===e.type?s:"org_private"===e.type?(0,H.uF)(r):n,[n,e.type,r,s]),d=(0,W.Um)(),o=d?.type===eu._n&&d.data.pluginId===e.pluginId&&d.data.targetRect&&d.data.viewType===e.type,u=ez(e.pluginId,e.type);return(0,t.jsx)(eS,{pluginId:e.pluginId,type:e.type,dropdownIsShown:o,runOptionsDropdownIsShown:u,version:a})}),eS=l.memo(function(e){let{dropdownIsShown:i,version:n}=e,r=(0,s.wA)(),{viewPluginDetails:a}=eI(),d=l.useCallback(n=>{n.stopPropagation(),i?r(F.oB()):r(F.j7({type:eu._n,data:{pluginId:e.pluginId,targetRect:n.currentTarget.getBoundingClientRect(),viewType:e.type}}))},[i,r,e.pluginId,e.type]),o=(0,O.dR)(e.pluginId,"universal-insert"),u=(0,O.Gt)(e.pluginId,"universal-insert"),c=(0,D.t)(e.pluginId,u,o),p=c.length>0,g=e.runOptionsDropdownIsShown&&p,m=l.useRef(null),{validatePublishedPluginInOrgAllowlist:x,isPluginBlockedByAllowlist:h}=(0,M.j1)(e.pluginId),v=(0,O.RK)(e.pluginId),j=l.useCallback(i=>{if(i?.stopPropagation(),x()){if(p){g?r(F.oB()):r(eW({pluginId:e.pluginId,tileType:e.type}));return}v?u():o(),r(E.b({seen_published_plugin_onboarding_modal:!0})),r(E.b({seen_development_plugin_onboarding_modal:!0}))}},[x,p,v,r,g,e.pluginId,e.type,u,o]),f=m.current?.getBoundingClientRect();if(!n)return null;let I=!!(g&&f)||i,_=(0,t.jsx)(ea._,{resourceId:e.pluginId,resourceType:K.vt.PLUGIN,parentView:ea.n.TILE,isFauxFocused:I});return(0,t.jsxs)("div",{children:[(0,t.jsx)(eF,{isFauxFocused:I,onClick:j,onOptionsClick:d,optionsButtonIsActive:i,pluginId:e.pluginId,pluginVersion:n,primaryCTAButton:_,secondaryIcon:(0,t.jsx)(eh,{resource:n}),showOnClickDropdownChevron:p,visuallyDisabled:h}),(0,t.jsx)("div",{ref:m}),g&&f&&(0,t.jsx)(et.j,{showPoint:!1,lean:"center",items:c,onSelectItem:e=>{e.callback&&e.callback("",null,r)},parentRect:f,dispatch:r}),i&&(0,t.jsx)(eu.EJ,{viewResource:a,plugin:n})]})});function eN(e){let i=(0,s.wA)(),n=(0,M.nl)({allowNonVsCodePluginsInVsCode:!0}),r=e.localFileId?n[e.localFileId]:void 0,a=r?r.plugin_id:e.pluginId,d=(0,M.kd)({includePendingPublishers:!1}).find(e=>e.id===a),o=d?(0,H.uF)(d):void 0,p=(0,W.Um)(),{viewPluginDetails:g}=eI(),m=p?.type===eu.lD&&p?.data.localFileId===e.localFileId&&p?.data.pluginId===a,x=l.useCallback(n=>{if(n.stopPropagation(),m)i(F.oB());else{let t=n.currentTarget.getBoundingClientRect();i(F.j7({type:eu.lD,data:{localFileId:e.localFileId,pluginId:a,targetRect:t}}))}},[i,e.localFileId,a,m]),h=(0,O.Gt)(a,"universal-insert"),v=(0,O.dR)(a,"universal-insert"),j=(0,D.t)(a,h,v),f=j.length>0,I=l.useRef(null),y=I.current?.getBoundingClientRect(),b=ez(a,e.isRecentTile?"recent_development":"development")&&f,T=l.useCallback(()=>{if(f){b?i(F.oB()):a&&i(eW({pluginId:a,tileType:e.isRecentTile?"recent_development":"development"}));return}v()},[f,v,b,i,a,e.isRecentTile]);if(!r&&!d)return null;let R=(0,t.jsx)(el.A,{localResource:r,publishedResource:d}),S=d&&(0,k.AC)(d),N=d&&o?.redirect_icon_url,P=d&&!S?d.roles.is_public?c.$:u.s:void 0,E=(0,t.jsx)(C.Ex,{height:"16",children:(0,t.jsx)("span",{children:(0,w.tx)("universal_insert.development")})});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eF,{icon:N?void 0:(0,t.jsx)(_.B,{svg:em.A,className:ep.Bx}),inReview:S,localPlugin:r,onClick:T,onOptionsClick:x,optionsButtonIsActive:m,pluginId:a,pluginVersion:o,publishingStatusIcon:P,secondaryIcon:E,showEditorTypeIcon:!1,showOnClickDropdownChevron:f,subheader:R}),(0,t.jsx)("div",{ref:I}),b&&y&&(0,t.jsx)(et.j,{showPoint:!1,lean:"center",items:j,onSelectItem:e=>{e.callback&&e.callback("",null,i)},parentRect:y,dispatch:i}),m&&(r?(0,t.jsx)(eu.T9,{localResource:r,viewResource:g}):(0,t.jsx)(eu.T9,{publishedResource:d,viewResource:g}))]})}function eP(e){return(0,M.cW)()[e.pluginId]?(0,t.jsx)(eR,{pluginId:e.pluginId,type:"org_private"}):null}function ek({pluginId:e,name:i,icon:n,iconUrl:s}){let[r,a]=l.useState(!!n);return(0,t.jsx)("div",{className:x()(r?ep.lP:ep.vt),children:n||(0,t.jsx)(Q.V,{plugin:{name:i,plugin_id:e,redirect_icon_url:s??""},loading:"lazy",alt:`${i} icon`,onLoad:()=>a(!0)})})}function eF(e){let i;let n=e.pluginVersion?.name??e.localPlugin?.name??"",l=e.pluginVersion?.redirect_icon_url,{isPluginSetToAutoRun:s}=(0,Y.bE)(e.pluginVersion??null),r=e.localPlugin?e.localPlugin.manifest.editorType:e.pluginVersion?.manifest.editorType,a=!e.subheader,{viewPluginDetails:u,keyboardNavigationPath:c,shouldFocusFirstItem:g}=eI(),{setKeyboardNavigationElement:m,isFauxFocused:h,keyboardNavigationButtonRef:v}=e_(`plugin_${n}`,c,!!g),j=(0,B.j6)(),f=(0,V.ul)(e.pluginId),I=Object.values((0,M.$1)()).find(i=>String(i.plugin_id)===e.pluginId),N=(0,H.uF)(f),P=(0,H.pk)(N),k=(0,V.EO)(f)&&!I,F=(0,V.OY)(f),E=(0,V.gn)(f)&&!I,D=(0,z.sZ)(),O=(0,M.ll)(),G=!I&&(0,U.BF)({org:D,extensionVersion:N??e.pluginVersion,isWidget:!1,allowlistedExtensions:O}),W=e.isCommunityPreview&&!G&&!e.isDevModeWizard,q=k&&!F?(0,t.jsx)(eH,{plugin:f,hideFreeTrialBadge:!0}):E?(0,t.jsx)(es.ur,{}):W?(0,t.jsx)(eU,{pluginId:e.pluginId,buttonRef:v,usePrimaryButtonStyles:!0}):void 0,$=(0,R.QP)({resource:f,validBadges:[R.op.FREEMIUM,R.op.OFF_PLATFORM,R.op.PURCHASED]}),K=e.metadataOverrideNode??(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:ep.FV,children:[(0,t.jsxs)(T.Y,{spacing:4,children:[(0,t.jsx)("div",{className:x()(ep.B6,{[y.s.colorTextDisabled.$]:e.visuallyDisabled}),children:(0,t.jsx)(d.hE,{children:n})}),s&&(0,t.jsx)(C.Ex,{height:"16",children:(0,w.t)("universal_insert.auto_run")}),e.inReview&&(0,t.jsx)(S.L,{height:"16"}),!!e.secondaryIcon&&e.secondaryIcon,$&&!E&&(0,t.jsx)("div",{className:ep.UK,children:$}),e.publishingStatusIcon&&(0,t.jsx)("div",{className:ep.TW,children:(0,t.jsx)(e.publishingStatusIcon,{})}),e.showOnClickDropdownChevron&&(0,t.jsx)(_.B,{svg:eg.A,className:ep.o2})]}),e.subheader&&(0,t.jsx)("div",{className:ep.ZK,children:e.subheader})]}),q&&(0,t.jsx)(d.HG,{children:(0,t.jsx)("div",{className:ep.D1,children:q})}),e.primaryCTAButton&&(0,t.jsx)(d.HG,{children:(0,t.jsx)("div",{style:b.sx.add({alignSelf:"center"}).$,children:e.primaryCTAButton})}),e.onOptionsClick&&(0,t.jsx)(d.HG,{children:(0,t.jsx)(o.K,{onClick:e.onOptionsClick,"aria-label":(0,w.t)("universal_insert.more_options"),htmlAttributes:{"data-tooltip-type":J.Ib.TEXT,"data-tooltip":(0,w.t)("universal_insert.more_options")},children:(0,t.jsx)(p.J,{})})})]}),Z=function(e,i){if((0,A.m0)());else if(e&&i)return!0;return!1}(e.showEditorTypeIcon,r),Q=(0,A.m0)();return i=Z?(0,t.jsxs)(en.li.IconAndBadgeContainer,{children:[(0,t.jsx)(ek,{pluginId:e.pluginId,name:n,iconUrl:l,icon:e.icon}),(0,t.jsx)(en.li.BadgeContainer,{fromBrowseResourceModal:!0,resourceType:"plugin",children:(0,t.jsx)(en.dn,{editorType:r,is16x16:!0})})]}):Q&&P?(0,t.jsxs)(en.li.IconAndBadgeContainer,{children:[(0,t.jsx)(ek,{pluginId:e.pluginId,name:n,icon:e.icon,iconUrl:l}),(0,t.jsx)(en.li.BadgeContainer,{fromBrowseResourceModal:!0,resourceType:"plugin",children:(0,t.jsx)(en.ZA,{})})]}):(0,t.jsx)(ek,{pluginId:e.pluginId,name:n,icon:e.icon,iconUrl:l}),(0,t.jsx)(d.bL,{"data-testid":"plugin-tile-card",className:ep.gb,children:(0,t.jsxs)("div",{className:x()(a?ep.$C:ep.MJ,h||e.isFauxFocused?ep.c6:void 0,e.isDevModeWizard?ep.NH:void 0),children:[(0,t.jsx)(d.O6,{className:ep.FO,onClick:()=>{if((0,L.Cu)({trackingContext:j.name,pluginId:e.pluginId}),k&&!F||G){u();return}if(e.onClick){e.onClick();return}u()},ref:e=>{W||(v.current=e),c&&m(e)},"data-testid":"plugin-tile-button"}),(0,t.jsxs)("div",{className:ep.ot,children:[e.isNotification&&(0,t.jsx)("div",{className:ep.Vx}),i]}),K]})})}function eE(e){let i=(0,M.YO)()[e.widgetId],n=(0,M.ZT)()[e.widgetId],l=(0,V.tw)(n);return i?(0,Z.ZQ)(i)?(0,t.jsx)(eA,{localFileId:i.localFileId.toString(),isRecentTile:!0}):l?null:(0,t.jsx)(eB,{widgetId:e.widgetId,type:"recent"}):null}function eB(e){let i=(0,s.wA)(),{viewWidgetDetails:n}=ej(),r=(0,M.ZT)()[e.widgetId],a=(0,M.Be)().widgets[e.widgetId],d=(0,M.YO)()[e.widgetId],o="recent"===e.type?d:"org_private"===e.type?(0,H.uF)(r):a,u=(0,W.Um)(),c=u?.type===eu._n&&u.data.widgetId===e.widgetId&&u.data.targetRect&&u.data.viewType===e.type,p=(0,M.Ud)(e.widgetId),m=l.useRef(null),x=(0,M.WK)(e.widgetId),v=h.eD&&!!p&&!x,j=!!x||v,f=(0,W.Um)(),I=l.useRef(null),_=u?.type===eo.cH&&u.data.widgetId===e.widgetId,{isWidgetBlockedByAllowlist:y}=(0,M.Ys)(e.widgetId),w=l.useCallback(n=>{if(j){if(n.preventDefault(),n.stopPropagation(),_)i(F.oB());else{let t=n.currentTarget.getBoundingClientRect();i(F.j7({type:eo.cH,data:{targetRect:t,widgetId:e.widgetId}}))}}},[i,e.widgetId,_,j]),b=l.useCallback(()=>{(0,G.j)({pluginID:e.widgetId,widgetName:o.name,pluginVersionID:o.id,triggeredFrom:"universal-insert"})},[o,e.widgetId]),T=l.useCallback(e=>{j?w(e):g.l7.user("insert-published-widget",()=>{b()})},[b,w,j]),C=l.useCallback(n=>{n.stopPropagation(),c?i(F.oB()):i(F.j7({type:eu._n,data:{widgetId:e.widgetId,targetRect:n.currentTarget.getBoundingClientRect(),viewType:e.type}}))},[c,i,e.widgetId,e.type]);if(!o)return null;if((0,Z.ZQ)(o))return(0,t.jsx)(eA,{localFileId:o.localFileId.toString()});let R=I.current?.getBoundingClientRect(),S=!!(f&&R)||c,N=(0,t.jsx)(ea._,{resourceId:e.widgetId,resourceType:K.vt.WIDGET,parentView:ea.n.TILE,isFauxFocused:S});return(0,t.jsxs)("div",{children:[(0,t.jsx)(eV,{iconUrl:o.redirect_snapshot_url??void 0,isFauxFocused:S,localWidget:x,onClick:T,onOptionsClick:C,optionsButtonIsActive:c,primaryCTAButton:N,secondaryIcon:(0,t.jsx)(eh,{resource:o}),subheader:(0,ec.CF)(o),useHorizontalLayout:!0,visuallyDisabled:y,widget:o,widgetId:e.widgetId}),(0,t.jsx)("div",{ref:m}),f&&R&&(0,t.jsx)(eu.NR,{targetRect:R,widgetId:e.widgetId,lean:"center"}),c&&(0,t.jsx)(eu.EJ,{viewResource:n,plugin:o})]})}function eD(e){return(0,M.ZT)()[e.widgetId]?(0,t.jsx)(eB,{widgetId:e.widgetId,type:"org_private"}):null}function eA(e){let i=(0,s.wA)(),n=(0,M.yQ)(),r=l.useMemo(()=>e.localFileId?n[e.localFileId]:void 0,[n,e.localFileId]),a=(0,M.jg)(),d=r?r.plugin_id:e.widgetId,o=(0,M.bh)({includePendingPublishers:!1}),p=l.useMemo(()=>Object.values(o).find(e=>e.id===d),[o,d]),g=l.useMemo(()=>p&&p.current_plugin_version_id?p.versions[p.current_plugin_version_id]:void 0,[p]),m=(0,W.Um)(),{viewWidgetDetails:x}=ej(),h=m?.type===ei.jZ.DEVELOPMENT_WIDGET_DROPDOWN&&m?.data.isRecentTile===e.isRecentTile&&m?.data.localFileId===e.localFileId&&m?.data.pluginId===d&&m?.data.targetRect,v=l.useCallback(n=>{if(n.stopPropagation(),h)i(F.oB());else{let t=n.currentTarget.getBoundingClientRect();i(F.j7({type:ei.jZ.DEVELOPMENT_WIDGET_DROPDOWN,data:{localFileId:e.localFileId,pluginId:d,isRecentTile:e.isRecentTile,targetRect:t}}))}},[i,e.localFileId,d,e.isRecentTile,h]),j=l.useCallback(()=>{r&&(0,G.j)({pluginID:r.plugin_id,widgetName:r.name,pluginVersionID:"",triggeredFrom:"universal-insert"})},[r]);if(!r&&!p)return null;let f=(0,t.jsx)(el.A,{localResource:r,publishedResource:p}),I=p&&(0,k.AC)(p),_=p&&(0,H.uF)(p).redirect_snapshot_url||e.localFileId&&a[e.localFileId]&&a[e.localFileId].metadata.widgetSnapshotImageSrc||ed.J,y=p&&!I?p.roles.is_public?c.$:u.s:void 0;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eV,{iconUrl:_,inReview:I,localWidget:r,onClick:()=>j(),onOptionsClick:v,optionsButtonIsActive:h,publishingStatusIcon:y,showEditorTypeIcon:!1,subheader:f,useHorizontalLayout:!0,widget:g,widgetId:d}),h&&(r?(0,t.jsx)(eu.T9,{localResource:r,viewResource:x}):(0,t.jsx)(eu.T9,{publishedResource:p,viewResource:x}))]})}function eO(e){let{widgetId:i}=e,n=(0,M.ZT)()[i]??null;if(!n)return null;let l=(0,H.uF)(n),{redirect_snapshot_url:s,manifest:r}=l;return(0,t.jsx)(eV,{widget:l,iconUrl:s??void 0,widgetId:n.id,onClick:e=>e.stopPropagation(),useHorizontalLayout:!0,showEditorTypeIcon:!0,editorType:r.editorType,isNotification:!0,metadataOverrideNode:(0,t.jsx)(er.PE,{resource:n})})}function eM(e){let i=(0,V.J$)(e.widgetId);if(!i)return null;let n=(0,H.uF)(i),l=(0,ec.fO)(i),s=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:ep.rz,children:(0,k.G8)(n,j.$J)}),(0,t.jsx)("div",{className:ep.Yl,children:l})]});return(0,t.jsx)(eV,{widget:n,subheader:s,iconUrl:n.redirect_snapshot_url??void 0,widgetId:e.widgetId})}function eL({useHorizontalLayout:e=!1,onIconClick:i,disabled:n,iconUrl:r="",widget:a,publishedWidget:d,keyboardNavigationButtonRef:o}){let u=l.useMemo(()=>e?[R.op.PRICE]:[R.op.PURCHASED,R.op.OFF_PLATFORM,R.op.FREEMIUM,R.op.PRICE],[e]),c=(0,s.d4)(e=>e.authedActiveCommunityProfile);return(0,t.jsxs)("div",{className:e?ep.Zv:ep.Cq,onClick:i,role:"button",tabIndex:0,children:[n?(0,t.jsx)(X.z,{src:r,context:q._Y.DESIGN}):(0,t.jsx)(ee._,{widget:a,src:r,analytics:{triggeredFrom:"universal-insert"},keyboardNavigationButtonRef:o,context:q._Y.DESIGN}),(0,t.jsx)("div",{className:ep.VJ,children:(0,R.$3)({resource:d,authedActiveCommunityProfile:c,validBadges:u,size:e?"md":"lg"})})]})}let eV=l.memo(function(e){let i=e.localWidget??e.widget??H.lT,{viewWidgetDetails:n,keyboardNavigationPath:l,shouldFocusFirstItem:s}=ej(),{setKeyboardNavigationElement:r,isFauxFocused:a,keyboardNavigationButtonRef:d}=e_(`widget_${i.name}`,l,!!s),u=(0,M.ZT)()[e.widgetId],c=(0,V.EO)(u),g=(0,V.gn)(u),m=u?(0,H.uF)(u):null,h=i.name;m?.name&&m?.name!==""&&(h=m?.name);let v=(0,z.sZ)(),j=(0,M.U6)(),f=!e.localWidget&&(0,U.BF)({org:v,extensionVersion:m??e.widget,isWidget:!0,allowlistedExtensions:j}),I=!!(c||f),_=(0,B.j6)(),C=I?void 0:e=>e.stopPropagation(),R=e.metadataOverrideNode??(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:ep.QF,children:[(0,t.jsx)("div",{className:ep.JW,children:(0,t.jsxs)(T.Y,{spacing:4,verticalAlignItems:"center",children:[(0,t.jsx)("div",{className:x()(ep.Y2,{[y.s.colorTextDisabled.$]:e.visuallyDisabled}),children:h}),e.inReview&&(0,t.jsx)(S.L,{height:"16"}),!!e.secondaryIcon&&e.secondaryIcon,e.publishingStatusIcon&&(0,t.jsx)("div",{className:ep.TW,children:(0,t.jsx)(e.publishingStatusIcon,{})}),g&&(0,t.jsx)("div",{className:ep.Y9,children:(0,t.jsx)(es.xY,{})})]})}),(0,t.jsx)("div",{className:ep.ML,children:e.subheader})]}),e.primaryCTAButton&&(0,t.jsx)("div",{style:b.sx.add({alignSelf:"center"}).$,children:e.primaryCTAButton}),e.onOptionsClick&&(0,t.jsx)(o.K,{"aria-label":(0,w.t)("universal_insert.more_options"),htmlAttributes:{"data-tooltip-type":J.Ib.TEXT,"data-tooltip":(0,w.t)("universal_insert.more_options")},onClick:e.onOptionsClick,children:(0,t.jsx)(p.J,{})})]});return(0,t.jsxs)("div",{className:x()(e.useHorizontalLayout?ep.Gy:ep.BG,a?ep.c6:void 0),onClick:i=>{(0,L.Cu)({trackingContext:_.name,widgetId:e.widgetId}),I?n():e.onClick?e.onClick(i):n()},role:"button",tabIndex:0,ref:l?r:void 0,"data-testid":"widget-tile",children:[(0,t.jsxs)("div",{className:ep.ot,children:[e.isNotification&&(0,t.jsx)("div",{className:ep.Vx}),e.showEditorTypeIcon?(0,t.jsxs)(en.li.IconAndBadgeContainer,{children:[(0,t.jsx)(eL,{useHorizontalLayout:e.useHorizontalLayout,onIconClick:C,disabled:I,iconUrl:e.iconUrl,widget:i,publishedWidget:u,keyboardNavigationButtonRef:d}),(0,t.jsx)(en.li.BadgeContainer,{fromBrowseResourceModal:!0,resourceType:"widget",children:(0,t.jsx)(en.dn,{editorType:e.editorType,is16x16:!0})})]}):(0,t.jsx)(eL,{useHorizontalLayout:e.useHorizontalLayout,onIconClick:C,disabled:I,iconUrl:e.iconUrl,widget:i,publishedWidget:u,keyboardNavigationButtonRef:d})]}),R]})});function eU(e){let i=(0,s.wA)(),n=l.useRef(null),r=(0,W.Um)(),a=(0,M.x)(),d=(0,A.m0)(),o=(0,O.dR)(e.pluginId,"universal-insert"),u=(0,O.Gt)(e.pluginId,"universal-insert"),c=(0,D.t)(e.pluginId,u,o),p=c.length>0,g=ez(e.pluginId,"community"),m=p&&r?.type===e.dropdownShownType&&r?.data.pluginId===e.pluginId,x=g||m,{validatePublishedPluginInOrgAllowlist:h}=(0,M.j1)(e.pluginId),v=(0,O.RK)(e.pluginId),j=l.useCallback(n=>{if(n.stopPropagation(),h()){if(p){x?i(F.oB()):(e.dropdownShownType&&i(F.j7({type:e.dropdownShownType,data:{pluginId:e.pluginId}})),i(eW({pluginId:e.pluginId,tileType:"community"})));return}v?u():o(),i(E.b({seen_published_plugin_onboarding_modal:!0})),i(E.b({seen_development_plugin_onboarding_modal:!0}))}},[h,p,v,i,x,e.dropdownShownType,e.pluginId,u,o]);if(d&&!a)return null;let I=n.current?.getBoundingClientRect(),y=e.usePrimaryButtonStyles?(0,t.jsxs)(f.$$,{onClick:j,className:ep.lI,children:[(0,w.tx)("universal_insert.run"),p&&(0,t.jsx)(_.B,{svg:eg.A,className:ep.sI})]}):(0,t.jsxs)("button",{className:ep.lO,onClick:j,ref:e.buttonRef,children:[(0,w.tx)("universal_insert.run"),p&&(0,t.jsx)(_.B,{svg:eg.A,className:ep.zZ})]});return(0,t.jsxs)("div",{className:e.usePrimaryButtonStyles?ep.od:void 0,"data-testid":"run-plugin-button",children:[(0,t.jsx)("div",{ref:n,children:y}),x&&I&&(0,t.jsx)(et.j,{showPoint:!1,items:c,onSelectItem:e=>{e.callback&&e.callback("",null,i)},parentRect:I,dispatch:i,lean:"left"})]})}let eG="DROPDOWN_TYPE_RUN_PLUGIN_SUBMENU";function eW(e){return F.j7({type:eG,data:e})}function ez(e,i){let n=(0,W.Um)();return n?.type===eG&&n.data.pluginId===e&&i===n.data.tileType}function eq(e){let i=(0,s.wA)(),n=(0,M.ZT)()[e.widgetId],r=(0,M.WK)(e.widgetId),a=(0,M.Ud)(e.widgetId),d=h.eD&&!!a&&!r,o=!!r||d,u=(0,W.Um)(),c=u?.type===eo.cH&&u.data.widgetId===e.widgetId,p=l.useRef(null),m=l.useCallback(n=>{if(o){if(n.preventDefault(),n.stopPropagation(),c)i(F.oB());else{let t=n.currentTarget.getBoundingClientRect();i(F.j7({type:eo.cH,data:{targetRect:t,widgetId:e.widgetId}}))}}},[i,e.widgetId,c,o]),x=l.useCallback(()=>{let e=(0,H.uF)(n);(0,G.j)({pluginID:e.plugin_id,widgetName:e.name,pluginVersionID:e.id,triggeredFrom:"universal-insert"})},[n]),v=l.useCallback(e=>{o?m(e):g.l7.user("insert-published-widget",()=>{x()})},[x,m,o]);if(!n)return null;let j=(0,t.jsxs)(f.$$,{onClick:v,className:ep.lI,children:[(0,w.tx)("universal_insert.add"),o&&(0,t.jsx)(_.B,{svg:eg.A,className:ep.sI})]}),I=p.current?.getBoundingClientRect();return(0,t.jsxs)("div",{className:ep.od,children:[(0,t.jsx)("div",{ref:p,children:j}),c&&I&&(0,t.jsx)(eu.NR,{targetRect:I,widgetId:e.widgetId})]})}function eH(e){let i=(0,V.lt)(e.plugin);return e.plugin.monetized_resource_metadata?(0,t.jsxs)("div",{className:ep.y2,children:[(0,t.jsx)("div",{className:ep.lO,children:(0,P.bV)(e.plugin.monetized_resource_metadata)}),!e.hideFreeTrialBadge&&(0,P.Lt)({resource:e.plugin,payment:i})&&(0,t.jsx)(N.w5,{metadata:e.plugin.monetized_resource_metadata,condensed:!0})]}):null}},94292:(e,i,n)=>{n.d(i,{_:()=>s});var t=n(716976),l=n(104076);let s=(0,t.memo)(function(e){return(0,l.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:(0,l.jsx)("path",{fill:"var(--fpl-icon-color-3, var(--color-icon-tertiary))",fillRule:"evenodd",d:"M8.5 2.568c0-.295.252-.529.543-.478q.521.092 1.009.27c.277.1.379.43.231.685a.544.544 0 0 1-.652.227 5 5 0 0 0-.68-.181.544.544 0 0 1-.451-.523m-4.953 8.58a.54.54 0 0 1 .677.13q.231.266.498.498c.196.17.259.453.13.677-.148.256-.484.332-.71.142a6 6 0 0 1-.737-.737c-.19-.226-.114-.562.142-.71m2.822 1.58a.544.544 0 0 0-.652.227.47.47 0 0 0 .231.685q.487.178 1.01.27a.47.47 0 0 0 .542-.478.544.544 0 0 0-.452-.522 5 5 0 0 1-.68-.182m5.49-9.323a.47.47 0 0 0-.71.142.544.544 0 0 0 .129.677q.266.231.498.498c.17.196.453.259.677.13.256-.148.332-.484.142-.71a6 6 0 0 0-.737-.737m1.096 6.878a.47.47 0 0 0 .685-.231q.178-.487.27-1.01a.47.47 0 0 0-.478-.542.544.544 0 0 0-.523.452q-.066.35-.181.679a.544.544 0 0 0 .227.652m-.36 1.575c.19-.226.114-.562-.142-.71a.544.544 0 0 0-.677.13q-.231.266-.498.498a.54.54 0 0 0-.13.677c.148.256.484.332.71.142q.4-.336.737-.737M10.05 13.64c.277-.1.379-.43.231-.685a.544.544 0 0 0-.652-.227q-.33.114-.68.182a.544.544 0 0 0-.451.522c0 .295.252.529.543.478q.522-.092 1.009-.27M5.717 3.045c.13.225.407.312.652.227q.33-.114.68-.181a.544.544 0 0 0 .45-.523c0-.295-.252-.529-.542-.478q-.522.092-1.009.27c-.277.1-.379.43-.231.685m-1.575.36c.226-.19.562-.114.71.142a.54.54 0 0 1-.13.677 5 5 0 0 0-.498.498.54.54 0 0 1-.677.13c-.256-.148-.332-.484-.142-.71q.336-.4.737-.737M3.045 5.717a.47.47 0 0 0-.685.231 6 6 0 0 0-.27 1.01.47.47 0 0 0 .478.542c.26 0 .473-.197.522-.452q.068-.35.182-.679a.544.544 0 0 0-.227-.652M2.568 8.5c-.295 0-.529.252-.478.543q.092.522.27 1.009c.1.277.43.379.685.231a.544.544 0 0 0 .227-.652 5 5 0 0 1-.182-.68.544.544 0 0 0-.522-.451m10.864-1a.544.544 0 0 1-.523-.452 5 5 0 0 0-.181-.679.544.544 0 0 1 .227-.652.47.47 0 0 1 .685.231q.178.487.27 1.01a.47.47 0 0 1-.478.542",clipRule:"evenodd"})})})},28721:(e,i,n)=>{n.d(i,{I:()=>s});var t=n(716976),l=n(104076);let s=(0,t.memo)(function(e){return(0,l.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,l.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M9 6.804a6 6 0 1 1-2.98 5.694.47.47 0 0 1 .48-.499c.276 0 .498.225.525.5A5 5 0 1 0 8 9h1.5a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5v-3a.5.5 0 0 1 1 0v2.187a6 6 0 0 1 2-1.883m3 2.195a.5.5 0 0 1 .5.5v2.293l1.354 1.354a.5.5 0 0 1-.707.706l-1.5-1.498-.063-.077A.5.5 0 0 1 11.5 12V9.499a.5.5 0 0 1 .5-.5"})})})}}]);

//# debugId=4cbbaa32-502d-5947-a366-95bd6c8c7ee9

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/09513707b520db593cd82b03f95274ce36e548ea/5174-0827e8575b818b88.min.js.map