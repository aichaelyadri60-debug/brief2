"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="8068a5b5-fbf2-5b03-b9b1-b042ae515e0b")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[6632],{285490:(e,t,n)=>{n.d(t,{Lt:()=>r,ai:()=>i,hF:()=>l,kL:()=>o});let o="whiteboard_menu_selector--container--ye4aw",i="whiteboard_menu_selector--chevron--kjs2p",l="whiteboard_menu_selector--input--GTjdY",r="whiteboard_menu_selector--select--nLTil text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L"},298874:(e,t,n)=>{n.d(t,{jk:()=>R});var o=n(104076),i=n(716976),l=n(903927),r=n(276800),a=n(170627),p=n(812714),c=n(324063),u=n(674524),s=n(511570),d=n.n(s),m=n(428710),g=n(851824),h=n(146283),f=n(437540),x=n(294990),_=n(236631),y=n(278491),v=n(41076),N=n(819851),w=n(53537),b=n(356846),j=n(506192),C=n(176203),T=n(894210),I=n(954741),D=n(410527),k=n(965815),V=n(285490);let L="widget_controls--label--YWqiO text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",B="widget_controls--img--bNdQj",A=(0,c.UJ)(e=>e.includes("xmlns")?"data:image/svg+xml;utf8,"+encodeURIComponent(e.trim()):(h.k.warn("Your widget must include the xmlns property on any SVGs used in the property menu. See https://developer.mozilla.org/en-US/docs/Web/SVG/Element/svg for more info"),null),1e3);function P(e){let t=(0,N.E3)(),n=e.icon?A(e.icon):null,i=void 0!==t&&t===C.nT.Design;return n?(0,o.jsx)(M,{label:e.label,propertyName:e.propertyName,href:e.href,size:i?"small":"large",tooltip:e.tooltip,icon:n,onClick:e.onClick,active:e.active?e.active:"NONE"}):(0,o.jsx)(O,{label:e.label,propertyName:e.propertyName,href:e.href,tooltip:e.tooltip,onClick:e.onClick,active:e.active?e.active:"NONE"})}function M(e){let t=e.href?(0,o.jsx)(x.N,{href:e.href,className:_.s.cursorDefault.wFull.hFull.$,target:"_blank",trusted:!1,children:(0,o.jsx)("img",{src:e.icon,className:B,alt:`${e.propertyName}`})}):(0,o.jsx)("img",{src:e.icon,className:B,alt:`${e.propertyName}`});return(0,o.jsx)(k.$n,{buttonStyle:{overflow:"hidden",flexShrink:0},size:e.size,tooltip:e.tooltip,onClick:e.onClick,active:e.active?e.active:"NONE",recordingKey:(0,u.Pt)("widgetControl",e.propertyName),children:t})}function O(e){let t=e.href?(0,o.jsx)(x.N,{href:e.href,className:d()(L,_.s.cursorDefault.wFull.hFull.$),target:"_blank",trusted:!1,children:e.label}):(0,o.jsx)("span",{className:L,children:e.label});return(0,o.jsx)(k.$n,{className:_.s.flexShrink0.$,tooltip:e.tooltip===e.label?void 0:e.tooltip,onClick:e.onClick,active:e.active?e.active:"NONE",recordingKey:(0,u.Pt)("widgetControl",e.propertyName),children:t})}function S({widgetInfo:e,item:t}){let n=(0,N.E3)(),l=a.nc.user("widget-select-color",n=>{let o=(0,m.colorToHex)(n.option);w.x.runPropertyMenuCallback(e.pluginID,e.widgetID,t.propertyName,f[o]??o)}),r=(0,g.A)(l,100),[p,c]=i.useState(!1),s=[t.selectedOption,...t.options.map(e=>e.option)],d={},f={};for(let e of s)try{let t=v.z5.parse(e);d[e]=t,f[(0,m.colorToHex)(t)]=e}catch(t){return h.k.warn(`Cannot render widget color selector. ${e} is an invalid color.`),(0,o.jsx)("div",{"data-testid":"emptyColorSelector"})}let x=n===C.nT.Design;return(0,o.jsx)(D.qW,{buttonSize:x?"xsmall":"small",inlineButtonTooltip:t.tooltip,isColorPopoverOpen:p,isDesignInlineMenu:x,onColorChange:e=>{r(e)},optionSize:"medium",options:t.options.map(e=>({option:d[e.option],tooltip:e.tooltip})),paletteType:"widget",recordingKey:(0,u.Pt)("widgetControl",t.propertyName),setIsColorPopoverOpen:c,value:{option:d[t.selectedOption]}})}function H({widgetInfo:e,item:t}){return(0,o.jsx)(P,{tooltip:t.tooltip,label:t.tooltip,propertyName:t.propertyName,icon:t.icon,onClick:a.nc.user("widget-action",()=>{w.x.runPropertyMenuCallback(e.pluginID,e.widgetID,t.propertyName,null)})})}let E=I.l6,F=I.c$;function W({item:e,widgetInfo:t}){let n=(0,N.E3)(),i=(0,l.wA)(),r=(0,j.Um)(),a=e.options.find(t=>t.option===e.selectedOption),p=(0,u.Pt)("widgetControl",e.propertyName),c=void 0!==n&&n===C.nT.Design;return(0,o.jsx)("div",{className:c?void 0:V.kL,"data-tooltip-show-above":!0,"data-tooltip-type":T.Ib.TEXT,"data-tooltip":e.tooltip,children:(0,o.jsx)(E,{ariaLabel:e.tooltip,blurOnChange:!0,chevronClassName:c?"widget_controls--chevron--a3ua2":V.ai,className:c?"widget_controls--select---Nqnq text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L":V.Lt,dispatch:i,dropdownAlignment:"left",dropdownClassName:y.Dm,dropdownShown:r,dropdownWidth:144,formatter:{format:e=>e.tooltip,isEqual:(e,t)=>e.option===t.option},id:`widgetControl.${e.propertyName}`,inputClassName:c?"widget_controls--input--Z6nHO":V.hF,onChange:n=>{w.x.runPropertyMenuCallback(t.pluginID,t.widgetID,e.propertyName,n.option)},property:{option:e.selectedOption,tooltip:a?a.tooltip:e.selectedOption},recordingKey:p,targetDomNode:document.body,children:e.options.map((t,n)=>(0,o.jsx)(F,{value:t,formattedValue:t.tooltip,recordingKey:(0,u.Pt)(p,t.option),selected:e.selectedOption===t.option,truncateInMiddle:!0},n))})})}function $({widgetInfo:e,item:t}){return(0,o.jsx)(P,{tooltip:t.tooltip,label:t.tooltip,propertyName:t.propertyName,icon:t.icon,active:t.isToggled?"LOUD":"NONE",onClick:a.nc.user("widget-toggle",()=>{w.x.runPropertyMenuCallback(e.pluginID,e.widgetID,t.propertyName,null)})})}function z({widgetInfo:e,item:t}){let n;let i=(0,p.kc)().widget_link_encode_uri_component?encodeURIComponent(t.href):t.href;return null!==t.icon&&(n=t.icon?t.icon:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd" d="M12 12H16V13H13V27H27V24H28V27V28H13H12V27V13V12ZM27.0001 13H26.9913L27.0001 13.0088V13ZM20.0001 13H26.2999L17.0251 22.2747L17.7323 22.9818L27.0001 13.714V20H28.0001V12.5V12H27.5001H20.0001V13Z" fill="white" fill-opacity="0.8"/></svg>'),(0,o.jsx)(P,{tooltip:t.tooltip,label:t.tooltip,propertyName:t.propertyName,icon:n,onClick:r.lQ,href:"https://www.figma.com/exit?url="+i})}function R(){let e=function(){let e=(0,f.R)(e=>e.mirror.selectionProperties.selectedWidgetInfo);return i.useMemo(()=>{if(!e)return e;let{pluginID:t}=e;if(!(0,b.Vi)(t))return e;let n=e.propertyMenu.map(e=>"separator"===e.itemType?e:{...e,tooltip:(0,b.kZ)(t,e.propertyName)||e.tooltip});return{...e,propertyMenu:n}},[e])}();return e&&e.propertyMenu.length?(0,o.jsx)(o.Fragment,{children:e.propertyMenu.map((t,n)=>{switch(t.itemType){case"action":return(0,o.jsx)(H,{item:t,widgetInfo:e},n);case"separator":return(0,o.jsx)(k.wv,{},n);case"color-selector":return(0,o.jsx)(S,{item:t,widgetInfo:e},n);case"dropdown":return(0,o.jsx)(W,{item:t,widgetInfo:e},n);case"toggle":return(0,o.jsx)($,{item:t,widgetInfo:e},n);case"link":return(0,o.jsx)(z,{item:t,widgetInfo:e},n)}})}):null}},344725:(e,t,n)=>{n.d(t,{x:()=>F});var o=n(104076),i=n(716976),l=n(903927),r=n(293422);let a=(0,i.memo)(function(e){return(0,o.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,o.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M18.5 4A1.5 1.5 0 0 1 20 5.5V19a1 1 0 0 1-.898.995L19 20h-1l-.102-.005A1 1 0 0 1 17 19v-6H7v6a1 1 0 0 1-.897.995L6 20H5l-.103-.005A1 1 0 0 1 4 19V5.5a1.5 1.5 0 1 1 3 0V7h10V5.5A1.5 1.5 0 0 1 18.5 4m0 1a.5.5 0 0 0-.5.5V19h1V5.5a.5.5 0 0 0-.5-.5m-13 0a.5.5 0 0 0-.5.5V19h1V5.5a.5.5 0 0 0-.5-.5m9.701 7H17v-1.799zM7 11.2v.8h.802l-.009-.009L11.784 8H10.2zm2.198.8h1.603l-.008-.008L14.785 8h-1.587zM16.2 8l-4 4h1.588L17 8.787V8zM7 9.786 8.786 8H7z"})})});var p=n(674524),c=n(783728),u=n.n(c),s=n(190028),d=n(437540),m=n(192075),g=n(977745),h=n(260745),f=n(514359),x=n(4033),_=n(211862),y=n(912610),v=n(402276),N=n(525972),w=n(792028),b=n(176203),j=n(437761),C=n(894210),T=n(423683);let I=(0,n(560201).ex)("figjam_plugin_relaunch_button_info",function(e){let{name:t,description:n}=e;return(0,o.jsxs)("div",{className:"figjam_plugin_relaunch_button_info_tooltip--figjamRelaunchButtonInfo--d289K text--fontPos11--2LvXf text--_fontBase--QdLsd",children:[(0,o.jsx)("span",{className:"figjam_plugin_relaunch_button_info_tooltip--handle--XUJNp",children:t}),n&&(0,o.jsx)("div",{children:n})]})},e=>({name:e.getAttribute("data-tooltip-name"),description:e.getAttribute("data-tooltip-description")}));var D=n(573820),k=n(684742),V=n(390579);function L({onClick:e,recordingKey:t,ariaLabel:n,tooltip:i,tooltipType:l,tooltipName:r,tooltipDescription:a,showChevron:p,children:c}){return(0,o.jsx)(k.E,{className:"whiteboard_inline_menu_icon_button--iconButton40--yjNDz",onClick:e,recordingKey:t,"aria-label":n,htmlAttributes:{"data-tooltip":i,"data-tooltip-type":l,"data-tooltip-show-above":!0,"data-tooltip-name":r,"data-tooltip-description":a,"data-testid":t},children:(0,o.jsxs)("span",{"aria-hidden":!0,className:"whiteboard_inline_menu_icon_button--icon--SUTLm",children:[c,p&&(0,o.jsx)(V.O,{className:"whiteboard_inline_menu_icon_button--chevron--tjrn4"})]})})}var B=n(965815),A=n(97919),P=n(725837),M=n(58212),O=n(638641);function S(e){let{tooltipName:t,tooltipDescription:n,onClick:i,hasMultipleOptions:l,recordingKey:r,plugin:p}=e,c=(0,D._r)(),u=l?(0,m.t)("whiteboard.inline_menu.open_relaunch_menu.aria_label",{pluginName:p.name}):t??p.name,s=l?{tooltip:p.name,tooltipType:C.Ib.TEXT}:{tooltip:I,tooltipType:c&&t?C.Ib.SPECIAL:void 0,tooltipName:t,tooltipDescription:"string"==typeof n?n:String(n)};return(0,o.jsx)(L,{onClick:i,recordingKey:r,showChevron:l,ariaLabel:u,...s,children:(0,j.ZQ)(p)?(0,o.jsx)(a,{}):(0,o.jsx)(T.V,{className:"plugin_relaunch_content--pluginIcon--dxgZD plugin--pluginIconBase--yAG5F",plugin:p,alt:p.name})})}function H({children:e}){return(0,o.jsx)("div",{className:"plugin_relaunch_content--flexColumn--3aDVl",children:e})}function E(e){let{relaunchData:t}=e,n=e=>parseInt(e||"0");return(0,o.jsx)(A.Fn,{onChange:o=>{let i=t[n(o)];i&&e.onSelect(i)},value:null,renderOption:({value:e,onClick:i})=>{let l=t[n(e)];if(!l)return null;let a=l.relaunchButton.name.length>34||"string"==typeof l.relaunchButton.description&&l.relaunchButton.description.length>34,c=(0,p.Pt)("relaunchMenuSelectorOption",l.pluginTypeAndID,l.relaunchButton.command);return(0,o.jsx)("div",{"data-tooltip":I,"data-tooltip-type":l.relaunchButton.name&&a?C.Ib.SPECIAL:void 0,"data-tooltip-show-right":!0,"data-tooltip-name":l.relaunchButton.name,"data-tooltip-description":l.relaunchButton.description,children:(0,o.jsx)("div",{className:"plugin_relaunch_content--menuItem--fZT86",children:(0,o.jsxs)(r.WW,{variant:"secondary",onClick:i,recordingKey:c,children:[(0,o.jsx)("div",{className:"plugin_relaunch_content--name--VYXnN ellipsis--ellipsis--Tjyfa",children:l.relaunchButton.name}),l.relaunchButton.description&&(0,o.jsx)("div",{className:"plugin_relaunch_content--description--aAoGx ellipsis--ellipsis--Tjyfa",children:String(l.relaunchButton.description)})]})})},`${l.pluginTypeAndID}-${e}`)},renderButton:({onClick:e,value:i})=>{let l=t[n(i)];return l?(0,o.jsx)(S,{hasMultipleOptions:!0,onClick:e,plugin:l.plugin,recordingKey:(0,p.Pt)("relaunchMenuSelectorIconButton",l.pluginTypeAndID)}):null},options:t.map((e,t)=>`${t}`),OptionWrapper:H})}function F(){let e=(0,d.R)(e=>e.mirror.selectionProperties.pluginRelaunchData),t=(0,l.d4)(e=>e.mirror.selectionProperties.numSelected),n=(0,d.R)(e=>e.publishedPlugins),r=(0,d.R)(e=>e.localPlugins),a=(0,f.Yo)(),c=(0,_.tS)(),C=(0,i.useRef)(new v.O(s.A.duration(1,"day"))),T=(0,x.V2)(),I=(0,l.wA)(),D=e=>I(g.af({id:e,resourceType:n[e]?.is_widget?w.bD.WIDGET:w.bD.PLUGIN})),k=(0,y.vA)(e,n,r,a,t||0,(e,t)=>C.current.debounceRefresh(e,()=>D(e),t),j.FW.FIGJAM),V=u()(k,e=>e.pluginTypeAndID),L=e=>{var t,n;if(!c)return;if(!T){N.R.instance.handleUpgrade(h.Q7.RUN_WIDGET);return}t=(0,m.t)("whiteboard.inline_menu.relaunching_plugin",{commandName:e.relaunchButton.name}),n="figjam-plugin-relaunched",P.D.dispatch(M.F.enqueue({message:t,type:n,icon:O.zX.CHECK,timeoutOverride:3e3}));let{canRun:o}=(0,y.JT)({plugin:e.plugin,editorType:b.nT.Whiteboard});o&&N.R.instance.enqueue({mode:"run-forever",runPluginArgs:{plugin:e.plugin,openFileKey:c||"",command:e.relaunchButton.command,queryMode:!1,runMode:"default",triggeredFrom:"relaunch",ignoreForRunLastPlugin:!0,isWidget:!1}})};return 0===k.length?null:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(B.wv,{}),Object.values(V).map(e=>{if(!e||!e[0])return;let t=e[0],n=`relaunch-button-${t.pluginTypeAndID}-${e.length}`;return 1===e.length?(0,o.jsx)(S,{tooltipName:t.relaunchButton.name,tooltipDescription:t.relaunchButton.description,plugin:t.plugin,onClick:()=>L(t),recordingKey:(0,p.Pt)("relaunchIconButton",t.pluginTypeAndID,t.relaunchButton.command)},n):(0,o.jsx)(E,{relaunchData:e,onSelect:L},n)})]})}}}]);

//# debugId=8068a5b5-fbf2-5b03-b9b1-b042ae515e0b

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/fcc1a1091c2aaa9d82b629815d3a14b20f85f845/6632-9dfb4d5d513c4dc9.min.js.map