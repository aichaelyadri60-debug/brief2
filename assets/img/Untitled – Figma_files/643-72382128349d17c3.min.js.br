"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="5d8d8b8b-815f-59ae-a8d2-f5c3db3e6d5f")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[643],{961125:(e,t,s)=>{s.d(t,{$A:()=>r,kL:()=>n,to:()=>i});let r="40px",n="header_container--container--aPIhG",i="header_container--withShadow---XYxm"},959607:(e,t,s)=>{s.d(t,{h:()=>r,s:()=>n});let r="appearance_panel--input--h3br5 raw_components--flushLeft--YH-5P",n="appearance_panel--opacityIconContainer---kdX-"},770574:(e,t,s)=>{s.d(t,{h:()=>r,k:()=>n});let r="independent_corner_radius_view--input--c5KCB raw_components--flushLeft--YH-5P",n="independent_corner_radius_view--inputIcon--9Djlr transform_panel--inactiveLabel--fPCxr raw_components--iconInsideBorderFocusWithin--2g7fO raw_components--iconInsideBorderFocusWithin--2g7fO"},361915:(e,t,s)=>{s.d(t,{Kj:()=>u,ag:()=>h});var r=s(716976),n=s(333331),i=s(563276),l=s(428436),a=s(350869),o=s(74620),d=s(835307);function c(e){return{isTextNode:"TEXT"===e.type,collectionStableId:e.getNearestDakotaCollectionId()??void 0,itemStableId:e.getNearestDakotaCollectionItemId()??void 0,fieldSchemaStableId:e.getDakotaFieldId()??void 0,fieldSchemaStableIds:e.getDakotaFieldIds()??[]}}function u(e=p){let t=(0,o.eY)(),s=(0,a.U)(),i=(0,o.KH)(),d=e(t,(0,r.useMemo)(()=>Object.keys(i),[i])),{status:c,result:h}=(0,l.iL)(d?.collectionStableId);if(!s)return{result:!1,status:n.tT.Loaded};let m=d?.fieldSchemaStableIds??[];return 0===m.length?{result:!1,status:c}:{status:c,result:m.some(e=>h.some(t=>t.stableId===e))}}function p(e,t){if(0===t.length)return null;let s=t[0],r=e.get(s);if(!r)return null;let n=c(r);for(let s=1;s<t.length;s++){let r=t[s],l=e.get(r);if(!l)return null;let a=c(l);if(!(n.isTextNode===a.isTextNode&&n.collectionStableId===a.collectionStableId&&n.itemStableId===a.itemStableId&&n.fieldSchemaStableId===a.fieldSchemaStableId&&(0,i._f)(new Set(n.fieldSchemaStableIds||[]),new Set(a.fieldSchemaStableIds||[]))))return null}return n}function h(e){return(0,d.Fk)(p,e)}},698876:(e,t,s)=>{s.d(t,{BS:()=>ex});var r=s(104076),n=s(716976),i=s(903927),l=s(454851),a=s(452934),o=s(247985),d=s(180),c=s(266808),u=s(170627),p=s(812714),h=s(511570),m=s.n(h),g=s(641518),x=s(316862),f=s(665261),_=s(192075),y=s(147046),b=s(850701),j=s(324109),C=s(701038),v=s(354114),k=s(512038),S=s(842013),w=s(894210),T=s(386958),N=s(565526),I=s(215853),E=s(920764),A=s(104932),M=s(374823),P=s(912138);s(501883);var L=s(492978),O=s(737139),R=s(827826),F=s(82991),D=s(694915),K=s(989941),B=s(623411),G=s(420680),H=s(308709),z=s(92652),V=s(365120),U=s(171660),W=s(489175),$=s(581993),X=s(168940),Y=s(415567);let q="bubbled_instances_list--instanceName--09LuV",J="bubbled_instances_list--instanceNameWide---L338 bubbled_instances_list--instanceName--09LuV",Z="bubbled_instances_list--ui3InstanceNameAndIcon--W4S9T component_prop_def_row--ui3ComponentPanelNameAndIcon--01Z6g component_prop_def_row--ui3ComponentPropDefNameContainer--fBQXq",Q="bubbled_instances_list--ui3LineContainer--OdBbV",ee="bubbled_instances_list--ui3Line--SIYpX";function et(e){let{showUnbubbledPrimaryInstances:t,showNumHidden:s,wideContainer:l,scrollableContainer:a}=e,o=(0,i.d4)(X.K4),[d,p]=(0,n.useState)(!1),h=(0,Y.uQ)(),x=t?o:o?.filter(e=>e.isBubbled),f=e=>{u.l7.user("toggle-props-bubbled",()=>c.glU?.togglePropsAreBubbled(e)),c.Ez5?.canvasViewState().temporarilyHoveredNodes.set([])},y=e=>{c.Ez5?.canvasViewState().temporarilyHoveredNodes.set(e)},b=()=>{c.Ez5?.canvasViewState().temporarilyHoveredNodes.set([])},j=0,C=!t&&!d&&null!=x&&x.length>5,v=C?x.slice(0,4):x;return C&&(j=x.length-4),n.useEffect(()=>()=>{b()},[]),n.useEffect(()=>{b()},[h]),(0,r.jsxs)("div",{className:m()({"bubbled_instances_list--scrollableContainer--ob0LQ":a}),children:[v?.map((n,i)=>{let a=n.connectedGUIDs.slice(0).sort();return r.jsx(V.S.recordableDiv,{className:"bubbled_instances_list--instanceSection--tLYN0",onMouseEnter:()=>y(n.connectedGUIDs),onMouseLeave:b,recordingKey:g.Pt(e,a[0])??"",children:t?r.jsx(ei,{data:n,showNumHidden:s,onUnbubbleInstance:f,recordingKey:g.Pt(e,"checkbox",a[0]),wideContainer:l}):r.jsx(er,{data:n,onUnbubbleInstance:f,recordingKey:g.Pt(e,"unbubble",a[0]),wideContainer:l})},i)}),!d&&j>0&&(0,r.jsx)($.t8,{label:(0,_.t)("design_systems.component_properties.show_more_nested_instances_rows",{count:j}),onClick:()=>p(!0)})]})}function es({data:e,onUnbubbleInstance:t,showNumHidden:s,wideContainer:n,recordingKey:i}){return(0,r.jsxs)("div",{className:n?"bubbled_instances_list--checkboxContainerWide--Kdd3u bubbled_instances_list--checkboxContainer--qm3X7":"bubbled_instances_list--checkboxContainer--qm3X7",children:[(0,r.jsx)(K.S,{checked:e.isBubbled,onChange:()=>{e.connectedGUIDs[0]&&t(e.connectedGUIDs[0])},recordingKey:i,label:(0,r.jsx)(B.J,{children:(0,r.jsx)(U.E,{truncate:"line-clamp",lineClamp:2,children:e.name})})}),s&&!!e.numHidden&&(0,r.jsx)("div",{className:"bubbled_instances_list--numHidden--fW-Sr",children:(0,_.tx)("design_systems.component_properties.num_hidden",{num:e.numHidden})})]})}function er({data:e,onUnbubbleInstance:t,recordingKey:s,wideContainer:n}){let{bubbledNestedInstances:i}=e,l=(0,r.jsx)(D.DE,{label:null,input:(0,r.jsxs)("div",{className:Z,children:[(0,r.jsx)("div",{className:"bubbled_instances_list--instanceIcon--aRlGl",children:(0,r.jsx)(H.D,{})}),(0,r.jsx)("p",{className:q,children:e.name})]}),icon:(0,r.jsx)("div",{className:"bubbled_instances_list--minusIcon--dY8i-",children:(0,r.jsx)(G.K,{"aria-label":(0,_.t)("design_systems.component_properties.unbubble_instance"),onClick:()=>{t(e.connectedGUIDs[0])},recordingKey:s,htmlAttributes:{"data-tooltip":(0,_.t)("design_systems.component_properties.unbubble_instance"),"data-tooltip-type":w.Ib.TEXT,onMouseDown:W.dG},children:(0,r.jsx)(z.O,{})})})});return 0===i.length?l:(0,r.jsx)(en,{data:e,row:l,wideContainer:n})}function en({data:e,row:t,wideContainer:s}){return(0,r.jsx)($.R$,{row:t,isCollapsedByDefault:!0,children:e.bubbledNestedInstances.map((e,t)=>(0,r.jsx)("div",{children:(0,r.jsx)(D.DE,{label:null,input:(0,r.jsxs)("div",{className:Z,children:[(0,r.jsx)("div",{className:Q,children:(0,r.jsx)("div",{className:ee})}),(0,r.jsx)("div",{className:s?J:q,children:e.name})]}),icon:null})},t))})}function ei({data:e,onUnbubbleInstance:t,recordingKey:s,showNumHidden:n,wideContainer:i}){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(D.Ad,{label:null,input:(0,r.jsx)(es,{data:e,onUnbubbleInstance:t,showNumHidden:n,wideContainer:i,recordingKey:s})}),e.bubbledNestedInstances.map((e,t)=>(0,r.jsx)("div",{children:(0,r.jsx)(D.Ad,{label:null,input:(0,r.jsxs)("div",{className:"bubbled_instances_list--ui3CheckboxViewNestedInstance--YgTEc",children:[(0,r.jsx)("div",{className:Q,children:(0,r.jsx)("div",{className:ee})}),(0,r.jsx)("div",{className:i?J:q,children:e.name})]})})},t))]})}var el=s(361170),ea=s(739710),eo=s(643330);function ed(){let e="bubbledPropsPicker",t=(0,i.d4)(e=>e.pickerShown),s=(0,i.wA)(),n=new el.Mi(t?.initialX,t?.initialY);return t?.id!==ea.Dd?null:(0,r.jsx)(eo.Ao,{title:(0,_.t)("design_systems.component_properties.expose_nested_instances"),initialPosition:n,initialWidth:ea.wh,headerSize:"small",onClose:()=>{s(b.XE())},recordingKey:e,children:(0,r.jsx)("div",{className:"bubbled_props_picker--container--I6VX-",children:(0,r.jsx)(et,{showUnbubbledPrimaryInstances:!0,showNumHidden:!0,wideContainer:!0,scrollableContainer:!0,recordingKey:e})})})}var ec=s(84004),eu=s(564236),ep=s(540864),eh=s(388332);let em="props_panel--dropdownRowWithIcon--03FtD",eg="props_panel--dropdownRowWithoutIcon--F8Ra-";function ex({recordingKey:e,isInSelectionActionsPanel:t}){let s=(0,i.wA)(),l=(0,i.d4)(R.i$),d=(0,i.d4)(ep.od),h=(0,i.d4)(e=>e.modalShown?.type),m=!(0,i.d4)(eu.Jp),w=h===ec.nT.type,F=(0,i.d4)(e=>!!e.dropdownShown&&e.dropdownShown.type===ea.C4),{componentDescription:K}=(0,E.z6)(),B=(0,i.d4)(e=>e.pickerShown),G=F||w||B?.id===ea.Dd,H=!!(0,i.d4)(X.Z3).length,z=(0,i.d4)(X.K4),V=!!z?.length,U=(0,i.d4)(S.Dr),W=(0,i.d4)(S.Ct),{allowLibraryPublish:Y}=(0,n.useContext)(k.s),{submit:q,apply:J}=(0,C.wP)(),Z=n.useRef(null),Q=n.useRef(null),ee=(0,M.d$)(),es=n.useCallback(e=>{B&&s(b.XE()),F?s(y.oB()):s(y.j7({type:ea.C4}))},[s,B,F]),er=n.useCallback(e=>{(0,ea.Pp)(d,!1,e,ea.Fv.ICON);let t=Q.current,r=t?(0,T.cn)(t,ea.wh):{};(0,ec.TY)({dispatch:s,modalShownType:h,data:{propType:e,initialX:r?.x??0,initialY:r?.y??0}})},[s,h,d]),en=n.useCallback(()=>{d&&(d.isLooseComponent?v.Y5.triggerActionInUserEditScope(ee?"add-variant-to-buzz-template-set":"create-state-group"):er(c.J0O.VARIANT))},[er,d,ee]),ei=n.useCallback(()=>{let e=Q.current,t=e?(0,T.cn)(e,ea.wh):{};s(b.u1({id:ea.Dd,initialX:t?.x,initialY:t?.y}))},[s]),el=n.useCallback(async()=>{if(!d)return;let e=(await q({components:[d],clientLifecycleId:(0,x.g)()}))[0];e&&u.l7.user("apply-suggested-props",()=>{J(e)})},[q,J,d]),eo=d?.isAlive&&d.isCodeComponent,eh=[...(0,p.kc)().ds_variable_props_number_def?[c.J0O.NUMBER]:[],c.J0O.TEXT,c.J0O.BOOL,...eo?[]:[c.J0O.INSTANCE_SWAP],...(0,j.$)()?[c.J0O.SLOT]:[]];return d?(0,r.jsxs)(O.Zk,{ref:Q,style:t?{paddingBottom:0,borderBottom:"none"}:void 0,children:[(0,r.jsx)(A.Q,{}),m?null:(0,r.jsx)(P.n,{description:K}),(0,r.jsx)(ef,{isPanelEmpty:m,isAddPropButtonSelected:G,hasBubbledInstances:H,stateGroupSelectionMode:l,selectAddPropOptionRef:Z,toggleAddPropDropdown:es,recordingKey:e,isInSelectionActionsPanel:t}),F&&Z.current&&(0,r.jsxs)(I.Cf,{targetRect:Z.current.getBoundingClientRect(),propagateCloseClick:!0,children:[(0,r.jsx)(f.c$,{disabled:!0,className:eg,children:(0,_.tx)("design_systems.component_properties.create_property")}),!eo&&(0,r.jsxs)(f.c$,{className:em,onClick:en,recordingKey:g.Pt("openCreatePropModal",(0,ea.xb)(c.J0O.VARIANT)),children:[(0,r.jsx)(N.Nu,{children:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(a.m,{})})}),(0,_.tx)("design_systems.component_properties.across_variants")]}),eh.map(e=>(0,r.jsxs)(f.c$,{className:em,onClick:()=>er(e),recordingKey:g.Pt("openCreatePropModal",(0,ea.xb)(e)),children:[(0,r.jsx)(N.Nu,{children:(0,ea.zn)(e,!0)}),(0,ea.xb)(e)]},e)),V&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.wv,{}),(0,r.jsx)(f.c$,{disabled:!0,className:eg,children:(0,_.tx)("design_systems.component_properties.expose_nested_instances")}),(0,r.jsxs)(f.c$,{className:em,onClick:ei,recordingKey:"openBubbledPropPicker",children:[(0,r.jsx)(N.Nu,{children:(0,r.jsx)(o.M,{})}),(0,_.t)("design_systems.component_properties.choose_instances")]})]}),(0,p.kc)().first_draft_suggest_props&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.wv,{}),(0,r.jsxs)(f.c$,{className:em,onClick:el,recordingKey:"suggestProps",children:[(0,r.jsx)(N.Nu,{children:(0,r.jsx)(o.M,{})}),(0,_.t)("first_draft.suggest_properties")]})]})]}),B?.id===ea.Dd&&(0,r.jsx)(ed,{}),(0,r.jsx)($.e6,{containerWidth:ea.O2.RESIZABLE_SIDEBAR,propDimension:ea.OE.DEFINITION,guids:[d.guid],recordingKey:e,enableHidingOverflowRowsInUI3:!1,entrypointForInstanceSwapPicker:null}),H&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"props_panel--bubbledInstancesHeading--C26v2",children:(0,_.t)("design_systems.component_properties.bubbled_instances")}),(0,r.jsx)(et,{recordingKey:e})]}),U&&W&&Y?(0,r.jsx)(D.Ad,{label:null,input:(0,r.jsx)(L.U,{})}):null]}):null}function ef({isAddPropButtonSelected:e,stateGroupSelectionMode:t,selectAddPropOptionRef:s,toggleAddPropDropdown:i,isInSelectionActionsPanel:a}){let o=n.useRef(null),u=g.rf("openCreatePropModalDropdown","click",i),p=g.rf("openCreatePropModalDropdown","mousedown",e=>e?.stopPropagation());return(0,r.jsx)(F.pG,{onClick:u,onMouseDown:p,ref:o,input:(0,_.tx)("design_systems.component_properties.properties"),label:null,appendedClassName:m()(a?"props_panel--ui3PanelHeaderRowSAP--ws4dj props_panel--ui3PanelHeaderRow--Ab8Jz":"props_panel--ui3PanelHeaderRow--Ab8Jz",{[eh.yf]:!e}),icon:t!==c.iCO.STATE?(0,r.jsx)("div",{ref:s,className:"props_panel--addButtonContainer--a58gi",children:(0,r.jsx)(l.d,{"aria-expanded":e,htmlAttributes:{"data-tooltip-type":w.Ib.TEXT,"data-tooltip":(0,_.t)("design_systems.component_panel.create_component_property")},"aria-label":(0,_.t)("design_systems.component_panel.create_component_property"),children:(0,r.jsx)(d.$,{})})}):void 0})}},156816:(e,t,s)=>{s.d(t,{Ay:()=>k,BZ:()=>j,m4:()=>C});var r=s(104076),n=s(716976),i=s(903927),l=s(795033),a=s(755444),o=s(192075),d=s(244205),c=s(422872),u=s(381059),p=s(235711),h=s(643077),m=s(74620),g=s(835307),x=s(143277),f=s(765516),_=s(61102),y=s(654200),b=s(441030);let j="ui3-layers-horizontal-scroll-onboarding-key",C="ui2-layers-horizontal-scroll-onboarding-key",v=(0,p.r1)("seen_ui3_layers_horizontal_scroll_overlay");function k(){let e=(0,m.aV)(),t=(0,l.md)(u.Fy),s=(0,i.d4)(e=>e.mirror.appModel.currentPage),p=(0,g.Fk)((e,t)=>!(0,h.zC)(e,t),s),C=(0,l.md)(v),{show:k,isShowing:S,complete:w}=(0,c.e)({overlay:b.vlG,priority:x.N.SECONDARY_MODAL},[t,C]);return n.useEffect(()=>{k({canShow:(t,s)=>t&&!e&&p&&!s})},[k,e,p,t]),(0,r.jsx)(_.rq,{arrowPosition:y.F_.RIGHT_TITLE,description:(0,o.tx)("ui3_layers_horizontal_scroll_overlay.ui3_description"),disableHighlight:!0,isShowing:S,media:(0,r.jsx)(f.w,{src:(0,a.ck)("86193716c443398bbd6b55d19b65db2eaf0fe3c1"),aspectRatio:16/9}),onClose:w,primaryCta:{label:(0,o.tx)("general.got_it"),ctaTrackingDescriptor:d.c.GOT_IT,type:"button",onClick:w},targetKey:j,title:(0,o.tx)("ui3_layers_horizontal_scroll_overlay.ui3_title"),trackingContextName:"UI3 Layers Horizontal Scroll Overlay"})}},413358:(e,t,s)=>{s.d(t,{j:()=>l});var r=s(440819),n=s(441030);let i=(0,r.Op)({initial:"ready_to_show",states:[{id:"ready_to_show",transitions:[(0,r.nr)("curator_content_shown","no_figma_basics_onboarding_was_shown_in_current_session",{condition:({event:e})=>e.properties.shown===n.WD4.id})]},{id:"no_figma_basics_onboarding_was_shown_in_current_session",terminal:!0}]}),l=(0,r.rn)("track_no_figma_basics_onboarding_shown",i)},193317:(e,t,s)=>{s.d(t,{T:()=>v,g:()=>C});var r=s(104076),n=s(716976),i=s(903927),l=s(140490),a=s(192075),o=s(482996),d=s(443192),c=s(244205),u=s(90844),p=s(422872),h=s(211862),m=s(592726),g=s(174730),x=s(143277),f=s(61102),_=s(2972),y=s(643330),b=s(441030),j=s(957128);let C={[j.a5]:!1,[j.fc]:!1,[j.bo]:!1},v=(0,l._)(function(){let e=(0,h.MY)(),t=(0,h.q5)(),s=(0,i.wA)(),l=(0,m.iZ)(),{show:v,isShowing:k,complete:S,uniqueId:w}=(0,p.e)({overlay:b.TrJ,priority:x.N.SECONDARY_MODAL},[e]),T=(0,o.te)(),N=!!(0,g.f)(j.fc),I=t?.canEdit,{currentView:E,visualAssetsType:A}=(0,_.wV)();return(0,u.E)(w,["Reset Visual Assets Tooltips",j.io],()=>{l&&t&&s(d.b(C))}),(0,n.useEffect)(()=>{I&&T()&&!N&&A&&E===_.S5.VisualAssets&&v(),k&&E!==_.S5.VisualAssets&&S()},[v,S,k,I,T,N,A,E]),(0,r.jsx)(f.rq,{arrowPosition:y.F_.LEFT_TITLE,clickOutsideToHide:!0,description:(0,a.tx)("rcs.visual_assets.drag_visual_assets_description"),disableHighlight:!0,isShowing:k,onClose:S,pointToLeftEdge:!0,primaryCta:{label:(0,a.tx)("onboarding_pointers.got_it"),type:"button",onClick:S,ctaTrackingDescriptor:c.c.GOT_IT},targetKey:j.ko,title:(0,a.tx)("rcs.visual_assets.drag_visual_assets_title"),trackingContextName:"Visual Assets Search Tooltip",userFlagOnShow:j.fc})},"VisualAssetsPanelTooltip")},382256:(e,t,s)=>{s.d(t,{J:()=>_});var r=s(104076),n=s(716976),i=s(266808),l=s(170627),a=s(812714),o=s(795033),d=s(883765),c=s(819851),u=s(272841),p=s(692042),h=s(721101),m=s(859490),g=s(644033),x=s(583607);let f=s(967749).zS;function _(){let[e,t]=(0,o.fp)(x.ph),s=(0,o.md)(x.KG),_=(0,o.md)(x.kh),y=(0,p._X)({subscribeToUpdates_expensive:!0}),[b,j]=(0,n.useState)(null),C="whiteboard"===(0,c.lg)(),v=n.useCallback(()=>{if(e){let{emojis:t,index:s}=e;if(t&&s>=0&&s<t.length){let e=(0,u._Q)(t[s]);e&&l.l7.user("insert-emoji",()=>{(0,d.sx)("inserted_editor_emoji",{emoji:e}),i.SmY?.replaceCurrentShortcodeWithEmoji(e)})}}},[e]),k=n.useCallback(()=>{t(null)},[t]);if(!_||!e||null===s)return null;let S=(0,p.Yb)(y,_);if(!(0,p.ZT)(S,y))return null;let w={top:S.y+y.y-8,bottom:S.y+y.y+S.height+8,left:S.x+y.x,right:S.x+y.x+S.width,height:S.height,width:S.width},T=b&&w.height>0&&w.bottom>y.height-b&&w.top>y.height-w.bottom?{positionFromBottom:{left:w.left,bottom:y.height+y.y-w.top},direction:m.ri.UPWARDS}:{targetRect:w,direction:m.ri.DOWNWARDS};return(0,r.jsxs)("div",{children:[(0,r.jsx)(h.j_,{dispatchTypeahead:t,onClear:k,onInsert:v,typeahead:e,width:168,...T,emojiImageSet:s,isFigJam:C,recordingKey:"emojiTypeaheadView",setMaxTypeaheadHeight:j,zIndex:f}),(0,a.kc)().figjam_a11y_typeahead&&(0,r.jsx)(g.p,{ariaControls:h.z,ariaActivedescendant:(0,h.yn)(e.emojis[e.index]?.id??""),accessibilityRole:"combobox"})]})}},454903:(e,t,s)=>{s.d(t,{L:()=>d});var r=s(104076),n=s(716976),i=s(266808),l=s(772523),a=s(331497),o=s(833536);let d=n.memo(function(){return(0,a.ut)((0,l.aY)(),i.FAf.DESIGN),(0,r.jsx)(o.B,{stackHeader:!1,hideResolve:!1})})},190764:(e,t,s)=>{s.d(t,{o:()=>eK});var r=s(104076),n=s(716976),i=s(266808),l=s(1188),a=s(375627),o=s(551037),d=s(968169),c=s(373235),u=s(381605),p=s(508011),h=s(74620),m=s(592726),g=s(99723),x=s(795033),f=s(111297),_=s(72138),y=s(236631),b=s(903927),j=s(511570),C=s.n(j),v=s(883765),k=s(686549),S=s(755444),w=s(806484),T=s(544394),N=s(192075),I=s(211862),E=s(853039),A=s(176203),M=s(196978);function P(){let e=(0,b.wA)(),t=(0,m.iZ)(),{isEditingFile:s,unsortedTeams:i}=(0,M.DF)(),l=(0,I.q5)(),a=(0,A.sL)(l?.editorType),o=n.createRef();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{className:C()(y.s.flex.justifyCenter.itemsCenter.absolute.bottom0.left0.wFull.h40.colorBg.font11.fpl__textBodyMediumStrongFontWeight.cursorPointer.$,y.s.b1.colorBorder.bb0.br0.bl0.$,"first_level_resource_contact_support--contactSupportButton--Ioy3K"),onClick:()=>{if((0,v.sx)("help_widget_get_help",{isEditingFile:s,editorType:a,source:"in-product-help-panel-button"}),(0,S.sL)()){(0,k.FJ)("mailto:support-figgov@figma.com","_blank","noopener");return}let e=0===i.filter(E.w5).length;o.current?.open({ticketForms:e?w.Fb.FREE:w.Fb.PAID,locale:t?.locale})},children:(0,N.t)("help_widget.menu.contact_support")}),(0,r.jsx)(T.F,{ref:o,dispatch:e,userName:t?.name||null,userEmail:t?.email||null})]})}var L=s(420680),O=s(225654),R=s(289050);function F(){let{hideInProductHelpView:e}=(0,R.A5)();return(0,r.jsxs)("div",{className:y.s.flex.flexRow.justifyBetween.itemsCenter.$,children:[(0,r.jsx)("p",{className:y.s.font16.colorText.fpl__textHeadingLargeFontWeight.$,children:(0,N.t)("in_product_help_and_learning.first_level_header.title")}),(0,r.jsx)(L.K,{onClick:()=>{e()},"aria-label":(0,N.t)("general.close"),children:(0,r.jsx)(O.X,{})})]})}var D=s(293422),K=s(232600),B=s(915459);function G(){let e=(0,f.j6)(),t=(0,m.Pc)().locale,[s,i]=n.useState(""),[l,a]=n.useState(!1),o=n.createRef(),d=n.createRef(),c=()=>{e.trackEvent("CTA Clicked",{text:"Help Center Search",searchQuery:s});let r=(0,K.lF)({query:s});(0,k.FJ)(`https://help.figma.com/hc/${(0,R.FI)(t)}/search?${r}`,"_blank","noopener")};return n.useEffect(()=>{if(d.current&&o.current){let e=o.current.offsetWidth;d.current.style.setProperty("--in-product-help-and-learning-search-bar-max-width",`calc(100% - 32px - ${e}px - 8px)`)}},[d,o]),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c()},className:"first_level_resource_search_bar--searchBar--BexQF",ref:d,children:[(0,r.jsx)(B.IW,{className:C()(y.s.h32.wFull.colorBgSecondary.bRadius8.$,{"first_level_resource_search_bar--isFocused--1E4mp":l}),clearSearch:()=>i(""),focusOnMount:!0,hasTransparentBackground:!0,hideXIcon:!0,iconClassName:y.s.colorIconSecondary.$,isFocused:l,onBlur:()=>a(!1),onChange:i,onFocus:()=>a(!0),query:s}),s.length>0&&(0,r.jsx)("div",{className:"first_level_resource_search_bar--searchButtonContainer--BADgp",children:(0,r.jsx)(D.$n,{variant:"primary",type:"submit",ref:o,children:(0,N.tx)("in_product_help_and_learning.search")})})]})}var H=s(812714),z=s(652539),V=s(352630),U=s(205084);function W({sectionName:e,sectionOptions:t}){return(0,r.jsxs)("div",{className:y.s.flex.flexColumn.gap10.font11.fpl__textBodyMediumStrongFontWeight.mt8.$,children:[(0,r.jsx)("p",{className:y.s.mb2.$,children:e}),t]})}var $=s(491732);let X=()=>{let e=!!(0,H.kc)().web_help_widget_report_translations&&U.Gq()?.getPrimaryLocale(!0)!=="en";return[{label:(0,N.t)("help_widget.menu.help_center"),href:"https://help.figma.com/"},{label:(0,N.t)("help_widget.menu.support_forum"),href:"https://forum.figma.com/"},{label:(0,N.t)("help_widget.menu.release_notes"),href:"https://www.figma.com/release-notes/"},{label:(0,N.t)("help_widget.menu.legal_summary"),href:"/legal"},{label:(0,N.t)("help_widget.menu.submit_feedback"),href:"https://forum.figma.com/submit-feedback"},...e?[{label:(0,N.t)("help_widget.menu.report_translation_issues"),href:"https://form.asana.com/?k=2lONzHHSiZJo3FThA47peg&d=10497086658021",onClick:()=>{(0,v.sx)("help_widget_report_translations",{source:"in_product_help_and_learning_panel"})}}]:[],{label:(0,N.t)("help_widget.menu.ask_the_community"),href:"https://forum.figma.com/ask-community"}]},Y=n.memo(function(){let e=X().map(e=>(0,r.jsx)("span",{className:y.s.flex.gap8.colorTextBrand.cursorPointer.$,children:(0,r.jsx)(V.$z,{variant:"link",onClick:()=>{(0,k.FJ)(e.href,"_blank","noopener"),e.onClick?.()},iconPrefix:(0,r.jsx)(z.B,{svg:$.A,width:"16px",className:y.s.colorIconBrand.mr8.$}),children:e.label})},e.label)),t=(0,N.t)("in_product_help_and_learning.more_help_resources.section_title");return(0,r.jsx)(W,{sectionName:t,sectionOptions:e})});var q=s(140490),J=s(816565),Z=s(659062),Q=(e=>(e[e.NEW_TO_FIGMA=0]="NEW_TO_FIGMA",e[e.EXPLORE_FEATURES=1]="EXPLORE_FEATURES",e[e.CREATE_COMPONENTS=2]="CREATE_COMPONENTS",e[e.DESIGN_FIRST_BUTTON=3]="DESIGN_FIRST_BUTTON",e[e.VIDEO_TUTORIALS=4]="VIDEO_TUTORIALS",e))(Q||{});function ee(e){switch(e){case 0:return[{displayString:(0,N.t)("in_product_help_and_learning.article.get_started_with_layers"),articleId:0x182dc2b40797},{displayString:(0,N.t)("in_product_help_and_learning.article.explore_layer_types"),articleId:0x183601f04d17},{displayString:(0,N.t)("in_product_help_and_learning.article.combine_layers"),articleId:0x1833cfa8cf97},{displayString:(0,N.t)("in_product_help_and_learning.article.create_and_edit_text"),articleId:0x53d40dbffa},{displayString:(0,N.t)("in_product_help_and_learning.article.browse_and_apply_fonts"),articleId:0x53d4225f82},{displayString:(0,N.t)("in_product_help_and_learning.article.apply_paints_with_the_color_picker"),articleId:0x53d41dbafe},{displayString:(0,N.t)("in_product_help_and_learning.article.add_images_and_videos_to_design_file"),articleId:0x53d40ed782},{displayString:(0,N.t)("in_product_help_and_learning.article.export_from_figma_design"),articleId:0x53d40ed7d2}];case 1:return[{displayString:(0,N.t)("in_product_help_and_learning.article.frames_in_figma_design"),articleId:0x53d425e791},{displayString:(0,N.t)("in_product_help_and_learning.article.add_auto_layout_to_a_design"),articleId:0x53677016397},{displayString:(0,N.t)("in_product_help_and_learning.article.explore_auto_layout_properties"),articleId:0x53d4154d2d},{displayString:(0,N.t)("in_product_help_and_learning.article.create_color_text_effect_and_layout_grid_styles"),articleId:0x53d3fb49a6},{displayString:(0,N.t)("in_product_help_and_learning.article.create_interactions"),articleId:0x53d4133b7d},{displayString:(0,N.t)("in_product_help_and_learning.article.prototype_triggers"),articleId:0x53d40ef5fa},{displayString:(0,N.t)("in_product_help_and_learning.article.prototype_actions"),articleId:0x53d40ef622},{displayString:(0,N.t)("in_product_help_and_learning.article.prototype_animations"),articleId:0x53d4166285},{displayString:(0,N.t)("in_product_help_and_learning.article.parent_child_and_sibling_relationships"),articleId:0x53d40dc9e6}];case 2:return[{displayString:(0,N.t)("in_product_help_and_learning.article.create_components_to_resuse_in_designs"),articleId:0x53d3fa03f2},{displayString:(0,N.t)("in_product_help_and_learning.article.create_and_insert_component_instances"),articleId:0x53d401725d},{displayString:(0,N.t)("in_product_help_and_learning.article.create_and_use_variants"),articleId:0x53d5094712},{displayString:(0,N.t)("in_product_help_and_learning.article.create_interactive_components_with_variants"),articleId:0x53d5518626},{displayString:(0,N.t)("in_product_help_and_learning.article.explore_component_properties"),articleId:0x513129d7517}];default:return[]}}function et({resource:e}){let t=(0,f.j6)(),s=(0,R.Yj)(),n=(0,x.Xr)(R.J9),i=(0,x.Xr)(R.Zf),l=(0,x.Xr)(R.QU);return(0,r.jsxs)("button",{className:y.s.cursorPointer.$,style:Z.sx.radiusMedium.b1.colorBorder.flex.flexRow.wFull.add({height:"74px",overflow:"hidden"}).$,onClick:async()=>{if(t.trackEvent("CTA Clicked",{text:e.title}),e.resource===Q.DESIGN_FIRST_BUTTON){let t=await s(0xcce00915a97);t&&(n(2),i(e),l(t))}else e.resource===Q.VIDEO_TUTORIALS?(0,k.FJ)("https://www.youtube.com/playlist?list=PLXDU_eVOJTx4iS4wLdfAcM1msnqZmVwC5","_blank","noopener"):(n(2),i(e))},children:[(0,r.jsx)(J.oW,{src:e.image,alt:"",style:Z.sx.m0.add({width:"108px",height:"74px",borderRadius:"var(--radius-medium) 0 0 var(--radius-medium)"}).$}),(0,r.jsxs)("div",{className:y.s.flex.flexColumn.gap2.m12.wFull.font11.ellipsis.alignLeft.$,children:[(0,r.jsx)("p",{className:y.s.colorText.fpl__textBodyMediumStrongFontWeight.$,children:e.title}),(0,r.jsx)("p",{className:y.s.colorTextSecondary.$,children:e.description})]})]},e.title)}function es(){return(0,r.jsx)(q.u,{label:"PopularResources",children:(0,r.jsx)(er,{})})}function er(){let e=[{resource:0,title:(0,N.t)("in_product_help_and_learning.popular_resources.new_to_figma.title"),description:(0,N.t)("in_product_help_and_learning.popular_resources.new_to_figma.description"),image:(0,S.ck)("a657c232671f190106d0943282bf1a970f036718")},{resource:1,title:(0,N.t)("in_product_help_and_learning.popular_resources.explore_more_features.title"),description:(0,N.t)("in_product_help_and_learning.popular_resources.explore_more_features.description"),image:(0,S.ck)("033919a9d852c5a37b60923805a0e11f625cd9b1")},{resource:2,title:(0,N.t)("in_product_help_and_learning.popular_resources.create_components.title"),description:(0,N.t)("in_product_help_and_learning.popular_resources.create_components.description"),image:(0,S.ck)("4f93c71141e5989d9f4d8259d2e2751dc3b3d7ab")},{resource:3,title:(0,N.t)("in_product_help_and_learning.popular_resources.design_your_first_button.title"),description:(0,N.t)("in_product_help_and_learning.popular_resources.design_your_first_button.description"),image:(0,S.ck)("13d91474245b8e3949763a713a12805283cfe2a2")},{resource:4,title:(0,N.t)("in_product_help_and_learning.popular_resources.video_tutorials.title"),description:(0,N.t)("in_product_help_and_learning.popular_resources.video_tutorials.description"),image:(0,S.ck)("02377d4618e4b063422da13c18efd5debece9591")}];return(0,r.jsxs)("div",{className:y.s.flex.flexColumn.rowGap8.$,children:[(0,r.jsx)("p",{className:y.s.font13.colorText.fpl__textBodyMediumStrongFontWeight.$,children:(0,N.t)("in_product_help_and_learning.popular_resources.section_title")}),e.map(e=>(0,r.jsx)(et,{resource:e},e.title))]})}var en=s(717466),ei=s(366535),el=s(354114),ea=s(182659);function eo({option:e}){return(0,r.jsx)("span",{className:y.s.flex.colorTextBrand.cursorPointer.$,children:(0,r.jsx)(V.$z,{variant:"link",onClick:e.onClick,children:e.label})})}function ed(){let e=(0,b.wA)(),t=[{label:(0,N.t)("help_widget.menu.change_keyboard_layout"),onClick:function(){el.Y5.isReady()&&(e(en.FU({tab:"layout"})),el.Y5.triggerAction("toggle-keyboard-shortcuts"))}},{label:(0,N.t)("help_widget.menu.change_languages"),onClick:function(){e((0,ei.to)({type:ea.kA,data:{source:ea.IO.HELP}}))}},{label:(0,N.t)("help_widget.menu.keyboard_shortcuts"),onClick:()=>{el.Y5.isReady()&&el.Y5.triggerAction("toggle-keyboard-shortcuts")}}].map(e=>(0,r.jsx)(eo,{option:e},e.label)),s=(0,N.t)("in_product_help_and_learning.settings.section_title");return(0,r.jsx)(W,{sectionName:s,sectionOptions:t})}function ec({isFloatingModal:e}){return(0,r.jsx)("div",{children:(0,r.jsxs)(f.fu,{name:"First Level",children:[(0,r.jsxs)("div",{className:y.s.flex.flexColumn.gap16.p16.pb8.$,children:[(0,r.jsx)(F,{}),(0,r.jsx)(G,{})]}),(0,r.jsx)(_.P,{className:e?"first_level_resources--floatingModalScrollContainer--i7yEe":"first_level_resources--scrollContainer--t1Gzz",children:(0,r.jsxs)("div",{className:y.s.flex.flexColumn.gap16.pb16.$,children:[(0,r.jsx)(es,{}),(0,r.jsx)(ed,{}),(0,r.jsx)(Y,{})]})}),(0,r.jsx)(P,{})]})})}var eu=s(361170),ep=s(643330);function eh({propertiesPanelWidth:e,view:t}){let[s,i]=(0,n.useState)((0,R.iM)({propertiesPanelWidth:e})),l=(0,n.useCallback)(()=>{i((0,R.iM)({propertiesPanelWidth:e}))},[e]);return(0,n.useEffect)(()=>{let e=(0,g.s)(()=>{l()});return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[l]),(0,n.useEffect)(()=>{l()},[e,l]),(0,r.jsx)(ep.Ao,{initialWidth:R.yx,initialHeight:.8*window.innerHeight,initialPosition:new eu.Mi(s.x,s.y),maxHeight:.8*window.innerHeight,children:(0,r.jsx)("div",{"data-testid":"in-product-help-floating-modal",className:"dynamic_panel--floatingModalContainer--S9bdj",children:t})})}var em=s(684742),eg=s(739713);function ex(){let e=(0,x.md)(R.J9),{hideInProductHelpView:t}=(0,R.A5)(),s=(0,x.Xr)(R.J9);return(0,r.jsxs)("div",{className:y.s.flex.flexRow.justifyBetween.p16.pl12.$,children:[(0,r.jsxs)(em.E,{onClick:()=>{s(e-1)},"aria-label":(0,N.t)("general.back"),className:y.s.flex.flexRow.itemsCenter.justifyCenter.font11.colorText.fpl__textBodyMediumStrongFontWeight.cursorPointer.$,children:[(0,r.jsx)(eg.C,{}),(0,N.tx)("general.back")]}),(0,r.jsx)(L.K,{onClick:()=>{t()},"aria-label":(0,N.t)("general.close"),children:(0,r.jsx)(O.X,{})})]})}var ef=s(929302),e_=s(700700),ey=s(268389),eb=s(78468),ej=s.n(eb);let eC="third_level_resources--helpCenterArticle--Fnl-a";function ev({afterArticleChildren:e}){let{name:t}=(0,f.j6)(),s=(0,x.md)(R.Zf),i=(0,x.md)(R.J9),l=(0,x.md)(R.QU),a=n.createRef(),[o,d]=n.useState(),c=n.useCallback(()=>{a.current?.scrollTo(0,0)},[a]);return((0,n.useEffect)(()=>{Array.from(document.querySelectorAll(`.${eC} a`)).forEach(e=>{if(-1===e.href.indexOf("#"))e.target="_blank";else{let t=e.href.split("#",2);e.href=`#${t[1]}`}e.onclick=()=>{(0,v.sx)("CTA Clicked",{text:e.text,linkUrl:e.href,trackingContext:t,articleId:l?.id})}}),function(e){if(e&&0xcce00915a97===e.id){let e=document.querySelector(".contextual-content.contextual-content--NewUI p:first-of-type");try{if(e){let t=document.createElement("iframe");t.src="https://www.youtube.com/embed/HJG7ILVSjrI?si=kLtIPYEqkgMC_hwH",t.title="Youtube video player",t.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",t.referrerPolicy="strict-origin-when-cross-origin",t.allowFullscreen=!0,t.className="third_level_resources--embeddedVideo--lnko-";let s=e.parentNode;s&&s.insertBefore(t,e)}}catch(e){console.error(e)}}}(l),Array.from(document.querySelectorAll(`.${eC} img`)).forEach(e=>{e.onclick=()=>{d({src:e.src,alt:e.alt})}});let e=Array.from(document.querySelectorAll(".contextual-content--NewUI button.tablinks")),s=Array.from(document.querySelectorAll(".contextual-content--NewUI div.tabcontent"));if(e.length>0&&e.length===s.length){let t=0,r=t=>{e.forEach((e,s)=>{s===t?e.classList.add("active"):e.classList.remove("active")}),s.forEach((e,s)=>{s===t?e.style.display="block":e.style.display="none"})};e.forEach((e,s)=>{e.onclick=()=>r(s),e.classList.contains("active")&&(t=s)}),r(t)}c()},[l]),l)?(0,r.jsx)("div",{children:(0,r.jsxs)(f.fu,{name:"Help Center Article",properties:{articleId:l.id},children:[(0,r.jsx)(ex,{}),!!s&&3===i&&(0,r.jsxs)("h3",{className:"third_level_resources--breadcrumb--yQHOD",children:[s.title," /"," ",(0,r.jsx)("span",{className:y.s.fpl__textBodySmallStrongFontWeight.$,children:l.name})]}),(0,r.jsx)("h1",{className:y.s.lh24.fontSemiBold.font16.fontInter.pt0.px16.pb12.$,children:l.name}),(0,r.jsxs)("div",{className:"third_level_resources--container--RY81c",ref:a,children:[(0,r.jsx)("div",{className:C()(y.s.p16.pt8.$,eC),dangerouslySetInnerHTML:{__html:ej().sanitize(l.body)}}),e,(0,r.jsx)(ek,{image:o,onClose:()=>d(void 0)})]})]})}):null}function ek({image:e,onClose:t}){let s=ef.hS({open:!!e,onClose:t});return(0,r.jsx)(e_.bL,{manager:s,width:"fit-content",children:(0,r.jsx)("div",{className:"third_level_resources--enlargedImageContainer--EqCOz",children:(0,r.jsx)(ey.vo,{children:(0,r.jsx)(J.oW,{src:e?.src,alt:e?.alt,className:"third_level_resources--enlargedImage--l3atX"})})})})}function eS(){return(0,r.jsx)(q.u,{label:"SecondLevelResources",children:(0,r.jsx)(ew,{})})}function ew(){let e=(0,x.Xr)(R.J9),t=(0,x.md)(R.Zf),s=(0,x.md)(R.QU);if(!t)return null;let n=null;return t.resource===Q.DESIGN_FIRST_BUTTON?(0,r.jsx)(ev,{afterArticleChildren:s&&0xcce00915a97===s.id?(0,r.jsx)(eN,{}):void 0}):t.resource===Q.VIDEO_TUTORIALS?(e(1),null):(n=(0,r.jsx)(eT,{details:function(e){switch(e){case 0:return{description:(0,N.t)("in_product_help_and_learning.popular_resources.new_to_figma.details.description"),webm:(0,S.ck)("6db4a35b80ddb5910781af9bc60c66bf902dff3a"),mp4:(0,S.ck)("88dea447c3d80062d168b864c9c01aa5645790e5"),articles:ee(0)};case 1:return{description:(0,N.t)("in_product_help_and_learning.popular_resources.explore_more_features.details.description"),webm:(0,S.ck)("23c86354e978f77d1ca96b6cc52dfdc216f5a99d"),mp4:(0,S.ck)("fd204bb233c3be09b2e29f8621d93342c24b07af"),articles:ee(1)};case 2:return{description:(0,N.t)("in_product_help_and_learning.popular_resources.create_components.details.description"),webm:(0,S.ck)("0f0aad5b442ba063078c23b06010aab77ecf0c07"),mp4:(0,S.ck)("34285a0d04fb97f14cc2611ddc825950aec93300"),articles:ee(2)}}}(t.resource)}),(0,r.jsx)("div",{children:(0,r.jsxs)(f.fu,{name:"Second Level",children:[(0,r.jsx)(ex,{}),(0,r.jsxs)("div",{className:y.s.flex.flexColumn.p16.pt8.pb0.$,children:[(0,r.jsx)("p",{className:y.s.font16.colorText.fpl__textHeadingLargeFontWeight.pb8.$,children:t.title}),n]})]})}))}function eT({details:e}){let t=(0,R.Yj)(),s=(0,x.Xr)(R.J9),n=(0,x.Xr)(R.QU);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:e.description}),(0,r.jsxs)("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:y.s.wFull.hAuto.borderBox.mt16.bRadius5.$,children:[(0,r.jsx)("source",{type:"video/webm",src:e.webm}),(0,r.jsx)("source",{type:"video/mp4",src:e.mp4})]}),(0,r.jsx)("div",{className:y.s.flex.flexColumn.gap16.pt24.$,children:e.articles.map(e=>(0,r.jsx)("span",{className:y.s.colorTextBrand.cursorPointer.alignLeft.fpl__textBodyMediumStrongFontWeight.$,children:(0,r.jsx)(V.$z,{variant:"link",trackingProperties:{articleId:e.articleId},onClick:async()=>{let r=await t(e.articleId);r&&(s(3),n(r))},children:e.displayString})},e.displayString))})]})}function eN(){let e=(0,R.Yj)(),t=(0,x.Xr)(R.QU);return(0,r.jsxs)("button",{className:y.s.radiusMedium.b1.colorBorder.flex.flexRow.m16.cursorPointer.overflowHidden.$,style:Z.sx.add({height:"74px"}).$,onClick:async()=>{let s=await e(0x130e9f996b97);s&&t(s)},children:[(0,r.jsx)(J.oW,{src:(0,S.ck)("c657cef6e7f2fec74ceef573832e097f2d0ce4cd"),alt:"",style:Z.sx.m0.add({width:"108px",height:"74px",borderRadius:"var(--radius-medium) 0 0 var(--radius-medium)"}).$}),(0,r.jsxs)("div",{className:y.s.flex.flexColumn.gap2.m12.font11.ellipsis.alignLeft.$,style:Z.sx.add({margin:"auto 12px"}).$,children:[(0,r.jsx)("p",{className:y.s.colorText.fpl__textBodyMediumStrongFontWeight.$,children:(0,N.tx)("in_product_help_and_learning.article.design_an_interactive_button")}),(0,r.jsxs)("p",{className:y.s.colorTextSecondary.$,children:[(0,N.tx)("in_product_help_and_learning.design_an_interactive_button.description")," \u2022"," ",(0,N.tx)("in_product_help_and_learning.minute_estimate",{minutes:20})]})]})]},"design-an-interactive-button")}var eI=s(88314),eE=s(876621),eA=s(278491),eM=s(331497),eP=s(852415),eL=s(993767);function eO({view:e}){let{inProductHelpViewType:t}=(0,R.A5)(),s=(0,eM.ut)(i.Ez5?.uiState().inProductHelpSidePanelWidth,0);return"side_panel"!==t?null:(0,r.jsx)(eE.V,{children:(0,r.jsx)(eL.b,{children:(0,r.jsx)(eP.w,{className:C()("dynamic_panel--sidePanelPosition--YOgLo",eA.Dm),size:s,onResize:e=>{!function(e){let t=(0,eI.qE)(e,R.Jm,R.tL);i.Ez5?.uiState().inProductHelpSidePanelWidth.set(t)}(e)},side:"left","data-cancel-insertable-resource-drag-and-drop":!0,children:(0,r.jsx)("div",{className:"dynamic_panel--sidePanelContainer--4KgPk",style:{width:`${s}px`},"data-testid":"in-product-help-side-panel",children:e})})})})}function eR({propertiesPanelWidth:e}){let t;let{inProductHelpViewType:s,hideInProductHelpView:i,updateInProductHelpViewOnWindowWidthResize:l}=(0,R.A5)(),a=(0,x.md)(R.J9);return(1===a?t=(0,r.jsx)(ec,{isFloatingModal:"floating_modal"===s}):2===a?t=(0,r.jsx)(eS,{}):3===a&&(t=(0,r.jsx)(ev,{})),n.useEffect(()=>{let e=(0,g.s)(()=>{"hidden"!==s&&l()});return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[s,e,l]),n.useEffect(()=>()=>i(),[i]),"side_panel"===s)?(0,r.jsx)(f.fu,{name:"In Product Help Panel",children:(0,r.jsx)(eO,{view:t})}):"floating_modal"===s?(0,r.jsx)(f.fu,{name:"In Product Help Floating",children:(0,r.jsx)(eh,{propertiesPanelWidth:e,view:t})}):null}var eF=s(948311),eD=s(446071);function eK({boundaryKey:e,children:t}){let s=(0,h.aV)(),g=(0,c.q)(),x=(0,h.p8)("topLevelMode"),f=(0,m.iZ)(),_=s?u.R.topLevelMode:x,y=(0,p.TY)(),b=(0,o.k)(),j=_===i.lyf.LAYOUT||_===i.lyf.BRANCHING||y||!!f&&_===i.lyf.PREVIEW||_===i.lyf.HISTORY,C=(0,d.qw)();(0,a.tt)();let{inProductHelpViewType:v}=(0,R.A5)(),{setPropertiesPanelCollapsed:k}=(0,a.iT)();return(n.useEffect(()=>{b&&k(!0)},[k,b]),b)?(0,r.jsx)("div",{className:eD.KF,children:(0,r.jsx)(eF.v2,{})}):(0,r.jsx)(l.tH,{boundaryKey:e,fallback:l.H4.NONE_I_KNOW_WHAT_IM_DOING,children:j&&g&&(0,r.jsxs)(r.Fragment,{children:[t,"hidden"!==v&&(0,r.jsx)(eR,{propertiesPanelWidth:C})]})})}},369392:(e,t,s)=>{s.d(t,{k:()=>y});var r=s(104076),n=s(716976),i=s(903927),l=s(951002),a=s(266808),o=s(582789),d=s(795033),c=s(666875),u=s(55029),p=s(819851),h=s(754446),m=s(692042),g=s(331497),x=s(712559),f=s(594440),_=s(790621);function y({children:e,isShown:t,centerInFrame:s,anchorToRect:l,showInReadOnly:o,respectPreferredPosition:d,disableAnimation:c,zIndex:u,obstacleMargin:p}){let x;let[f,y]=n.useState(!1),[j,C]=n.useState(!1),v=n.useRef(null),{markPositionChanged:k,markSelectionChanged:S}=(0,_.LP)(v),w=(0,i.d4)(({mirror:{appModel:e}})=>[a.QOV.DEFAULT,a.QOV.SELECTING_TEXT,a.QOV.CLICKING_TO_CHANGE_SELECTION].includes(e.activeUserAction)),T=(0,i.d4)(({mirror:{appModel:e}})=>e.isReadOnly),N=(0,m._X)({subscribeToUpdates_expensive:t}),I=(0,g.J2)(a.Ez5.canvasViewState().selectionBoundingRect),E=(0,g.J2)(a.Ez5.canvasViewState().inlineMenuTarget),A=l||E?.boundingBox||I,M=(0,_.JI)(),P=(0,i.d4)(e=>e.mirror.sceneGraphSelection),L=(0,h.kl)("isTableSublayerSelected"),O=(x=a.cfv.ABOVE,E?.preferredPosition?x=E.preferredPosition:L&&(x=a.cfv.BELOW),x),R=!!M||!N||!A||!w||T&&!o||!t;n.useEffect(()=>{(R||j)&&f&&y(!1)},[R,f,j]);let F=N?.offsetX||0,D=N?.offsetY||0;return(n.useEffect(()=>{y(!1)},[P,F,D]),n.useEffect(()=>{S(P)},[P,S]),R)?(0,r.jsx)(_.C_,{disableAnimation:c,ref:v,children:null}):(0,r.jsx)(b,{animationContainerRef:v,boundingBox:A,centerInFrame:s,disableAnimation:c,isHovering:f,markPositionChanged:k,obstacleMargin:p,preferredRelativePosition:O,respectPreferredPosition:d,setIsHovering:y,setSizeChanged:C,viewport:N,zIndex:u,children:e})}function b({children:e,viewport:t,animationContainerRef:s,centerInFrame:i,boundingBox:h,preferredRelativePosition:g,setSizeChanged:y,isHovering:b,setIsHovering:j,markPositionChanged:C,respectPreferredPosition:v,disableAnimation:k,zIndex:S,obstacleMargin:w}){let[T,N]=(0,d.fp)(x.f),I=T.positionRelativeToSelection,E=n.useRef(null),A=(0,p.lg)(),M=(0,_.v2)(),P=i?0:M,L=n.useRef(null),O=(0,u.FQ)(L,w),R=(0,m.Yb)(t,h),F=n.useMemo(()=>({...R,x:R.x+t.x,y:R.y+t.y}),[R,t]),D=n.useCallback((e,s,r,n)=>{if(t){let i=e-t.x,l=s-t.y,o=(0,m.$$)(t,{x:i,y:l-n/window.devicePixelRatio});a.glU.figjamInlineMenuPositionUpdate(o.x,o.y,r.height)}C({x:e+r.width/2,y:s+r.height/2});let i=(0,_.iv)(F,e,s,g);I!==i&&N({type:"SET_POS_RELATIVE_TO_SELECTION",payload:i})},[t,C,F,I,N,g]),K=n.useCallback((e,t,s)=>{switch(s){case a.cfv.ABOVE:return[(0,f.Al)(e,t),i?(0,f.tJ)(e,t):(0,f.T1)(e,t,P)];case a.cfv.BELOW:return[(0,f.Al)(e,t),i?(0,f.tJ)(e,t):(0,f.DH)(e,t,P)];case a.cfv.LEFT:return[(0,f.Dl)(e,t,20),i?(0,f.tJ)(e,t):e.y];case a.cfv.RIGHT:return[(0,f.Yh)(e,20),i?(0,f.tJ)(e,t):e.y];default:(0,l.xb)(s)}},[P,i]),B=n.useCallback((e,t,s)=>{let[r,n]=K(e,t,s);return o.r.fromOriginAndSize(r,n,t.width,t.height)},[K]),G=n.useCallback((e,t,s,r,n)=>!i&&s===a.cfv.ABOVE&&r.top()>n.top()?B(e,t,a.cfv.BELOW):!i&&s===a.cfv.BELOW&&r.top()<n.top()?B(e,t,a.cfv.ABOVE):s===a.cfv.LEFT&&r.left()>n.left()?B(e,t,a.cfv.RIGHT):s===a.cfv.RIGHT&&r.left()<n.left()?B(e,t,a.cfv.LEFT):r,[B,i]),H=n.useCallback((e,s,r,n)=>{let i=o.r.fromOriginAndSize(t.x,t.y,t.width,t.height),l=B(e,s,g),a=O(l,i,n),d=G(e,s,g,a,l);return d===a||v||(a=O(d,i,n)),[a.left(),a.top()]},[g,v,t.height,t.width,t.x,t.y,O,B,G]),[z]=(0,c.A)((0,m.ZT)(R,t),500);if(!z)return(0,r.jsx)(_.C_,{disableAnimation:k,ref:s,children:null});let V="whiteboard"===A&&b?{transition:"transform 0.1s"}:{};return V.WebkitUserSelect="none",(0,r.jsx)(f.lM,{frozen:b,offset:P,onMouseEnter:()=>{j(!0),E.current&&clearTimeout(E.current),E.current=null},onMouseLeave:()=>{E.current=setTimeout(()=>j(!1),100)},onPosition:D,positionXY:H,setSizeChanged:y,style:V,targetRect:F,zIndex:S,children:(0,r.jsx)("div",{ref:L,children:(0,r.jsx)(_.C_,{disableAnimation:k,ref:s,children:e})})})}},539607:(e,t,s)=>{s.d(t,{b:()=>C,A:()=>j});var r=s(104076),n=s(716976),i=s(903927),l=s(454851),a=s(694415),o=s(795033),d=s(641518),c=s(192075),u=s(111297),p=s(384068),h=s(842013),m=s(422836),g=s(564914),x=s(143277),f=s(699914),_=s(115473),y=s(39532),b=s(705596);function j({entrypoint:e,hideIfNoUpdates:t,initialTabOverride:s}){let r=(0,y.Xm)(),l=(0,o.md)(m.Lc),d=(0,o.md)((0,h.Xh)(r)),u=(0,_.c)(),x=(0,p.n)({type:f.T,data:{entrypoint:e,initialTab:s??(u?g.Wv.RECOMMENDED:l?g.Wv.UPDATES:g.Wv.LIBRARIES)}}),j=(0,i.d4)(e=>e.modalShown?.type===f.T.type),C=n.useMemo(()=>l?(0,c.t)("fullscreen.libraries_button.tooltip.updates_to_pull"):d?(0,c.t)("fullscreen.libraries_button.tooltip.updates_to_push"):(0,c.t)("fullscreen.libraries_button.tooltip.no_updates"),[l,d]),v=l||d;(0,b.Pf)({showBadge:v,hasChangesToPull:l,disabled:!1});let k=!(t&&!l&&!d);return{expanded:j,label:C,icon:a.l,onClick:x,shouldShow:k,badge:v}}function C({recordingKey:e,onSetKeyboardNavigationElement:t,entrypoint:s,hideIfNoUpdates:i,initialTabOverride:l}){let{expanded:a,label:o,icon:c,onClick:u,shouldShow:p,badge:h}=j({entrypoint:s,hideIfNoUpdates:i,initialTabOverride:l});return p?(0,r.jsx)("div",{className:"library_modal_button--teamLibraryIcon--EBc7q","data-onboarding-key":"library",children:(0,r.jsxs)(v,{"aria-label":o,"aria-expanded":a,ref:t,recordingKey:d.Pt(e,"teamLibrary"),onClick:u,htmlAttributes:{"data-onboarding-key":x.D},children:[n.createElement(c),h?(0,r.jsxs)("div",{className:"library_modal_button--badgeContainer--ebOHQ",children:[(0,r.jsx)("span",{className:"library_modal_button--updatesBadge--B4nW-","data-testid":"library-button-badge"})," "]}):null]})}):null}let v=(0,u.tf)(l.d)},581660:(e,t,s)=>{s.d(t,{iV:()=>i,se:()=>l});var r=s(716976);s(491488),s(266808),s(564914);var n=s(573278);let i="asset-description-preview";function l(){let{closeFlyout:e}=(0,n.JA)();return r.useCallback(()=>{e()},[e])}},956910:(e,t,s)=>{s.d(t,{g:()=>oO});var r=s(104076),n=s(716976),i=s(511570),l=s.n(i),a=s(883765),o=s(378820),d=s(653899),c=s(140490),u=s(1188),p=s(271761),h=s(236631),m=s(192075),g=s(46805),x=s(211862),f=s(374794),_=s(299117),y=s(957128),b=s(482996),j=s(244205),C=s(422872),v=s(296831),k=s(74620),S=s(174730),w=s(143277),T=s(61102),N=s(2972),I=s(654200),E=s(441030),A=s(413358);let M=(0,c._)(function(){let e=(0,k.aV)(),t=x.q5()?.canEdit,s=(0,x.MY)(),{show:i,isShowing:l,complete:a}=(0,C.e)({overlay:E.QI3,priority:w.N.SECONDARY_MODAL},[s]),o=(0,b.te)(),{currentView:d}=(0,N.wV)(),c=!!(0,S.f)(y.bo),u="no_figma_basics_onboarding_was_shown_in_current_session"===(0,v.zl)(A.j).currentState;return(0,n.useEffect)(()=>{!e&&t&&o()&&!c&&!u&&d===N.S5.Libraries&&i(),l&&d!==N.S5.Libraries&&a()},[i,a,t,l,o,c,u,d,e]),(0,r.jsx)(T.rq,{arrowPadding:y.fg,arrowPosition:I.F_.LEFT_TITLE,description:(0,m.tx)("rcs.visual_assets.explore_within_assets_tab"),disableHighlight:!0,isShowing:l,onClose:a,primaryCta:{label:(0,m.tx)("onboarding_pointers.got_it"),type:"button",onClick:a,ctaTrackingDescriptor:j.c.GOT_IT},targetKey:y.Bs,title:(0,m.tx)("rcs.visual_assets.elevate_your_designs"),trackingContextName:"Visual Asset Packs Tooltip",userFlagOnShow:y.bo})},"VisualAssetPacksTooltip");var P=s(193317);let L=(0,c._)(function({width:e}){return(0,r.jsxs)(_.p,{children:[(0,r.jsx)("div",{style:{left:`${e}px`,top:"195px"},className:"visual_assets_tooltip_and_target--hiddenNuxAnchor--i4n3a","data-onboarding-key":y.ko}),(0,r.jsx)(P.T,{}),(0,r.jsx)(M,{})]})},"VisualAssetsTooltipAndTarget");var O=s(121969),R=s(903927),F=s(649621),D=s(878604),K=s(268389),B=s(917360),G=s(812714),H=s(795033),z=s(983500),V=s(328167),U=s(221586),W=s(361170),$=s(848561),X=s(911990),Y=s(12606),q=s(285626),J=s(928818),Z=s(249586),Q=s(563792),ee=s(727612),et=s(50593),es=s(380917),er=s(380494),en=s(449572),ei=s(936817),el=s(259936),ea=s(592726),eo=s(944350),ed=s(59849),ec=s(562311),eu=s(904017),ep=s(568383);function eh(e){let t=(0,eu.D6)("useCanViewPlaygroundQuery"),s=(0,R.d4)(ec.getPermissionsState),r=(0,x.q5)(),i=(0,ea.TA)(),{currentUserOrgId:l}=s,a=!!(l&&(0,ec.canGuestOrg)(l,s)),o=(0,en.bc)(ed.dHY,{},{enabled:(0,ei._X)(ei.Pw.GROUP_7)}),d=!!(i&&(0,ec.hasActiveEduTeam)(s,i)),c=(0,el.MF)({oldValue:er.Qw.loaded(d),newValue:o.transform(e=>e?.currentUser.inStudentPlan),label:el.A5.CanViewPlayground.hasActiveEduTeam,enableFullRead:(0,ei.DQ)(ei.Pw.GROUP_7)});return(0,n.useMemo)(()=>er.Qw.transformAll([t,c],(t,s)=>{if(!r||!i)return!1;let n=t.key.type===eo.h4.ORG_USER;return!!((0,el.HZ)({oldValue:a,newValue:n,label:el.A5.CanViewPlayground.canGuestOrg,contextArgs:{planUserType:t.key.type,planUserParentId:t.key.parentId},enableFullRead:(0,ei.DQ)(ei.Pw.GROUP_7),maxReports:10})||t.seatTypeLicenseTypes?.includes(eo.G_.DESIGN))||!!s||H.zl.get(ep.TG).has(e)}),[t,r,i,a,c,e])}var em=s(499036),eg=s(601887),ex=s(614784),ef=s(354114),e_=s(88180),ey=s(624155),eb=s(280335),ej=s(842013),eC=s(564914),ev=s(96213),ek=s(959834),eS=s(368680),ew=s(658749),eT=s(10019),eN=s(927671),eI=s(854284),eE=s(643330),eA=s(284467),eM=s(189385),eP=s(805733),eL=s(471628),eO=s(495905),eR=s(288747),eF=s(853039),eD=s(104836),eK=s(237494),eB=s(490307);let eG="asset_file_path--path---PrgD text--fontPos11--2LvXf text--_fontBase--QdLsd",eH="asset_file_path--skeletonText--PIxni";function ez({assetLibraryKey:e,assetNodeId:t}){let s=(0,eD.ol)(),i=(0,eR.sZ)(),l=!!i||(0,eF.w5)(s),a=i?.id,{fileContext:o,fileName:d,isPresetLibrary:c,isLoading:u}=function(e){let t=(0,en.bc)(ed.ffQ,{libraryKey:e}),s=(0,eO.fd)(e);return n.useMemo(()=>({fileContext:t.data?.libraryKeyToFile?.file,fileName:t.data?.libraryKeyToFile?.hubFile?.currentHubFileVersion?.name??t.data?.libraryKeyToFile?.file?.name,isPresetLibrary:s,isLoading:"loading"===t.status}),[s,t.data?.libraryKeyToFile?.file,t.data?.libraryKeyToFile?.hubFile?.currentHubFileVersion?.name,t.status])}(e),p=function(e,t){let s=(0,eP.b)({libraryKey:e,nodeId:t}),r=(0,R.d4)(x.tB);return n.useMemo(()=>{if(r?.libraryKey===e)return null;let t=s.data;return null==t?null:t.link},[e,r,s])}(e,t),m=o?.teamLimitedInfo?.id,g=m?function(e,t){let s=location.origin;return t?`${s}/files/${t}/team/${e}`:`${s}/files/team/${e}`}(m,a):void 0,f=o?.teamLimitedInfo?.name,_=m&&f&&l,y=o?.computedWorkspace?.workspace?.id,b=y&&a?eK.fO(y,a):void 0,j=o?.computedWorkspace?.workspace?.name,C=y&&j&&l;return u?(0,r.jsxs)("div",{className:eG,"data-testid":"asset-file-path-loader",children:[(0,r.jsx)(eA.Wi,{className:eH,opacity:50})," ",l&&(0,r.jsxs)(r.Fragment,{children:["/",(0,r.jsx)(eA.Wi,{className:eH,opacity:50})]})]}):(0,r.jsxs)("div",{className:eG,children:[C&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eM.q,{tooltipText:j,children:(0,r.jsx)(eB.X,{href:b??"",newTab:!0,children:j})}),"/"]}),_&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eM.q,{tooltipText:f,children:(0,r.jsx)(eB.X,{href:g??"",newTab:!0,children:f})}),"/"]}),(0,r.jsx)(eM.q,{tooltipText:d,children:p?(0,r.jsx)(eB.X,{href:p,newTab:!0,children:d}):(0,r.jsx)("span",{children:d})}),c&&(0,r.jsx)("div",{className:h.s.flex.alignCenter.justifyCenter.ml2.$,children:(0,r.jsx)(eL.E,{libraryKey:e,showTooltip:!0})})]})}var eV=s(419822),eU=s(266808),eW=s(328341),e$=s(836982),eX=s(349951),eY=s(293422),eq=s(420680),eJ=s(352955),eZ=s(915123),eQ=s(555013),e0=s(943568),e1=s(652539),e3=s(402776),e5=s(455788),e4=s(567325),e2=s(894210),e6=s(739710),e7=s(622659),e8=s(87535),e9=s(664320),te=s(333331),tt=s(115989),ts=s(142914),tr=s(351625),tn=s(469603);function ti({assetKey:e,type:t,updatedAt:s}){let i=(0,tn.R8)({assetKey:e,type:t}),{avatar:l,authorName:a}=n.useMemo(()=>{if("loaded"!==i.status||!i.data?.assetAttribution)return{avatar:null,authorName:null};let e=(0,te.oA)(i.data.assetAttribution);if(!e)return{avatar:null,authorName:null};if(e.type===eo.GC.COMMUNITY)return{avatar:(0,r.jsx)(tr.e,{entity:(0,tn.M)(e),size:ts.Pf.SMALL}),authorName:e.name};let t=(0,tn.G5)(e);return null!=t&&t.img_url&&(t.handle||t.name)?{avatar:(0,r.jsx)(ts.H8,{user:t,size:ts.Pf.SMALL}),authorName:t.handle}:{avatar:null,authorName:null}},[i]);return"loading"===i.status?(0,r.jsx)(eA.Wi,{className:h.s.h16.w100.$,animationType:eA.JR.LIGHT_SHIMMER}):l&&a?(0,r.jsxs)("div",{className:"asset_updated_details--updatedAtAvatar--uf4Gy",children:[l,(0,r.jsx)("span",{className:"asset_updated_details--handle--63B8y",children:a}),s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"asset_updated_details--dot--SoliI",children:"\xb7"}),(0,r.jsx)(tt.h1,{date:s})]}):null]}):s?(0,r.jsx)("div",{className:"asset_updated_details--updatedAt--eam-d",children:(0,m.tx)("design_systems.assets_panel.updated_at",{updatedAt:(0,r.jsx)(tt.h1,{date:s})})}):null}var tl=s(985929),ta=s(330489),to=s(846680),td=s(787010),tc=s(347080);let tu=(0,z.jz)(tc.figmaComponentFlyoutTextMaxCollapsedHeight);function tp({description:e,description_rt:t}){let s=n.useRef(null),[i,a]=n.useState(!0),[o,d]=n.useState(!1),c=(0,eW.ZC)(e);n.useEffect(()=>{if(e&&s.current&&c!==e){let e=s.current.scrollHeight>tu;a(e),d(e)}},[e,c]);let u=n.useCallback(()=>{i&&d(!0),a(!i)},[i]);if(!e&&!t)return null;let p=!!e&&(i||o);return(0,r.jsxs)("div",{className:"truncated_component_description--documentationSection--87RCO",children:[t?(0,r.jsx)("div",{children:(0,r.jsx)(to.C,{value:t,valueFormat:(0,ta.j_)(t),namespace:"component-description-flyout-lexical-editor-readonly",lexicalContentClassName:i?td.D6:td.kF,innerRef:s})}):(0,r.jsx)("div",{ref:s,className:l()({"truncated_component_description--collapsed--VXZTS ellipsis--ellipsisAfter6Lines--2UA7M ellipsis--_ellipsisAfterNLines--LzI7k":i},"truncated_component_description--documentationDescription--C090D text--fontPos11--2LvXf text--_fontBase--QdLsd"),dir:"auto",children:e}),p&&(0,r.jsx)("button",{className:"truncated_component_description--showMore--brfX6",onClick:u,children:i?(0,m.tx)("design_systems.assets_panel.show_more"):(0,m.tx)("design_systems.assets_panel.show_less")})]})}var th=s(372209),tm=s(230645),tg=s(689324);function tx({renderedAssetData:e,errorType:t,canViewPlayground:s,onInsert:i,shouldHideError:l,onSetShouldHideError:a}){let o=(0,k.T3)(),[d,c]=n.useState(!1);n.useEffect(()=>{c(!1),a(!1)},[e.asset,a]);let u=(0,tl.S)(e.asset),p=(0,e7.Y)(e.asset),h=n.useMemo(()=>(0,e4.kH)(e.asset.name??""),[e.asset.name]),g=n.useRef(null),x=(0,eZ.NG)({text:h,textRef:g}),f=(0,e9.w$)(e.nodeData?.modeData??{}),_=e.asset,y=n.useMemo(()=>{let t=e.nodeData?.playgroundGUID;if(!t)return"";let s=o.get(t);if(!s)return"";let r=o.get(s.symbolId??"");return r?(r.isState?r.parentGuid:r.guid)??"":""},[e,o]),b=n.useMemo(()=>{if(t)return{errorType:t,shouldHideError:l,setShouldHideError:a}},[t,l,a]),j=(0,m.tx)("design_systems.assets_panel.insert_instance");return(0,r.jsxs)("div",{className:"component_flyout_body--bodyWrapper--CoGX-",children:[u&&!d&&(0,r.jsx)("div",{className:"component_flyout_body--updateBanner--ETDK5 component_flyout_body--_bodyPadding--KrB6p text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,r.jsx)(e0.z,{orientation:"vertical",iconSrc:tm.A,onClose:()=>c(!0),variant:"design",children:(0,m.tx)("design_systems.assets_panel.update_banner")})}),(0,r.jsxs)("div",{className:"component_flyout_body--headerFileNameWrapper--MH4jz component_flyout_body--_bodyPadding--KrB6p",children:[(0,r.jsx)("h2",{className:"component_flyout_body--header--3LXSQ text--fontPos14--OL9Hp text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa","data-tooltip":x?h:void 0,"data-tooltip-type":e2.Ib.TEXT,ref:g,children:h}),!!p&&p>1&&(0,r.jsx)("div",{className:"component_flyout_body--numVariants--nureW",children:(0,m.tx)("design_systems.assets_panel.variant_count",{numVariants:p})})]}),(0,r.jsx)("div",{className:"component_flyout_body--descriptionWrapper--wFyRa component_flyout_body--_bodyPadding--KrB6p",children:(0,r.jsx)(tp,{description:_.description,description_rt:_.description_rt})}),_.updated_at&&(0,r.jsx)("div",{className:"component_flyout_body--updatedWrapper--q4V48 component_flyout_body--_bodyPadding--KrB6p",children:(0,r.jsx)(ti,{assetKey:(0,ey.Av)(_),type:_.type,updatedAt:_.updated_at})}),(0,r.jsx)("div",{className:"component_flyout_body--buttonWrapper--Sb1Mq component_flyout_body--_bodyPadding--KrB6p",children:(0,G.kc)().dse_fpl_wave_1?(0,r.jsx)(eY.IK,{onClick:i,recordingKey:"component_flyout_insert",children:j}):(0,r.jsx)(eQ.$$,{onClick:i,fullWidth:!0,recordingKey:"component_flyout_insert",children:j})}),s&&!e?.nodeData&&!b&&(0,r.jsxs)("div",{className:"component_flyout_body--skeletonWrapper--urKH5",children:[(0,r.jsx)(eA.Wi,{className:"component_flyout_body--skeletonHeader--VoEY3",opacity:50}),(0,r.jsx)(eA.Wi,{className:"component_flyout_body--skeletonBody--pINXr",opacity:50})]}),s&&(e?.nodeData||b)&&(0,r.jsxs)(k.q0.Provider,{value:o,children:[(0,r.jsx)("div",{className:"component_flyout_body--propsContainer--w8pmU",children:(0,r.jsx)(e5.x,{componentProps:e.nodeData?.componentProps,containerWidth:e6.O2.UNBOUNDED,errorData:b,instanceSwapPickerInitialHeight:200,instanceSwapPickerInitialPosition:"right-center",label:(0,r.jsx)(tf,{renderedAssetData:e}),playgroundGUID:e.nodeData?.playgroundGUID,productComponentGUID:y,sceneGraph:o,shouldShowDividerAboveProps:!0})}),(0,r.jsx)("div",{className:"component_flyout_body--modeContainer--8n5p5",children:(0,r.jsx)(e3.b,{fill:!0,modes:f})})]})]})}function tf({renderedAssetData:e}){let t=n.useCallback(()=>{e.refetchAndResetScene()},[e]);return(0,r.jsxs)("div",{className:"component_flyout_body--playgroundHeader--lQfDc",children:[(0,r.jsxs)("div",{className:"component_flyout_body--flyoutLabel--6Y6lR text--fontPos11--2LvXf text--_fontBase--QdLsd",children:[(0,r.jsx)(e1.B,{className:"component_flyout_body--headerIcon--FHdrw",svg:th.A}),(0,m.tx)("design_systems.assets_panel.playground_label")]}),(0,G.kc)().dse_fpl_wave_1?(0,r.jsx)("span",{className:"component_flyout_body--resetButtonContainer--fCSjD",children:(0,r.jsx)(eq.K,{"aria-label":(0,m.t)("design_systems.playground.reset_properties"),onClick:t,disabled:!e.hasChangesToReset,recordingKey:"resetPlaygroundProps",htmlAttributes:{"data-tooltip":(0,m.t)("design_systems.playground.reset_properties"),"data-tooltip-type":e2.Ib.TEXT},children:(0,r.jsx)(eJ.q,{})})}):(0,r.jsx)(e8.K0,{className:"component_flyout_body--resetButton--wVXDQ",svg:tg.A,onClick:t,"data-tooltip":(0,m.t)("design_systems.playground.reset_properties"),"data-tooltip-type":e2.Ib.TEXT,disabled:!e.hasChangesToReset,recordingKey:"resetPlaygroundProps"})]})}var t_=s(223850),ty=s(757887),tb=s(96329),tj=s(760800),tC=s(581660);let tv="component_flyout_thumbnail--thumbnail--p3jV2";function tk({canViewPlayground:e,renderedAssetData:t,onCloseIfHidden:s,setFlyoutHidden:i,sectionPosition:l,sectionNameForTracking:a,sectionDepth:o}){let d=n.useCallback(()=>{i(!0)},[i]),{onInsertableResourcePointerDown:c,dragState:u}=(0,tb.j)({resource:t.asset,isList:!1,clickToInsert_DEPRECATED:!1,sourceForTracking:tC.iV,fromPlayground:e,recomputeCancelRectsOnPointerUp:!0,onDragStart:d,onPointerUpWithoutInsert:s,sectionPosition:l,sectionNameForTracking:a,sectionDepth:o}),p=n.useMemo(()=>{let e=(0,Q.zR)(t.asset,null);if(null!=e)return t_.F.format(e)},[t.asset]),h=tS(t.hasChangesToReset,t.nodeData?.modeData??null);return(0,r.jsxs)("div",{className:"component_flyout_thumbnail--thumbnailWrapper--P38Qq",onPointerDown:c,role:"button",style:p?{backgroundColor:p}:void 0,children:[e&&t?.thumbnailData&&h?(0,r.jsx)("img",{className:tv,src:t.thumbnailData.src,alt:(0,m.t)("design_systems.playground.thumbnail_alt"),draggable:!1}):(0,r.jsx)(tj.M,{className:tv,draggable:!1,item:t.asset,localThumbnailGenerationBehavior:"skip"},(0,es.V)(t.asset)),(0,r.jsx)(ty.q,{dragState:u,isList:!1,thumbnailOverrideSrc:e&&t?.thumbnailData?t.thumbnailData.src:void 0})]})}let tS=(e,t)=>n.useMemo(()=>{if(e)return!0;let s=eU.glU?.getPlaygroundScene();return!!s&&Object.values(t||{}).some(e=>{let t=e.inheritMode;return"MIXED"!==t&&!!t&&eU.CWU?.getVariableSetDefaultModeForScene(e.collectionID,s)!==t.guid})},[e,t]),tw={maxWidth:640,maxHeight:480};function tT(e){return(0,r.jsx)(c.u,{label:"ComponentFlyout",children:(0,r.jsx)(tN,{...e})})}function tN({asset:e,onInsert:t,onLoaded:s,flyoutHidden:i,onCloseIfHidden:l,setFlyoutHidden:a,sectionPosition:o,sectionNameForTracking:d,sectionDepth:c}){let u=eh(e.library_key),[p,h]=n.useState(!1),m=n.useCallback(()=>h(!1),[]),g=(0,eX.MO)({canvasAsset:e,canViewPlaygroundQueryResult:u,onLoaded:s,onError:m,thumbnailOptions:tw}),x=(0,eb.H)(),f=(0,R.d4)(e=>e.fileVersion),_=(0,eW.ZC)(f);if(n.useEffect(()=>{g?.state==="LOADED"&&g?.currentAssetData?.nodeData?.playgroundGUID&&null!=_&&_!==f&&(x(),eU.glU?.clearPlaygroundScene())},[f,_,x,e.type,g]),!g)return(0,r.jsx)("div",{className:"component_flyout--spinner--c-wap",children:(0,r.jsx)(eV.k,{})});let y="LOADED"===g.state?g.currentAssetData:g.previousAssetData,b="ERROR"===g.state?g.errorType:void 0;return(0,r.jsx)(e$.k,{name:"props_playground",children:(0,r.jsxs)("div",{className:"component_flyout--wrapper--96Jih",children:[(0,r.jsx)(tk,{renderedAssetData:y,canViewPlayground:u.unwrapOr(!1),onCloseIfHidden:l,setFlyoutHidden:a,sectionPosition:o,sectionNameForTracking:d,sectionDepth:c}),!i&&(0,r.jsx)(tx,{renderedAssetData:y,errorType:b,canViewPlayground:u.unwrapOr(!1),onInsert:t,onSetShouldHideError:h,shouldHideError:p})]})})}var tI=s(435119),tE=s(573278),tA=s(404343);let tM=(0,z.jz)(tA.LdP),tP=(0,z.jz)(tA.wkK);function tL(e){return(0,r.jsx)(c.u,{label:"ComponentFlyoutModal",children:(0,r.jsx)(tO,{...e})})}function tO({asset:e,searchSessionId:t,query:s,sectionPosition:i,sectionNameForTracking:l,assetTypeDropdownSelection:o,sectionDepth:c,containerWidth:u,onGetKeyboardNavigationItemById:p,sourceForTracking:g}){let f=n.useRef(null),_=n.useRef(null),y=(0,H.Xr)(tI.T),b=eh(e.library_key),j=(0,H.md)(ep.TG),C=(0,eN.H)(e.library_key),v=(0,ew._9)(e.library_key,"asset_panel_visual_assets_flyout_insert"),{closeFlyout:k}=(0,tE.JA)(),S=(0,ee.fV)(e.library_key),w=(0,x.q5)(),T=(0,R.wA)(),N=(0,R.d4)(e=>(0,ej.e_)(e).local.thumbnails),I=(0,eb.H)(),E=n.useCallback(({source:e})=>{"outside"!==e&&k()},[k]),A=(0,R.d4)(e=>e.instanceSwapPickerShown),M=(0,eT.k)(),P=(0,ex.tM)(g??"assets-panel");(0,d.h)(()=>{a.az.trackDefinedEvent("assets_panel.flyout_opened",{assetKey:(0,es.V)(e),assetType:(0,es.q)(e.type),assetLibraryKey:e.library_key,isLocal:e.isLocal,fileParentOrgId:w?.parentOrgId??void 0,fileTeamId:w?.teamId??void 0,assetsPanelVersion:M,partnerType:(0,eg.X)(e.library_key),queryId:P??void 0})}),(0,d.h)(()=>()=>{T((0,Y.vq)()),y(!1)}),n.useEffect(()=>{if(!(0,ey.dx)(e)||!e.isLocal)return;let t=e.node_id?N[e.node_id]:null,s=e.type===eC.PW.COMPONENT?e.content_hash:e.version;t?.content_hash!==s&&requestAnimationFrame(()=>{let t=(0,Q.r2)(e.node_id);null!=t&&T(J.T1({thumbnails:[{nodeId:e.node_id,url:t,type:e.type}],styleKind:eC.AT.LOCAL}))})},[e,T,N]);let L=n.useCallback(()=>{requestAnimationFrame(()=>f?.current?.ensureModalOnScreen())},[]),z=n.useCallback(()=>{A?.isShown&&T((0,Y.vq)())},[T,A]),er=(0,ex.Hu)(e.library_key),en=(0,eI.Nv)(!0),ei=(0,O.CK)(),el=n.useCallback(()=>{if("loaded"!==b.status)return;let r=ef.Y5.getViewportInfo(),n={canvasPosition:{x:r.offsetX,y:r.offsetY},insertAsChildOfCanvas:!0,percentageOffset:new W.Mi(.5,.5),storeInRecentsKey:ev.$A.Design,useSmartPositioning:!0,fromPlayground:b.data};e.type===eC.PW.COMPONENT?(T((0,q.FU)({item:e,...n})),C&&v(!0)):e.type===eC.PW.STATE_GROUP?T((0,q.b$)({item:e,...n})):e.type===eC.PW.MODULE&&T((0,q.Bs)({item:e,...n,insertionCallback:()=>ef.Y5.triggerAction("commit")}));let d={aiResultsEnabled:en,assetKey:(0,ey.Av)(e),assetType:(0,es.q)(e.type),queryId:P??void 0,scoreAi:e.ai_score??void 0,scoreLexical:e.lexical_score??void 0,assetTypeDropdownSelection:o,assetsPanelVersion:M,fileKey:w?.key??void 0,fileParentOrgId:w?.parentOrgId??void 0,fileTeamId:w?.teamId??void 0,isExample:(0,em.o)(e,j),libraryKey:e.library_key,partnerType:(0,eg.X)(e.library_key),sectionDepth:c,sourceSection:l??void 0,productType:(0,Z.pi)({editorType:w?.editorType})};a.az.trackDefinedEvent("assets_panel.flyout_insert",{...d,libraryType:er,searchSessionId:t??void 0,searchQuery:s,sectionPosition:i}),g!==eS.tM?a.az.trackDefinedEvent("asset_search.result_inserted",{...d,libraryType:er,position:i,reciprocalRank:(0,F.Et)(i)?1/(1+i):void 0,query:s,sessionId:t??void 0,entryPoint:"assets-panel",componentSuggestionSessionId:ei}):(0,eS.k1)({...d,position:i})},[ei,b.status,b.data,e,en,P,o,M,w?.key,w?.parentOrgId,w?.teamId,w?.editorType,j,c,l,er,t,s,i,T,C,v,g]);n.useEffect(()=>{let e=e=>{let t=f.current?.getEl()??_.current;if(t){if(!t.contains(e.target)){if(y(!1),(0,V.NX)(e.target,"data-does-not-dismiss-component-flyout"))return;k();return}y(!0)}};return document.addEventListener("pointerdown",e),()=>{document.removeEventListener("pointerdown",e)}},[k,T,y]);let ea=n.useCallback((t,s)=>{let r=t.code??t.key,n=(0,es.V)(e),i=p?.(n);if(!i)return;let l=t.keyCode===U.Uz.TAB,a=t.shiftKey;if((0,$.c2)(t,!1)){i.getItemAbove()?.focus(),s?.();return}if((0,$.Nt)(t,!1)){i.getItemBelow()?.focus(),s?.();return}if((0,$.yn)(t,!1)||l&&a){i.getItemToTheLeft()?.focus(),s?.();return}if((0,$.lv)(t,!1)||l&&!a){i.getItemToTheRight()?.focus(),s?.();return}if("Enter"===r){el(),s?.();return}},[e,el,p]),eo=n.useCallback(e=>{ea(e.event,()=>e.accept())},[ea]);var ed=(0,r.jsxs)("div",{className:h.s.minW0.flex1.$,children:[(0,r.jsx)("h1",{children:(0,m.t)("design_systems.assets_panel.details")}),(0,r.jsxs)(X.Y,{spacing:0,direction:"horizontal",children:[e&&(0,r.jsx)(ez,{assetLibraryKey:e.library_key,assetNodeId:e.node_id}),S&&(0,r.jsx)("div",{className:h.s.pr4.$,children:(0,r.jsx)(et.KP,{libraryKey:e.library_key,variant:"secondary",tooltipLocation:"below"})})]})]});let[ec,eu,ek]=(0,e_.J)(!1),eA=n.useCallback(()=>{ec.current&&I()},[ec,I]);return"loaded"!==b.status?null:(0,G.kc)().dse_fpl_wave_2?(0,r.jsx)(D.bL,{onClose:E,defaultPosition:new W.Mi(u+1,tM),width:tP,htmlAttributes:{"data-testid":"component-flyout-modal",id:tE.Ev,hidden:eu,onKeyDown:ea},ref:_,maxHeight:"100vh",children:(0,r.jsxs)(K.vo,{children:[(0,r.jsx)(K.Y9,{children:(0,r.jsx)(B.J,{style:{margin:0,minWidth:0},children:ed})}),(0,r.jsx)(K.nB,{style:{padding:0},scrolling:"none",children:(0,r.jsx)(tT,{asset:e,onLoaded:L,onInsert:el,flyoutHidden:eu,onCloseIfHidden:eA,setFlyoutHidden:ek,sectionPosition:i,sectionNameForTracking:l,sectionDepth:c})})]})}):(0,r.jsx)(eE.Ao,{ref:f,allowAutoExpanding:!0,alwaysEnsureModalOnScreen:!0,canRenderBelowViewport:!1,dataTestId:"component-flyout-modal",headerSize:"large",hidden:eu,id:tE.Ev,initialPosition:new W.Mi(u+1,tM),initialWidth:tP,noCancelDragAndDrop:!0,onClick:z,onClose:I,onKeyDown:eo,title:ed,truncateTitleText:!0,children:(0,r.jsx)("div",{"data-not-draggable":!0,children:(0,r.jsx)(tT,{asset:e,onLoaded:L,onInsert:el,flyoutHidden:eu,onCloseIfHidden:eA,setFlyoutHidden:ek,sectionPosition:i,sectionNameForTracking:l,sectionDepth:c})})})}let tR=(0,ek.Ju)(tL,tE.VI);var tF=s(638004),tD=s(694415),tK=s(769109),tB=s(428147),tG=s(366535),tH=s(443192),tz=s(111297),tV=s(295253);function tU(){let e=(0,R.wA)(),t=(0,x.q5)(),s=(0,R.d4)(e=>e.user?.id);if(!t)return null;let n=t.teamId,i=(0,r.jsx)(eQ.Us,{className:"library_upsell_banner--blueLink--bt6GX blue_link--blueLink--9rlnd",onClick:function(){(0,a.sx)("library_upsell_badge_clicked",{fileKey:t?.key,teamId:n,userId:s}),e((0,tG.to)({type:tB.V,data:{upsellSource:tV.b.LIBRARY_UPSELL_BADGE,teamId:n??void 0,openCheckoutInNewTab:!0}}))},trackingProperties:{trackingDescriptor:j.c.UPGRADE_TO_PROFESSIONAL},trusted:!0,role:"button",children:(0,m.tx)("design_systems.assets_panel.library_upsell_upgrade")});return(0,r.jsx)(u.tH,{boundaryKey:"LibraryUpsellBanner",fallback:u.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:tF.e.MONETIZATION_UPGRADES},children:(0,r.jsx)(tz.fu,{name:"library upsell badge",properties:{fileKey:t?.key,teamId:t?.teamId},children:(0,r.jsx)("div",{className:"library_upsell_banner--bannerBackground--WlTVY",children:(0,r.jsxs)("div",{className:"library_upsell_banner--bannerContainer--SqSHa",children:[(0,r.jsx)(tK.Jn,{className:"library_upsell_banner--closeButton--U1sPN",onClick:function(){(0,a.sx)("library_upsell_badge_dismissed",{fileKey:t?.key,teamId:n,userId:s}),e(tH.b({has_dismissed_component_sidebar_library_upsell_banner:!0}))}}),(0,r.jsxs)("div",{className:"library_upsell_banner--bannerContent--SUcpT",children:[(0,r.jsx)("div",{className:"library_upsell_banner--bannerHeader--Lbg8d",children:(0,r.jsx)(tD.l,{})}),(0,r.jsx)("p",{className:"library_upsell_banner--bannerTitle--AN3mP",children:(0,m.tx)("design_systems.assets_panel.library_upsell_header")}),(0,r.jsx)("p",{className:"library_upsell_banner--bannerBody--GSg3l",children:(0,m.tx)("design_systems.assets_panel.library_upsell_body",{upgradeToProfessionalPlanLink:i})})]})]})})})})}var tW=s(490698),t$=s(682057),tX=s(758994),tY=s(109527),tq=s(530299),tJ=s(727954),tZ=s(9781);let tQ=!1;var t0=s(95314),t1=s(684742),t3=s(528749),t5=s(738242),t4=s(366815),t2=s(702021);let t6="asset_panel_folder--folderButton---mVgX",t7="asset_panel_folder--selected--U7Cz3",t8="asset_panel_folder--blankThumbnail--6v5uo";var t9=s(113877);let se=(0,z.jz)(t9.CT),st={height:se,width:se},ss=n.forwardRef(function({keyPrefix:e,name:t,onClick:s,onContextMenu:n,previewAssetOrUrl:i,recordingKey:a,disabled:o,selected:d,variant:c,customThumbnailData:u,pageInfo:p,hoverable:h,role:m},g){let x=(0,r.jsxs)(r.Fragment,{children:["preview"===c||"preview-no-padding"===c?(0,r.jsx)("div",{className:"asset_panel_folder--folderPreview--0ezgC",children:i?(0,r.jsx)(t2.V,{keyPrefix:e,previewAssetOrUrl:i,type:"preview-no-padding"===c?"no-padding":void 0,customThumbnailData:u,...st,pageInfo:p}):(0,r.jsx)("div",{className:t8,style:st})}):(0,r.jsx)("div",{className:"asset_panel_folder--folderIcon--FnZdp",children:(0,r.jsx)(t3.x,{})}),(0,r.jsx)("div",{className:"asset_panel_folder--folderName--CPNC8 ellipsis--ellipsis--Tjyfa",children:t}),(0,r.jsx)("div",{className:l()("asset_panel_folder--folderNextIcon--ZYH9z",{"asset_panel_folder--adjustMargin--uitBT":"icon"===c}),children:(0,r.jsx)(t5.n,{})})]});return(0,r.jsx)("div",{className:"asset_panel_folder--folderContainer--UPeR-",role:m,children:s?(0,G.kc)().dse_fpl_wave_1?(0,r.jsx)(t1.E,{"aria-label":t,className:l()(t6,{[t7]:d}),onClick:s,ref:g,recordingKey:a,disabled:o,htmlAttributes:{onContextMenu:n},children:x}):(0,r.jsx)(t4.GG,{"aria-label":t,className:l()(t6,{[t7]:d}),onClick:s,onContextMenu:n,forwardedRef:g,recordingKey:a,disabled:o,children:x}):(0,r.jsx)("div",{className:l()(t6,{[t7]:d,"asset_panel_folder--hover--BjmYh":!!h}),children:x})})});var sr=s(455582),sn=s(207116),si=s(807474);function sl({subtree:e,index:t,keyPrefix:s,depth:i}){let l=(0,sr.sN)(),{folderPath:a,currentView:o}=(0,N.wV)(),[d]=(0,si.MA)(),{previewAsset:c}=e,{navigateToFolder:u}=(0,N.wV)(),p=n.useCallback(()=>{l("folderRow",u(e.name))},[l,u,e.name]),h=n.useMemo(()=>[tJ.ON.CONTENTS,tJ.lM.ASSETS+i,tJ.tM.FOLDERS,t],[i,t]),{keyboardNavigationItem:m,setKeyboardNavigationElement:g}=(0,$.M3)({path:h,id:e.key,disabled:(a?.length??0)>i}),{focusFirstItem:x,focusSearchBar:f}=(0,sn.rl)();(0,sn.C0)(m,0===t&&i===(a?.length??0)&&o===N.S5.Assets);let _=(0,sn.MB)({onBoth:p,onKeyDown:x,onClick:f}),y=n.useMemo(()=>a&&a.length>i,[a,i]);return(0,r.jsx)(ss,{name:e.name,onClick:_,keyPrefix:`${s}${e.name}`,previewAssetOrUrl:c,recordingKey:`assetsFolder.${e.name}`,ref:g,disabled:y,variant:"list"===d?"icon":"preview",role:"list"===d?"listitem":"gridcell"})}var sa=s(104177),so=s(613997),sd=s(350019),sc=s(286138),su=s(29785),sp=s(776111),sh=s(641518),sm=s(587114),sg=s(675477),sx=s(258807),sf=s(679437),s_=s(549090),sy=s(659),sb=s(76365),sj=s(955715),sC=s(648952),sv=s(89184),sk=s(854684),sS=s(674355),sw=s(243021),sT=s(91704);let sN="asset_panel_tile--fileName--Skyao ellipsis--ellipsis--Tjyfa",sI="asset_panel_tile--secondary--6CWeS",sE="asset_panel_tile--nameWrapper--6O-iS",sA="asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt",sM="asset_panel_tile--gridWrapper--tUJe5 asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt",sP="asset_panel_tile--tileWrapper--7OwtG asset_panel_tile--_tileWrapperBase--OAJqM",sL="asset_panel_tile--tileWrapperList--VMlzj asset_panel_tile--_tileWrapperBase--OAJqM";function sO(e){return(0,r.jsx)(c.u,{label:"AssetPanelTile",children:(0,r.jsx)(sR,{...e})})}function sR({asset:e,fileName:t,sourceForTracking:s,thumbLayout:i,thumbHeight:a,thumbWidth:o,displayType:d,viewMode:c,sectionNameForTracking:u,sectionPosition:p,sectionDepth:h,hideInlineName:g,keyboardPosition:f,isFirstTile:_=!1,isExample:y=!1,keyboardPanelDepth:b=0,disableClickPropagation:j=!1,libraryItemTileProps:C,isVisualAsset:v=!1,onSuccessfulAssetInsert:k}){let S=n.useContext(sC.U),{isFlyoutOpen:w}=(0,tE.JA)(),T=(0,x.tS)(),I=(0,H.md)(ep.TG),{currentView:E}=(0,N.wV)(),A=n.useMemo(()=>y??(0,em.Nz)(e,{isPreset:(0,eO.lR)(e,I)}),[e,y,I]),M=(0,tl.J)(e,p,u),P=(0,sv.n)(e),L=(0,sf.u)({canSwap:!A,openFileKey:T??"",sourceForTracking:"Asset Panel",insertAsChildOfCanvas:!0}),O=n.useCallback(()=>{w&&!P&&M()},[w,P,M]),F=n.useCallback(()=>{w||S?.onOpenFlyout(e,p,u,h,s)},[w,S,e,p,u,h,s]),D=n.useCallback(e=>{j&&e.stopPropagation(),F()},[j,F]),K=`assetPanelTile.${p}`,B=sh.rf(K,"click",D),z=n.useMemo(()=>({...f,path:[tJ.ON.CONTENTS,tJ.lM.ASSETS+b,...f.path]}),[f,b]),{folderPath:V}=(0,N.wV)(),[U]=(0,si.ye)(),W=E===N.S5.Assets&&V&&U&&(V?.length??0)>b,{setKeyboardNavigationElement:X,keyboardNavigationItem:Y}=(0,$.M3)({...z,id:(0,es.V)(e),onFocus:O,disabled:W});(0,sn.C0)(Y,_&&E===N.S5.Assets&&!W);let[q]=(0,si.MA)(),J=(0,sm.N)({colIndex:z.column,rowIndex:z.path[z.path.length-1],isList:"list"===q,keyboardNavigationItem:Y,onComponentInsertSwap:L,onOpenFlyout:F,item:e,sectionNameForTracking:u,sectionPosition:p,shouldRefocusAfterKeyboardInsert:E===N.S5.Recents,sourceForTracking:s===eS.tM?s:ew.mZ}),Z=(0,sk.F)(e,sw.K.ASSETS_PANEL,p,u),Q=function(e,t){let s=(0,R.d4)(sb.dK),r=e.isLocal&&(0,sp.PN)()?(0,sT.eT)(e.node_id,s).join("-"):e.node_id;return sh.rf(`componentThumb.${r}`,"contextmenu",e=>{t(e)})}(e,Z);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t1.E,{onClick:B,className:l()("asset_panel_tile--focusableElementWrapper--YzHK7","asset_panel_tile--button--oNPUz",{"asset_panel_tile--transparentBackground--ht3B-":v}),ref:X,htmlAttributes:{onKeyDown:J,onContextMenu:Q},"aria-describedby":"asset-panel-tile-hint",children:(0,r.jsx)(sF,{asset:e,disableClickPropagation:j,displayType:d,fileName:t,hideInlineName:g,isVisualAsset:v,libraryItemTileProps:C,onSuccessfulAssetInsert:k,sectionDepth:h,sectionNameForTracking:u,sectionPosition:p,sourceForTracking:s,thumbHeight:a,thumbLayout:i,thumbWidth:o,viewMode:c})}),(0,G.kc)().dse_fpl_wave_2&&(0,r.jsx)(sc.E,{id:"asset-panel-tile-hint","aria-hidden":!0,children:(0,m.t)("design_systems.assets_panel.asset_tile_sr_hint")})]})}function sF({asset:e,fileName:t,sourceForTracking:s,thumbHeight:i,thumbWidth:a,sectionNameForTracking:o,sectionPosition:d,sectionDepth:c,hideInlineName:u,displayType:p,libraryItemTileProps:h,isVisualAsset:m,onSuccessfulAssetInsert:g}){let x=(0,R.wA)(),f=(0,s_.I)(sy.Cn.AssetsPanel),_=(0,R.d4)(sb.dK),y=(0,R.d4)(ej.F9),b=(0,H.md)(tI.T),j=f.searchOption?.type===eC.IS.ALL,C=(0,ee.fV)(e.library_key),v=(0,eO.fd)(e.library_key),k=(0,eN.H)(e.library_key),S=(0,ew._9)(e.library_key,"asset_panel_visual_assets"),w=j&&(C||v||k),T=n.useRef(null),N=(0,e4.kH)(e.name),I=(0,eZ.NG)({text:N,textRef:T}),E=n.useRef(null),A=(0,eZ.NG)({text:t??"",textRef:E}),M=!!f.query,P=(0,sv.n)(e),L=(0,eW.ZC)(P);n.useEffect(()=>{P&&!L&&x(sg.jD())},[P,x,L]);let O=e.isLocal&&(0,sp.PN)()?(0,sT.eT)(e.node_id,_).join("-"):e.node_id,F="Local components"===o||"Local private components"===o||e.isLocal,D="grid"===p,K=!u&&D,B=(0,G.kc)().api_asset_search_with_scores,z=(0,e7.Y)(e),V=n.useCallback(()=>{(0,sj.$z)(),k&&S(!0),g?.()},[S,k,g]),U={showName:!0,height:i,width:a,draggable:n.useMemo(()=>({sourceForTracking:s,clickToInsert:!1,afterSuccessfulInsert:V,sectionNameForTracking:o,sectionDepth:c}),[V,c,o,s]),shouldHideTooltip:!0,recordingNodePath:O,isSearch:M,useBaseTile:!0,hideNameOverlay:K,numVariants:z,displayType:D?"grid":"list-no-padding",sectionPosition:d,showTooltipImmediately:!1,fileName:I||A?t:void 0,alwaysShowBorder:!1,thumbWrapperClassName:"asset_panel_tile--thumbWrapper--bNG-Y"},W=F?(0,r.jsx)(sS.MT,{item:e,isFilePublished:y,...U}):(0,r.jsx)(sS.lX,{item:e,...U,...h});return(0,r.jsxs)("div",{className:m?"asset_panel_tile--visualAssetsGridWrapper--zA9N1 asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt":D?sM:sA,children:[(0,r.jsx)("div",{className:l()(D?sP:sL,{"asset_panel_tile--shownInFlyout--7Luo3":P,"asset_panel_tile--selectedFlyoutFocus--GGV8E":P&&b}),children:W}),K&&(0,r.jsxs)("div",{className:sE,style:{width:a-2},children:[(0,r.jsx)("span",{className:"asset_panel_tile--name--FG9hg ellipsis--ellipsis--Tjyfa",ref:T,children:N}),(0,r.jsx)("div",{className:"asset_panel_tile--caret--x-Vya asset_panel_tile--_caretBase--IZ44d",children:(0,r.jsx)(su.e,{"aria-hidden":!0})})]}),K&&!!t&&(0,r.jsxs)(X.Y,{spacing:0,direction:"horizontal",height:"hug-contents",children:[(0,r.jsx)("div",{className:l()(sN,sI),ref:E,style:w?{maxWidth:a-sx.J-2}:{width:a-2},children:t}),w&&(0,r.jsx)(sx.P,{libraryKey:e.library_key,showPresetTooltip:!0,tooltipDelay:500,tooltipLocation:"below",compact:!0})]}),B&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:l()(sN,sI),style:w?{maxWidth:a-sx.J-2}:{width:a-2},children:"Score: "+("score"in e?e.score?.toFixed(2)??"N/A":"N/A")}),(0,r.jsx)("div",{className:l()(sN,sI),style:w?{maxWidth:a-sx.J-2}:{width:a-2},children:"(L:"+(e.lexical_score?.toFixed(2)??"N/A")+", AI:"+(e.ai_score?.toFixed(2)??"N/A")+", F:"+(e.fuse_score?.toFixed(2)??"N/A")+")"})]})]})}var sD=s(822764);function sK(){let e=n.useContext(sC.U);return e?.isUi3?e:{...e,width:0}}function sB({width:e,children:t}){let s=function(e){let t=(0,R.wA)(),{query:s,searchSessionId:r}=(0,ex.Gq)(),i=(0,sr.ht)(),l=(0,$.q_)(),a=(0,sD.LR)(),o=(0,R.d4)(e=>e.universalInsertModal.showing),d=n.useCallback(()=>{o&&a()},[a,o]),{setFlyoutProps:c}=(0,tE.JA)(),u=n.useCallback((n,a,o,u,p)=>{d();let h={asset:n,searchSessionId:r??void 0,query:s??void 0,sectionPosition:a,sectionNameForTracking:o,assetTypeDropdownSelection:i,containerWidth:e,onGetKeyboardNavigationItemById:l,sectionDepth:u,sourceForTracking:p};(0,G.kc)().dse_fpl_wave_2?c(h):t((0,tG.to)({type:tR,data:h}))},[d,r,s,i,e,l,c,t]);return n.useMemo(()=>({onOpenFlyout:u,assetTypeDropdownSelection:i,isUi3:!0,width:e}),[u,i,e])}(e);return(0,r.jsx)(sC.U.Provider,{value:s,children:t})}var sG=s(92722);let sH="asset_panel_virtualization--virtualRow--TxsS-",sz="asset_panel_virtualization--virtualRowFirst--mdR2j asset_panel_virtualization--virtualRow--TxsS-",sV="asset_panel_virtualization--virtualRowList--COnhA",sU=(0,z.jz)(sG.Nz),sW=(0,z.jz)(sG.cP),s$=(0,z.jz)(sG.FX),sX=(0,z.jz)(t9.$c),sY=(0,z.jz)(t9.d5),sq=(0,z.jz)(sG.ZI),sJ=(0,H.eU)(!1);function sZ(e,t,s={}){if("list"===t)return sq;let r=e;return s.hideAssetName||(r+=sU),s.showFileName&&(r+=sW),s.hasTopPadding&&(r+=s$),s.showAiDebugScores&&(r+=2*(0,z.jz)(sG.uY)),r}function sQ(e,t,s,n,i,l,a){let o=[],d="list"===n.displayType?"listitem":"gridcell";for(let c=0;c<e.length;c+=t){let u=e.slice(c,c+t),p=[];u.forEach((e,o)=>{if(e){let u=c+o,h=a?.getFileName?.(e);p.push((0,r.jsx)("div",{role:d,children:(0,r.jsx)(sO,{asset:e,fileName:h,isExample:a?.isExample,isFirstTile:a?.includesFirstTile&&0===u,keyboardPanelDepth:a?.keyboardPanelDepth,keyboardPosition:(0,sn.pg)(l,u,t,a?.hasHeader),sectionDepth:a?.depth,sectionNameForTracking:i,sectionPosition:c+o,...n},`${s}-${(0,es.V)(e)}`)}))}}),o.push({element:(0,r.jsx)("div",{className:"list"===n.displayType?sV:0===c?sz:sH,children:p}),key:`${s}:row-${c/t}`,keys:u.map(e=>(0,es.V)(e)),height:sZ(n.thumbHeight,n.displayType,{showFileName:!!a?.getFileName,hasTopPadding:0!==c,showAiDebugScores:!!(0,G.kc)().api_asset_search_with_scores})})}return o.length>0&&(o.unshift({element:(0,r.jsx)(so.hK,{height:sX}),key:`${s}:spacer-top`,height:sX,ariaHidden:!0}),o.push({element:(0,r.jsx)(so.hK,{height:sY}),key:`${s}:spacer-bottom`,height:sY,ariaHidden:!0})),o}function s0({elements:e,hideScrollbar:t,initialScrollTop:s,onScroll:i,anchorScroll:l,role:a}){let o=n.useRef(null),d=(0,sd.Te)({count:e.length,getScrollElement:()=>o.current,estimateSize:t=>e[t].height,getItemKey:t=>e[t].key,paddingEnd:8,overscan:6,initialOffset:s}),c=function({scrollContainerRef:e,initialScrollTop:t,onScroll:s,enabled:r,virtualizer:i,getKeys:l}){let[a,o]=n.useState(t??e.current?.scrollTop),[d,c]=n.useState(e.current?.scrollHeight),{width:u}=sK(),p=(0,eW.ZC)(u),h=n.useCallback((e,t)=>{if(!t)return{keys:[],offset:void 0};let s=e.getVirtualItems().find(e=>e.start>=t);return s?{keys:l(s),offset:s.start-t}:{keys:[],offset:void 0}},[l]),[m,g]=n.useState(()=>h(i,t??e.current?.scrollTop)),x=n.useCallback((e,t)=>{s?.(e,t),r&&(o(e),g(h(i,e)))},[r,h,s,i]);return n.useEffect(()=>{let t=p&&u&&p!==u,s=e.current?.scrollHeight&&d&&e.current?.scrollHeight!==d;if(t&&c(e.current?.scrollHeight),void 0!==a&&void 0!==m.offset&&r&&t&&s){let t=i.getVirtualItems().find(e=>l(e).some(e=>m.keys.includes(e)));if(t)i.scrollToOffset(t.start-m.offset);else{let t=a/d,s=e.current.scrollHeight*t;i.scrollToOffset(s)}}},[m.keys,m.offset,r,l,p,e,d,a,i,u]),x}({enabled:l,scrollContainerRef:o,initialScrollTop:s,onScroll:i,virtualizer:d,getKeys:n.useCallback(t=>{let s=e[t.index];return s?s.keys??[s.key]:[]},[e])}),[u,p]=(0,H.fp)(sJ);return n.useEffect(()=>{if(!u)return;let t=e.findIndex(e=>"preset_libraries_header"===e.key);-1!==t&&(d.scrollToIndex(t,{align:"start"}),p(!1))},[e,d,p,u]),(0,r.jsx)(so.xU,{scrollContainerRef:o,hideScrollbar:t,initialScrollTop:s,onScroll:c,children:(0,r.jsx)("div",{style:{height:`${d.getTotalSize()}px`,width:"100%",position:"relative"},role:a,children:d.getVirtualItems().map(t=>{let s=e[t.index];return s?(0,r.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${t.start}px)`},role:"grid"===a?"row":void 0,"aria-hidden":s.ariaHidden,children:s.element},t.key):null})})})}var s1=s(999083),s3=s(926653),s5=s(605439),s4=s(905009),s2=s(244920),s6=s(89221);function s7(e){let t=(0,e4.ke)(e.name),s=e.type===eC.PW.RESPONSIVE_SET?e.containingFrame?.name:e.containing_frame?.name;return s?[s,...t]:t}function s8(e,t="",{isPreset:s,sortingFn:r}={isPreset:!1,sortingFn:void 0}){let n=new Map,i=[];r?e.sort(r):(0,em.gO)(e,{sortFn:e=>s7(e).join("/"),priorityFn:e=>(0,em.Nz)(e,{isPreset:s})});let l=Object.create(null);for(let s of e){let e=s7(s),r="";for(let a=0;a<e.length;a++){let o=e[a],d=r,c=a<e.length-1;r+=o+(c?"/":"");let u=null;if(l[d]&&(u=l[d]),c){let s=l[r]??{name:o,key:`${t}-${e.slice(0,a+1).join("/")}`,items:[],subtrees:new Map,type:tY.l$.NAME_GROUP,previewAsset:void 0};l[r]||(l[r]=s,u?u.subtrees.set(o,s):n.set(o,s))}c||(u?u.items.push(s):i.push(s))}}return n.forEach(e=>{(function e(t){t.previewAsset=rr(t),t.subtrees.forEach(t=>e(t))})(e)}),{sortedItems:i,sortedSubtrees:n}}function s9(e,t,{isPreset:s}){let r=new Map,{itemsByPageId:n,pageNamesByPageId:i,itemsWithoutPage:l}=(0,s4.tz)(e,e=>e),{itemsByPageId:a,pageNamesByPageId:o,itemsWithoutPage:d}=(0,s4.tz)(t,e=>e),c={...i,...o};(0,s4.fM)(n,c,l),(0,s4.fM)(a,c,d,!0);let u=Object.keys(c);for(let e of((0,em.gO)(u,{sortFn:e=>c[e],priorityFn:e=>(0,em.dS)(c[e],{isPreset:s})}),u)){let t=c[e],i=e in n?n[e]:void 0,l=i,o=[],d=null,u=null;if(i&&i.length>0){l=i.filter(e=>!(0,em.Nz)(e,{isPreset:s}));let{sortedItems:e,sortedSubtrees:t}=s8(o=i.filter(e=>(0,em.Nz)(e,{isPreset:s})),"examples",{isPreset:s});o.length>0&&(u={name:(0,m.t)("design_systems.assets_panel.examples"),items:e,subtrees:t,key:tJ.nE,type:tY.l$.COMPONENTS,previewAsset:void 0})}if(l&&l.length>0){let{sortedItems:e,sortedSubtrees:t}=s8(l,"components",{isPreset:s});d={name:(0,m.t)("design_systems.assets_panel.components"),items:e,subtrees:t,key:tJ.c_,type:tY.l$.COMPONENTS,previewAsset:void 0}}let p=null,h=a[e];if(h&&h.length>0){let{sortedItems:e,sortedSubtrees:t}=s8(h,"templates",{isPreset:s});p={name:(0,m.t)("design_systems.assets_panel.templates"),items:e,subtrees:t,key:tJ.JS,type:tY.l$.TEMPLATES,previewAsset:void 0}}let{sortedItems:g,sortedSubtrees:x}=s8([...o??[],...l??[],...h??[]],"assets",{isPreset:s}),f={name:t,items:g,subtrees:x,key:tJ.Mk,type:tY.l$.COMPONENTS,previewAsset:void 0},_={name:t,id:e,previewAsset:function({componentSubtree:e,exampleSubtree:t,templateSubtree:s}){let r=rr(t),n=rr(s),i=rr(e);return r||n||i}({componentSubtree:d,exampleSubtree:u,templateSubtree:p}),components:d,examples:u,templates:p,assets:f,type:tJ.yW.DESIGN};r.set(e,_)}return r}function re(e,t,s,r){let n=new Map,{itemsByPageId:i,pageNamesByPageId:l,itemsWithoutPage:a}=(0,s4.tz)(e,e=>({containing_frame:e.containingFrame??void 0}));(0,s4.fM)(i,l,a);let o=Object.keys(l);for(let e of((0,s1.v7)(o,e=>l[e]),o)){let r=l[e],a=i[e]??[];if(!r||0===a.length)continue;let{sortedItems:o,sortedSubtrees:d}=s8(a,"assets",{sortingFn:s}),c={name:r,items:o,subtrees:d,key:tJ.Mk,type:tY.l$.RESPONSIVE_SETS,previewAsset:void 0},u={name:r,id:e,previewAsset:t[e]??rr(c),assets:c,type:tJ.yW.SITE,numAssets:function e(t){return t.items.length+Array.from(t.subtrees.values()).reduce((t,s)=>t+e(s),0)}(c)};n.set(e,u)}if(r){let e=(0,s6.u)();if(e.length>0){let t={name:(0,m.t)("design_systems.assets_panel.site_blocks.embeds"),id:"embeds",embeds:e,previewAsset:void 0,assets:{name:"",items:[],subtrees:new Map,key:"EMPTY_ASSETS_NOT_USED",type:tY.l$.COMPONENTS,previewAsset:void 0},type:tJ.yW.SITE,numAssets:e.length};n.set("embeds",t)}}return n}function rt(e,t){let{allItems:s,publishedItems:r,privateItems:n,numPublished:i}=e;return i>0&&t&&n.length>0?r:s}function rs(e){let t=Array.from(e.items.values());for(let[s,r]of e.subtrees.entries())t.push(...rs(r));return t}function rr(e){let t=e?rs(e):[];return t.length>0?t[0]:void 0}var rn=s(985416),ri=s(286764);let rl=(0,H.Iz)(()=>(0,rn.rt)(0));function ra({libraryKey:e,pageId:t,folderPath:s}={}){let{lastNavAction:r}=(0,ri.ZX)(),i=r===ri.r6.Back||r===ri.r6.Mount||r===ri.r6.ToggleView&&!s,[l,a]=(0,H.fp)(rl("libraries")),[o,d]=(0,H.fp)(rl(`pages-${e}`)),[c,u]=(0,H.fp)(rl(`assets-${e}-${t}-${(s??[]).join("-")}`));return{librariesScrollTop:i?l:0,pagesScrollTop:i?o:0,assetsScrollTop:i?c:0,handleScrollLibraries:n.useCallback(e=>{a(e)},[a]),handleScrollPages:n.useCallback(t=>{e&&d(t)},[d,e]),handleScrollAssets:n.useCallback(s=>{e&&t&&u(s)},[u,e,t])}}function ro({elementMinSize:e,spaceAvailable:t,gap:s}){return Math.max(1,Math.floor((t+s)/(e+s)))}function rd({numElements:e,spaceAvailable:t,gap:s}){return Math.floor((t-(e-1)*s)/e)}function rc({width:e,widthToHeightRatio:t=1,maxHeight:s}){let r=Math.floor(e/t);return void 0===s?Math.max(0,r):Math.max(0,Math.min(s,r))}let ru=(0,z.jz)(t9.H0),rp=2*(0,z.jz)(t9.Mj),rh={NORMAL:115,WIDE:void 0,SMALL:72},rm={minColumns:2,maxColumns:3,aspectRatio:1,maxHeight:rh.NORMAL},rg={minColumns:1,maxColumns:1,aspectRatio:3.25,maxHeight:rh.WIDE},rx={minColumns:3,maxColumns:5,aspectRatio:1,maxHeight:rh.SMALL},rf=e=>{switch(e){case t0.rp.WIDE:return rg;case t0.rp.SMALL:return rx;default:return rm}};function r_(e,t){let[s]=(0,si.MA)(),r=n.useMemo(()=>t&&"grid"===s?t:[],[s,t]),i=n.useMemo(()=>r.every(e=>e.fullPage)?.85:Math.max(r.map(e=>e.mainThumbnailInfo.width/e.mainThumbnailInfo.height).reduce((e,t)=>Math.abs(t-1)<Math.abs(e-1)?t:e),.7),[r]),l=e-rp,a=n.useMemo(()=>ro({elementMinSize:144,gap:ru,spaceAvailable:l}),[l]),o=i>1?1:Math.min(2,a),d=n.useMemo(()=>rd({numElements:o,gap:ru,spaceAvailable:l}),[o,l]),c=n.useMemo(()=>rc({width:d,widthToHeightRatio:i,maxHeight:void 0}),[i,d]);return"list"===s||0===r.length?{tileWidth:40,tileHeight:40,numColumns:1}:{tileWidth:d,tileHeight:c,numColumns:o}}function ry(){let{width:e}=sK(),{componentLayouts:t,exampleLayout:s}=function({sidebarWidth:e}){let t=n.useMemo(()=>e-rp,[e]),s=n.useMemo(()=>{let e={};for(let s of[t0.rp.NORMAL,t0.rp.WIDE,t0.rp.SMALL]){let{minColumns:r,maxColumns:n,aspectRatio:i,maxHeight:l}=rf(s),a=Math.max(Math.min(n,ro({elementMinSize:l??t,gap:ru,spaceAvailable:t})),r),o=rd({numElements:a,gap:ru,spaceAvailable:t}),d=rc({width:o,maxHeight:l,widthToHeightRatio:i});e[s]={width:o,height:d,columns:a}}return e},[t]),r=n.useMemo(()=>Math.max(ro({elementMinSize:200,gap:ru,spaceAvailable:t}),1),[t]),i=n.useMemo(()=>rd({numElements:r,gap:ru,spaceAvailable:t}),[r,t]),l=n.useMemo(()=>rc({width:i,widthToHeightRatio:1.5,maxHeight:200}),[i]);return n.useMemo(()=>({componentLayouts:s,exampleLayout:{width:i,height:l,columns:r}}),[s,r,i,l])}({sidebarWidth:e}),[r,i]=n.useMemo(()=>{let e={},s={};for(let[r,n]of Object.entries(t))e[r]={thumbHeight:n.height,thumbWidth:n.width,viewMode:ew.Bk.Grid,thumbLayout:r,sourceForTracking:ew.mZ,displayType:"grid"},s[r]=n.columns;return[e,s]},[t]),l=n.useMemo(()=>({thumbHeight:s.height,thumbWidth:s.width,viewMode:ew.Bk.Grid,thumbLayout:t0.rp.NORMAL,sourceForTracking:ew.mZ,displayType:"grid"}),[s.height,s.width]),a=n.useMemo(()=>({thumbHeight:40,thumbWidth:40,viewMode:ew.Bk.List,thumbLayout:t0.rp.NORMAL,sourceForTracking:ew.mZ,displayType:"list"}),[]);return n.useMemo(()=>({componentTilePropsByLayout:r,numColumnsByLayout:i,listProps:a,exampleTileProps:l,numExampleColumns:s.columns}),[r,i,a,l,s.columns])}function rb(e,t,s,r=!1){return"list"===t?{props:e.listProps,numColumns:1}:r?{props:e.exampleTileProps,numColumns:e.numExampleColumns}:{props:e.componentTilePropsByLayout[s],numColumns:e.numColumnsByLayout[s]}}var rj=s(120440),rC=s(772963),rv=s(330308),rk=s(883170),rS=s(94968),rw=s(842062);let rT=(0,z.jz)(t9._K);function rN(e){return(0,r.jsx)(c.u,{label:"AssetPanelResponsiveSetTile",children:(0,r.jsx)(rI,{...e})})}function rI({asset:e,cmsCollectionMappings:t,sectionNameForTracking:s,sectionDepth:i,sectionPosition:a,keyboardPosition:o,isFirstTile:d=!1,keyboardPanelDepth:c=0,thumbHeight:u,thumbWidth:p,libraryName:m,hideName:g=!1,onDragStart:x}){let f=(0,e4.kH)(e.name),{currentView:_,folderPath:y}=(0,N.wV)(),[b]=(0,si.ye)(),[j]=(0,si.MA)(),C="list"===j,v=(0,rS.jx)(),k=null!=t,S=n.useMemo(()=>({...o,path:[tJ.ON.CONTENTS,tJ.lM.ASSETS+c,...o.path]}),[o,c]),w=_===N.S5.Assets&&y&&b&&(y?.length??0)>c,{setKeyboardNavigationElement:T,keyboardNavigationItem:I}=(0,$.M3)({...S,id:(0,es.V)(e),disabled:w});(0,sn.C0)(I,d&&_===N.S5.Assets&&!w);let{logInsert:E}=rE({item:e,sectionNameForTracking:s,sectionPosition:a,sourceForTracking:ew.mZ,isList:C}),A=n.useCallback(()=>{E("drag"),(0,sj.$z)()},[E]),M=n.useMemo(()=>({sourceForTracking:ew.mZ,sectionNameForTracking:s,sectionDepth:i,afterSuccessfulInsert:A,onDragStart:x}),[s,i,A,x]),P=function({item:e,cmsCollectionMappings:t,sectionNameForTracking:s,sectionPosition:r,sourceForTracking:i,isList:l}){let a=(0,R.wA)(),{logInsert:o,logKeyboardInsert:d}=rE({item:e,sectionNameForTracking:s,sectionPosition:r,sourceForTracking:i,isList:l}),c=n.useCallback(()=>{a((0,q.jR)({item:e,cmsCollectionMappings:t,insertAsChildOfCanvas:!1,useSmartPositioning:!0})),(0,sj.$z)()},[a,e,t]);return n.useCallback(e=>{let t=0===e.detail;t&&d(),o(t?"keyboard":"click"),c()},[c,o,d])}({item:e,cmsCollectionMappings:t,sectionNameForTracking:s,sectionPosition:a,sourceForTracking:ew.mZ,isList:C}),L=n.useMemo(()=>(0,rk.NR)(f),[f]),{listProps:O}=ry(),F=n.useMemo(()=>{if(g&&!C&&!k)return{"data-tooltip-type":e2.Ib.TEXT,"data-tooltip":L}},[L,g,C,k]);return(0,r.jsxs)(t1.E,{className:C?l()("asset_panel_responsive_set_tile--tileList--3j7Tn asset_panel_responsive_set_tile--_tileBase--NnHE4 asset_panel_tile--button--oNPUz",sA):l()("asset_panel_responsive_set_tile--tileGrid--C-Qj3 asset_panel_responsive_set_tile--_tileBase--NnHE4 asset_panel_tile--button--oNPUz",rA({isFirstTile:d,isInLibraryFlyout:v,isCmsBlock:k})),ref:T,onClick:P,"aria-label":L,...F,children:[(0,r.jsx)("div",{className:l()(C?sL:sP,h.s.relative.$),children:(0,r.jsx)(sS.lX,{alwaysShowBorder:!1,cmsCollectionMappings:t,displayType:C?"list-no-padding":"grid",draggable:M,height:C?O.thumbHeight:u,item:e,sectionPosition:a,shouldHideTooltip:!0,showName:C,thumbPaddingGrid:rT,thumbWrapperClassName:"asset_panel_responsive_set_tile--thumbWrapper--3Geap asset_panel_tile--thumbWrapper--bNG-Y",useBaseTile:!0,width:C?O.thumbWidth:p})}),!g&&!C&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:sE,style:{width:p-2},children:(0,r.jsx)(rC.G,{text:L})}),m&&(0,r.jsx)("div",{style:{width:p-2},children:(0,r.jsx)(rC.G,{text:m,className:l()(sN,sI)})})]})]})}function rE({item:e,sectionNameForTracking:t,sectionPosition:s,sourceForTracking:r,isList:i}){let l=(0,eI.Nv)(!0),o=(0,x.tS)(),d=(0,N._m)(),c=(0,ex.Ew)({assetKey:(0,rv.u2)(e),assetLibraryKey:e.sourceLibraryKey,assetType:e.type,isList:i,sectionNameforTracking:t,sectionPosition:s,sourceForTracking:r??ew.mZ,isExample:!1,partnerType:void 0}),u=(0,rw.r6)([e]),p=(0,O.CK)(),h=!!c.searchSessionId,m=n.useCallback(t=>{let{type:s,sectionPosition:r,searchQuery:n,searchSessionId:i,...o}=c;a.az.trackDefinedEvent("asset_search.result_inserted",{...o,aiResultsEnabled:l,assetType:s,position:r,reciprocalRank:1/(1+r),query:n,sessionId:i,entryPoint:ew.mZ,componentSuggestionSessionId:p}),a.az.trackDefinedEvent("assets_panel.site_kit_inserted",{assetName:(0,rk.NR)((0,e4.kH)(e.name)),type:"responsive set",group:u(e),isFullPage:e.fullPage,fileKey:c.fileKey,fileTeamId:c.fileTeamId,fileOrgId:c.fileOrgId,sectionPosition:r,searchQuery:c.searchQuery,searchSessionId:c.searchSessionId,searchType:h?d?"site kit":"all":void 0,viewMode:c.viewMode?.toLocaleLowerCase(),queryId:c.queryId,action:t})},[c,l,p,e,u,h,d]),g=n.useCallback(()=>{a.az.trackDefinedEvent("assets_panel.keyboard_insert",{...c,aiResultsEnabled:l,assetsPanelVersion:3,fileKey:o??void 0})},[c,l,o]);return n.useMemo(()=>({logInsert:m,logKeyboardInsert:g}),[m,g])}let rA=({isFirstTile:e,isInLibraryFlyout:t,isCmsBlock:s})=>s?rj.Ay.classNames(rM.cmsGridWrapper):t?e?"asset_panel_responsive_set_tile--gridWrapperForBlocksRedesignFirstTile--cxGGn asset_panel_responsive_set_tile--gridWrapperForBlocksRedesign---yy1K asset_panel_tile--gridWrapper--tUJe5 asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt":"asset_panel_responsive_set_tile--gridWrapperForBlocksRedesign---yy1K asset_panel_tile--gridWrapper--tUJe5 asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt":sM,rM={cmsGridWrapper:{kaIpWk:"x19y5rnk",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,kWkggS:"x12tve8b",$$css:!0}};var rP=s(754245),rL=s(170627),rO=s(441513),rR=s(816565),rF=s(999473),rD=s(664326),rK=s(433802),rB=s(95584),rG=s(222525),rH=s(513390);let rz=2*(0,z.jz)(t9.Mj),rV=(0,z.jz)("4px");function rU({embeds:e}){let{thumbWidth:t,thumbHeight:s}=function(){let[e]=(0,si.MA)(),{width:t}=sK(),{listProps:s}=ry();if("list"===e)return{thumbWidth:s.thumbWidth,thumbHeight:s.thumbHeight};let r=Math.floor(t-rz),n=Math.floor(r/2);return{thumbWidth:r,thumbHeight:n}}();return(0,r.jsx)(r.Fragment,{children:e.map((e,n)=>(0,r.jsx)(rW,{embed:e,sectionPosition:n,keyboardPosition:{path:[tJ.ON.CONTENTS,tJ.lM.ASSETS,n],column:null},thumbHeight:s,thumbWidth:t,isFirstTile:0===n},e.name))})}function rW({embed:e,sectionPosition:t,keyboardPosition:s,sectionNameForTracking:i="Site kit",isFirstTile:o=!1,thumbHeight:d,thumbWidth:c,libraryName:u,onDragStart:p}){var m;let[g]=(0,si.MA)(),x="list"===g,{currentView:f}=(0,N.wV)(),_=function(e,t,s){let[r]=(0,si.MA)(),i=(0,ex.Ew)({assetKey:e.name,assetLibraryKey:(0,s3.l)(s2.Yl),assetType:"embed",isList:"list"===r,sectionNameforTracking:s,sectionPosition:t,sourceForTracking:ew.mZ,isExample:!1,partnerType:void 0}),l=(0,N._m)(),o=(0,O.CK)();return n.useCallback(s=>{a.az.trackDefinedEvent("asset_search.result_inserted",{...i,entryPoint:ew.mZ,componentSuggestionSessionId:o});let r=!!i.searchSessionId;a.az.trackDefinedEvent("assets_panel.site_kit_inserted",{assetName:e.name,type:"embed",group:"Embeds",fileKey:i.fileKey,fileTeamId:i.fileTeamId,fileOrgId:i.fileOrgId,sectionPosition:t,searchQuery:i.searchQuery,searchSessionId:i.searchSessionId,searchType:r?l?"site kit":"all":void 0,viewMode:i.viewMode?.toLocaleLowerCase(),queryId:i.queryId,action:s}),"keyboard"===s&&a.az.trackDefinedEvent("assets_panel.keyboard_insert",i)},[i,e.name,l,t,o])}(e,t,i),{onInsertableResourcePointerDown:y,dragState:b}=(m={resource:e,clickToInsert_DEPRECATED:!1,afterSuccessfulInsert:()=>{_("drag"),(0,sj.$z)()},onDragStart:p},(0,rD.t)({resource:m.resource,draggingThumbMaxDimensions:m.draggingThumbMaxDimensions,onDragStart:m.onDragStart,isDraggingDisabled:m.isDraggingDisabled,recomputeCancelRectsOnPointerUp:m.recomputeCancelRectsOnPointerUp,clickToInsert_DEPRECATED:m.clickToInsert_DEPRECATED,afterSuccessfulInsert:m.afterSuccessfulInsert},{insertAction:e=>{let t=e.pointerPercentageOffset||new W.Mi;return rX(m.resource,e.dropPosition,t),Promise.resolve()},dragPreviewPointerPosition:rK.N.CENTERED,getDragPreviewSrc:()=>m.resource.preview_url,onPointerDownCallback:()=>{eU.glU.setShowHTMLWidgetCanvasDragAndDropOutlines(!0,{x:m.resource.width,y:m.resource.height})},onPointerUpCallback:()=>{eU.glU.setShowHTMLWidgetCanvasDragAndDropOutlines(!1,null)},recordingKey:sh.Pt("html-widget",m.resource.name)})),j=rL.nc.user("insert-embed",y),C=n.useMemo(()=>({...s,path:[tJ.ON.CONTENTS,tJ.lM.ASSETS,...s.path]}),[s]),{setKeyboardNavigationElement:v,keyboardNavigationItem:k}=(0,$.M3)({...C});(0,sn.C0)(k,o&&f===N.S5.Assets);let S=n.useCallback(t=>{let s=ef.Y5.getViewportInfo();rX(e,new W.Mi(s.offsetX,s.offsetY),new W.Mi(.5,.5)),_(t),(0,sj.$z)()},[e,_]),w=n.useCallback(()=>S("keyboard"),[S]),T=n.useCallback(()=>S("click"),[S]),I=(0,sn.MB)({onKeyDown:w,onClick:T}),E=x?"site_kit_embeds--buttonList--dJCdj site_kit_embeds--_buttonBase--PU9Mw asset_panel_tile--tileWrapperList--VMlzj asset_panel_tile--_tileWrapperBase--OAJqM library_item_tile--tileListLargeNoPadding--QnDtc library_item_tile--tile--okxBn library_item_tile--_variantHover--xfLPt library_item_tile--_tileListBase--jZpFH":rq(o),A=x?rH.vZ:"site_kit_embeds--embedNameWrapper--7DR-c asset_panel_tile--nameWrapper--6O-iS";return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(rY,{dragState:b,opacityOverride:.5}),(0,r.jsx)(rF.n.div,{onPointerDown:j,className:h.s.flex.if(x,h.s.wFull).$,children:(0,r.jsxs)(t1.E,{className:E,ref:v,onClick:I,children:[(0,r.jsx)("div",{className:"site_kit_embeds--thumbContainer--SgHWz",style:{width:c,height:d},children:(0,r.jsx)(rR.oW,{src:e.thumbnail_url,className:"site_kit_embeds--thumbnail---2jDe"})}),(0,r.jsx)("div",{className:l()(A,sI),style:x?void 0:{width:c-2-rV},children:(0,r.jsx)(rC.G,{text:e.name})}),u&&!x&&(0,r.jsx)("div",{style:{width:c-2},children:(0,r.jsx)(rC.G,{text:u,className:l()(sN,sI)})})]})})]})}let r$=(0,rB.P)("recently-used-site-embeds","name",rO.z.object({name:rO.z.string()}),{transform:e=>({name:e.name})});function rX(e,t,s){H.zl.set(r$,e),rL.l7.user("insert-embed",()=>{eU.glU?.insertEmbed(e.initial_url,{x:t.x,y:t.y,percentOffsetX:s.x,percentOffsetY:s.y},!1,{x:e.width,y:e.height}),ef.Y5.triggerAction("commit")})}function rY(e){let t=e.dragState;if(!t?.dragPosition||!t?.grabbedPointerPercentageOffset)return null;let s=function(e){let{draggingResource:t}=e,{zoomScale:s,x:r}=ef.Y5.getViewportInfo(),n=e.dragPosition?.x;return(!n||n<r)&&e.draggingThumbSize?e.draggingThumbSize:new W.Mi(t.width,t.height).scale(s)}(t),n=t.dragPosition;return n=n.subtract(new W.Mi(t.grabbedPointerPercentageOffset.x*s.x,t.grabbedPointerPercentageOffset.y*s.y)),(0,rP.createPortal)((0,r.jsx)("div",{className:l()(rG.Wy,{[rG.ce]:t.isDraggingOverCanvas}),style:{left:n.x,top:n.y,width:s?.x,height:s?.y,maxWidth:t.draggingThumbMaxDimensions?.x||void 0,maxHeight:t.draggingThumbMaxDimensions?.y||void 0,zIndex:e.zIndexOverride,opacity:e.opacityOverride?e.opacityOverride:1},children:(0,r.jsx)(rR.oW,{src:t.draggingResource.preview_url,alt:""})}),document.getElementById("fullscreen-root"))}let rq=e=>e?"site_kit_embeds--buttonGridForFirstItem--hvYlI site_kit_embeds--buttonGrid--iiN-l asset_panel_responsive_set_tile--gridWrapperForBlocksRedesign---yy1K asset_panel_tile--gridWrapper--tUJe5 asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt site_kit_embeds--_buttonBase--PU9Mw asset_panel_responsive_set_tile--gridWrapperForBlocksRedesignFirstTile--cxGGn asset_panel_responsive_set_tile--gridWrapperForBlocksRedesign---yy1K asset_panel_tile--gridWrapper--tUJe5 asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt":"site_kit_embeds--buttonGrid--iiN-l asset_panel_responsive_set_tile--gridWrapperForBlocksRedesign---yy1K asset_panel_tile--gridWrapper--tUJe5 asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt site_kit_embeds--_buttonBase--PU9Mw",rJ=(0,z.jz)(t9.HE),rZ=(0,z.jz)(t9._q),rQ=(0,z.jz)(t9.RQ),r0=(0,z.jz)(t9.$c),r1=(0,z.jz)(t9.d5);function r3({page:e,libraryKey:t,hideScrollbar:s}){let{assetsScrollTop:i,handleScrollAssets:l}=ra({libraryKey:t,pageId:e.id}),[a]=(0,si.MA)(),{width:o}=sK(),d=n.useMemo(()=>rs(e.assets),[e.assets]),{tileHeight:c,tileWidth:u,numColumns:p}=r_(o,d),h=n.useMemo(()=>{let e=[];return e.push(...r6(d,p,u,c,a,"assets","Site kit",[tJ.tM.COMPONENTS],{includesFirstTile:!0,hideName:!0})),e},[d,a,p,c,u]);return(0,r.jsx)(s0,{elements:h,hideScrollbar:s,initialScrollTop:i,onScroll:l,anchorScroll:!0,role:a})}function r5({subtree:e,currentFolderPath:t,hideScrollbar:s,onScroll:n,initialScrollTop:i,role:l}){let a=r4({subtree:e,currentFolderPath:t});return(0,r.jsx)(s0,{elements:a,hideScrollbar:s,onScroll:n,initialScrollTop:i,role:l})}let r4=({subtree:e,currentFolderPath:t})=>{let{folderPath:s}=(0,N.wV)(),[i]=(0,si.MA)(),{width:l}=sK(),{tileHeight:a,tileWidth:o,numColumns:d}=r_(l,e?.items),c=t.join("/"),u=t.length,p=s?.length??0,h=n.useCallback(({subtree:e,elements:t})=>{let s=e.items.length>0;if(s){let s=[tJ.tM.COMPONENTS];t.push(...r6(e.items,d,o,a,i,e.key,"Site kit",s,{includesFirstTile:u===p,keyboardPanelDepth:u,depth:u,hideName:!0}))}let n=Array.from(e.subtrees.values());s&&n.length>0&&t.push({element:(0,r.jsx)(so.cG,{}),key:"divider",height:rQ}),n.forEach((s,n)=>{t.push({element:(0,r.jsx)(sl,{subtree:s,index:n+e.items.length,keyPrefix:c,depth:u}),key:s.key,height:"list"===i?rJ:rZ})})},[d,o,a,u,p,c,i]);return n.useMemo(()=>{let t=[];return e&&h({subtree:e,elements:t}),t},[h,e])};function r2(e){return e.type===eC.PW.RESPONSIVE_SET}function r6(e,t,s,n,i,l,a,o,d={}){let c=[];for(let u=0;u<e.length;u+=t){let p=e.slice(u,u+t),h=[];p.forEach((e,i)=>{let c=u+i;r2(e)?h.push((0,r.jsx)(rN,{asset:e,hideName:d.hideName,isFirstTile:d?.includesFirstTile&&0===c,keyboardPanelDepth:d?.keyboardPanelDepth,keyboardPosition:(0,sn.pg)(o,c,t),libraryName:d.libraryNameForAsset?.(e),sectionDepth:d?.depth,sectionNameForTracking:a,sectionPosition:u+i,thumbHeight:n,thumbWidth:s},`${l}-${(0,es.V)(e)}`)):h.push((0,r.jsx)(rW,{embed:e,sectionNameForTracking:a,sectionPosition:u+i,keyboardPosition:(0,sn.pg)(o,c,t),isFirstTile:d?.includesFirstTile&&0===c,thumbHeight:n,thumbWidth:s,libraryName:d.libraryNameForAsset?.(e)},e.name))}),c.push({element:(0,r.jsx)("div",{className:"list"===i?sV:0===u?sz:sH,role:"row",children:h}),key:`${l}:row-${u/t}`,keys:p.map(e=>r2(e)?(0,es.V)(e):e.name),height:sZ(n,i,{showFileName:!!d.libraryNameForAsset,hasTopPadding:0!==u,showAiDebugScores:!!(0,G.kc)().api_asset_search_with_scores,hideAssetName:!!d.hideName})})}return c.length>0&&(c.unshift({element:(0,r.jsx)(so.hK,{height:r0}),key:`${l}:spacer-top`,height:r0}),c.push({element:(0,r.jsx)(so.hK,{height:r1}),key:`${l}:spacer-bottom`,height:r1})),c}function r7({children:e,index:t,width:s}){let i=(0,H.md)(sr.h),a=n.useMemo(()=>e.flat().filter(e=>!!e),[e]),o=n.useMemo(()=>{let e=r8(-Math.min(t,a.length-1)),s=`translateX(${e})`;return{transform:s,WebkitTransform:s}},[a.length,t]),d=l()("slide_carousel--container--1f4th",{"slide_carousel--noTransition--0heGr":i});return(0,r.jsx)("div",{style:o,"data-testid":"slide-carousel",className:d,children:a.map((e,n)=>(0,r.jsx)("div",{className:"slide_carousel--item--w20ND",style:{width:s},"data-testid":"slide-carousel-item","aria-hidden":n!==t,inert:n!==t?"":void 0,children:e},n))})}let r8=e=>`${100*e}%`,r9=(0,z.jz)(t9.HE),ne=(0,z.jz)(t9._q),nt=(0,z.jz)(t9.ce),ns=(0,z.jz)(t9.RQ);function nr({page:e,width:t}){let{libraryKey:s,currentView:i}=(0,N.wV)(),{getPage:l}=(0,sa.G)(),{previousPageId:a}=(0,N.RR)(),o=n.useMemo(()=>i===N.S5.Pages?l(s,a):e,[i,l,s,e,a]);return s&&o?(0,r.jsx)(nn,{libraryKey:s,page:o,width:t}):(0,r.jsx)("div",{style:{width:t}})}function nn({libraryKey:e,page:t,width:s,hideScrollbar:n}){let[i]=(0,si.ye)();if((0,tJ.AZ)(t))return(0,r.jsx)(nc,{page:t});if(i)return(0,r.jsx)(nl,{page:t,libraryKey:e,width:s,hideScrollbar:n});switch(t.type){case tJ.yW.DESIGN:return(0,r.jsx)(ni,{page:t,libraryKey:e});case tJ.yW.SITE:return(0,r.jsx)(r3,{page:t,libraryKey:e,hideScrollbar:n})}}function ni({page:e,libraryKey:t}){let{assetsScrollTop:s,handleScrollAssets:i}=ra({libraryKey:t,pageId:e.id}),[l]=(0,si.MA)(),a=ry(),{componentSectionNameForTracking:o,templateSectionNameForTracking:d}=(0,sr.zf)(),c=n.useMemo(()=>{let t=[];if(e.templates){let s=rs(e.templates),{props:n,numColumns:i}=rb(a,l,t0.rp.NORMAL,!0);t.push({element:(0,r.jsx)(so.X3,{title:(0,m.t)("design_systems.assets_panel.templates")}),key:"templates:header",height:nt}),t.push(...sQ(s,i,"templates",n,d,[tJ.tM.TEMPLATES],{includesFirstTile:!0}))}if(e.examples){let s=rs(e.examples),{props:r,numColumns:n}=rb(a,l,t0.rp.NORMAL,!0);t.push(...sQ(s,n,"examples",r,o,[tJ.tM.EXAMPLES],{includesFirstTile:!0,isExample:!0}))}if(e.components){e.templates&&t.push({element:(0,r.jsx)(so.X3,{title:(0,m.t)("design_systems.assets_panel.components")}),key:"components:header",height:nt});let s=rs(e.components),{props:n,numColumns:i}=rb(a,l,(0,t0.PI)(s,!0));t.push(...sQ(s,i,"components",n,o,[tJ.tM.COMPONENTS],{includesFirstTile:!e.templates&&!e.examples}))}return t},[e.templates,e.examples,e.components,a,l,d,o]);return(0,r.jsx)(s0,{elements:c,initialScrollTop:s,onScroll:i,anchorScroll:!0,role:l})}function nl({page:e,width:t,libraryKey:s,hideScrollbar:i}){let{folderPath:l}=(0,N.wV)(),{getFolder:a}=(0,sa.G)(),{previousFolderPath:o,previousPageId:d}=(0,N.RR)(),c=e.id,[u,p]=n.useMemo(()=>{let t=[],n=o??l??[],u=0;for(let o=-1;o<n.length;o++){let p=n.slice(0,o+1),h=a(s,c??d,p);if(h){if((0,N.xc)(h))continue;t.push((0,r.jsx)(no,{page:e,libraryKey:s,currentFolderPath:p,hideScrollbar:i},`components-${p?p.join("/"):"root"}`)),o===(l??[]).length-1&&(u=t.length-1)}}return[t,u]},[l,a,i,s,e,c,o,d]);return(0,r.jsx)(r7,{index:p,width:t,children:u})}function na(e,t){let s=e;for(let e of t){let t=s.subtrees.get(e);if(!t)return null;s=t}return s}function no({page:e,libraryKey:t,currentFolderPath:s,hideScrollbar:i}){let[l]=(0,si.MA)(),a=n.useMemo(()=>e.type===tJ.yW.DESIGN?na(e.assets,s):null,[s,e.assets,e.type]),o=n.useMemo(()=>e.type===tJ.yW.SITE?na(e.assets,s):null,[s,e.assets,e.type]),{folderPath:d}=(0,N.wV)(),c=(0,eO.fd)(t),u=e.id,p=s.length,h=d?.length??0,{assetsScrollTop:m,handleScrollAssets:g}=ra({libraryKey:t,pageId:u,folderPath:s});switch(e.type){case tJ.yW.DESIGN:return(0,r.jsx)(nd,{subtree:a,currentFolderPath:s,hideScrollbar:i||p<h,onScroll:g,initialScrollTop:m,role:l,isPreset:c});case tJ.yW.SITE:return(0,r.jsx)(r5,{subtree:o,currentFolderPath:s,hideScrollbar:i||p<h,onScroll:g,initialScrollTop:m,role:l})}}function nd({subtree:e,currentFolderPath:t,isPreset:s,hideScrollbar:n,onScroll:i,initialScrollTop:l,role:a}){let o=nu({subtree:e,currentFolderPath:t,isPreset:s});return(0,r.jsx)(s0,{elements:o,hideScrollbar:n,onScroll:i,initialScrollTop:l,role:a})}function nc({page:e}){let[t]=(0,si.MA)();return(0,r.jsx)(so.xU,{children:(0,r.jsx)("div",{className:"grid"===t?"asset_panel_assets--embeds--kl79b":h.s.flex.flexColumn.itemsCenter.$,children:(0,r.jsx)(rU,{embeds:e.embeds})})})}let nu=({subtree:e,currentFolderPath:t,isPreset:s})=>{let i=ry(),{componentSectionNameForTracking:l}=(0,sr.zf)(),{folderPath:a}=(0,N.wV)(),[o]=(0,si.MA)(),d=t.join("/"),c=t.length,u=a?.length??0,p=n.useMemo(()=>!!(s&&e?.items)&&e?.items.every(e=>em.Nz(e,{isPreset:s})),[s,e?.items]),h=n.useCallback(e=>{let t=e.subtrees.values().next().value;return t&&(0,em.dS)(t.name,{isPreset:s})},[s]),m=n.useCallback(({subtree:e,elements:t})=>{let s=e.items.length>0,n=h(e);if(s){let s=[tJ.tM.COMPONENTS],{props:r,numColumns:n}=rb(i,o,(0,t0.PI)(e.items,!0),p);t.push(...sQ(e.items,n,e.key,r,l,s,{hasHeader:!1,includesFirstTile:c===u,keyboardPanelDepth:c,isExample:p}))}let a=Array.from(e.subtrees.values());s&&a.length>0&&!n&&t.push({element:(0,r.jsx)(so.cG,{}),key:"divider",height:ns,ariaHidden:!0}),a.forEach((s,i)=>{t.push({element:(0,r.jsx)(sl,{subtree:s,index:i+e.items.length,keyPrefix:d,depth:c}),key:s.key,height:"list"===o?r9:ne}),0===i&&n&&a.length>1&&t.push({element:(0,r.jsx)(so.cG,{}),key:"examples_divider",height:ns,ariaHidden:!0})})},[h,i,o,p,l,c,u,d]);return n.useMemo(()=>{let t=[];return e&&m({subtree:e,elements:t}),t},[m,e])};var np=s(414191),nh=s(818778),nm=s(382629),ng=s(833805),nx=s(665261),nf=s(659062),n_=s(147046),ny=s(949052),nb=s(309112),nj=s(418463);let nC="asset-panel-library-context-menu",nv=sh.Pt("assetsLibrary","contextMenu"),nk=nx.ms,nS=nx.c$,nw=n.memo(({dropdownShown:e,usePortal:t})=>{let[{data:s}]=(0,ng.IT)((0,eO.Re)(e?.data?.partnerType));if(!e||e.type!==nC)return null;let{data:n}=e;if(!n)return null;let{libraryHref:i,position:l,isLocalLibrary:a,hideUnsubscribe:o=!1,onGoToLibrary:d,onPublish:c,onUnsubscribe:u,onSendFeedback:p}=n,h=a?(0,r.jsx)(nS,{onClick:c,recordingKey:sh.Pt(nv,"publishLibrary"),children:(0,m.tx)("design_systems.assets_panel.publish_library")}):null,g=[h,o||a?null:(0,r.jsx)(nS,{onClick:u,recordingKey:sh.Pt(nv,"unsubscribe"),children:(0,m.tx)("design_systems.assets_panel.remove_library_from_file")}),a||!i?null:(0,r.jsx)(nS,{href:i,target:"_blank",recordingKey:sh.Pt(nv,"goToLibrary"),onClick:d,children:(0,m.tx)("design_systems.assets_panel.go_to_library")}),!a&&s?(0,r.jsx)(nS,{href:s,target:"_blank",recordingKey:sh.Pt(nv,"sendFeedback"),onClick:p,children:(0,m.tx)("design_systems.assets_panel.send_feedback_to_creator")}):null].filter(nm.Vq);if(!l||!g.length)return null;let x=(0,r.jsxs)(nk,{style:nf.sx.add({top:`${l.top}px`,right:`${l.right}px`,bottom:`${l.bottom}px`,left:`${l.left}px`}).add(nf.sx.fixed).$,children:[...g]});return t?rP.createPortal(x,document.body):x});var nT=s(980852);let nN="asset-panel-page-context-menu",nI=sh.Pt("assetsLibrary","contextMenu"),nE=nx.ms,nA=nx.c$,nM=n.memo(({dropdownShown:e,usePortal:t})=>{if(!e||e.type!==nN)return null;let{data:s}=e;if(!s)return null;let{libraryPageHref:n,position:i,isLocalLibrary:l,onClickLocalPage:a,onClickSubscribedPage:o}=s;if(!i)return null;let d=l?(0,r.jsx)(nA,{recordingKey:sh.Pt(nI,"goToLibrary"),onClick:a,children:(0,m.tx)("design_systems.assets_panel.go_to_page")}):n?(0,r.jsx)(nA,{href:n,target:"_blank",recordingKey:sh.Pt(nI,"goToLibrary"),onClick:o,children:(0,m.tx)("design_systems.assets_panel.go_to_page")}):null;if(!d)return null;let c=(0,r.jsx)(nE,{style:nf.sx.add({top:`${i.top}px`,right:`${i.right}px`,bottom:`${i.bottom}px`,left:`${i.left}px`}).add(nf.sx.fixed).$,children:d});return t?rP.createPortal(c,document.body):c});function nP(){let e=(0,R.d4)(e=>e.dropdownShown),t=(0,R.d4)(np.h),s=e?.type===sw.K.ASSETS_PANEL&&!!e?.data?.component,i=e?.type===nN&&!!e?.data?.pageId,l=e?.type===nC&&!!e?.data,a=(0,nh.K)(!0),o=n.useContext(sC.U);return(0,r.jsxs)(r.Fragment,{children:[s&&(0,r.jsx)(sw.h,{selectedView:t,dropdownShown:e,onJumpToLocalComponent:a,onOpenFlyout:o?.onOpenFlyout,usePortal:!0}),i&&(0,r.jsx)(nM,{dropdownShown:e,usePortal:!0}),l&&(0,r.jsx)(nw,{dropdownShown:e,usePortal:!0})]})}var nL=s(345288),nO=s(172096),nR=s(383698),nF=s(331497),nD=s(62865),nK=s(70041),nB=s(755444),nG=s(246144),nH=s(316862),nz=s(444878),nV=s(849275),nU=s(415567),nW=s(15900),n$=s(544603),nX=s(725837);let nY={loadTimeMs:2e3,numSuggestions:4},nq="mockAutoSuggestConfig";function nJ(){return(0,nB.b5)()&&(0,G.kc)().anticipation_mock}nJ()?window.mockAutoSuggestConfig={get(){if(!nJ())return;let e=localStorage.getItem(nq);return e?{...nY,...JSON.parse(e)}:nY},set(e){if(!nJ())return;let t={...this.get(),...e};localStorage.setItem(nq,JSON.stringify(t))},reset(){nJ()&&localStorage.setItem(nq,JSON.stringify(nY))}}:localStorage.removeItem(nq);let nZ=(0,rn.rt)(new Map);async function nQ({targetNodeGuid:e}){if(!nJ())return{suggestions:[]};let t=window.mockAutoSuggestConfig?.get();if(!t)return{suggestions:[]};let s=H.zl.get(nZ),r=s.get(e);if(!r){let t=nX.D.getState(),n=[...Object.values(t.library.publishedByLibraryKey.components).map(e=>Object.values(e).map(e=>Object.values(e))).flat(2),...Object.values(t.library.publishedByLibraryKey.stateGroups).map(e=>Object.values(e).map(e=>Object.values(e))).flat(2)];if(0===n.length)throw Error("MOCK: COULD NOT FIND ANY ASSETS - maybe they are still loading?");r=n.sort(()=>Math.random()-.5).map(e=>({...e,suggestionSource:nK.Ou.RECENTS}));let i=new Map(s);i.set(e,r),H.zl.set(nZ,i)}return await new Promise(e=>{setTimeout(()=>{e({suggestions:r.slice(0,t.numSuggestions)})},t.loadTimeMs)})}var n0=s(548947),n1=s(214237);let n3=e=>e?`${e.name} ${e.guid}`:"NO TARGET";async function n5(e){return(0,G.kc)().anticipation_mock?await nQ({targetNodeGuid:e.targetNode.guid}):await (0,nW.A)(e)}var n4=s(347598),n2=s(837080),n6=s(453373);let n7="asset_panel_recents--resultsWrapper--k79Vy",n8="asset_panel_recents--resultsWrapperList--peuzW";var n9=s(961125);let ie=N.S5.Libraries,it=(0,z.jz)(n9.$A),is=(0,H.eU)(0);function ir({suggestions:e,analyticsData:t,hasLibraries:s,subscribedLibraries:i}){let l=io(),a=(0,H.Xr)(nD.a),o=n.useCallback(()=>{(0,eS.gb)(t,nK.GG.RESULT_INSERTED,nK.qd.ASSET_PANEL)},[t]),d=ry(),c=n.useMemo(()=>{let e={};return i?.forEach(t=>{e[t.libraryKey]=t.name}),e},[i]),u=n.useMemo(()=>{let{props:t,numColumns:s}=rb(d,si.$H.GRID,t0.rp.NORMAL);return e.map((e,n)=>(0,r.jsx)(sO,{asset:e,fileName:c?c[e.library_key]:"",sectionPosition:n,keyboardPosition:(0,sn.pg)([tJ.ON.SUGGESTIONS],n,s),onSuccessfulAssetInsert:o,...t,sourceForTracking:eS.tM},`${e.id}-${n}`))},[e,d,c,o]);n.useEffect(()=>{e.length>0&&t.queryId&&((0,eS.gb)(t,nK.GG.RESULTS_SHOWN,nK.qd.ASSET_PANEL),a())},[e,t,a]);let p=(0,m.tx)("auto_suggest.asset_panel.no_libraries"),h=(0,m.tx)("auto_suggest.suggestion_shelf_no_suggestions"),g=(0,r.jsx)("div",{className:"xh8yej3 x1iyjqo2 x1r8uery x1l90r2v",children:(0,r.jsx)("div",{className:n7,children:u})});return(0,O.NB)(),(0,r.jsx)("div",{className:"x78zum5 xdt5ytf x6s0dn4 xl56j7k",style:{minHeight:l},children:s?u.length>0?g:h:p})}function ii(){let e;let{width:t}=sK(),s=(0,f.He)().size>0,i=!s,l=(0,f.je)(),a=n.useRef(null),{suggestions:o,isLoading:d,analyticsData:c,debugString:u,isInitialized:p}=function(e=!1){let t=function(e){(0,nB.Ay)().anticipation_config||((0,nB.Ay)().anticipation_config=nK.PV);let t=(0,nB.Ay)().anticipation_config.dominantFrameConfig;return function({targetNodeGuid:e,disabled:t}){let[{suggestions:s,analyticsData:r},i]=(0,H.fp)(nD.P),{isLoaded:l}=(0,nV.y)(),a=function(){let{isLoaded:e}=(0,nV.y)();return{isLoaded:e,assets:(0,nz.g5)(ev.$A.Design).productComponents.map(e=>({...e,suggestionSource:nK.Ou.RECENTS}))}}(),o=n.useMemo(()=>l&&a.isLoaded,[l,a.isLoaded]),[d,c]=n.useState(o);n.useEffect(()=>{!d&&o&&(c(!0),0===s.length&&i({suggestions:a.assets,analyticsData:nK.YQ}))},[o,a,d,s.length,i]);let{suggestions:u,analyticsData:p,isLoading:h,suggestionsNodeGuid:m,debugString:g}=function({targetNodeGuid:e,disabled:t}){let[s,r]=n.useState([]),[i,l]=n.useState(`${e} - INIT`),[a,o]=n.useState(nK.YQ),[d,c]=n.useState(!1),[u,p]=n.useState(void 0),h=(0,x.tS)(),m=(0,f.He)(),g=(0,n1.r8)();return n.useEffect(()=>{if(t||!g)return;let s=(0,nT.UN)(),n=e?s.get(e):void 0,i=new AbortController;if(n&&h){if(n&&nK.b4.includes(n.type)){c(!0),r([]),p(n.guid),l(n3(n)+" - STARTED");let e={fileKey:h,queryId:(0,nH.g)(),selectionId:n?.guid};o(e);let t=(0,n1.k1)(),s=new eS.O({analyticsData:e,config:t,entryPoint:nK.qd.ASSET_PANEL}),{signal:a}=i,d=new n$.I(eU.otU.COMPONENTS,i);n5({targetNode:n,openFileKey:h,signal:a,subscribedLibraryKeys:m,autoSuggestSession:d,logger:s,config:t}).then(({suggestions:e})=>{a.aborted||r(e)}).catch(e=>{if((0,nG.x1)("auto_suggest","Error fetching suggestions",{error:e}),"AbortError"===e.name)return}).finally(()=>{a.aborted||(c(!1),l(n3(n)+" - FINISHED"));try{d.destroy()}catch(e){}})}else n&&(c(!1),r([]),p(n.guid),l(n3(n)+" - INVALID TARGET"))}else r([]),l(n3(n)+" - NO TARGET/OPEN FILE"),c(!1),p(void 0),o(nK.YQ);return()=>{i&&i.abort()}},[e,t,h,m,g]),{suggestions:s,isLoading:d,analyticsData:a,suggestionsNodeGuid:u,debugString:i}}({targetNodeGuid:e,disabled:t});n.useEffect(()=>{u.length>0&&i({suggestions:u,analyticsData:p})},[u,p,i]);let _=(0,n1.r8)();return t||!_?{suggestions:[],analyticsData:nK.YQ,isLoading:!1,isInitialized:!1,suggestionsNodeGuid:void 0,debugString:""}:{suggestions:s,analyticsData:r,isLoading:h,isInitialized:d||s.length>0,suggestionsNodeGuid:m,debugString:g}}({targetNodeGuid:function({selectedNode:e,config:t,disabled:s}){let r=!(0,G.kc)().anticipation,[i,l]=n.useState(void 0),{debouncedViewportInfo:a,viewportIsStable:o}=(0,n0.pJ)(r),d=!!e&&nK.b4.includes(e.type)&&(0,n0.Mw)(e,a,.4),c=(0,n0.pW)(a,s||r||d,t);return n.useEffect(()=>{if(o&&!r){if(d){l(e.findContainingFragmentOrSelf());return}l(c)}},[c,d,e,r,o]),i}({selectedNode:(0,nU.Vr)(),config:t,disabled:e}),disabled:e})}(e);return e?{suggestions:[],analyticsData:nK.YQ,isLoading:!1,isInitialized:!1,suggestionsNodeGuid:void 0,debugString:""}:t}(i),h=(0,H.Xr)(is),g=io(),_=(0,nF.ut)(eU.Ez5?.editorPreferences().showAssetAutoSuggest,!0),[y,b]=n.useState(null),j=_&&o.length>0&&s&&p||!!y,C=n.useCallback(()=>{let e=!j;eU.Ez5?.editorPreferences().showAssetAutoSuggest.set(e),b(e),(0,eS.gb)(c,e?nK.GG.PANEL_OPENED:nK.GG.PANEL_CLOSED,nK.qd.ASSET_PANEL)},[j,c]);n.useEffect(()=>{if(a.current?.clientHeight)h(a.current?.clientHeight);else{let e=it+8;j&&(e+=g),(0,G.kc)().anticipation_trigger_debug&&(e+=16),h(e)}},[j,g,h]);let{currentView:v}=(0,N.wV)(),k=v===N.S5.Libraries?0:1,S=(0,H.md)(nD.a);return i||(!p||j&&d||j&&"loading"===l.status?e=(0,r.jsx)(eV.k,{size:"md"}):j||(e=(0,r.jsx)("div",{...{0:{className:"xw4jnvo x1qx5ct2 xy3p2pi x78zum5 x6s0dn4 xl56j7k x16rqkct xcr9a89 x1fgql6j"},1:{className:"xw4jnvo x1qx5ct2 xy3p2pi x78zum5 x6s0dn4 xl56j7k x16rqkct x1v8gsql x1n0bwc9"}}[!!S<<0],children:o.length}))),(0,r.jsxs)("div",{className:"xso031l x1q0q8m5 xertd99 x1e56ztr",ref:a,children:[(0,r.jsx)(n4.B,{children:(0,r.jsxs)(n2.H,{children:[(0,r.jsxs)(t1.E,{onClick:C,className:"x1iyjqo2",children:[(0,r.jsx)(n6.g,{isExpanded:j}),(0,m.tx)("auto_suggest.asset_panel.title")]}),(0,r.jsx)("div",{className:"x78zum5 x6s0dn4",children:e})]})}),j&&(0,r.jsxs)(r7,{index:k,width:t,children:[(0,r.jsx)("div",{children:(0,r.jsx)(ir,{suggestions:o,analyticsData:c,hasLibraries:s,subscribedLibraries:l.data})}),(0,r.jsx)("div",{})]}),(0,G.kc)().anticipation_trigger_debug&&(0,r.jsx)("div",{className:"xh8yej3 xlup9mm xw2csxc x10wlt62",children:u})]})}function il(){let e=(0,n1.r8)(),{currentView:t}=(0,N.wV)();return e&&t===ie}function ia(){let e=il();return(function(){let e=(0,H.md)(N.W9),t=(0,eW.ZC)(e),{suggestions:s,analyticsData:r}=(0,H.md)(nD.P),{currentView:i}=(0,N.wV)(),l=(0,eW.ZC)(i);n.useEffect(()=>{!1===t&&!0===e&&s.length>0&&r.queryId&&l===ie&&(0,eS.gb)(r,nK.GG.STARTED_SEARCH,nK.qd.ASSET_PANEL)},[t,e,s,r,l])}(),e)?(0,r.jsx)(ii,{}):null}function io(){let e=ry();return Math.max(n.useMemo(()=>{let t=e.numColumnsByLayout[t0.rp.NORMAL];return Math.ceil(nK.lS/t)*(sZ(e.componentTilePropsByLayout[t0.rp.NORMAL].thumbHeight,si.$H.GRID,{showFileName:!0})+16)},[e]),150)}var id=s(573845),ic=s(288054),iu=s(739713),ip=s(744449),ih=s.n(ip),im=s(278491),ig=s(506192),ix=s(718085),i_=s(544995),iy=s(336971),ib=s(117012),ij=s(148233),iC=s(22106);function iv(){(0,ib.K)();let{subscribedFileDataByLibraryKey:e,hubFilesByLibraryKey:t}=(0,ij.N)(),s=(0,R.d4)(x.tB),r=(0,R.d4)(ej.e_),i=(0,R.d4)(ej.MH),l=(0,R.d4)(ej.dM),a=(0,R.d4)(iy.P),o=(0,i_.n1)(),d=(0,ee.Fl)(),c=(0,H.md)(eN.lj),u=n.useMemo(()=>s?.teamId?a[s.teamId]:null,[s?.teamId,a]),p=n.useMemo(()=>!!u&&(0,eF.w5)(u),[u]),h=n.useMemo(()=>(0,ew.Sg)(i,l),[i,l]),g=(0,ew.$1)({library:r,fileDataByLibraryKey:e}),f=(0,ew.oV)({library:r,hubFilesByLibraryKey:t,visualAssetLibraryKeys:c}),_=n.useMemo(()=>o?f:null,[o,f]),{url:y,shouldCover:b}=(0,iC.t)(),j=(0,rw.Nn)(),C=n.useMemo(()=>{let e=[];for(let t of j)t.data&&e.push(t.data);return e},[j]),v=(0,rw.fi)(),k=(0,rw.Bv)(),S=(0,H.md)(ep.TG);return n.useMemo(()=>(function({localComponentsInfo:e,localTemplatesInfo:t,localThumbnailUrl:s,localThumbnailShouldCover:r,subscribedComponentsInfo:n,subscribedCommunityComponentsInfo:i,canPublish:l,openFileKey:a,openFileLibraryKey:o,approvedLibraryKeysByResourceType:d,siteKitsAssetData:c,siteKitThumbnailComponents:u,siteKitSortingFn:p,presetLibraryKeys:h}){let{libraryKeyToSubscribedItems:g,subscribedFiles:x}=n,f=function({subscribedFiles:e,libraryKeyToSubscribedComponents:t,approvedLibraryKeysByResourceType:s}){let r=new Map;for(let n of(0,sr.uo)(e,s)){if(!n.library_key)continue;let e=(0,s3.l)(n.library_key),s=t[e]??[],i=s9(s,[],{isPreset:!1}),l={name:n.name,libraryKey:(0,s3.l)(n.library_key??""),pages:i,numComponents:s.length,numTemplates:0,thumbnailUrl:n.thumbnail_url_override??n.thumbnail_url,thumbnailShouldCover:!!n.thumbnail_guid,type:tJ.yW.DESIGN,libraryType:"team"};r.set(e,l)}return r}({subscribedFiles:[...x],libraryKeyToSubscribedComponents:g,approvedLibraryKeysByResourceType:d}),_=function(e,t){if(!e)return new Map;let{libraryKeyToSubscribedItems:s,subscribedHubFiles:r}=e??{hubFileIdToSubscribedItems:{},subscribedHubFiles:[]},n=new Map;for(let e of(0,sr.LH)(r)){if(!e.library_key)continue;let r=(0,s3.l)(e.library_key),i=s[r]??[],l=s9(i,[],{isPreset:t.has(e.library_key)});if(i.length>0){let t={name:(0,s5.oA)(e),libraryKey:(0,s3.l)(e.library_key??""),pages:l,numComponents:i.length,numTemplates:0,thumbnailUrl:e.thumbnail_url,thumbnailShouldCover:!0,type:tJ.yW.DESIGN,libraryType:"community"};n.set(r,t)}}return n}(i,h),y=function(e,t,s,r,n,i,l,a){let{privateItems:o,numPublished:d}=e,{privateItems:c,numPublished:u}=t??{privateItems:[],numPublished:0},p=d+u>0&&n&&o.length+c.length>0,h=rt(e,n),g=t?rt(t,n):[],x=!!a?.has(l),f=s9(h,g,{isPreset:x}),_={name:(0,m.t)("design_systems.assets_panel.created_in_this_file"),libraryKey:l,pages:f,numComponents:h.length,numTemplates:g.length,thumbnailUrl:s,thumbnailShouldCover:r,type:tJ.yW.DESIGN,libraryType:"team"};if(p){let e=null;if(o.length>0){let{sortedItems:t,sortedSubtrees:s}=s8(o,"p_components",{isPreset:x});e={name:(0,m.t)("design_systems.assets_panel.components"),items:t,subtrees:s,key:tJ.c_,type:tY.l$.COMPONENTS,previewAsset:void 0}}let t=null;if(c.length>0){let{sortedItems:e,sortedSubtrees:s}=s8(c,"p_templates",{isPreset:x});t={name:(0,m.t)("design_systems.assets_panel.templates"),items:e,subtrees:s,key:tJ.JS,type:tY.l$.TEMPLATES,previewAsset:void 0}}let{sortedItems:s,sortedSubtrees:r}=s8([...o??[],...c??[]],"assets",{isPreset:x}),n={name:(0,m.t)("design_systems.assets_panel.assets"),items:s,subtrees:r,key:tJ.Mk,type:tY.l$.COMPONENTS,previewAsset:void 0},i={name:(0,m.t)("design_systems.assets_panel.hidden"),id:tJ.o8,previewAsset:o[0]??c[0],components:e,examples:null,templates:t,assets:n,type:tJ.yW.DESIGN};_.pages.set(tJ.o8,i)}return _}(e,t,s,r,l,0,o,h),b=new Map([...f,..._]);b.set(y.libraryKey,y);let j=null;if(c){for(let e of(j=new Map,c)){let t=(0,s2.Pv)(e);if(!t)continue;let s=t.library.libraryKey,r=re(t.assets,u[s]??{},p,s===s2.Yl),n={...t.library,pages:r};j.set(s,n),b.set(s,n)}let e=(0,s6.V)();if(e){let t=re([],{},p,!0),s={...e,pages:t};j.set((0,s3.l)(s2.Yl),s),b.set((0,s3.l)(s2.Yl),s)}}return{localAssets:y,libraries:f,presets:_,siteKits:j,allLibrariesUnsorted:b}})({localComponentsInfo:h,localThumbnailUrl:y,localThumbnailShouldCover:b,subscribedComponentsInfo:g,subscribedCommunityComponentsInfo:_??void 0,canPublish:p,openFileKey:s?.key??"",openFileLibraryKey:(0,s3.l)(s?.libraryKey??""),approvedLibraryKeysByResourceType:d,siteKitsAssetData:C.length>0?C:void 0,siteKitThumbnailComponents:v,siteKitSortingFn:k,presetLibraryKeys:S}),[h,y,b,p,s?.key,s?.libraryKey,d,C,v,k,g,_,S])}var ik=s(757396);let iS="asset_panel_collapsible_breadcrumb--buttonStub--4S8VP asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P",iw="asset_panel_collapsible_breadcrumb--libraryStubStatic--VAyz1 asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P asset_panel_collapsible_breadcrumb--_libraryStubBase--y4862";function iT({stubs:e}){let{collapsibleStubs:t,lastStub:s,numHiddenStubs:i,breadcrumbRef:l,ellipsisRef:a,stubRefs:o}=iN(e),d=n.useCallback(()=>a.current?{top:a.current.getBoundingClientRect().bottom,left:a.current.getBoundingClientRect().left}:{top:0,left:0},[a]),c=i===t.length;return(0,r.jsxs)("div",{className:h.s.flex.itemsCenter.overflowHidden.flexShrink1.flexGrow1.$,style:nf.sx.add({flexBasis:"content"}).$,ref:l,role:"navigation","data-onboarding-key":ix.we,children:[(0,r.jsx)(iA,{shouldEllipsize:c}),i>0&&(0,r.jsx)(iE,{allStubs:t,numHiddenStubs:i,getDropdownTarget:d,ref:a}),t.map((e,t)=>t<i?null:(0,r.jsx)(iM,{i:t,name:e,ref:e=>o.current[t]=e},t)),e.length>0?(0,r.jsx)(iP,{name:s,firstSlash:0===t.length,shouldEllipsize:c}):null]})}let iN=e=>{let[t,s]=n.useMemo(()=>0===e.length?[[],void 0]:[e.slice(0,-1),e[e.length-1]],[e]),[r,i]=n.useState([]),l=n.useRef([]);n.useEffect(function(){l.current.length>t.length&&(l.current=l.current.slice(0,t.length)),r.length>t.length&&i(e=>e.slice(0,t.length))},[t,r.length,e.length]);let a=n.useRef(null),o=n.useRef(null),{width:d}=sK();return n.useLayoutEffect(function(){let e=a.current;if(!e)return;let t=e.children,s=e.offsetWidth-ih()(Array.from(t).map(e=>e.scrollWidth));if(s<0){let e=l.current[r.length];e&&i(t=>[...t,e.scrollWidth])}else if(0===s)return;else if(r.length>0){let e=r.length-1;s>r[e]-(o.current&&1===r.length?o.current.scrollWidth:0)&&i(e=>e.slice(0,-1))}},[r,l,e,d]),{collapsibleStubs:t,lastStub:s,numHiddenStubs:r.length,breadcrumbRef:a,ellipsisRef:o,stubRefs:l}},iI="asset-panel-ellipsis-menu",iE=n.forwardRef(({numHiddenStubs:e,allStubs:t,getDropdownTarget:s},i)=>{let a=(0,sr.sN)(),o=(0,ig.Um)(),d=o?.type===iI,c=(0,R.wA)(),u=n.useCallback(()=>c((0,n_.oB)()),[c]),p=n.useCallback(()=>c((0,n_.j7)({type:iI,data:{position:s()}})),[c,s]),{isCurrentlySkippingPage:m,isCurrentlySkippingFirstFolder:g,navigateBackToPathIndex:x}=(0,N.wV)(),f=n.useMemo(()=>t.slice(0,e),[t,e]),_=n.useMemo(()=>f.join(" / "),[f]),y=n.useMemo(()=>{if(d)return o.data?.position},[o?.data?.position,d]),b=n.useCallback(e=>{a("breadcrumb",x(iO(e,m,g)))},[g,m,a,x]),{focusBackButton:j,focusSearchBar:C}=(0,sn.rl)(),v=(0,sn.NR)({onBoth:e=>()=>{b(e)},onKeyDown:()=>()=>{setTimeout(()=>j(),0)},onClick:()=>C}),{setKeyboardNavigationElement:k}=(0,$.M3)({path:[tJ.ON.BREADCRUMB],column:tJ.Yv.ELLIPSIS}),S=l()(iS,{"asset_panel_collapsible_breadcrumb--dropdownOpen--YMRPh":d});return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{ref:i,className:h.s.flex.itemsCenter.$,children:[(0,r.jsx)(iL,{}),(0,r.jsx)("button",{ref:k,className:S,onClick:p,"data-tooltip-type":e2.Ib.TEXT,"data-tooltip":_,"aria-label":_,"aria-haspopup":"listbox","aria-expanded":d,children:"\u2026"})]}),d&&rP.createPortal((0,r.jsx)(nx.X3,{className:im.Dm,positionAbsolute:!0,style:y,id:"asset-panel-ellipsis-menu",hideDropdown:u,autofocusPrevElementOnEsc:!0,children:f.map((e,t)=>(0,r.jsx)(nx.c$,{onClick:v(t),children:e},e))}),document.body)]})});function iA({shouldEllipsize:e}){let t=(0,x._G)(),{allLibrariesByLibraryKey:s}=(0,ik.g)(),{currentView:i,libraryKey:a,visualAssetsType:o,navigateToLibrary:d,isCurrentlySkippingPage:c,isCurrentlySkippingFirstFolder:u,folderPath:p}=(0,N.wV)(),{setLastNavAction:g}=(0,ri.ZX)(),{focusBackButton:f,focusSearchBar:_}=(0,sn.rl)(),y=function(){let{libraries:e,siteLibraries:t,librariesForConnectedProject:s}=(0,ik.g)(),r=iv().localAssets,i=s.length>0,l=n.useMemo(()=>{let s=e.length>0,n=r.numComponents+r.numTemplates>0;return s||n||"disabled"!==t.status},[e,t.status,r]);return i&&!l}(),b=n.useMemo(()=>a?a===t?(0,m.t)("design_systems.assets_panel.created_in_this_file"):s.get(a)?.name:void 0,[a,t,s]),j=(0,sr.sN)(),C=i===N.S5.Libraries,v=i===N.S5.Pages,k=i===N.S5.Recents,S=i===N.S5.VisualAssets,w=n.useMemo(()=>!!v||!!c&&(!p||!!u&&1===p.length),[p,u,c,v]),T=n.useCallback(e=>{let t=d(e);g(ri.r6.Back),j("breadcrumb",t)},[j,d,g]),I=(0,sn.MB)({onBoth:()=>T(a??(0,s3.l)("")),onKeyDown:f,onClick:_}),{setKeyboardNavigationElement:E}=(0,$.M3)({path:[tJ.ON.BREADCRUMB],column:tJ.Yv.LIBRARY}),A=l()(v?iw:"asset_panel_collapsible_breadcrumb--libraryStub--PU1iu asset_panel_collapsible_breadcrumb--buttonStub--4S8VP asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P asset_panel_collapsible_breadcrumb--_libraryStubBase--y4862",{"asset_panel_collapsible_breadcrumb--ellipsized--vFJ6x ellipsis--ellipsis--Tjyfa":e});return C?(0,r.jsx)("div",{className:"asset_panel_collapsible_breadcrumb--allLibraries--6vL0- asset_panel_collapsible_breadcrumb--libraryStubStatic--VAyz1 asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P asset_panel_collapsible_breadcrumb--_libraryStubBase--y4862",children:y?(0,m.tx)("design_systems.libraries_modal.connected_project_libraries"):(0,m.tx)("design_systems.assets_panel.dropdown_type_all_libraries")}):k?(0,r.jsx)("div",{className:iw,children:(0,m.tx)("design_systems.assets_panel.dropdown_type_recents")}):S?(0,r.jsx)("div",{className:iw,children:o===N.G3.IconSets?(0,m.tx)("design_systems.assets_panel.icon_sets"):(0,m.tx)("design_systems.assets_panel.illustrations")}):(0,r.jsx)("div",{className:h.s.flex.overflowHidden.$,children:(0,r.jsx)("button",{onClick:I,className:A,disabled:w,ref:E,type:"button",children:b})})}let iM=n.forwardRef(({name:e,i:t},s)=>{let{isCurrentlySkippingPage:i,isCurrentlySkippingFirstFolder:l,navigateBackToPathIndex:a}=(0,N.wV)(),o=(0,sr.sN)(),d=n.useCallback(e=>{o("breadcrumb",a(e))},[o,a]),c=n.useMemo(()=>iO(t,i,l),[t,l,i]),{setKeyboardNavigationElement:u}=(0,$.M3)({path:[tJ.ON.BREADCRUMB],column:tJ.Yv.STUBS+t}),{focusBackButton:p,focusSearchBar:m}=(0,sn.rl)(),g=(0,sn.MB)({onBoth:()=>d(c),onKeyDown:p,onClick:m});return e?(0,r.jsxs)("div",{ref:s,className:h.s.flex.itemsCenter.$,children:[(0,r.jsx)(iL,{}),(0,r.jsx)("button",{ref:u,onClick:g,className:iS,children:e})]}):null});function iP({name:e,shouldEllipsize:t}){let s=n.useRef(null),{pageId:i,folderPath:l}=(0,N.wV)(),{width:a}=sK(),[o,d]=n.useState(!1);return(n.useEffect(()=>{d(!!(0,eZ._C)({text:e??"",textRef:s}))},[e,a]),n.useEffect(()=>{setTimeout(()=>d(!!(0,eZ._C)({text:"",textRef:s})),0)},[i,l]),e)?(0,r.jsxs)("div",{className:h.s.noWrap.flex.itemsCenter.if(t,h.s.overflowHidden).$,children:[(0,r.jsx)(iL,{}),(0,r.jsx)("div",{"data-tooltip-type":e2.Ib.TEXT,"data-tooltip":o?e:void 0,ref:s,className:h.s.mx4.px2.if(t,h.s.overflowHidden.pre.ellipsis).$,"aria-current":"location",children:e})]}):null}function iL(){return(0,r.jsx)("div",{className:"asset_panel_collapsible_breadcrumb--breadcrumbSlash--XWfHn","aria-hidden":!0,children:" / "})}let iO=(e,t,s)=>{let r=e;return t&&r++,s&&r++,r-1};var iR=s(819851);function iF(){let e=(0,x._G)(),{getLibrary:t}=(0,sa.G)(),{libraries:s,presets:r,siteLibraries:i,librariesForConnectedProject:l}=(0,ik.g)(),a=n.useMemo(()=>t(e??void 0),[t,e]),o=n.useMemo(()=>!a||(a.type===tJ.yW.DESIGN?0===a.numComponents&&0===a.numTemplates:0===a.numResponsiveSets),[a]),d=0===s.length,c=0===r.length,u=0===l.length,p=(0,iR.cJ)(),[h]=(0,H.fp)(N.aK);return n.useMemo(()=>p?"Blocks"!==h&&o&&d&&c&&u:o&&d&&c&&u&&"disabled"===i.status,[o,d,c,u,i,p,h])}function iD(e){return(0,r.jsx)(c.u,{label:"Breadcrumb",children:(0,r.jsx)(iK,{...e})})}function iK({page:e}){let{currentView:t,folderPath:s,onBack:i,libraryKey:l,isCurrentlySkippingPage:a,isCurrentlySkippingFirstFolder:o}=(0,N.wV)(),d=(0,sr.sN)(),{closeFlyout:c}=(0,tE.JA)(),{setBackButtonKeyboardItem:u,focusSearchBar:p}=(0,sn.rl)(),h=n.useCallback(()=>{d("backButton",i()),c()},[i,d,c]),g=n.useCallback(()=>{t===N.S5.Recents?l||p():t===N.S5.Pages?p():t===N.S5.Assets&&a&&!s&&p()},[t,p,s,a,l]),x=(0,sn.MB)({onBoth:h,onKeyDown:g,onClick:p}),f=n.useMemo(()=>{if(t===N.S5.Search||t===N.S5.Recents)return[];let r=e?.name&&!a?[e.name]:[],n=s??[];return[...r,...o?n.slice(1):n]},[t,s,a,o,e?.name]),_=iF(),y=t!==N.S5.Libraries&&t!==N.S5.Search;return _?null:(0,r.jsx)(r.Fragment,{children:t!==N.S5.Search&&(0,r.jsxs)("div",{className:"asset_panel_header--breadcrumbWrapper--NC2Ps asset_panel_header--horizontalFlex--k99PA",children:[y&&(0,r.jsx)(eq.K,{"aria-label":(0,m.t)("design_systems.assets_panel.back"),onClick:x,ref:u,recordingKey:"assetsPanelBack",children:(0,r.jsx)(iu.C,{})}),(0,r.jsx)(iT,{stubs:f})]})})}var iB=s(76404),iG=s(557276),iH=s(72138),iz=s(511295),iV=s(630124),iU=s(421874),iW=s(470076),i$=s(185245);function iX(){let{closeOverlay:e}=(0,iW.h)(),[t,s]=(0,H.fp)(i$.s0),i=n.useCallback(()=>{s(eU.Nfd.DAKOTA),e()},[s,e]);return(0,r.jsx)("div",{...rj.Ay.props(iU.A.p16),children:(0,r.jsxs)("div",{...rj.Ay.props(iU.A.flex,iU.A.flexColumn,iU.A.itemsCenter,iU.A.textCenter,iU.A.gap8),children:[(0,r.jsx)(iV.s,{className:"x1aue78i"}),(0,r.jsx)("div",{...rj.Ay.props(iU.A.textBodyMediumStrong,iU.A.colorText),children:(0,m.tx)("dakota.site_blocks.create_cms_collection")}),(0,r.jsx)("div",{...rj.Ay.props(iU.A.textBodyMedium,iU.A.colorTextSecondary),children:(0,m.tx)("dakota.site_blocks.dynamically_connect_and_update")}),(0,r.jsx)(eY.IK,{onClick:i,children:(0,m.tx)("dakota.site_blocks.create_collection_button")})]})})}var iY=s(479414),iq=s(150184),iJ=s(275033),iZ=s(239004);function iQ(e){let{data:t}=(0,iz.gL)(e);return(0,n.useMemo)(()=>t?function(e){let t=e.sort((e,t)=>(0,iY.Ez)(t.position,e.position)),s=t.filter(e=>e.fieldType===iJ._j.PLAIN_TEXT||e.fieldType===iJ._j.DATE),r=s.find(e=>"title"===e.name.toLowerCase())||s[0],n=s.find(e=>e.id!==r?.id),i=t.find(e=>e.fieldType===iJ._j.RICH_TEXT),l=t.find(e=>e.fieldType===iJ._j.IMAGE);return{primaryTextFieldId:r?.id??null,secondaryTextFieldId:n?.id??null,richTextFieldId:i?.id??null,imageFieldId:l?.id??null}}(t.fieldSchemas||[]):{primaryTextFieldId:null,secondaryTextFieldId:null,richTextFieldId:null,imageFieldId:null},[t])}function i0(e){let t=(0,rw.t0)();return(0,n.useMemo)(()=>t?Object.fromEntries([[t.primaryTextFieldId,e.primaryTextFieldId],[t.secondaryTextFieldId,e.secondaryTextFieldId],[t.imageFieldId,e.imageFieldId],[t.richTextFieldId,e.richTextFieldId]].filter(e=>null!=e[0]&&null!=e[1])):{},[t,e])}function i1(e,t,{isPageBlock:s}={}){let r=(0,rw.t0)(),i=r?.assetNames;return(0,n.useMemo)(()=>{if(!i)return null;let r=s?function(e,t){let{primaryTextFieldId:s,secondaryTextFieldId:r,richTextFieldId:n,imageFieldId:i}=e,l=null!==s,a=null!==r,o=null!==n,d=null!==i;return(a&&!l&&(0,iZ.AK)("Unexpected CMS block fields",{primaryTextFieldId:s,secondaryTextFieldId:r,imageFieldId:i}),d)?l&&a&&o?t.textImageRichPage??null:l&&o?t.imageRichPage??null:l&&a?t.textImagePage??null:t.imagePage??null:l&&a&&o?t.textRichPage??null:l&&o?t.richPage??null:l||a?t.textPage??null:null}(e,i):function(e,t){let{primaryTextFieldId:s,secondaryTextFieldId:r,richTextFieldId:n,imageFieldId:i}=e,l=null!==s,a=null!==r,o=l||a,d=null!==i;return(a&&!l&&(0,iZ.AK)("Unexpected CMS block fields",{primaryTextFieldId:s,secondaryTextFieldId:r,imageFieldId:i}),d)?l&&!a?t.imageSingleTextList:o?t.textImageList:t.imageOnlyList:l&&null!==n?t.richTextList??t.textOnlyList:o?t.textOnlyList:null}(e,i);return r?t.find(e=>e.name===r)??null:null},[e,t,i,s])}function i3({collections:e,assets:t,renderFlyoutListItem:s,renderFlyoutPageItem:n}){return(0,r.jsx)(r.Fragment,{children:e.map((i,l)=>{let a=l===e.length-1;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{...rj.xk(iU.A.flex,iU.A.itemsCenter,iU.A.gap4,iU.A.px8,iU.A.my4),children:[(0,r.jsx)(iV.s,{}),(0,r.jsx)("span",{...rj.xk(iU.A.textBodyMediumStrong,iU.A.colorText),children:i.name})]}),(0,r.jsx)(i4,{assets:t,collectionId:i.id,collectionName:i.name,children:e=>s({...e,index:l})}),(0,r.jsx)(i2,{assets:t,collectionId:i.id,collectionName:i.name,children:e=>n({...e,index:l})}),!a&&(0,r.jsx)("hr",{...rj.xk(i5.divider,iU.A.m8)})]},i.id)})})}let i5={divider:{kMzoRj:"xc342km",kjGldf:null,k2ei4v:null,kZ1KPB:null,ke9TFa:null,kWqL5O:null,kLoX6v:null,kt9PQ7:null,kEafiO:"x178xt8z",kPef9Z:"x13fuv20",kVAM5u:"x7z60cl",kzOINU:null,kGJrpR:null,kaZRDh:null,kBCPoo:null,k26BEO:null,k5QoK5:null,kLZC3w:null,kL6WhQ:null,$$css:!0}};function i4({collectionId:e,collectionName:t,assets:s,children:r}){let n=iQ(e),i=i0(n);return r({asset:i1(n,s),cmsCollectionMappings:{blockType:"list",collectionId:e,collectionName:t,fieldSchemaMappings:i}})}function i2({collectionId:e,collectionName:t,assets:s,children:r}){let n=iQ(e),i=function(e){let{data:t}=(0,iq.Vp)(e);if(!t||0===t.length)return null;let[s]=(0,iq.BM)(t);return s.id}(e),l=i0(n);return r({asset:i1(n,s,{isPageBlock:!0}),cmsCollectionMappings:{blockType:"page",collectionId:e,itemId:i,collectionName:t,fieldSchemaMappings:l}})}function i6(){return(0,r.jsx)("div",{...rj.Ay.props(iU.A.p16),children:(0,r.jsx)(eV.k,{})})}var i7=s(443208),i8=s(222714);let i9=(0,n.createContext)(void 0);function le(){let e=(0,n.useContext)(i9);if(void 0===e)throw Error("useFlyoutContext must be used within a FlyoutProvider");return e}function lt({page:e,libraryKey:t,onDragStart:s,children:i}){let l=(0,n.useMemo)(()=>rs(e.assets),[e.assets]),a=function(){let{windowInnerWidth:e}=(0,i8.l)();return(0,n.useMemo)(()=>Math.min(Math.max(Math.floor(15*e/64),144),220),[e])}(),o=(0,n.useMemo)(()=>a-8,[a]),d=(0,n.useMemo)(()=>a-2*sS.$A-8,[a]),c=(0,n.useMemo)(()=>({page:e,libraryKey:t,assets:l,panelWidth:a,embedThumbWidth:o,thumbWidth:d,onDragStart:s}),[e,t,l,a,o,d,s]);return(0,r.jsx)(i9.Provider,{value:c,children:i})}let ls=n.forwardRef(({hide:e,libraryKey:t,onMouseEnter:s,onMouseLeave:i,onDragStart:l},a)=>{let{getLibrary:o}=(0,sa.G)(),{isLeftPanelCollapsed:d}=(0,n.useContext)(i7.t),c=(0,p.b)();if(d)return null;let u=o(t);if(!u)return null;let h=(0,N.Cg)(u);return h&&h.type===tJ.yW.SITE?rP.createPortal((0,r.jsx)("div",{ref:a,...rj.Ay.props(lc.flyout,lc.flyoutPosition(c),e&&lc.hidden),onMouseEnter:s,onMouseLeave:i,"data-fullscreen-prevent-event-capture":!0,"data-testid":"asset-panel-library-flyout","aria-hidden":e,children:(0,r.jsx)(lt,{libraryKey:t,page:h,onDragStart:l,children:(0,r.jsx)(ln,{})})}),document.body):null}),lr="Site kit";function ln(){let{page:e,libraryKey:t,assets:s,embedThumbWidth:n,thumbWidth:i,onDragStart:l}=le();return(0,rw.VF)()(t)?(0,r.jsx)(li,{}):(0,tJ.AZ)(e)?(0,r.jsx)(ll,{children:(0,r.jsx)(la,{styleXStyle:lc.gap16,children:e.embeds.map((e,t)=>(0,r.jsx)(rS.Ay.Provider,{value:rS.W7.Embed,children:(0,r.jsx)(rW,{embed:e,sectionPosition:t,keyboardPosition:{path:[tJ.ON.CONTENTS,tJ.lM.ASSETS,t],column:null},thumbHeight:Math.floor(n/2),thumbWidth:n,isFirstTile:0===t,onDragStart:l},e.name)},e.name))})}):(0,r.jsx)(ll,{children:(0,r.jsx)(la,{styleXStyle:lc.gap16,children:s.map((e,t)=>(0,r.jsx)(rS.Ay.Provider,{value:e.fullPage?rS.W7.Webpage:rS.W7.Block,children:(0,r.jsx)(rN,{asset:e,sectionPosition:t,thumbWidth:i,isFirstTile:0===t,sectionNameForTracking:lr,keyboardPosition:(0,sn.pg)([tJ.tM.COMPONENTS],t,1),hideName:!0,onDragStart:l},e.name)},e.name))})})}function li(){let e=(0,x.tS)(),{data:t,status:s}=(0,iz.c$)(e),{libraryKey:i,assets:l,thumbWidth:a,onDragStart:o}=le(),d=(0,n.useMemo)(()=>l.filter(e=>e.type===eC.PW.RESPONSIVE_SET),[l]),c=(0,n.useCallback)(({asset:e,cmsCollectionMappings:t,index:s})=>e?(0,r.jsx)(rN,{asset:e,cmsCollectionMappings:t,hideName:!0,keyboardPosition:(0,sn.pg)([tJ.tM.COMPONENTS],s,1),onDragStart:o,sectionNameForTracking:lr,sectionPosition:s,thumbWidth:a},e.name):null,[o,a]);return"loading"===s||null==t?(0,r.jsx)(la,{styleXStyle:lc.justifyCenter,children:(0,r.jsx)(i6,{})}):0===t.length?(0,r.jsx)(la,{styleXStyle:lc.justifyCenter,children:(0,r.jsx)(iX,{})}):(0,r.jsx)(ll,{children:(0,r.jsx)(la,{styleXStyle:lc.my4,children:(0,r.jsx)(rS.Ay.Provider,{value:rS.W7.Block,children:(0,r.jsx)(i3,{collections:t,assets:d,renderFlyoutListItem:c,renderFlyoutPageItem:c})},i)})})}function ll({children:e}){let{libraryKey:t,page:s}=le(),{assetsScrollTop:n,handleScrollAssets:i}=ra({libraryKey:t,pageId:s.id});return(0,r.jsx)(iH.P,{hideScrollbar:!0,onScroll:i,initialScrollTop:n,children:e})}function la({styleXStyle:e,children:t}){let{thumbWidth:s}=le();return(0,r.jsx)("div",{...rj.Ay.props(e,lc.flyoutWrapper,lc.flyoutWrapperWidth(s)),children:t})}let lo={kbCHJM:"xgq9j65",kLqNvP:"",kt4wiu:"",$$css:!0},ld={kzqmXN:"x5lhr3w",$$css:!0},lc={flyout:{kVAEAm:"x10l6tqk",kjj79g:"xl56j7k",k87sOh:"x13vifvy",krVfgx:"x1ey2m1c",k1xSpc:"x78zum5",kWkggS:"x1yjdb4r",kWqL5O:"xs1s249",k2ei4v:null,ke9TFa:null,kSWEuD:"x32b0ac",kVhnKS:null,k8ry5P:null,k26BEO:"x1lpqudl",kGJrpR:null,kBCPoo:null,kMv6JI:"x1v78wtz",kmVPX3:"x9dr4nv",kg3NbH:null,kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,k8WAf4:null,kLKAdn:null,kGO01o:null,kY2c9j:"xybi4ul",$$css:!0},flyoutPosition:e=>[lo,{"--x-left":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`calc(var(--left-panel-width) + ${e?iG._+1:0}px)`)}],hidden:{k1xSpc:"x1s85apg",$$css:!0},flyoutWrapper:{k1xSpc:"x78zum5",kXwgrk:"xdt5ytf",kGNEyG:"x6s0dn4",$$css:!0},my4:{keoZOQ:"x15r87gk",k1K539:"x1ah0xmj",$$css:!0},gap16:{kOIVth:"x1r05qx8",khm7nJ:null,k1C7PZ:null,$$css:!0},justifyCenter:{kjj79g:"xl56j7k",$$css:!0},flyoutWrapperWidth:e=>[ld,{"--x-width":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(e+2*sS.$A+8)}]},lu=(0,H.eU)(null);var lp=s(373547);let lh={width:"unset"},lm=[{name:"pages",url:(0,nB.ck)("99bf5f7ad969ea1167c7b09340ffc4486185e71a"),background:{light:"--ramp-blue-300",dark:"--ramp-pale-blue-600"},style:{...lh,filter:"drop-shadow(0px 2px 8px rgba(0, 49, 124, 0.10))"}},{name:"navigation",url:(0,nB.ck)("a84d6d275dd4af825b41cf6a782d8950a38ccf28"),background:{light:"--ramp-persimmon-300",dark:"--ramp-pale-persimmon-600"},style:{...lh,filter:"drop-shadow(0px 2px 6px rgba(185, 42, 0, 0.10))"}},{name:"heroes",url:(0,nB.ck)("2314584dee6e81eb3a90596302b184d88f6b00f3"),background:{light:"--ramp-pink-300",dark:"--ramp-pale-pink-600"},style:{...lh,filter:"drop-shadow(0px 2px 6px rgba(165, 0, 117, 0.10))"}},{name:"features",url:(0,nB.ck)("c9c8ec535fe73557c9729a00cebbffbdf6e3bd00"),background:{light:"--ramp-yellow-400",dark:"--ramp-pale-yellow-600"},style:{...lh,filter:"drop-shadow(0px 2px 6px rgba(197, 92, 0, 0.10))"}},{name:"cms",url:(0,nB.ck)("f0a8fe62447d4ae8ab8b02a3184bd1efcae2eed4"),background:{light:"--ramp-teal-400",dark:"--ramp-pale-teal-600"},style:{...lh,filter:"drop-shadow(0px 2px 6px rgba(0, 135, 168, 0.10))"}},{name:"embeds",url:(0,nB.ck)("b6ff5202c5344702953b4d618f6d06a362b63e1b"),background:{light:"--ramp-violet-400",dark:"--ramp-pale-violet-600"},style:{...lh,filter:"drop-shadow(0px 2px 8px rgba(51, 19, 179, 0.10))"}}],lg=(0,z.jz)(t9.Sx),lx=(0,z.jz)(t9.T5);function lf(e){return(0,r.jsx)(c.u,{label:"AssetPanelLibrary",children:(0,r.jsx)(l_,{...e})})}function l_({library:e,previewHeight:t,cardWidth:s,keyboardSection:i,rowIndex:l,columnIndex:o=0,hideUnsubscribe:d,flyoutHandlers:c,isFolderView:u,folderVariant:p="preview"}){let{focusFirstItem:h,focusSearchBar:g}=(0,sn.rl)(),{navigateToLibrary:f}=(0,N.wV)(),_=(0,x.q5)(),y=(0,H.md)(lu),j=(0,eN.H)(e.libraryKey),[C]=(0,si.MA)(),v=((0,b.GM)()()?si.$H.LIST:C)===si.$H.LIST,k=(0,sr.sN)(),S=n.useCallback(()=>{k("libraryCard",f(e.libraryKey))},[e.libraryKey,k,f]),{currentView:w}=(0,N.wV)(),T=w!==N.S5.Libraries,{setKeyboardNavigationElement:I}=(0,$.M3)({path:[tJ.ON.CONTENTS,tJ.lM.LIBRARIES,i,l],column:o,id:e.libraryKey,disabled:T}),E=(0,sn.MB)({onBoth:S,onKeyDown:h,onClick:g}),A=n.useCallback(t=>{c?c.onClick(e.libraryKey):E(t)},[c,E,e.libraryKey]),M=n.useCallback(t=>c?.onMouseEnter?.(t,e.libraryKey),[c,e.libraryKey]),P=n.useCallback(t=>c?.onMouseLeave(t,e.libraryKey),[c,e.libraryKey]),L=n.useCallback(t=>c?.onMouseMove(t,e.libraryKey),[c,e.libraryKey]),O=n.useMemo(()=>{let t=e.libraryKey===_?.libraryKey?"localLibrary":e.libraryKey;return sh.Pt("assetsLibrary",t)},[e.libraryKey,_?.libraryKey]),F=function(e,t=!1){let s=(0,x.q5)(),r=(0,R.wA)(),i=e.libraryKey===s?.libraryKey,l=(0,ew._9)(e.libraryKey,"assets_panel_library_context_menu"),o=n.useCallback(()=>l(!1),[l]),d=function(){let e=(0,R.wA)(),t=(0,x.q5)(),s=(0,R.d4)(e=>e.teams),r=(0,R.d4)(ej.fA),i=n.useCallback(()=>{e(tG.to({type:ny.dD,data:{entrypoint:nb.RR.ASSET_PANEL_LIBRARY_CONTEXT_MENU}}))},[e]),l=t?.teamId&&s[t.teamId],a=n.useCallback(()=>{e(tG.to({type:nj.$3,data:{afterFileMove:i,team:l||null}}))},[e,i,l]);return n.useCallback(()=>{r?i():a()},[r,i,a])}(),c=(0,eg.X)(e.libraryKey),u=(0,eP.b)({libraryKey:e.libraryKey}),p=u.data?.link,h=n.useCallback(()=>{a.az.trackDefinedEvent("assets_panel.go_to_library",{libraryKey:e.libraryKey,fileKey:s?.key,fileTeamId:s?.teamId??void 0,fileOrgId:s?.parentOrgId??void 0,entryPoint:"library_context_menu"})},[e.libraryKey,s]),m=n.useCallback(()=>{a.az.trackDefinedEvent("assets_panel.send_feedback_to_creator",{libraryKey:e.libraryKey,fileKey:s?.key,fileTeamId:s?.teamId??void 0,fileOrgId:s?.parentOrgId??void 0,entryPoint:"library_context_menu",partnerType:c})},[e.libraryKey,s,c]),g=n.useCallback(()=>{a.az.trackDefinedEvent("assets_panel.open_library_context_menu",{libraryKey:e.libraryKey,fileKey:s?.key,fileTeamId:s?.teamId??void 0,fileOrgId:s?.parentOrgId??void 0})},[e.libraryKey,s]);return n.useCallback(s=>{e.type!==tJ.yW.SITE&&(s.preventDefault(),s.stopPropagation(),r((0,n_.j7)({type:nC,data:{libraryHref:p,isLocalLibrary:i,partnerType:c,hideUnsubscribe:t,onGoToLibrary:h,onPublish:d,onUnsubscribe:o,onSendFeedback:m,position:{top:s.clientY,left:s.clientX}}})),g())},[e.type,r,p,i,c,t,h,d,o,m,g])}(e,d),D=!!(0,rw.dj)(e.libraryKey),K=function(e,t){let s="dark"===(0,lp.DP)()?"dark":"light";return n.useMemo(()=>{if(!t)return;let r=lm.find(t=>t.name===e.toLowerCase()||e===(0,m.t)("design_systems.assets_panel.site_embeds")&&"embeds"===t.name);if(r)return{url:r.url,backgroundToken:`var(${r.background[s]})`,style:r.style}},[t,e,s])}(e.name,D||e.libraryKey===s2.Yl);return(0,r.jsx)(t4.GG,{"aria-label":e.name,className:u?"":"asset_panel_library--library--5bw5-",forwardedRef:I,onClick:A,onContextMenu:F,onMouseEnter:M,onMouseLeave:P,onMouseMove:L,recordingKey:O,style:{width:v||u?"100%":s},tabIndex:T?-1:0,children:u?(0,r.jsx)(ss,{keyPrefix:e.libraryKey,name:e.name,hoverable:!0,previewAssetOrUrl:K?.url??(e.thumbnailUrl||void 0),selected:y?.persisted&&y?.key===e.libraryKey,recordingKey:O||"assetsLibraryFolder",variant:p,customThumbnailData:K}):(0,r.jsx)(ly,{library:e,previewHeight:t,isList:v,showAuthor:j})})}function ly({library:e,previewHeight:t,isList:s,showAuthor:i}){let{thumbnailUrl:l}=e,[a,o]=n.useState(l),d=n.useMemo(()=>{if(a)return`url(${a})`},[a]),c=n.useCallback(()=>{o(l)},[l]),u=n.useMemo(()=>s?{height:lg,width:lx}:{height:t},[s,t]);return(0,r.jsxs)("div",{className:s?"asset_panel_library--libraryCardList--qG5I1 asset_panel_library--libraryCard--l0q0e":"asset_panel_library--libraryCard--l0q0e",children:[(0,r.jsxs)("div",{className:"asset_panel_library--libraryPreviewSection--fRTrr",children:[(0,r.jsx)("div",{style:{backgroundImage:d,...u},className:e.thumbnailShouldCover?"asset_panel_library--libraryPreviewCover---Jx5R asset_panel_library--libraryPreview--jl-5n":"asset_panel_library--libraryPreview--jl-5n"}),l&&(0,r.jsx)(rR.oW,{src:l,onLoad:c,className:"asset_panel_library--hiddenImage--a-LoJ",alt:""})]}),(0,r.jsx)(lb,{library:e,isList:s,showAuthor:i})]})}function lb({library:e,isList:t,showAuthor:s}){let i=(0,H.md)(eN.Rs),l=e.type!==tJ.yW.SITE,a=n.useMemo(()=>e.type===tJ.yW.SITE?"":e.numComponents>0?(0,m.t)("design_systems.assets_panel.num_components",{numComponents:e.numComponents}):"",[e]),o=i?.[e.libraryKey]?.author_name||e.authorName;return(0,r.jsx)("div",{className:t?"asset_panel_library--libraryFooterList--x3M2r asset_panel_library--libraryFooter--jXcDc":l?"asset_panel_library--libraryFooter--jXcDc":"asset_panel_library--libraryFooterWithoutLibraryStats--FnrKN asset_panel_library--libraryFooter--jXcDc",children:(0,r.jsxs)("div",{className:"asset_panel_library--libraryNameAndStats--uiY8T",children:[(0,r.jsxs)("div",{className:"asset_panel_library--nameAndIconForList--UCm5F",children:[(0,r.jsx)("h3",{className:"asset_panel_library--libraryName--aege1 ellipsis--ellipsis--Tjyfa",children:e.name}),(0,r.jsx)("div",{className:"asset_panel_library--libraryIcon--6s19b",children:(0,r.jsx)(sx.P,{libraryKey:e.libraryKey,compact:!0,showPresetTooltip:!0,colorPrimaryOnHover:!0,tooltipDelay:500,tooltipLocation:"below"})})]}),l&&(0,r.jsx)("div",{className:"asset_panel_library--libraryStats--JL9eF ellipsis--ellipsis--Tjyfa",children:s?(0,m.tx)("community.by_publisher",{publisher:o}):a})]})})}function lj(){return(0,r.jsxs)("svg",{width:"74px",height:"45px",viewBox:"0 0 76 46",fill:"none",children:[(0,r.jsx)("rect",{width:"66",height:"36.2738",rx:"3",transform:"matrix(0.998629 -0.052336 -0.052336 -0.998629 1.90015 39.6787)",fill:"url(#pattern0_4378_11285)"}),(0,r.jsx)("rect",{width:"66",height:"36.2738",rx:"3",transform:"matrix(0.998629 -0.052336 -0.052336 -0.998629 1.90015 39.6787)",fill:"url(#pattern1_4378_11285)"}),(0,r.jsx)("rect",{width:"66",height:"36.2738",rx:"3",transform:"matrix(0.998629 -0.052336 -0.052336 -0.998629 1.90015 39.6787)",fill:"#85C9E4"}),(0,r.jsxs)("g",{filter:"url(#filter0_dd_4378_11285)",children:[(0,r.jsx)("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 73 6)",fill:"url(#pattern2_4378_11285)"}),(0,r.jsx)("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 73 6)",fill:"url(#pattern3_4378_11285)"}),(0,r.jsx)("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 73 6)",fill:"#E5F4FF"}),(0,r.jsx)("g",{clipPath:"url(#clip0_4378_11285)",children:(0,r.jsxs)("g",{filter:"url(#filter1_d_4378_11285)",children:[(0,r.jsx)("rect",{x:"40.7627",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),(0,r.jsx)("rect",{x:"40.8477",y:"24.7979",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),(0,r.jsx)("path",{d:"M38.7913 22.7412L56.2288 40.1787M56.2288 22.7412L38.7913 40.1787M44.6973 22.46V40.46M47.5097 22.46V40.46M50.3225 22.46V40.46M56.51 28.6475L38.51 28.6475M56.51 31.4599L38.51 31.4599M56.51 34.2726L38.51 34.2726M53.135 31.46C53.135 34.5666 50.6166 37.085 47.51 37.085C44.4034 37.085 41.885 34.5666 41.885 31.46C41.885 28.3534 44.4034 25.835 47.51 25.835C50.6166 25.835 53.135 28.3534 53.135 31.46ZM50.3225 31.46C50.3225 33.0133 49.0633 34.2725 47.51 34.2725C45.9567 34.2725 44.6975 33.0133 44.6975 31.46C44.6975 29.9067 45.9567 28.6475 47.51 28.6475C49.0633 28.6475 50.3225 29.9067 50.3225 31.46Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),(0,r.jsx)("path",{d:"M46.8393 29.3914H46.3369C46.0243 29.3914 45.8679 29.3914 45.7485 29.4522C45.6435 29.5057 45.5582 29.591 45.5047 29.6961C45.4438 29.8155 45.4438 29.9719 45.4438 30.2845V32.4054C45.4438 32.718 45.4438 32.8742 45.5047 32.9936C45.5582 33.0986 45.6435 33.1841 45.7485 33.2376C45.8678 33.2984 46.024 33.2984 46.336 33.2984H48.4587C48.7706 33.2984 48.9266 33.2984 49.0459 33.2376C49.1509 33.1841 49.2365 33.0985 49.2901 32.9935C49.3508 32.8742 49.3508 32.7182 49.3508 32.4062V31.903M49.6299 30.5077V29.1123M49.6299 29.1123H48.2345M49.6299 29.1123L47.6764 31.0658",stroke:"#007BE5",strokeWidth:"0.558837",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,r.jsx)("g",{clipPath:"url(#clip1_4378_11285)",children:(0,r.jsxs)("g",{filter:"url(#filter2_d_4378_11285)",children:[(0,r.jsx)("rect",{x:"55.6597",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),(0,r.jsx)("rect",{x:"55.7447",y:"24.7979",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),(0,r.jsx)("path",{d:"M53.6882 22.7412L71.1257 40.1787M71.1257 22.7412L53.6882 40.1787M59.5943 22.46V40.46M62.4066 22.46V40.46M65.2194 22.46V40.46M71.407 28.6475L53.407 28.6475M71.407 31.4599L53.407 31.4599M71.407 34.2726L53.407 34.2726M68.032 31.46C68.032 34.5666 65.5136 37.085 62.407 37.085C59.3004 37.085 56.782 34.5666 56.782 31.46C56.782 28.3534 59.3004 25.835 62.407 25.835C65.5136 25.835 68.032 28.3534 68.032 31.46ZM65.2195 31.46C65.2195 33.0133 63.9603 34.2725 62.407 34.2725C60.8537 34.2725 59.5945 33.0133 59.5945 31.46C59.5945 29.9067 60.8537 28.6475 62.407 28.6475C63.9603 28.6475 65.2195 29.9067 65.2195 31.46Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),(0,r.jsx)("path",{d:"M64.911 33.9649L63.704 32.758M63.704 32.758C64.1063 32.3557 64.3552 31.7999 64.3552 31.186C64.3552 29.9582 63.3599 28.9629 62.1321 28.9629C60.9043 28.9629 59.9089 29.9582 59.9089 31.186C59.9089 32.4138 60.9043 33.4091 62.1321 33.4091C62.746 33.4091 63.3017 33.1603 63.704 32.758Z",stroke:"#007BE5",strokeWidth:"0.555781",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,r.jsx)("g",{clipPath:"url(#clip2_4378_11285)",children:(0,r.jsxs)("g",{filter:"url(#filter3_d_4378_11285)",children:[(0,r.jsx)("rect",{x:"25.7114",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),(0,r.jsx)("rect",{x:"25.7964",y:"9.74613",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),(0,r.jsx)("path",{d:"M23.7397 7.68945L41.1772 25.127M41.1772 7.68945L23.7397 25.127M29.6458 7.4082V25.4082M32.4582 7.4082V25.4082M35.2709 7.4082V25.4082M41.4585 13.5957L23.4585 13.5957M41.4585 16.4081L23.4585 16.4081M41.4585 19.2209L23.4585 19.2209M38.0835 16.4082C38.0835 19.5148 35.5651 22.0332 32.4585 22.0332C29.3519 22.0332 26.8335 19.5148 26.8335 16.4082C26.8335 13.3016 29.3519 10.7832 32.4585 10.7832C35.5651 10.7832 38.0835 13.3016 38.0835 16.4082ZM35.271 16.4082C35.271 17.9615 34.0118 19.2207 32.4585 19.2207C30.9052 19.2207 29.646 17.9615 29.646 16.4082C29.646 14.8549 30.9052 13.5957 32.4585 13.5957C34.0118 13.5957 35.271 14.8549 35.271 16.4082Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),(0,r.jsx)("path",{d:"M31.0159 13.8096C30.3787 13.8096 29.8621 14.3262 29.8621 14.9634V17.5596V17.848C29.8621 18.4852 30.3787 19.0019 31.0159 19.0019H33.9005C34.5377 19.0019 35.0544 18.4852 35.0544 17.848V17.5596V14.9634C35.0544 14.3262 34.5377 13.8096 33.9005 13.8096H31.0159ZM31.0159 14.3865H33.9005C34.2193 14.3865 34.4774 14.6447 34.4774 14.9634L34.4786 16.7507C34.2542 16.5424 34.0254 16.4121 33.7742 16.4057C33.7652 16.4054 33.7655 16.4057 33.7563 16.4057C33.4283 16.4057 33.0637 16.6578 32.8188 16.9737C32.7562 16.8324 32.693 16.6927 32.6203 16.5589C32.2799 15.9303 31.9081 15.5412 31.4486 15.5403C31.058 15.5395 30.7228 15.8588 30.4367 16.2961L30.439 14.9634C30.439 14.6447 30.6972 14.3865 31.0159 14.3865ZM33.6121 14.9634C33.4528 14.9634 33.3236 15.0926 33.3236 15.2519C33.3236 15.4111 33.4528 15.5403 33.6121 15.5403C33.7713 15.5403 33.9005 15.4111 33.9005 15.2519C33.9005 15.0926 33.7713 14.9634 33.6121 14.9634ZM31.4486 16.1173C31.6165 16.1175 31.8715 16.3789 32.1155 16.8295C32.2124 17.0077 32.2993 17.2042 32.3772 17.3974C32.4239 17.5128 32.4599 17.6011 32.4761 17.6496C32.5548 17.8852 32.8745 17.9187 32.9991 17.7038C33.0115 17.6824 33.034 17.6415 33.0712 17.5867C33.1335 17.4944 33.2045 17.4009 33.2786 17.3161C33.4638 17.1038 33.6423 16.9826 33.7563 16.9826C33.8714 16.9855 34.0491 17.1064 34.234 17.3161C34.309 17.4012 34.3782 17.4944 34.4414 17.5867C34.4613 17.6155 34.4642 17.6291 34.4774 17.6496V17.848C34.4774 18.1668 34.2193 18.4249 33.9005 18.4249H31.0159C30.6972 18.4249 30.439 18.1668 30.439 17.848V17.6046C30.4572 17.5532 30.4814 17.4924 30.52 17.3974C30.5988 17.2042 30.6842 17.008 30.7817 16.8295C31.0277 16.378 31.281 16.117 31.4486 16.1173Z",fill:"#007BE5"})]})}),(0,r.jsx)("g",{clipPath:"url(#clip3_4378_11285)",children:(0,r.jsxs)("g",{filter:"url(#filter4_d_4378_11285)",children:[(0,r.jsx)("rect",{x:"40.7627",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),(0,r.jsx)("rect",{x:"40.8477",y:"9.74613",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),(0,r.jsx)("path",{d:"M38.7915 7.68945L56.229 25.127M56.229 7.68945L38.7915 25.127M44.6975 7.4082V25.4082M47.5099 7.4082V25.4082M50.3227 7.4082V25.4082M56.5103 13.5957L38.5103 13.5957M56.5103 16.4081L38.5103 16.4081M56.5103 19.2209L38.5103 19.2209M53.1353 16.4082C53.1353 19.5148 50.6169 22.0332 47.5103 22.0332C44.4037 22.0332 41.8853 19.5148 41.8853 16.4082C41.8853 13.3016 44.4037 10.7832 47.5103 10.7832C50.6169 10.7832 53.1353 13.3016 53.1353 16.4082ZM50.3228 16.4082C50.3228 17.9615 49.0636 19.2207 47.5103 19.2207C45.957 19.2207 44.6978 17.9615 44.6978 16.4082C44.6978 14.8549 45.957 13.5957 47.5103 13.5957C49.0636 13.5957 50.3228 14.8549 50.3228 16.4082Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),(0,r.jsx)("g",{clipPath:"url(#clip4_4378_11285)",children:(0,r.jsx)("path",{d:"M47.6765 15.2739C47.0718 13.8547 44.9556 14.0058 44.9556 15.8198C44.9556 17.6338 47.6765 19.1454 47.6765 19.1454C47.6765 19.1454 50.3974 17.6338 50.3974 15.8198C50.3974 14.0058 48.2811 13.8547 47.6765 15.2739Z",stroke:"#007BE5",strokeWidth:"0.605407",strokeLinecap:"round",strokeLinejoin:"round"})})]})}),(0,r.jsx)("g",{clipPath:"url(#clip5_4378_11285)",children:(0,r.jsxs)("g",{filter:"url(#filter5_d_4378_11285)",children:[(0,r.jsx)("rect",{x:"55.6597",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),(0,r.jsx)("rect",{x:"55.7447",y:"9.74613",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),(0,r.jsx)("path",{d:"M53.6885 7.68945L71.126 25.127M71.126 7.68945L53.6885 25.127M59.5945 7.4082V25.4082M62.4069 7.4082V25.4082M65.2197 7.4082V25.4082M71.4072 13.5957L53.4072 13.5957M71.4072 16.4081L53.4072 16.4081M71.4072 19.2209L53.4072 19.2209M68.0322 16.4082C68.0322 19.5148 65.5138 22.0332 62.4072 22.0332C59.3006 22.0332 56.7822 19.5148 56.7822 16.4082C56.7822 13.3016 59.3006 10.7832 62.4072 10.7832C65.5138 10.7832 68.0322 13.3016 68.0322 16.4082ZM65.2197 16.4082C65.2197 17.9615 63.9605 19.2207 62.4072 19.2207C60.8539 19.2207 59.5947 17.9615 59.5947 16.4082C59.5947 14.8549 60.8539 13.5957 62.4072 13.5957C63.9605 13.5957 65.2197 14.8549 65.2197 16.4082Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),(0,r.jsx)("path",{d:"M60.2761 16.3467V18.4809C60.2761 18.7755 60.515 19.0144 60.8097 19.0144H64.011C64.3056 19.0144 64.5445 18.7755 64.5445 18.4809V16.3467",stroke:"#007BE5",strokeWidth:"0.533549",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M60.8088 14.6122C60.8088 14.2439 61.1074 13.9453 61.4758 13.9453V13.9453C61.9914 13.9453 62.4095 14.3633 62.4095 14.879V15.2792H61.4758C61.1074 15.2792 60.8088 14.9806 60.8088 14.6122V14.6122Z",stroke:"#007BE5",strokeWidth:"0.533549",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M64.0107 14.6122C64.0107 14.2439 63.7121 13.9453 63.3438 13.9453V13.9453C62.8281 13.9453 62.4101 14.3633 62.4101 14.879V15.2792H63.3438C63.7121 15.2792 64.0107 14.9806 64.0107 14.6122V14.6122Z",stroke:"#007BE5",strokeWidth:"0.533549",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M60.009 15.2803H64.811V16.3474H60.009V15.2803Z",stroke:"#007BE5",strokeWidth:"0.533549",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M62.4099 16.3467V19.0144",stroke:"#007BE5",strokeWidth:"0.533549",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,r.jsx)("g",{clipPath:"url(#clip6_4378_11285)",children:(0,r.jsxs)("g",{filter:"url(#filter6_d_4378_11285)",children:[(0,r.jsx)("rect",{x:"25.7114",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),(0,r.jsx)("rect",{x:"25.7964",y:"24.7979",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),(0,r.jsx)("path",{d:"M23.74 22.7412L41.1775 40.1787M41.1775 22.7412L23.74 40.1787M29.646 22.46V40.46M32.4584 22.46V40.46M35.2712 22.46V40.46M41.4587 28.6475L23.4587 28.6475M41.4587 31.4599L23.4587 31.4599M41.4587 34.2726L23.4587 34.2726M38.0837 31.46C38.0837 34.5666 35.5653 37.085 32.4587 37.085C29.3521 37.085 26.8337 34.5666 26.8337 31.46C26.8337 28.3534 29.3521 25.835 32.4587 25.835C35.5653 25.835 38.0837 28.3534 38.0837 31.46ZM35.2712 31.46C35.2712 33.0133 34.012 34.2725 32.4587 34.2725C30.9054 34.2725 29.6462 33.0133 29.6462 31.46C29.6462 29.9067 30.9054 28.6475 32.4587 28.6475C34.012 28.6475 35.2712 29.9067 35.2712 31.46Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),(0,r.jsx)("path",{d:"M32.3423 28.5566C31.3514 28.5566 30.6687 29.2395 30.6687 30.2303C30.6687 30.3656 30.6687 30.7798 30.6687 30.7882C30.6687 30.878 30.6233 30.9391 30.4682 31.0671C30.4506 31.0816 30.3768 31.145 30.3549 31.1631C30.0019 31.4549 29.8282 31.7282 29.8318 32.1829C29.8356 32.6426 30.2103 33.0144 30.6687 33.0197H31.5546C31.5546 33.0197 31.5055 33.1902 31.5055 33.2987C31.5055 33.7609 31.8801 34.1355 32.3423 34.1355C32.8045 34.1355 33.1792 33.7609 33.1792 33.2987C33.1792 33.1902 33.1323 33.0197 33.1323 33.0197H34.016C34.4734 33.0214 34.8534 32.6446 34.8528 32.1829C34.8523 31.7316 34.6782 31.4535 34.3298 31.1631C34.3069 31.1438 34.226 31.0822 34.2076 31.0671C34.0559 30.9405 34.016 30.8769 34.016 30.7882C34.016 30.4395 34.016 30.2303 34.016 30.2303C34.016 29.2395 33.3331 28.5566 32.3423 28.5566ZM32.3423 29.1145C33.0252 29.1145 33.4581 29.5474 33.4581 30.2303C33.4581 30.2303 33.4581 30.4395 33.4581 30.7882C33.4581 31.0844 33.5831 31.2713 33.8503 31.4942C33.8715 31.5118 33.961 31.5821 33.9811 31.5988C34.2149 31.7938 34.2946 31.9257 34.2949 32.1829C34.2952 32.3346 34.1652 32.4624 34.016 32.4618C33.9633 32.4616 33.1513 32.4616 32.3423 32.4618C31.5335 32.4621 30.7279 32.4624 30.6687 32.4618C30.513 32.4599 30.391 32.3377 30.3897 32.1829C30.3877 31.9263 30.4674 31.7941 30.7035 31.5988C30.7228 31.5829 30.8053 31.5109 30.8256 31.4942C31.097 31.2699 31.2266 31.0872 31.2266 30.7882C31.2266 30.7798 31.2266 30.3656 31.2266 30.2303C31.2266 29.5474 31.6596 29.1145 32.3423 29.1145ZM32.3423 33.0197C32.4963 33.0197 32.6213 33.1447 32.6213 33.2987C32.6213 33.4527 32.4963 33.5776 32.3423 33.5776C32.1884 33.5776 32.0634 33.4527 32.0634 33.2987C32.0634 33.1447 32.1884 33.0197 32.3423 33.0197Z",fill:"#007BE5"})]})}),(0,r.jsx)("g",{clipPath:"url(#clip7_4378_11285)",children:(0,r.jsxs)("g",{filter:"url(#filter7_d_4378_11285)",children:[(0,r.jsx)("rect",{x:"10.6597",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),(0,r.jsx)("rect",{x:"10.7447",y:"9.74613",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),(0,r.jsx)("path",{d:"M8.68848 7.68945L26.126 25.127M26.126 7.68945L8.68848 25.127M14.5945 7.4082V25.4082M17.4069 7.4082V25.4082M20.2197 7.4082V25.4082M26.4072 13.5957L8.40723 13.5957M26.4072 16.4081L8.40723 16.4081M26.4072 19.2209L8.40723 19.2209M23.0322 16.4082C23.0322 19.5148 20.5138 22.0332 17.4072 22.0332C14.3006 22.0332 11.7822 19.5148 11.7822 16.4082C11.7822 13.3016 14.3006 10.7832 17.4072 10.7832C20.5138 10.7832 23.0322 13.3016 23.0322 16.4082ZM20.2197 16.4082C20.2197 17.9615 18.9605 19.2207 17.4072 19.2207C15.8539 19.2207 14.5947 17.9615 14.5947 16.4082C14.5947 14.8549 15.8539 13.5957 17.4072 13.5957C18.9605 13.5957 20.2197 14.8549 20.2197 16.4082Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),(0,r.jsx)("path",{d:"M18.1308 16.0168L17.0145 17.1331L16.4564 16.5749M15.061 17.6354V16.143C15.061 15.9939 15.061 15.9193 15.0792 15.8499C15.0952 15.7884 15.1218 15.7302 15.1575 15.6776C15.1978 15.6183 15.2538 15.5691 15.366 15.4709L16.706 14.2984C16.914 14.1164 17.018 14.0253 17.1352 13.9907C17.2385 13.9601 17.3486 13.9601 17.4519 13.9907C17.5692 14.0254 17.6734 14.1165 17.8817 14.2988L19.2212 15.4709C19.3335 15.5691 19.3895 15.6183 19.4298 15.6776C19.4654 15.7302 19.4918 15.7884 19.5079 15.8499C19.526 15.9193 19.5262 15.9939 19.5262 16.143V17.6364C19.5262 17.9484 19.5262 18.1045 19.4654 18.2238C19.4119 18.3288 19.3263 18.4141 19.2212 18.4677C19.102 18.5284 18.946 18.5284 18.634 18.5284H15.9532C15.6412 18.5284 15.485 18.5284 15.3657 18.4677C15.2607 18.4141 15.1754 18.3288 15.1219 18.2238C15.061 18.1044 15.061 17.948 15.061 17.6354Z",stroke:"#007BE5",strokeWidth:"0.558837",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,r.jsx)("g",{clipPath:"url(#clip8_4378_11285)",children:(0,r.jsxs)("g",{filter:"url(#filter8_d_4378_11285)",children:[(0,r.jsx)("rect",{x:"10.6597",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"#E6E6E6",fillOpacity:"0.11"}),(0,r.jsx)("rect",{x:"10.7447",y:"24.7979",width:"13.3245",height:"13.3245",rx:"2.51011",stroke:"#CFE4F3",strokeWidth:"0.169989"}),(0,r.jsx)("path",{d:"M8.68823 22.7412L26.1257 40.1787M26.1257 22.7412L8.68823 40.1787M14.5943 22.46V40.46M17.4066 22.46V40.46M20.2194 22.46V40.46M26.407 28.6475L8.40698 28.6475M26.407 31.4599L8.40698 31.4599M26.407 34.2726L8.40698 34.2726M23.032 31.46C23.032 34.5666 20.5136 37.085 17.407 37.085C14.3004 37.085 11.782 34.5666 11.782 31.46C11.782 28.3534 14.3004 25.835 17.407 25.835C20.5136 25.835 23.032 28.3534 23.032 31.46ZM20.2195 31.46C20.2195 33.0133 18.9603 34.2725 17.407 34.2725C15.8537 34.2725 14.5945 33.0133 14.5945 31.46C14.5945 29.9067 15.8537 28.6475 17.407 28.6475C18.9603 28.6475 20.2195 29.9067 20.2195 31.46Z",stroke:"white",strokeOpacity:"0.6",strokeWidth:"0.113372"}),(0,r.jsx)("path",{d:"M17.2926 28.5586C15.752 28.5586 14.5032 29.8074 14.5032 31.348C14.5032 32.8886 15.752 34.1374 17.2926 34.1374C18.8332 34.1374 20.082 32.8886 20.082 31.348C20.082 29.8074 18.8332 28.5586 17.2926 28.5586ZM17.2926 29.1165C17.6608 29.1165 18.0653 29.9622 18.1269 31.0682L16.4616 31.0716C16.523 29.9656 16.9244 29.1165 17.2926 29.1165ZM16.3076 29.3405C16.0678 29.8071 15.9394 30.4258 15.9085 31.0696L15.0772 31.0671C15.1604 30.307 15.6722 29.6693 16.3076 29.3405ZM18.2789 29.3419C18.9144 29.6707 19.4131 30.2905 19.5093 31.0716L18.6784 31.0691C18.6522 30.3996 18.504 29.811 18.2789 29.3419ZM15.0789 31.6281L15.9099 31.6211C15.9408 32.2649 16.07 32.8942 16.3088 33.3558C15.6415 33.0214 15.1749 32.3667 15.0789 31.6281ZM16.4572 31.6303L18.1224 31.6267C18.0611 32.7324 17.6608 33.5795 17.2926 33.5795C16.9244 33.5795 16.5185 32.7363 16.4572 31.6303ZM18.6798 31.6275L19.5071 31.625C19.4112 32.3639 18.9448 33.0239 18.2778 33.3528C18.5255 32.8406 18.6488 32.2713 18.6798 31.6275Z",fill:"#007BE5"})]})})]}),(0,r.jsxs)("defs",{children:[(0,r.jsx)("pattern",{id:"pattern0_4378_11285",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:(0,r.jsx)("use",{xlinkHref:"#image0_4378_11285",transform:"matrix(0.00083331 0 0 0.00145829 0 -0.000923572)"})}),(0,r.jsx)("pattern",{id:"pattern1_4378_11285",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:(0,r.jsx)("use",{xlinkHref:"#image1_4378_11285",transform:"matrix(0.000916004 0 0 0.00166667 -0.0496025 0)"})}),(0,r.jsxs)("filter",{id:"filter0_dd_4378_11285",x:"4",y:"4",width:"72",height:"42",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feOffset",{dy:"1"}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"1.5"}),(0,r.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),(0,r.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feOffset",{}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"0.25"}),(0,r.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),(0,r.jsx)("feBlend",{mode:"normal",in2:"effect1_dropShadow_4378_11285",result:"effect2_dropShadow_4378_11285"}),(0,r.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_4378_11285",result:"shape"})]}),(0,r.jsx)("pattern",{id:"pattern2_4378_11285",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:(0,r.jsx)("use",{xlinkHref:"#image0_4378_11285",transform:"matrix(0.00083331 0 0 0.00145829 0 -0.000923572)"})}),(0,r.jsx)("pattern",{id:"pattern3_4378_11285",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:(0,r.jsx)("use",{xlinkHref:"#image1_4378_11285",transform:"matrix(0.000909091 0 0 0.00166667 -0.0454545 0)"})}),(0,r.jsxs)("filter",{id:"filter1_d_4378_11285",x:"4.51214",y:"-11.5379",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),(0,r.jsx)("feOffset",{}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"13.5991"}),(0,r.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),(0,r.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),(0,r.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})]}),(0,r.jsxs)("filter",{id:"filter2_d_4378_11285",x:"19.4091",y:"-11.5379",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),(0,r.jsx)("feOffset",{}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"13.5991"}),(0,r.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),(0,r.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),(0,r.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})]}),(0,r.jsxs)("filter",{id:"filter3_d_4378_11285",x:"-10.5394",y:"-26.5897",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),(0,r.jsx)("feOffset",{}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"13.5991"}),(0,r.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),(0,r.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),(0,r.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})]}),(0,r.jsxs)("filter",{id:"filter4_d_4378_11285",x:"4.51239",y:"-26.5897",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),(0,r.jsx)("feOffset",{}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"13.5991"}),(0,r.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),(0,r.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),(0,r.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})]}),(0,r.jsxs)("filter",{id:"filter5_d_4378_11285",x:"19.4094",y:"-26.5897",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),(0,r.jsx)("feOffset",{}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"13.5991"}),(0,r.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),(0,r.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),(0,r.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})]}),(0,r.jsxs)("filter",{id:"filter6_d_4378_11285",x:"-10.5391",y:"-11.5379",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),(0,r.jsx)("feOffset",{}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"13.5991"}),(0,r.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),(0,r.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),(0,r.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})]}),(0,r.jsxs)("filter",{id:"filter7_d_4378_11285",x:"-25.5906",y:"-26.5897",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),(0,r.jsx)("feOffset",{}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"13.5991"}),(0,r.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),(0,r.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),(0,r.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})]}),(0,r.jsxs)("filter",{id:"filter8_d_4378_11285",x:"-25.5909",y:"-11.5379",width:"85.9957",height:"85.9957",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feMorphology",{radius:"6.79957",operator:"dilate",in:"SourceAlpha",result:"effect1_dropShadow_4378_11285"}),(0,r.jsx)("feOffset",{}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"13.5991"}),(0,r.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.488656 0 0 0 0 0.788409 0 0 0 0 1 0 0 0 1 0"}),(0,r.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11285"}),(0,r.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4378_11285",result:"shape"})]}),(0,r.jsx)("clipPath",{id:"clip0_4378_11285",children:(0,r.jsx)("rect",{x:"40.7627",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})}),(0,r.jsx)("clipPath",{id:"clip1_4378_11285",children:(0,r.jsx)("rect",{x:"55.6597",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})}),(0,r.jsx)("clipPath",{id:"clip2_4378_11285",children:(0,r.jsx)("rect",{x:"25.7114",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})}),(0,r.jsx)("clipPath",{id:"clip3_4378_11285",children:(0,r.jsx)("rect",{x:"40.7627",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})}),(0,r.jsx)("clipPath",{id:"clip4_4378_11285",children:(0,r.jsx)("rect",{width:"7.25582",height:"7.25582",fill:"white",transform:"translate(44.0486 12.9473)"})}),(0,r.jsx)("clipPath",{id:"clip5_4378_11285",children:(0,r.jsx)("rect",{x:"55.6597",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})}),(0,r.jsx)("clipPath",{id:"clip6_4378_11285",children:(0,r.jsx)("rect",{x:"25.7114",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})}),(0,r.jsx)("clipPath",{id:"clip7_4378_11285",children:(0,r.jsx)("rect",{x:"10.6597",y:"9.66113",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})}),(0,r.jsx)("clipPath",{id:"clip8_4378_11285",children:(0,r.jsx)("rect",{x:"10.6597",y:"24.7129",width:"13.4945",height:"13.4945",rx:"2.5951",fill:"white"})})]})]})}function lC(){return(0,r.jsxs)("svg",{width:"74px",height:"45px",viewBox:"0 0 76 46",fill:"none",children:[(0,r.jsx)("rect",{width:"66",height:"36.2738",rx:"3",transform:"matrix(0.998629 -0.052336 -0.052336 -0.998629 1.89844 39.6787)",fill:"url(#pattern0_4378_11342)"}),(0,r.jsx)("rect",{width:"66",height:"36.2738",rx:"3",transform:"matrix(0.998629 -0.052336 -0.052336 -0.998629 1.89844 39.6787)",fill:"url(#pattern1_4378_11342)"}),(0,r.jsx)("rect",{width:"66",height:"36.2738",rx:"3",transform:"matrix(0.998629 -0.052336 -0.052336 -0.998629 1.89844 39.6787)",fill:"#F8D4C4"}),(0,r.jsx)("g",{filter:"url(#filter0_dd_4378_11342)",children:(0,r.jsxs)("g",{clipPath:"url(#clip0_4378_11342)",children:[(0,r.jsx)("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 72.9983 6)",fill:"url(#pattern2_4378_11342)"}),(0,r.jsx)("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 72.9983 6)",fill:"url(#pattern3_4378_11342)"}),(0,r.jsx)("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 72.9983 6)",fill:"#FFFBEB"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.9114 27.9895C23.8542 28.1061 23.6358 28.1415 23.4926 28.1662C22.3258 28.3713 17.2683 28.4774 16.7815 28.0637C16.3556 27.7102 16.5918 21.933 17.007 21.6996C17.5439 21.385 23.3996 21.3249 23.8076 21.6466C24.1047 21.8906 24.2908 27.1727 23.9114 27.9895ZM23.7181 21.7208C23.3924 21.4521 17.6728 21.6537 17.1573 21.9012C16.8817 22.6295 16.7028 27.2046 16.9712 27.8551C17.4079 28.1521 22.7589 28.1415 23.6931 27.8551C24.0582 26.9889 23.9222 21.8906 23.7181 21.7208ZM38.1462 21.1021C38.2881 21.342 38.4798 21.5495 38.7086 21.7109C38.9375 21.8724 39.1984 21.9842 39.4741 22.0391C39.4825 22.0369 39.4914 22.0367 39.4999 22.0385C39.5085 22.0402 39.5165 22.0439 39.5234 22.0492C39.5303 22.0545 39.5359 22.0612 39.5397 22.069C39.5436 22.0767 39.5456 22.0852 39.5456 22.0939C39.5456 22.1025 39.5436 22.111 39.5397 22.1187C39.5359 22.1265 39.5303 22.1333 39.5234 22.1385C39.5165 22.1438 39.5085 22.1475 39.4999 22.1492C39.4914 22.151 39.4825 22.1508 39.4741 22.1487C38.8441 22.3113 38.0245 21.7456 38.0245 21.1233C38.0216 21.1074 38.0253 21.091 38.0347 21.0777C38.0441 21.0645 38.0585 21.0554 38.0746 21.0526C38.0907 21.0498 38.1073 21.0534 38.1208 21.0627C38.1342 21.072 38.1433 21.0862 38.1462 21.1021ZM41.0704 17.9378V18.2913C41.0704 18.3382 41.0516 18.3832 41.018 18.4163C40.9845 18.4495 40.9389 18.4681 40.8915 18.4681C40.8443 18.4672 40.7993 18.4483 40.7659 18.4153C40.7326 18.3824 40.7134 18.3379 40.7125 18.2913V17.9378C40.7125 17.8909 40.7314 17.8459 40.7649 17.8128C40.7985 17.7796 40.844 17.761 40.8915 17.761C40.9389 17.761 40.9845 17.7796 41.018 17.8128C41.0516 17.8459 41.0704 17.8909 41.0704 17.9378ZM37.5019 18.2736C37.5019 18.3205 37.4831 18.3655 37.4495 18.3986C37.4159 18.4318 37.3704 18.4504 37.3229 18.4504C37.2755 18.4504 37.23 18.4318 37.1964 18.3986C37.1628 18.3655 37.144 18.3205 37.144 18.2736V17.8352C37.144 17.7883 37.1628 17.7434 37.1964 17.7102C37.23 17.6771 37.2755 17.6584 37.3229 17.6584C37.3704 17.6584 37.4159 17.6771 37.4495 17.7102C37.4831 17.7434 37.5019 17.7883 37.5019 17.8352C37.5162 17.9873 37.5019 18.164 37.5019 18.2736Z",fill:"black"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.7486 43.8508C16.7721 43.8114 16.8054 43.7785 16.8453 43.7553C17.1531 43.6068 18.8282 43.6811 19.1754 43.6952C19.1145 34.4214 24.0611 28.6371 31.2411 26.9789C32.5583 26.6749 32.5619 26.6536 32.5976 26.6749L32.841 26.0137C32.1538 25.9925 31.5919 25.4692 30.9619 25.5753C30.4859 25.6531 30.2461 26.0703 29.7772 26.2471C28.9826 26.544 27.5688 26.0879 27.1357 25.3419C26.9138 24.953 27.1106 24.55 26.971 24.2813C26.7205 24.0656 26.0082 23.7191 25.8042 23.4681C25.3854 22.9519 25.3675 21.7957 25.5572 21.1699C25.8997 20.4618 26.3662 19.819 26.9352 19.2713C27.5543 18.6821 28.1031 18.025 28.571 17.3126C29.1472 16.1777 29.1687 14.6079 29.6447 13.4234C30.1694 12.354 30.9817 11.4477 31.9928 10.8036C32.9802 10.1146 34.1708 9.76773 35.3787 9.81713C36.5062 9.88784 36.9465 10.3616 37.4726 10.5243C37.9988 10.6869 38.1097 10.5243 38.9652 10.8955C39.3048 11.0999 39.6073 11.3593 39.86 11.6627C39.9674 11.7759 39.9602 11.7829 40.1427 11.79C40.3393 11.7754 40.5367 11.7754 40.7333 11.79C41.0685 11.8635 41.389 11.9913 41.6818 12.1683C43.6755 13.3492 43.1386 15.7251 43.8902 17.4717C44.4021 18.6597 45.8266 19.8017 45.9483 21.0427C45.9914 21.6133 45.8672 22.1841 45.5904 22.6867C44.7206 24.1964 43.4715 23.012 42.8236 23.9348C42.6196 24.2247 42.4657 24.5075 42.0863 24.5641C41.6031 24.6277 40.9445 24.2494 40.5508 23.9701C40.4681 24.0654 40.3744 24.1508 40.2716 24.2247C39.9227 24.457 39.548 24.6492 39.1549 24.7975L40.064 26.0526C41.7677 25.8617 44.3842 26.4062 46.07 26.9188C46.1309 26.4945 46.6606 22.9908 47.0615 22.8211C47.6163 22.5806 53.4397 23.2489 53.7941 23.6272C54.0554 23.903 53.5865 29.1533 53.0782 29.9382C53.0031 30.0584 52.7454 30.062 52.6022 30.0655C53.4397 30.6312 54.2487 31.204 54.5386 31.4126C54.7641 30.6418 55.9488 26.5653 56.3855 25.897C56.5108 25.7026 56.6253 25.7061 57.2016 25.897C57.53 24.2782 57.9458 22.6778 58.4471 21.1028C58.2592 20.7975 58.109 20.4711 57.9997 20.1305C57.8663 19.591 57.8468 19.0301 57.9425 18.4829C57.5058 18.6278 54.8965 19.335 54.4741 19.1299C54.3607 19.0499 54.2766 18.9358 54.2343 18.8046C53.7726 17.8076 52.9816 14.4028 52.9207 13.3244C52.8957 13.1864 52.9197 13.044 52.9888 12.9214C53.4075 12.49 59.0413 10.8884 59.5173 11.1006C59.8073 11.2314 60.5911 13.7735 60.6734 14.074C61.3571 16.3403 61.0099 15.8418 61.3893 15.9726C61.826 16.1246 62.2018 17.0333 62.3557 17.454C62.5096 17.8748 62.6707 18.4405 62.4881 18.7728C62.5623 18.908 62.5921 19.0625 62.5735 19.2152C62.5549 19.3678 62.4888 19.5109 62.3843 19.6249C62.4982 19.7502 62.5724 19.9057 62.5978 20.0722C62.6232 20.2387 62.5988 20.4089 62.5275 20.5618C62.4237 20.8836 61.7759 21.0957 61.4537 21.1876C61.7081 21.8646 61.9196 22.5566 62.0873 23.2595C62.3728 24.3502 62.601 25.4548 62.7709 26.5688C62.8768 27.1101 62.9117 27.6627 62.8747 28.2128L63.4617 28.4745C63.4843 28.4847 63.5034 28.5012 63.5167 28.5219C63.5301 28.5426 63.5371 28.5666 63.5369 28.5912C63.5369 28.5912 63.4259 32.8763 61.9978 36.4366C60.2726 40.7465 57.4342 42.1891 53.114 40.5768C53.0751 40.9151 52.9908 41.2469 52.8635 41.5633C52.799 41.6764 52.5807 41.6976 52.434 41.7118C51.1633 41.7529 49.8913 41.7139 48.6256 41.5951L47.5518 48.3127C47.8418 49.14 51.1311 58.5659 51.0846 59.4428C51.0846 59.5347 51.0488 59.6054 50.8949 59.6761C49.9464 60.111 40.9588 61.2707 40.6188 60.3019C40.5329 60.065 40.3253 58.5553 40.2859 58.269L35.2284 57.7174L30.4071 58.0321C30.3552 58.5089 30.2691 58.9815 30.1494 59.4463C30.1065 59.5524 30.0564 59.609 29.9311 59.5983C29.455 59.5524 26.9173 59.0998 26.2158 58.969C23.5242 58.467 23.585 58.4245 23.6638 58.1629C23.8535 57.5442 25.6145 52.7181 26.3017 50.4659C25.2964 50.5719 24.2825 50.5719 23.2772 50.4659C23.2663 50.5042 23.2459 50.5391 23.2178 50.5676C23.1896 50.596 23.1547 50.617 23.1162 50.6285C22.4612 50.8654 16.609 50.5366 16.1294 50.0628C15.6963 49.6845 16.4229 44.3882 16.7486 43.8508ZM59.5102 11.2526C59.4708 11.1925 59.4851 11.1677 59.1702 11.2137C57.8566 11.3975 53.5614 12.7658 53.1892 13.0876C53.1176 13.8972 54.1806 18.3415 54.5994 18.8789C54.9037 18.9814 56.9224 18.4723 57.2338 18.391C59.6032 17.7793 59.5102 17.6838 60.0507 17.5601C60.3298 17.4646 60.3585 17.4611 60.3513 17.4222C60.3504 17.4135 60.3463 17.4053 60.3396 17.3995C60.333 17.3936 60.3244 17.3903 60.3155 17.3904C59.9934 17.3904 59.1308 17.3656 58.9196 17.1181C58.873 17.0678 58.8382 17.0079 58.8177 16.9428C58.7973 16.8776 58.7916 16.8088 58.8012 16.7413C58.8108 16.6737 58.8353 16.6091 58.8731 16.552C58.9109 16.4949 58.961 16.4468 59.0198 16.411C59.4798 16.229 59.9606 16.1031 60.4515 16.0362C60.5983 16.008 60.7772 15.9585 60.9562 15.9373C60.7092 14.8341 59.8932 11.8395 59.5102 11.2526ZM62.5848 28.0962V27.5482C62.5526 26.8764 62.2268 25.1121 62.1302 24.6277C61.9727 23.8428 61.9369 23.6661 61.4788 21.9619C61.4788 21.9159 61.2032 21.1558 61.2032 21.1558C61.1982 21.1426 61.1962 21.1285 61.1972 21.1145C61.1982 21.1004 61.2022 21.0868 61.209 21.0744C61.2158 21.062 61.2252 21.0512 61.2365 21.0427C61.2478 21.0342 61.2609 21.0281 61.2748 21.025C61.3141 21.025 62.2447 20.7987 62.3485 20.5052C62.4523 20.2118 62.4738 19.8582 62.2125 19.7027C62.2029 19.6958 62.1951 19.6867 62.1897 19.6763C62.1843 19.6658 62.1815 19.6543 62.1815 19.6426C62.1815 19.6308 62.1843 19.6193 62.1897 19.6088C62.1951 19.5984 62.2029 19.5893 62.2125 19.5825C62.3269 19.4897 62.4039 19.3595 62.4295 19.2155C62.4551 19.0716 62.4277 18.9233 62.3521 18.7976C62.2698 18.6314 62.7101 18.7127 62.1875 17.5212C62.055 17.2277 61.6076 16.3262 61.3034 16.2272C61.034 16.2012 60.7621 16.2313 60.5052 16.3156C60.0566 16.3854 59.6156 16.4966 59.188 16.6479C59.1609 16.6623 59.1374 16.6828 59.1195 16.7076C59.1016 16.7325 59.0898 16.7611 59.085 16.7912C59.0801 16.8213 59.0824 16.8521 59.0916 16.8813C59.1008 16.9104 59.1166 16.937 59.1379 16.959C59.2952 17.0471 59.4675 17.1058 59.6462 17.1323C60.7737 17.3515 60.5732 17.1075 60.72 17.4858C61.1507 17.4609 61.5813 17.5372 61.9763 17.7086C62.1302 17.7404 62.0658 17.8394 61.9548 17.8217C61.4753 17.6665 60.9624 17.6409 60.4694 17.7475C60.1834 17.7991 59.9038 17.8809 59.6355 17.9914C59.3921 18.0891 59.176 18.2431 59.0055 18.4405C58.9751 18.5153 58.9637 18.5963 58.9724 18.6765C58.9812 18.7566 59.0097 18.8334 59.0556 18.9001C59.1415 19.0309 59.5567 18.9425 59.7142 18.9001C59.929 18.8364 60.1545 18.7834 60.3656 18.7162C60.6627 18.6243 60.6305 18.5996 60.7236 18.6066C61.0518 18.6526 61.3729 18.7393 61.6792 18.8647C61.6879 18.8657 61.6962 18.8686 61.7036 18.8733C61.7109 18.8779 61.7171 18.8841 61.7216 18.8915C61.7262 18.8989 61.7289 18.9071 61.7297 18.9157C61.7305 18.9243 61.7293 18.9329 61.7263 18.941C61.7232 18.949 61.7183 18.9563 61.7119 18.9622C61.7055 18.9681 61.6979 18.9725 61.6896 18.975C61.6812 18.9775 61.6724 18.9781 61.6638 18.9768C61.6552 18.9755 61.647 18.9722 61.6398 18.9673C61.3657 18.8909 61.0855 18.8377 60.8023 18.8082C60.6412 18.8082 60.745 18.8082 60.3406 18.9673C60.158 19.0344 59.9826 19.0875 59.7894 19.1511C59.665 19.1932 59.5367 19.2228 59.4064 19.2395C59.1773 19.4516 59.0127 19.9466 59.3205 20.035C59.4414 20.0556 59.5658 20.0409 59.6784 19.9926C60.4981 19.7274 59.9433 19.5365 61.7222 19.8971C61.7367 19.8989 61.75 19.9061 61.7594 19.9173C61.7687 19.9285 61.7733 19.9428 61.7723 19.9572C61.7723 20.0492 61.7114 19.9926 60.7271 19.9572C60.6081 19.9454 60.4882 19.9454 60.3692 19.9572C60.0614 20.1128 59.6032 20.378 59.2489 20.2754C58.8158 20.1375 58.8301 19.6638 59.1093 19.3173C59.2095 19.1971 59.2203 19.2324 59.1344 19.2183C59.0715 19.2116 59.0108 19.1921 58.956 19.161C58.9012 19.13 58.8534 19.0881 58.8158 19.038C58.731 18.9225 58.6836 18.7843 58.6798 18.6417C58.676 18.4991 58.7159 18.3587 58.7943 18.2389L58.193 18.4157C58.074 18.9633 58.0838 19.5306 58.2216 20.0739C58.26 20.2065 58.3103 20.3355 58.372 20.4593C58.6333 21.0038 58.7299 21.0214 58.6977 21.124C58.2003 22.7215 57.7905 24.3443 57.47 25.9854C58.8194 26.4521 61.2927 27.5269 62.5848 28.0962ZM34.262 52.665C32.7301 52.7287 29.4371 52.8454 27.9267 52.7994C28.0305 53.2449 28.0949 53.5277 28.1128 53.5914C28.8323 53.5914 33.4817 52.7959 34.262 52.665ZM27.3469 52.4847C28.3061 52.7075 40.7584 52.2266 41.825 51.7776C41.714 50.9856 40.6689 46.5343 40.4577 45.6257C39.5183 45.9097 38.541 46.0528 37.5585 46.0499C37.2006 46.2338 36.61 46.552 36.2557 46.7182C36.295 47.0187 36.3917 47.7293 36.1769 47.9415C35.9622 48.1536 31.0192 49.9462 26.6847 50.4482C26.8595 51.1408 27.0808 51.8211 27.3469 52.4847ZM40.5723 43.9745C40.7371 43.9251 40.8895 43.842 41.0197 43.7306C41.1127 43.6316 41.0805 43.3311 41.0197 43.1896C40.9864 43.1209 40.9273 43.0676 40.855 43.0411C40.7676 43.0036 40.6745 42.9809 40.5794 42.974C40.551 42.9733 40.5234 42.9641 40.5005 42.9476C40.4775 42.931 40.4602 42.9079 40.4508 42.8814C40.4415 42.8549 40.4406 42.8262 40.4482 42.7991C40.4558 42.7721 40.4716 42.7479 40.4935 42.73C40.7029 42.5558 40.8487 42.3186 40.9087 42.0547C40.9087 41.8603 40.8335 41.6587 40.5186 41.4819C40.1606 41.5102 39.0869 42.3871 38.5893 41.8815C38.0918 41.3759 38.6788 40.1915 38.124 40.0925C37.5693 39.9935 37.2901 41.641 37.1934 41.8214C36.8713 42.4401 36.0051 42.882 35.5112 43.3912C35.8095 44.445 36.0484 45.5144 36.227 46.5944C36.9429 46.2161 37.4726 45.8873 37.5263 45.8873C38.2744 45.8625 40.2823 45.6575 40.8049 45.1307C40.8978 45.0598 40.9615 44.9578 40.9839 44.844C41.0063 44.7301 40.9859 44.6121 40.9266 44.512C40.8885 44.4455 40.8372 44.3874 40.7756 44.3412C40.7141 44.295 40.6437 44.2617 40.5687 44.2432C40.538 44.2358 40.5108 44.2184 40.4915 44.1937C40.4721 44.1691 40.4618 44.1387 40.4622 44.1075C40.4627 44.0763 40.4738 44.0462 40.4937 44.022C40.5137 43.9979 40.5414 43.9811 40.5723 43.9745ZM36.585 32.201C37.2499 32.1382 37.9179 32.1122 38.5858 32.1232C38.6717 32.1232 38.7433 32.1656 38.7683 32.247C38.8292 32.4732 39.8421 39.8273 39.8922 40.1879C40.107 36.6523 40.3289 32.9293 40.4935 30.1999C39.2479 32.1621 39.1406 32.3566 38.9437 32.2187C38.28 31.6795 37.6523 31.0985 37.0646 30.4792C36.9572 30.8716 36.7854 31.5116 36.585 32.201ZM33.3099 30.96C33.5533 30.6064 33.7931 30.2529 33.8826 30.1221L32.7265 27.2476L33.3099 30.96ZM32.476 26.9011C31.1222 27.1769 29.8022 27.5953 28.5388 28.1492C28.5924 28.3154 29.2832 30.4014 30.1101 32.8904C30.4895 32.8445 32.6621 32.5828 33.3314 32.5121L32.476 26.9011ZM33.9399 30.5145L33.3743 31.356L33.5533 32.4874L34.1081 32.4167C34.0258 31.6494 33.9685 30.9211 33.9399 30.5145ZM24.0575 34.2446C24.062 34.7049 24.1075 35.1639 24.1935 35.6164C25.4212 35.3053 36.1304 32.7031 37.2185 33.3147C37.7625 33.6258 39.5522 40.8809 39.724 41.535L39.8528 41.4713C39.2873 37.5433 38.5357 32.3919 38.5357 32.3778C37.3151 32.2399 25.5572 33.5551 24.0575 34.2446ZM30.3033 41.6375C31.1051 41.5845 34.2871 41.4289 34.9564 41.8673C35.0602 41.938 35.1031 41.9522 35.4718 43.2603C35.9478 42.7618 36.746 42.2916 37.0145 41.7365C37.1362 41.4925 37.333 39.7106 38.167 39.8485C39.2909 40.0359 37.8556 42.3234 39.5164 41.6163C39.409 41.1673 37.648 33.6789 37.1576 33.4031C36.1196 32.8197 24.7984 35.6659 23.3667 36.0654C23.449 36.9281 24.5013 41.5314 24.6946 42.3729C26.5483 42.0211 28.421 41.7755 30.3033 41.6375ZM35.8154 16.906C35.615 17.0404 35.6221 17.3621 35.6579 17.5954C35.9085 19.1759 37.512 20.134 38.6251 18.6208C38.8793 18.2672 39.0761 17.1429 38.9043 16.8954C38.7898 16.7504 37.8663 16.7434 37.6802 16.7434C37.3366 16.7469 35.9944 16.7999 35.8297 16.906H35.8154ZM40.0783 17.1606C40.0783 17.8253 40.3038 18.9284 40.9016 19.2466C41.8644 19.7416 42.8415 18.9567 42.8666 17.9349C42.9033 17.5618 42.8852 17.1855 42.8129 16.8176L42.7771 16.7999C42.8344 16.7009 40.3181 16.6691 40.0926 16.8919C40.085 16.9813 40.085 17.0712 40.0926 17.1606H40.0783ZM38.8327 24.8576C38.2135 25.0343 37.2149 24.9495 36.7353 24.4651C36.7252 24.4546 36.7196 24.4407 36.7196 24.4262C36.7196 24.4118 36.7252 24.3978 36.7353 24.3873C36.8176 24.2883 36.7353 24.4793 37.6659 24.6171C38.5965 24.755 39.1585 24.6171 40.0998 24.0126C40.5325 23.6199 40.8565 23.1246 41.0411 22.5736C41.4265 21.641 41.6679 20.6566 41.757 19.6532C41.4201 19.7077 41.0744 19.6518 40.7727 19.4941C40.4798 19.3249 40.2529 19.0634 40.1284 18.7516C40.2492 19.1252 40.3484 19.5053 40.4255 19.89C40.4423 19.9393 40.4448 19.9922 40.4328 20.0428C40.4208 20.0934 40.3947 20.1397 40.3575 20.1764C40.11 20.3259 39.8186 20.3882 39.5307 20.3532C39.5222 20.3554 39.5134 20.3556 39.5048 20.3538C39.4963 20.352 39.4883 20.3484 39.4814 20.3431C39.4745 20.3378 39.4689 20.331 39.4651 20.3233C39.4612 20.3155 39.4592 20.307 39.4592 20.2984C39.4592 20.2898 39.4612 20.2813 39.4651 20.2735C39.4689 20.2658 39.4745 20.259 39.4814 20.2537C39.4883 20.2484 39.4963 20.2448 39.5048 20.243C39.5134 20.2413 39.5222 20.2415 39.5307 20.2436C39.743 20.2203 39.948 20.1528 40.132 20.0456C40.2143 19.989 40.1785 20.0244 40.1535 19.9077C40.1284 19.7911 39.6631 18.1046 39.6381 17.9985C39.5271 17.9985 39.1048 17.9419 39.1048 17.8394C39.1048 17.7369 39.4412 17.7086 39.5665 17.7157C39.5665 17.6697 39.545 17.6308 39.5343 17.5954C39.5286 17.5814 39.5288 17.5657 39.5348 17.5517C39.5409 17.5378 39.5522 17.5268 39.5665 17.5212C39.5807 17.5156 39.5966 17.5158 39.6107 17.5217C39.6248 17.5277 39.636 17.539 39.6416 17.553C39.7669 17.7934 39.681 17.705 39.8492 17.7475C39.7847 17.4206 39.7847 17.0844 39.8492 16.7575C40.0533 16.4464 41.281 16.5171 41.6818 16.5418C41.4778 15.3574 40.6832 14.774 40.1964 13.8265C40.0601 13.6066 39.8783 13.4174 39.6631 13.2714C39.5557 13.2431 39.3446 13.5083 39.2157 13.5719C39.0869 13.6356 38.9652 13.9856 38.8578 14.1058C38.5202 14.4855 38.1311 14.8175 37.7017 15.0922C37.3438 15.3433 36.7854 15.3822 36.542 15.7039C36.4392 15.9775 36.3894 16.2677 36.3953 16.5595C36.857 16.5312 38.7826 16.5029 39.0117 16.8282C39.2193 17.0899 39.1298 18.2849 38.8256 18.7445C38.0596 19.89 36.882 19.9608 35.9622 18.9284C35.8633 18.8065 35.7792 18.6736 35.7116 18.5324C35.0244 19.5931 34.4839 20.2259 34.4589 21.4705C34.4302 23.0473 34.8812 25.6601 33.1524 25.989L32.8554 26.7986C34.2871 30.3554 34.2119 30.1327 34.2119 30.168C34.2119 30.2034 34.2799 31.2287 34.4052 32.4025C35.0924 32.3318 35.7331 32.2717 36.3022 32.2257C36.3451 32.0808 36.8785 30.2069 36.8677 30.168C36.814 29.9913 37.0825 29.6448 37.2901 29.3372C38.0686 28.2238 38.9186 27.1609 39.8349 26.1551L38.8327 24.8576ZM40.0926 26.2506C40.0318 26.3425 37.4547 29.1427 37.1397 30.1716C37.7188 30.8056 38.3445 31.3965 39.0117 31.9394C39.2515 31.6282 39.8994 30.6029 40.515 29.6448C40.6259 27.7956 40.7011 26.5087 40.719 26.24C40.5186 26.2258 40.2931 26.2364 40.107 26.2506H40.0926ZM52.8742 29.7862C53.2823 29.0791 53.8478 24.4828 53.7153 23.7757C53.7153 23.712 53.7153 23.6908 53.4147 23.6095C52.1333 23.2807 47.6377 22.9024 47.1653 23.0615C46.8074 23.7509 46.0235 28.2517 46.2096 28.9447C46.5747 29.2346 51.8219 29.9665 52.8885 29.7862H52.8742ZM52.6237 41.4183C53.0353 40.6193 53.3395 35.4962 53.1355 35.3017C52.8313 35.0118 47.1187 34.7643 46.5783 34.9729C46.2204 35.7154 45.7121 40.2763 45.9233 40.895C46.4101 41.2557 51.779 41.6092 52.638 41.4183H52.6237ZM44.4522 35.4926C44.1945 35.4255 42.3977 34.9729 42.1829 34.8456C42.029 34.7572 41.8536 35.0436 44.8638 26.8835C44.5059 26.5582 41.3776 26.141 40.8837 26.293C40.8837 26.4875 40.4148 34.7396 40.0461 41.3617C40.2215 41.2769 40.4756 41.1461 40.6367 41.2345C41.3096 41.588 41.3525 42.1749 40.855 42.7477C40.9479 42.7702 41.0342 42.8139 41.107 42.8753C41.1797 42.9367 41.2368 43.0141 41.2738 43.1012C41.3312 43.234 41.3556 43.3783 41.345 43.5222C41.3344 43.6661 41.2891 43.8055 41.2129 43.9286C41.1295 44.0075 41.0341 44.0731 40.9302 44.123C41.0371 44.1938 41.1215 44.2931 41.1736 44.4094C41.2205 44.5096 41.2484 44.6175 41.2559 44.7276L44.4522 35.4926ZM35.5434 57.4947L40.2179 58.0073C40.1964 57.8376 39.6703 53.7399 39.5021 52.3504C38.5285 52.4352 37.3545 52.5095 36.0982 52.5766C35.8906 55.1258 35.5255 56.8865 35.5577 57.4947H35.5434ZM35.2964 57.4664C35.2463 56.6603 35.9192 52.6191 35.9228 52.5837L35.5649 52.6014C34.3479 52.8241 31.2125 53.3722 30.8724 53.4287C30.7579 54.5672 30.4716 57.2189 30.4036 57.7634C35.7402 57.424 35.164 57.4522 35.3143 57.4664H35.2964ZM16.3048 49.9002C16.6627 50.183 21.9207 50.6568 23.0052 50.4235C23.424 49.6209 23.7211 44.5013 23.517 44.3069C23.2092 44.0134 17.4967 43.773 16.9634 43.9781C16.6269 44.717 16.1079 49.2956 16.3191 49.9002H16.3048Z",fill:"black"})]})}),(0,r.jsxs)("defs",{children:[(0,r.jsx)("pattern",{id:"pattern0_4378_11342",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:(0,r.jsx)("use",{xlinkHref:"#image0_4378_11342",transform:"matrix(0.00083331 0 0 0.00145829 0 -0.000923572)"})}),(0,r.jsx)("pattern",{id:"pattern1_4378_11342",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:(0,r.jsx)("use",{xlinkHref:"#image1_4378_11342",transform:"matrix(0.000916004 0 0 0.00166667 -0.0496025 0)"})}),(0,r.jsxs)("filter",{id:"filter0_dd_4378_11342",x:"3.99829",y:"4",width:"72",height:"42",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feOffset",{dy:"1"}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"1.5"}),(0,r.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),(0,r.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4378_11342"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feOffset",{}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"0.25"}),(0,r.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),(0,r.jsx)("feBlend",{mode:"normal",in2:"effect1_dropShadow_4378_11342",result:"effect2_dropShadow_4378_11342"}),(0,r.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_4378_11342",result:"shape"})]}),(0,r.jsx)("pattern",{id:"pattern2_4378_11342",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:(0,r.jsx)("use",{xlinkHref:"#image0_4378_11342",transform:"matrix(0.00083331 0 0 0.00145829 0 -0.000923572)"})}),(0,r.jsx)("pattern",{id:"pattern3_4378_11342",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:(0,r.jsx)("use",{xlinkHref:"#image1_4378_11342",transform:"matrix(0.000909091 0 0 0.00166667 -0.0454545 0)"})}),(0,r.jsx)("clipPath",{id:"clip0_4378_11342",children:(0,r.jsx)("rect",{width:"66",height:"36",rx:"3",transform:"matrix(-1 0 0 1 72.9983 6)",fill:"white"})}),(0,r.jsx)("image",{id:"image0_4378_11342",width:"1200",height:"687"}),(0,r.jsx)("image",{id:"image1_4378_11342",width:"1200",height:"600"})]})]})}function lv({type:e}){let{navigateToVisualAssets:t}=(0,N.wV)(),s=(0,sr.sN)(),i=n.useCallback(e=>{s("visualAssetPacks",e)},[s]),l=n.useCallback(()=>{i(t(e))},[t,i,e]);return(0,r.jsx)("div",{className:"asset_panel_visual_asset_packs--assetPanelRow--zIB-D",children:(0,r.jsx)("button",{onClick:l,className:"asset_panel_visual_asset_packs--assetPackContainer--hci-7",children:(0,r.jsx)(lk,{type:e})})})}function lk({type:e}){let t=e===N.G3.IconSets?(0,r.jsx)(lj,{}):(0,r.jsx)(lC,{}),s=e===N.G3.IconSets?(0,m.t)("design_systems.assets_panel.icon_sets"):(0,m.t)("design_systems.assets_panel.illustrations");return(0,r.jsxs)("div",{className:"asset_panel_visual_asset_packs--assetPack--cBQV4",children:[t,(0,r.jsx)("h3",{className:"asset_panel_visual_asset_packs--title--NDdZn ellipsis--ellipsis--Tjyfa",children:s})]})}let lS=(0,z.jz)(t9.RU)+1,lw=(0,z.jz)(t9.nT),lT=16/9;function lN({sidebarWidth:e,minCardWidth:t=180,previewPadding:s=lS,widthToHeightRatio:r=lT,rowPadding:i=lw}){let l=e-2*i,a=n.useMemo(()=>ro({elementMinSize:t,spaceAvailable:l,gap:0}),[t,l]),o=n.useMemo(()=>rd({numElements:a,spaceAvailable:l,gap:0}),[a,l]),d=n.useMemo(()=>o-2*s,[o,s]),c=n.useMemo(()=>rc({width:d,widthToHeightRatio:r}),[d,r]);return n.useMemo(()=>({cardWidth:o,previewWidth:d,previewHeight:c,numColumns:a}),[o,d,c,a])}let lI="asset_panel_libraries--row--nHi0j",lE="asset_panel_libraries--libraryPrimaryButton--hs6a7",lA=(0,z.jz)(t9.YJ),lM=(0,z.jz)(t9.RQ),lP=(0,z.jz)(t9.ce),lL=(0,z.jz)(t9.Kv),lO=(0,z.jz)(t9.PK),lR=(0,z.jz)(t9.vr),lF=(0,z.jz)(t9.CT)+16;function lD({width:e,hideScrollbar:t,localAssets:s}){let{libraries:n,presets:i,siteLibraries:l,librariesForConnectedProject:a}=(0,ik.g)(),o=iF(),d=(0,H.md)(N.aK)===N.t6.Blocks;return o?(0,r.jsx)("div",{style:{width:e},children:(0,r.jsx)(id.od,{})}):d?(0,r.jsx)(lH,{siteLibraries:l,hideScrollbar:t,width:e}):(0,r.jsx)(lK,{localAssets:s,subscribedLibraries:n,librariesForConnectedProject:a,presetLibraries:i,hideScrollbar:t,width:e})}function lK({localAssets:e,subscribedLibraries:t,presetLibraries:s,librariesForConnectedProject:i,width:l,hideScrollbar:a}){let{librariesScrollTop:o,handleScrollLibraries:d}=ra(),c=!!(0,b.GM)()(),{currentView:u}=(0,N.wV)(),[p]=(0,si.MA)(),h=(0,H.md)(is),g=il(),x=c?si.$H.LIST:p,{cardWidth:f,previewHeight:_,numColumns:j}=lN({sidebarWidth:l}),C=x===si.$H.GRID?j:1,v="grid"===x?lA+_+2:lL,k=t.length>0,S=e.numComponents+e.numTemplates>0,w=s.length>0,T=i.length>0,I=T&&(k||S),E=w&&(T||k||S),A=n.useMemo(()=>{let n=[];g&&(n.push({element:(0,r.jsx)(ia,{}),key:"asset_suggestions",height:h}),n.push({element:(0,r.jsx)(iD,{page:void 0}),key:"breadcrumb",height:lP}));let l=[];S&&l.push(e),k&&l.push(...t);for(let e=0;e<l.length;e+=C){let t=l.slice(e,e+C);n.push({element:(0,r.jsx)("div",{className:lI,children:t.map((t,s)=>(0,r.jsx)(lf,{library:t,keyboardSection:tJ.gP.LOCAL_AND_SUBSCRIBED,rowIndex:e,columnIndex:s,cardWidth:f,previewHeight:_},t.libraryKey))}),key:t.map(e=>e.libraryKey).join("-"),keys:t.map(e=>e.libraryKey),height:v})}I&&(n.push({element:(0,r.jsx)(so.cG,{}),key:"connected_project_divider",height:lM}),n.push({element:(0,r.jsx)(so.X3,{title:(0,m.t)("design_systems.libraries_modal.connected_project_libraries")}),key:"connected_project_header",height:lP}));for(let e=0;e<i.length;e+=C){let t=i.slice(e,e+C);n.push({element:(0,r.jsx)("div",{className:lI,children:t.map((t,s)=>(0,r.jsx)(lf,{library:t,keyboardSection:tJ.gP.LOCAL_AND_SUBSCRIBED,rowIndex:e,columnIndex:s,cardWidth:f,previewHeight:_},t.libraryKey))}),key:t.map(e=>e.libraryKey).join("-"),keys:t.map(e=>e.libraryKey),height:v})}E&&(n.push({element:(0,r.jsx)(so.cG,{}),key:"presets_divider",height:lM}),n.push({element:(0,r.jsx)(so.X3,{title:(0,m.t)("design_systems.assets_panel.ui_kits")}),key:"preset_libraries_header",height:lP}));for(let e=0;e<s.length;e+=C){let t=s.slice(e,e+C);n.push({element:(0,r.jsx)("div",{className:lI,children:t.map((t,s)=>(0,r.jsx)(lf,{library:t,keyboardSection:tJ.gP.PRESETS,rowIndex:e,columnIndex:s,cardWidth:f,previewHeight:_},t.libraryKey))}),key:t.map(e=>e.libraryKey).join("-"),keys:t.map(e=>e.libraryKey),height:v})}return c&&(n.push({element:(0,r.jsx)(so.cG,{}),key:"va_packs_divider",height:lM}),n.push({element:(0,r.jsx)(so.X3,{title:(0,m.t)("design_systems.assets_panel.assets_from_community"),onboardingKey:y.Bs}),key:"visual_assets_header",height:lP}),n.push({element:(0,r.jsx)(lv,{type:N.G3.IconSets}),key:"visual_assets_icon_sets",height:lR}),n.push({element:(0,r.jsx)(lv,{type:N.G3.Illustrations}),key:"visual_assets_illustrations",height:lR})),n.push(c?{element:(0,r.jsx)(lG,{}),key:"browse_more_assets_button",height:lO}:{element:(0,r.jsx)(lB,{}),key:"add_more_libraries_button",height:lO}),n},[g,S,k,E,c,h,v,C,_,f,e,t,I,i,s]);return(0,r.jsx)(s0,{elements:A,hideScrollbar:a,initialScrollTop:o,onScroll:d,anchorScroll:u===N.S5.Libraries})}function lB(){let{onToggleLibraryModal:e}=(0,nR.u)({entrypoint:ic.r6.ASSETS_PANEL_ADD_MORE_LIBRARIES,modalType:"editor",initialTab:eC.Wv.RECOMMENDED});return(0,r.jsx)("div",{className:lE,children:(0,r.jsx)(eY.$n,{variant:"secondary",onClick:e,recordingKey:"assetsLibrary.addMoreLibraries",children:(0,m.tx)("design_systems.assets_panel.add_more_libraries")})})}function lG(){return(0,r.jsx)(tz.o3,{trackingEventName:"cmty_category",trackingProperties:{name:"visual_assets_browse_more_assets_clicked",text:"Browse more assets"},to:new nO.$E({categorySlug:nL.LJ.icons}).to,className:lE,target:"_blank",children:(0,r.jsx)(eY.$n,{variant:"secondary",recordingKey:"assetsLibrary.browseMoreAssets",children:(0,m.tx)("design_systems.assets_panel.browse_more_assets")})})}function lH({siteLibraries:e,width:t,hideScrollbar:s}){let{librariesScrollTop:i,handleScrollLibraries:l}=ra(),a=n.useRef(null),{cardWidth:o,previewHeight:d}=lN({sidebarWidth:t}),{libraryKeys:c}=(0,H.md)(rw.AS),u=c.length+1,{flyout:p,...h}=function(e,t){let s=(0,n.useRef)(new Map),i=(0,n.useRef)(null),l=(0,n.useRef)(null),[a,o]=(0,H.fp)(lu),d=a?.key,[c,u]=(0,n.useState)(!1),{setSafePolygon:p,isInSafePolygon:h,cursorXSpeedRef:m}=function(){let e=(0,n.useRef)(null),t=(0,n.useCallback)(t=>{e.current=t},[]),s=function(){let e=(0,n.useRef)(0),t=(0,n.useRef)(null),s=(0,n.useRef)(null),r=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let n=n=>{let i=n.clientX,l=n.timeStamp;if(t.current&&s.current){let r=t.current,n=l-s.current;n>0&&(e.current=(i-r)/n)}t.current=i,s.current=l,r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{e.current=0},50)};return document.addEventListener("mousemove",n),()=>{document.removeEventListener("mousemove",n),r.current&&clearTimeout(r.current)}},[]),e}();return{setSafePolygon:t,isInSafePolygon:(0,n.useCallback)(t=>!!e.current&&function(e,t){let[s,r]=e,n=!1,i=t.length;for(let e=0,l=i-1;e<i;l=e++){let[i,a]=t[e]||[0,0],[o,d]=t[l]||[0,0];a>=r!=d>=r&&s<=(o-i)*(r-a)/(d-a)+i&&(n=!n)}return n}(t,e.current)&&s.current>.1,[s]),cursorXSpeedRef:s}}(),g=(0,n.useRef)(null),x=n.useCallback(()=>{o(null),u(!1),p(null),i.current&&(clearTimeout(i.current),i.current=null)},[o,p]);(0,n.useEffect)(()=>{let t=t=>{let r=t.target;d&&s.current.get(d)?.contains(r)||e?.current?.contains(r)||x()};return document.addEventListener("pointerdown",t),()=>{document.removeEventListener("pointerdown",t)}},[e,x,d]);let f=(0,n.useCallback)((e,t)=>{if(g.current&&(clearTimeout(g.current),g.current=null),l.current=null,d===t){let r=s.current.get(t)?.getBoundingClientRect();r&&p([[e.clientX-1,e.clientY],[r.left,r.top],[r.left,r.bottom]])}else i.current&&(clearTimeout(i.current),i.current=null)},[d,p]),_=(0,n.useCallback)(()=>{i.current&&(clearTimeout(i.current),i.current=null)},[]),y=n.useCallback(()=>p(null),[p]),b=n.useCallback(()=>null!==a&&(x(),!0),[a,x]);(0,iB.O1)(b,iB.KD.OVERLAY);let[j,C]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let e=[...t,s2.Yl];C((0,r.jsx)(r.Fragment,{children:e.map(e=>(0,r.jsx)(ls,{hide:d!==e,onMouseEnter:y,onMouseLeave:_,libraryKey:e,ref:t=>s.current.set(e,t),onDragStart:c?void 0:x},e))}))},[t,d,f,x,y,_,c]),{flyout:j,onMouseEnter:(e,t)=>{if(l.current=t,!c&&!i.current){i.current=setTimeout(()=>{o({key:t,persisted:c})},200);return}if(!c){if(h([e.clientX,e.clientY]))return;o({key:t,persisted:c})}},onMouseLeave:f,onClick:e=>{if(e===d&&c){x();return}o({key:e,persisted:!0}),u(!0),p(null),i.current&&clearTimeout(i.current)},onMouseMove:(e,t)=>{g.current&&(clearTimeout(g.current),g.current=null),!c&&d&&d!==t&&(h([e.clientX,e.clientY])?(g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{0===m.current&&o({key:t,persisted:c})},100)):o({key:t,persisted:c}))}}}(a,c),m=n.useMemo(()=>{if("disabled"!==e.status){let t=e.data??[];return 0===t.length?Array.from({length:u},(e,t)=>({element:(0,r.jsx)(ss,{keyPrefix:"blocks",name:"",recordingKey:"assetsLibrary.siteKitLoading",disabled:!1,variant:"preview-no-padding"}),key:`site kit loading-${t}`,keys:[`site kit loading-${t}`],height:lF})):t.map((e,t)=>({element:(0,r.jsx)(lf,{cardWidth:o,columnIndex:1,flyoutHandlers:h,folderVariant:"preview-no-padding",isFolderView:!0,keyboardSection:tJ.gP.SITE_KIT,library:e,previewHeight:d,rowIndex:t},e.libraryKey),key:e.libraryKey,keys:[e.libraryKey],height:lF}))}return[]},[e.status,e.data,u,d,o,h]);return(0,r.jsxs)("div",{ref:a,children:[(0,r.jsx)(s0,{elements:m,hideScrollbar:s,initialScrollTop:i,onScroll:l,anchorScroll:!0}),p]})}function lz({page:e,index:t}){let s=(0,sr.sN)(),[i]=(0,si.MA)(),{navigateToPage:l,libraryKey:o,currentView:d}=(0,N.wV)(),c=n.useCallback(()=>{s("pageRow",l(e.id))},[s,l,e.id]),u=e.id,p=d!==N.S5.Pages,{keyboardNavigationItem:h,setKeyboardNavigationElement:m}=(0,$.M3)({path:[tJ.ON.CONTENTS,tJ.lM.PAGES,t],id:e.id,disabled:p}),{focusFirstItem:g,focusSearchBar:f}=(0,sn.rl)();(0,sn.C0)(h,d===N.S5.Pages&&0===t);let _=(0,sn.MB)({onBoth:c,onKeyDown:g,onClick:f}),y=function(e,t){let s=(0,x.q5)(),r=(0,R.wA)(),i=e===s?.libraryKey,l=e&&!!t,o=(0,eP.b)({libraryKey:e,nodeId:t}),d=n.useMemo(()=>{if(o.data?.type==="team")return o.data.link},[o]),c=n.useCallback(()=>(0,nT.UN)().setCurrentPageAsync(t??""),[t]),u=n.useCallback(()=>{a.az.trackDefinedEvent("assets_panel.go_to_page",{libraryKey:e??"",pageId:t,fileKey:s?.key,fileTeamId:s?.teamId??void 0,fileOrgId:s?.parentOrgId??void 0,isLocal:i})},[i,e,s?.key,s?.parentOrgId,s?.teamId,t]),p=n.useCallback(()=>{c(),u()},[c,u]),h=n.useCallback(()=>{a.az.trackDefinedEvent("assets_panel.open_page_context_menu",{libraryKey:e??"",pageId:t,fileKey:s?.key,fileTeamId:s?.teamId??void 0,fileOrgId:s?.parentOrgId??void 0})},[e,s?.key,s?.parentOrgId,s?.teamId,t]),m=(0,eO.fd)(e);return n.useCallback(e=>{l&&!m&&(e.preventDefault(),e.stopPropagation(),r((0,n_.j7)({type:nN,data:{libraryPageHref:d,pageId:t,isLocalLibrary:i,onClickLocalPage:p,onClickSubscribedPage:u,position:{top:e.clientY,left:e.clientX}}})),h())},[l,m,r,d,t,i,p,u,h])}(o,e.id),b=n.useMemo(()=>"list"===i?"icon":"preview",[i]),j={pageId:e.id,libraryKey:o||""};return(0,r.jsx)(ss,{ref:m,disabled:p,keyPrefix:u,name:e.name,onClick:_,onContextMenu:y,pageInfo:j,previewAssetOrUrl:e.previewAsset,recordingKey:`assetsPage.${e.id}`,variant:b})}var lV=s(698266);let lU="performance.ds_eco.asset_panel_pages_view_loading",lW=new lV.jk(lU,{});function l$({didFinishLoading:e}){let t=lW.stop();(0,a.sx)(lU,{elapsedMs:t,isNewAssetPanelFetch:!0,didFinishLoading:e},{forwardToDatadog:!0})}var lX=s(736813);let lY=(0,z.jz)(t9.Mj),lq=(0,z.jz)(t9.$c),lJ=(0,z.jz)(t9.d5),lZ=2*lY,lQ=(0,z.jz)(t9.Kd),l0=(0,z.jz)(t9.y4),l1=(0,z.jz)(t9.Gd),l3=(0,z.jz)(t9.xP);function l5({page:e,thumbWidth:t,thumbHeight:s,row:i,column:l}){let a=(0,sr.sN)(),{navigateToPage:o,currentView:d}=(0,N.wV)(),c=n.useCallback(()=>{a("pageRow",o(e.id))},[a,o,e.id]),u=d!==N.S5.Pages,{keyboardNavigationItem:p,setKeyboardNavigationElement:m}=(0,$.M3)({path:[tJ.ON.CONTENTS,tJ.lM.PAGES,i],column:l,id:e.id,disabled:u}),{focusFirstItem:g,focusSearchBar:x}=(0,sn.rl)();(0,sn.C0)(p,d===N.S5.Pages&&0===i&&0===l);let f=(0,sn.MB)({onBoth:c,onKeyDown:g,onClick:x}),{widthForCentering:_,textRef:y,iconRef:b}=function(e){let[t,s]=n.useState(void 0),r=n.useCallback(e=>s(e?.scrollWidth),[]),[i,l]=n.useState(void 0);return{textRef:r,iconRef:n.useCallback(e=>l(e?.scrollWidth),[]),widthForCentering:n.useMemo(()=>t&&i?Math.max(Math.min(e-(t+i)-1,i),0):-1,[i,t,e])}}(t),j=(0,tJ.AZ)(e)?e.embeds[0]?.thumbnail_url:e.previewAsset;return(0,r.jsxs)(t1.E,{className:"site_kit_pages--tile--GWdsc",onClick:f,ref:m,"aria-label":e.name,disabled:u,children:[j?(0,r.jsx)(t2.V,{previewAssetOrUrl:j,type:"no-padding",height:s,width:t,keyPrefix:e.id}):(0,r.jsx)("div",{className:t8,style:{height:s,width:t}}),(0,r.jsx)("div",{className:h.s.flex.flexColumn.itemsCenter.wFull.$,style:{width:t},children:(0,r.jsxs)("span",{className:"site_kit_pages--pageName--ARhz3 site_kit_pages--text--gyBIU",children:[_>0&&(0,r.jsx)("div",{className:h.s.flexShrink0.$,style:{width:_}}),(0,r.jsx)(rC.G,{text:e.name,ref:y}),(0,r.jsx)("div",{className:"site_kit_pages--chevron--MPDzd",ref:b,children:(0,r.jsx)(lX.k,{})})]})})]})}let l4=(0,z.jz)(t9.RQ),l2=(0,z.jz)(t9._q),l6=(0,z.jz)(t9.HE);function l7({library:e,width:t,hideScrollbar:s,isLoading:i}){!function({isLoading:e}){let{currentView:t}=(0,N.wV)(),s=(0,eW.ZC)(t);n.useEffect(()=>(s===N.S5.Libraries&&t===N.S5.Pages&&lW.start(),t===N.S5.Pages&&!e&&lW.isRunning&&l$({didFinishLoading:!0}),()=>{s===N.S5.Pages&&t!==N.S5.Pages&&lW.isRunning&&l$({didFinishLoading:!1})}),[e,t,s])}({isLoading:i});let[l]=(0,si.MA)(),{pagesScrollTop:a,handleScrollPages:o}=ra({libraryKey:e?.libraryKey}),d=n.useMemo(()=>e?Array.from(e.pages):[],[e]),c=(0,eO.fd)(e?.libraryKey),{thumbWidth:u,thumbHeight:p,numColumns:h}=function(){let{width:e}=sK(),t=n.useMemo(()=>e-lZ,[e]),s=Math.max(Math.min(3,ro({elementMinSize:98,gap:lQ,spaceAvailable:t})),2),r=rd({numElements:s,gap:lQ,spaceAvailable:t})-2*l1;return{thumbWidth:r,thumbHeight:r,numColumns:s}}(),m=n.useMemo(()=>{if(e?.type===tJ.yW.SITE&&"grid"===l)return function(e,t,s,n){let i=Array.from(e.pages),l=[],a=s+2*l1+l0+l3;for(let e=0;e<i.length;e+=n){let o=0===e?"site_kit_pages--virtualRowFirst--pNAgS site_kit_pages--virtualRow--F7pf9":"site_kit_pages--virtualRow--F7pf9",d=i.slice(e,e+n),c=[],u=d.map(([e])=>e);d.forEach(([n,i],l)=>{i&&c.push((0,r.jsx)(l5,{page:i,row:e,column:l,thumbWidth:t,thumbHeight:s},n))}),l.push({element:(0,r.jsx)("div",{className:o,style:{gap:lQ},role:"row",children:c}),key:u.join("-"),keys:u,height:a+(0===e?0:lY)})}return l.length>0&&(l.unshift({element:(0,r.jsx)(so.hK,{height:lq}),key:"spacer-top",height:lq}),l.push({element:(0,r.jsx)(so.hK,{height:lJ}),key:"spacer-bottom",height:lJ})),l}(e,u,p,h);let t=[];return d.forEach(([e,s],n)=>{t.push({element:(0,r.jsx)(lz,{page:s,index:n}),height:"list"===l?l6:l2,key:e}),0===n&&(0,em.dS)(s.name,{isPreset:c})&&t.push({element:(0,r.jsx)(so.cG,{}),key:"examples_divider",height:l4})}),t},[e,l,d,u,p,h,c]);return i?(0,r.jsx)("div",{className:"asset_panel_pages--loadingContainer--fyofJ",style:{width:t},"data-testid":"asset-panel-pages-spinner",children:(0,r.jsx)(eV.k,{})}):0===d.length?(0,r.jsx)("div",{style:{width:t}}):(0,r.jsx)(s0,{elements:m,hideScrollbar:s,initialScrollTop:a,onScroll:o})}var l8=s(518016),l9=s.n(l8),ae=s(336989);function at(){let e=rw.ce().data?.assetsByLibraryKey,t=n.useMemo(()=>e?[...e.values()].flat():[],[e]),s=n.useMemo(()=>(0,s6.u)(),[]),r=(0,ae.o)(eC.PW.RESPONSIVE_SET),i=(0,H.md)(r$),l=(0,ea.TA)(),a=n.useMemo(()=>{if(!l)return[];let e=[...r,...i].filter(e=>e.lastAddedAtUserId[l]);return(0,s1.hR)(e,e=>-(e.lastAddedAtUserId[l]??0)),e},[r,i,l]);return n.useMemo(()=>{let e=l9()(t??[],"key"),r=l9()(s,"name");return a.map(t=>"key"in t?e[t.key]:r[t.name]).filter(F.Gh)},[a,t,s])}function as(){let{productComponents:e}=(0,nz.g5)(ev.$A.Design),t=at(),{getLibrary:s}=(0,sa.G)(),[i]=(0,si.MA)(),l="list"===i,a=n.useCallback(e=>{let t=s(e);return t?.name||""},[s]),o=ry(),{props:d,numColumns:c}=n.useMemo(()=>rb(o,i,t0.rp.NORMAL),[o,i]),{componentSectionNameForTracking:u}=(0,sr.zf)(),p=e.length>0,h=t.length>0;return(0,r.jsxs)(so.xU,{children:[h&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(so.X3,{title:(0,m.t)("design_systems.assets_panel.site_blocks")}),(0,r.jsx)("div",{className:l?n8:n7,children:t.map((e,t)=>"embed"===e.type?(0,r.jsx)(rW,{embed:e,sectionNameForTracking:"Recently used site kit assets",sectionPosition:t,keyboardPosition:(0,sn.pg)([tJ.tM.SITE_KIT],t,c),thumbHeight:d.thumbHeight,thumbWidth:d.thumbWidth,libraryName:(0,m.t)("design_systems.assets_panel.site_blocks.embeds")},e.name):(0,r.jsx)(rN,{asset:e,sectionNameForTracking:"Recently used site kit assets",sectionPosition:t,keyboardPosition:(0,sn.pg)([tJ.tM.SITE_KIT],t,c),thumbHeight:d.thumbHeight,thumbWidth:d.thumbWidth,libraryName:a(e.sourceLibraryKey)},`assetPanelRecents:siteKit:${(0,es.V)(e)}`))})]}),h&&p&&(0,r.jsx)("div",{className:"asset_panel_recents--buffer--URYGQ"}),p&&(0,r.jsxs)(r.Fragment,{children:[h&&(0,r.jsx)(so.X3,{title:(0,m.t)("design_systems.assets_panel.dropdown_type_all_libraries")}),(0,r.jsx)("div",{className:l?n8:n7,children:e.map((e,t)=>(0,r.jsx)(sO,{asset:e,fileName:a(e.library_key),sectionNameForTracking:u,sectionPosition:t,keyboardPosition:(0,sn.pg)([tJ.tM.COMPONENTS],t,c),...d},`assetPanelRecents:component:${(0,es.V)(e)}`))})]}),(0,r.jsx)("div",{className:"asset_panel_recents--bottomPadding--9BTkl"})]})}var ar=s(276800),an=s(689161),ai=s(12866),al=s(851824),aa=s(880233),ao=s(67154),ad=s(243690),ac=s(182019);let au=function({isLoading:e,children:t}){return e?(0,r.jsx)("div",{className:"maybe_loading--loadingContainer--Wfq03",children:(0,r.jsx)(eV.k,{})}):(0,r.jsx)(r.Fragment,{children:t})},ap=new(s(150156)).KH({keys:[{name:"name",weight:.6},{name:"containingFrame.name",weight:.1},{name:"containingFrame.pageName",weight:.1},{name:"description",weight:.05}],threshold:.3,tokenize:!0,shouldSort:!0});function ah(){var e;let t=(0,iR.lg)()===eo._Y.SITES,s=(0,rw.ce)(),r=s.data?.assetsByLibraryKey,i=n.useMemo(()=>(0,s6.u)(),[]),l=n.useMemo(()=>{let e=r?[...r?.values()].flat():[];return e?[...e,...i]:void 0},[r,i]),{query:a,searchOption:o}=(0,s_.I)(sy.Cn.AssetsPanel),c=t&&o&&[eC.IS.SITE_KIT,eC.IS.ALL].includes(o?.type),u=(0,tW.$)(l),p=(0,eW.ZC)(a),[h,m]=n.useState([]),[g,x]=n.useState(!1);return n.useLayoutEffect(()=>{(async function(){if(u&&ap.set(l??[]),!a||0===ap.list().length){m([]);return}p||x(!0);let e=[];try{e=(await ap.search(a)).map(e=>e.item)}catch(e){(0,nG.x1)(tF.e.DESIGN_SYSTEMS_ECOSYSTEM,"error in site kit search",{message:e.message},{reportAsSentryError:!0})}m(e),x(!1)})()},[l,p,a,u]),e=h.length,n.useEffect(()=>{(0,rv.hw)(e)},[e]),(0,d.h)(()=>()=>(0,rv.hw)(0)),{results:c?h:[],loading:g,query:a}}let am="asset_panel_search_results--empty--72Hqc",ag=(0,z.jz)(t9.ce),ax=(0,z.jz)(t9.GH),af=(0,z.jz)(t9.RX),a_="Search keywords and filter results by specific libraries, templates, and components.",ay=({moreResults:e,query:t,showMoreDefault:s})=>{let i=!!(0,b.GM)()(),[l,a]=n.useState(!1),o=s||l||i,d=n.useCallback(()=>a(!0),[]);n.useEffect(()=>a(!1),[t]);let{visualAssetsType:c}=(0,N.wV)(),u=i&&!!c,p=n.useMemo(()=>e.map(e=>e.library_key),[e]),{data:h}=(0,ad.U)(p),g=n.useCallback(e=>h?.[e.library_key]??"",[h]),[x]=(0,si.MA)(),f=ry(),{props:_,numColumns:y}=n.useMemo(()=>rb(f,x,t0.rp.NORMAL),[f,x]),{componentSectionNameForTracking:j}=(0,sr.zf)({moreSearchResults:!0}),C=n.useMemo(()=>sQ(e,y,"components:moreResults",_,j,[tJ.tM.COMPONENTS,1],{getFileName:g}),[e,y,_,j,g]);return n.useMemo(()=>{if(0===e.length)return[];let t=[];return u||t.push({element:(0,r.jsxs)("div",{className:i?"asset_panel_search_results--visualAssetsShowMoreText--sxfrf asset_panel_search_results--visualAssetsShowMore--MJbt7":"asset_panel_search_results--showMoreText--mEcU5 asset_panel_search_results--showMore--yo9-j",children:[o&&(0,m.tx)("design_systems.assets_panel.showing_results_from_all_libraries"),!o&&(0,r.jsx)("button",{className:"asset_panel_search_results--showMoreLink--3-Ww3 asset_panel_search_results--showMore--yo9-j blue_link--blueLink--9rlnd",onClick:d,children:(0,m.tx)("design_systems.assets_panel.more_results_in_all_libraries",{results:e.length})})]}),key:"components:showMoreText",height:i?af:ax}),o&&t.push(...C),t},[e.length,o,d,C,u,i])};function ab({components:e,moreComponents:t,siteKitAssets:s,query:i,getLibraryNameFromKey:l}){let a=aw(e),o=aw(t),d=a.length+o.length>0,c=s.length>0,u=n.useCallback(e=>l(e.library_key),[l]),[p]=(0,si.MA)(),h=ry(),{props:g,numColumns:x}=n.useMemo(()=>rb(h,p,t0.rp.NORMAL),[h,p]),{componentSectionNameForTracking:f}=(0,sr.zf)(),_=n.useMemo(()=>sQ(a,x,"components",g,f,[tJ.tM.COMPONENTS,0],{getFileName:u}),[a,x,g,f,u]),y=ay({moreResults:o,query:i,showMoreDefault:0===a.length&&o.length>0}),[b,j]=(0,n.useState)(!1),[C,v]=(0,n.useState)(!1),k=(0,rw.r6)(s),S=n.useMemo(()=>r6(s,x,g.thumbWidth,g.thumbHeight,p,"assets","Site kit search results",[tJ.tM.SITE_KIT],{libraryNameForAsset:k}),[p,x,g.thumbHeight,g.thumbWidth,k,s]),w=n.useMemo(()=>{let e=[];return c&&(e.push({element:(0,r.jsx)(so.X3,{title:(0,m.t)("design_systems.assets_panel.site_blocks"),numResults:s.length,toggleExpanded:()=>j(e=>!e),isExpanded:!b,collapsible:!0}),key:"sitesHeader",height:ag}),b||e.push(...S)),d&&(c&&e.push({element:(0,r.jsx)(so.X3,{title:(0,m.t)("design_systems.assets_panel.dropdown_type_all_libraries"),numResults:a.length,toggleExpanded:()=>v(e=>!e),isExpanded:!C,collapsible:!0}),key:"componentsHeader",height:ag}),C||(e.push(..._),e.push(...y))),e},[c,d,s.length,b,S,C,a.length,_,y]);return(0,r.jsx)(s0,{elements:w,anchorScroll:!0})}function aj(){return(0,N._m)()?(0,r.jsx)(av,{}):(0,r.jsx)(aC,{})}function aC(){let{query:e,results:t,isLoading:s}=(0,s_.I)(sy.Cn.AssetsPanel),{normalizedSearchResults:i,unsubscribedSearchResults:l}=t,a=ah(),o=(0,ac.U)(),{libraryKey:d}=(0,N.wV)(),{getLibrary:c}=(0,sa.G)(),u=n.useMemo(()=>i.map(e=>e.library_key),[i]),{data:p,status:h}=(0,ad.U)(u),g=ak(e),x="loading"===h,f=x&&g,_=n.useCallback(e=>p?.[e]??c(e)?.name??"",[p,c]),y=n.useMemo(()=>d?c(d)?.name:void 0,[c,d]),[,b]=n.useMemo(()=>(0,rv._2)(i.filter(e=>_(e.library_key))),[i,_]),[,j]=n.useMemo(()=>(0,rv._2)(l),[l]),C=b.length+j.length>0,v=a.results.length>0,k=f||s||o||a.loading;return aS({query:e,isLoading:k,isLoadingBreakdown:{isLibraryNamesLoadingWithTimeout:f,isSearchLoading:s,isSubscribedComponentsLoading:o},additionalLogData:{isLibraryNamesLoading:x,isLibraryNamesLoadingTimerActive:g}}),e?(0,r.jsx)(au,{isLoading:k,children:C||v?(0,r.jsx)(ab,{components:b,moreComponents:j,siteKitAssets:a.results,query:e,getLibraryNameFromKey:_}):(0,r.jsx)(an.T,{role:"alert",className:am,children:y?(0,m.tx)("design_systems.assets_panel.no_results_for_query_in_library",{searchQuery:e,libraryName:y}):(0,m.tx)("design_systems.assets_panel.no_results_for_query",{searchQuery:e})})}):(0,r.jsx)("div",{className:am,children:a_})}function av(){let{results:e,loading:t,query:s}=ah(),{libraryKey:i}=(0,N.wV)(),[l]=(0,si.MA)(),{getLibrary:a}=(0,sa.G)(),o=n.useMemo(()=>i?a(i)?.name:void 0,[a,i]),{width:d}=sK(),{tileHeight:c,tileWidth:u,numColumns:p}=function(e){let[t]=(0,si.MA)(),s=e-rp,r=Math.min(n.useMemo(()=>ro({elementMinSize:120,gap:ru,spaceAvailable:s}),[s]),3),i=n.useMemo(()=>rd({numElements:r,gap:ru,spaceAvailable:s}),[r,s]),l=n.useMemo(()=>rc({width:i,widthToHeightRatio:1,maxHeight:void 0}),[i]);return"list"===t?{tileWidth:40,tileHeight:40,numColumns:1}:{tileWidth:i,tileHeight:l,numColumns:r}}(d),h=n.useMemo(()=>r6(e,p,u,c,l,"assets","Site kit search results",[tJ.tM.COMPONENTS],{includesFirstTile:!0}),[l,p,e,c,u]);return s?(0,r.jsx)(au,{isLoading:t,children:e.length>0?(0,r.jsx)(s0,{elements:h,anchorScroll:!0}):(0,r.jsx)(an.T,{role:"alert",className:am,children:(0,m.tx)("design_systems.assets_panel.no_results_for_query_in_library",{searchQuery:s,libraryName:o})})}):(0,r.jsx)("div",{className:am,children:a_})}let ak=e=>{let t=(0,eW.ZC)(e),{isActive:s,start:r}=(0,ao.Z)(ar.lQ);return n.useEffect(()=>{e!==t&&r(1e4)},[e,t,r]),s},aS=({isLoading:e,isLoadingBreakdown:t,additionalLogData:s,query:r})=>{let i=(0,eW.ZC)(e),l=(0,eW.ZC)(r),[o,d]=n.useState(null),c=(0,ea.iZ)(),u=(0,ai.DP)().version,p=(0,ex.tM)("assets-panel"),h=(0,eW.ZC)(p),m=(0,f.je)(),g=(0,R.d4)(e=>e.fileVersion),_=(0,R.d4)(e=>e.loadingState),y=(0,x.q5)(),b=y?.key,j=(0,tq.oh)(aa.fi),C=n.useCallback(r=>{if(!o)return;let n=Date.now()-o;if(n<5e3)return;let i=m.data?.map(e=>{let t=ey.Mb(e.libraryKey);return{libraryKey:e.libraryKey,isLoading:!tq.D2(_,t)}}),l=y&&null!=g&&(0,tZ.yD)(y.key)||null,d=!(null!=l&&(0,tq.D2)(_,l));a.az.trackDefinedEvent("assets_panel.search_long_loading",{...t,...s,fileKey:b,userId:c?.id,uiThemeVersion:u,queryId:p??h??void 0,loadingTimeMS:n,isLoading:e,queryCancelled:r,isLoadingSubscribedComponentsAndStateGroups:d,isLoadingRecentlyUsedItems:j,subscribedLibariesLoading:JSON.stringify(i)})},[m,g,_,y,o,e,t,j,b,s,c?.id,u,p,h]),v=(0,al.A)(C,100,{leading:!0,trailing:!1}),k=n.useRef(C);n.useEffect(()=>{k.current=C},[C]);let{start:S,cancel:w}=(0,ao.Z)(()=>v(!1)),T=n.useCallback(()=>{C(!0),d(Date.now()),S(5e3)},[C,S]);n.useEffect(()=>{e&&!i?T():!e&&i&&(w(),C(!1),d(null))},[e,i,T,C,w]),n.useEffect(()=>{r!==l&&T()},[r,l,T]),n.useEffect(()=>()=>{k.current(!0)},[])};function aw(e){let{visualAssetsType:t}=(0,N.wV)(),s=!!(0,b.GM)()(),r=(0,H.md)(eN.QN),i=(0,H.md)(eN.r9),l=s&&!!t;return n.useMemo(()=>l?e.filter(e=>e.hub_file_id&&(t===N.G3.IconSets?r.includes(e.library_key):i.includes(e.library_key))):e,[l,e,t,r,i])}var aT=s(964068);function aN({libraryKey:e,numComponents:t,size:s}){let{focusSearchBar:i}=(0,sn.rl)(),{navigateToLibrary:l}=(0,N.wV)(),a=(0,sr.sN)(),o=n.useCallback(()=>{a("visualAssetMoreTile",l(e))},[e,a,l]),d=n.useCallback(e=>{e.stopPropagation(),o(),i()},[i,o]),c=t-11,u=c>=1e3?(c/1e3).toFixed(1)+"k":c.toString();return(0,r.jsx)("button",{onClick:d,className:"asset_panel_visual_asset_more_tile--tile--r9fF-",style:{width:s,height:s},children:(0,r.jsxs)("div",{className:"asset_panel_visual_asset_more_tile--moreText--QNS99 text--fontPos13--xW8hS text--_fontBase--QdLsd",children:["+",u]})})}function aI({libraryKey:e,sectionIndex:t}){let{width:s}=sK(),i=(0,H.md)(eN.Rs),{getLibrary:l}=(0,sa.G)(),a=l(e),o=a?.type===tJ.yW.DESIGN?a.numComponents:0,d=n.useMemo(()=>{if(a?.type===tJ.yW.DESIGN)return Array.from(a.pages.values())},[a]),c=[];if(d?.[0]?.components&&a?.libraryKey){let e=i?.[a?.libraryKey]?.asset_panel_component_ids||[];if(e.length>=11){let t=[];d.forEach(s=>{if(s.components){let r=rs(s.components).filter(t=>"component_key"in t&&e.includes(t.component_key||""));t.push(...r)}});let s=t.reduce((e,t)=>("component_key"in t&&t.component_key&&(e[t.component_key||""]=t),e),{});c=e.map(e=>s[e]).filter(e=>!!e)}else c=rs(d[0].components).slice(0,11)}let u=(0,t0.PI)(c,!0),p=(s-24-24)/4,h={showName:!1,noBackground:!0};return c.length?(0,r.jsx)("div",{className:"asset_panel_visual_asset_components--container--qLYh4",children:[0,1,2].map(s=>(0,r.jsxs)("div",{className:"asset_panel_visual_asset_components--row--leYBr",children:[c.slice(4*s,(s+1)*4).map((e,n)=>(0,r.jsx)(sO,{asset:e,disableClickPropagation:!0,displayType:"grid",fileName:void 0,hideInlineName:!0,isFirstTile:!1,isVisualAsset:!0,keyboardPosition:{path:[t,s],column:n},libraryItemTileProps:h,sectionDepth:n,sectionNameForTracking:"Visual assets panel",sectionPosition:s*n,sourceForTracking:"visual-assets-panel",thumbHeight:p,thumbLayout:u,thumbWidth:p,viewMode:ew.Bk.Grid},`$visualAssetsPanel:component:${(0,es.V)(e)}`)),2===s&&(0,r.jsx)(aN,{libraryKey:e,numComponents:o,size:p})]},s))}):null}function aE({library:e,sectionIndex:t}){let{navigateToLibrary:s}=(0,N.wV)(),i=(0,x.q5)(),[a,o]=n.useState(!1),d=(0,sr.sN)(),c=n.useCallback(()=>{d("visualAssetLibraryCard",s(e.libraryKey))},[e,d,s]),u=n.useMemo(()=>{let t=e.libraryKey===i?.libraryKey?"localLibrary":e.libraryKey;return sh.Pt("assetsLibrary",t)},[e.libraryKey,i?.libraryKey]);return(0,r.jsx)(t4.GG,{className:l()("asset_panel_visual_asset_library--library--ta4FR",{"asset_panel_visual_asset_library--hovered--r37Mn":a}),"aria-label":e.name,onClick:c,style:{width:"100%"},recordingKey:u,children:(0,r.jsxs)("div",{className:"asset_panel_visual_asset_library--libraryCard--ljr--",children:[(0,r.jsx)(aI,{libraryKey:e.libraryKey,sectionIndex:t}),(0,r.jsx)(aA,{library:e,setHovered:o})]})})}function aA({library:e,setHovered:t}){let s=(0,H.md)(eN.Rs),n=s?.[e.libraryKey]?.author_name||e.authorName;return(0,r.jsx)("div",{className:"asset_panel_visual_asset_library--libraryFooter--WtYtC",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:(0,r.jsxs)("div",{className:"asset_panel_visual_asset_library--libraryNameAndAuthor---pya2",children:[(0,r.jsxs)("div",{className:"asset_panel_visual_asset_library--nameAndIconForList--Opwld",children:[(0,r.jsx)("h3",{className:"asset_panel_visual_asset_library--libraryName--y8FNs ellipsis--ellipsis--Tjyfa",children:e.name}),(0,r.jsx)("div",{className:"asset_panel_visual_asset_library--libraryIcon--FWTh-",children:(0,r.jsx)(sx.P,{libraryKey:e.libraryKey,compact:!0,showPresetTooltip:!0,colorPrimaryOnHover:!0,tooltipDelay:500,tooltipLocation:"below"})})]}),n&&(0,r.jsx)("div",{className:"asset_panel_visual_asset_library--libraryStats--NtW2u ellipsis--ellipsis--Tjyfa",children:(0,m.tx)("community.by_publisher",{publisher:n})})]})})}var aM=s(364275);let aP=(0,c._)(function({width:e}){let{visualAssetsType:t}=(0,N.wV)(),s=(0,eW.qd)(t),n=t??s,[i]=(0,si.MA)(),a="list"===i,o=(0,aT.lY)(),d=o.length>0,c=(0,H.md)(eN.QN),u=(0,H.md)(eN.r9),{cardWidth:p,previewHeight:h}=lN({sidebarWidth:e}),m=o.filter(e=>n===N.G3.IconSets?c.includes(e.library_key):u.includes(e.library_key));return(0,r.jsxs)(so.xU,{children:[d&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:l()("asset_panel_visual_assets--list--APKhG",{"asset_panel_visual_assets--gridGap--DCeF2":!a}),children:m.map((e,t)=>{let s=(0,aM.x)(e);return a?(0,r.jsx)(lf,{library:s,keyboardSection:tJ.gP.VISUAL_ASSETS,rowIndex:t,columnIndex:0,cardWidth:p,previewHeight:h,hideUnsubscribe:!0},e.library_file_key):(0,r.jsx)(aE,{library:s,sectionIndex:t},e.library_file_key)})})}),(0,r.jsx)("div",{className:"asset_panel_visual_assets--bottomPadding--OULyc"})]})},"AssetPanelVisualAssets");var aL=s(159348);let aO=(e,t,s)=>e===N.S5.Libraries?0:s?e===N.S5.VisualAssets?1:e===N.S5.Pages||t?2:3:e===N.S5.Pages||t?1:2;function aR({assetPanelItemsByLibraryKey:e,width:t}){let{libraryKey:s,pageId:i,currentView:l,isNavigatingVisualAssets:o}=(0,N.wV)(),{previousLibraryKey:d}=(0,N.RR)(),c=aF(),u=!!(0,b.GM)()(),{getPage:p,getLibrary:h}=(0,sa.G)(),m=(0,ac.q)()(s);(function(e){let t=(0,R.d4)(e=>e.loadingState),s=(0,R.d4)(e=>e.fileVersion),r=(0,x.q5)(),i=(0,eT.k)(),l=r&&null!=s&&(0,tZ.yD)(r.key)||null,o=!(null!=l&&(0,tq.D2)(t,l));n.useEffect(()=>{o||function(e,t,s){if(tQ)return;let{numLibraries:r,numComponents:n,numComponentsWithLimit:i}=e();(0,a.sx)("Assets Panel Initial Load",{numLibraries:r,numComponents:n,numComponentsWithLimit:i,assetsPanelVersion:t,fileKey:s?.key,fileTeamId:s?.teamId??void 0,fileOrgId:s?.parentOrgId??void 0}),tQ=!0}(e,i,r)},[e,o,r,i])})(n.useCallback(()=>{let t=0,s=0,r=0,{allLibrariesUnsorted:n}=e;for(let[i,l]of n)if(l.type===tJ.yW.DESIGN){if(e.localAssets.libraryKey===i){l.numComponents>=0&&(t+=1);continue}t+=1,s+=l.numComponents,r+=Math.min(l.numComponents,20)}return{numLibraries:t,numComponents:s,numComponentsWithLimit:r}},[e])),aD(),(0,t$.S)();let g=n.useMemo(()=>h(s??d),[h,s,d]),f=n.useMemo(()=>p(s,i),[p,s,i]),_=aO(l,c,u&&o),{libraries:y,presets:j,librariesForConnectedProject:C}=(0,ik.g)(),{localAssets:v}=e;return!function(e,t,s,r){let i=(0,x.q5)(),[l,o]=(0,H.fp)(aL.GT),d=t.length+s.length+r.length;e.numComponents+e.numTemplates>0&&(d+=1),n.useEffect(()=>{if(!l){o(!0);let e=aL._o.stop();e&&(0,a.sx)(aL.YS,{elapsedMs:e,fileKey:i?.key,teamId:i?.teamId,orgId:i?.parentOrgId,isUi3RedesignedAssetPanel:!0,numLibraries:d,numComponents:0,numComponentsShown:0,numSectionsShown:d},{forwardToDatadog:!0})}},[l,o,d,i])}(v,y,j,C),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(nP,{}),l===N.S5.Search?(0,r.jsx)(aj,{}):l===N.S5.Recents?(0,r.jsx)(as,{}):(0,r.jsxs)(r7,{index:_,width:t,children:[(0,r.jsx)(lD,{width:t,hideScrollbar:0!==_,localAssets:v}),u&&o&&(0,r.jsx)(aP,{width:t}),!c&&(0,r.jsx)(l7,{library:g,width:t,isLoading:m,hideScrollbar:1!==_}),(0,r.jsx)(nr,{page:f,width:t})]})]})}let aF=()=>{let{getLibrary:e}=(0,sa.G)(),{libraryKey:t}=(0,N.wV)(),s=(0,ac.q)()(t),r=e(t);return!!r&&!s&&!!(0,N.Cg)(r)},aD=()=>{let{libraryKey:e}=(0,N.wV)(),t=(0,tX.R)(),s=(0,tW.$)(e),r=(0,eO.fd)(e);n.useEffect(()=>{r&&s&&t({updateSource:"ui3_library_expand"})},[s,r,t])};var aK=s(224781),aB=s(902892),aG=s(662376),aH=s(997477),az=s(85598),aV=s(539607),aU=s(167151),aW=s(144949),a$=s(285466),aX=s(816689),aY=s(681398),aq=s(789263);function aJ({libraryName:e}){let t=(0,R.wA)(),{currentView:s,startSearch:i,onBack:l,libraryKey:o,visualAssetsType:d}=(0,N.wV)(),c=s===N.S5.Search,u=(0,N._m)(),h=(0,iR.cJ)(),{inputRef:g,focusSearchBar:f}=(0,sn.rl)(),_=(0,p.b)(),y=(0,R.d4)(e=>e.leftPanel.shouldFocusSearchBar)||_,{query:b,setQuery:j,setSearchOption:C}=(0,s_.I)(sy.Cn.AssetsPanel),v=(0,x._G)(),k=n.useCallback(()=>{c&&l()},[c,l]),S=n.useMemo(()=>o?o===v?{type:eC.IS.LOCAL}:u?{type:eC.IS.SITE_KIT}:{type:eC.IS.FILE,libraryKey:o}:{type:eC.IS.ALL},[u,o,v]),w=n.useCallback(e=>{j(e),C(S),""===e?k():c||i()},[j,C,S,k,c,i]),T=n.useRef(void 0),I=(0,eI.Nv)(!0);n.useEffect(()=>{c&&(b&&T.current!==o&&(a.az.trackDefinedEvent("asset_search.misc_feature_usage",{aiResultsEnabled:I,entryPoint:"asset-panel",featureSlug:"library-filter-usage"}),C(S)),T.current=o)},[t,c,b,S,I,C,o]);let E=n.useCallback(()=>{""===b&&k()},[k,b]),A=n.useCallback(()=>{w(""),f(),k()},[w,f,k]),M=(0,R.d4)(e=>e.mirror.appModel.activeCanvasEditModeType);n.useEffect(()=>{if((0,G.kc)().accessible_keyboard_shortcuts)return;let e=e=>{(aY.Ay.chromeos?e.altKey&&e.shiftKey&&e.keyCode===U.Uz.KEY_2:e.altKey&&e.keyCode===U.Uz.KEY_2)&&M!==eU.m1T.TEXT&&(f(),e.preventDefault())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[M,f]),n.useEffect(()=>{if((0,G.kc)().accessible_keyboard_shortcuts&&ef.Y5.isReady())return ef.Y5.assetsPanelKeyboardEvents.subscribe(f)},[f]);let P=n.useMemo(()=>e?(0,m.t)("design_systems.assets_panel.search_library"):h?(0,m.t)("design_systems.assets_panel.search_all_sites_inserts"):d?d===N.G3.IconSets?(0,m.t)("design_systems.assets_panel.search_all_icon_sets"):(0,m.t)("design_systems.assets_panel.search_all_illustrations"):(0,m.t)("design_systems.assets_panel.search_all_libraries"),[e,d,h]);return(0,r.jsxs)("div",{className:"asset_panel_search--container--u0qoH asset_panel_search--horizontalFlex---CG1k",children:[(0,r.jsx)("div",{children:(0,r.jsx)(a$.W,{})}),(0,r.jsx)(aq.E1,{autofocus:y,column:tJ.Wy.SEARCH,entryPointForTracking:"editor:assets_panel",forwardedRef:g,isNewAssetsPanel:!0,isVisible:!0,onBlur:E,onChange:w,onClearSearch:A,onFocus:ar.lQ,path:[tJ.ON.HEADER,tJ.my.SEARCH_AND_FILTER],placeholder:P,query:b,recordingKey:"componentsLibrarySearch",selectOnFocus:!0})]})}function aZ({library:e}){let{navigateToTop:t}=(0,N.wV)(),{focusSearchBar:s}=(0,sn.rl)(),i=(0,sr.sN)(),l=n.useCallback(()=>{i("searchFilterChip",t()),s()},[s,i,t]),{setKeyboardNavigationElement:a}=(0,$.M3)({path:[tJ.ON.HEADER,tJ.my.LIBRARY_SEARCH_CHIP]});return e?(0,r.jsx)(aW.v,{"aria-label":(0,m.t)("design_systems.assets_panel.search_chip_label"),hasCloseButton:!0,onClose:l,recordingKey:"asset-panel-search-chip",ref:a,htmlAttributes:{"data-testid":"asset-panel-search-chip"},children:e.name}):null}function aQ({visualAssetsType:e}){let{navigateToTop:t}=(0,N.wV)(),{focusSearchBar:s}=(0,sn.rl)(),i=(0,sr.sN)(),l=n.useCallback(()=>{i("visualAssetsSearchFilterChip",t()),s()},[s,i,t]),{setKeyboardNavigationElement:a}=(0,$.M3)({path:[tJ.ON.HEADER,tJ.my.LIBRARY_SEARCH_CHIP]});return e?(0,r.jsxs)("div",{className:"asset_panel_search--libraryChip--1nfYR asset_panel_search--horizontalFlex---CG1k","data-testid":"asset-panel-visual-assets-search-chip",children:[(0,r.jsx)("span",{className:"asset_panel_search--libraryChipText--3TsfE ellipsis--ellipsis--Tjyfa",children:e===N.G3.IconSets?(0,m.tx)("design_systems.assets_panel.icon_sets"):(0,m.tx)("design_systems.assets_panel.illustrations")}),(0,r.jsx)(t1.E,{className:"asset_panel_search--libraryChipRemove--kJiJn",onClick:l,recordingKey:"asset-panel-visual-assets-search-chip",ref:a,children:(0,r.jsx)(aX.f,{})})]}):null}var a0=s(240803),a1=s(454851),a3=s(101441),a5=s(324438),a4=s(419750),a2=s(388054),a6=s(140008),a7=s(869141);let a8="assets-panel-settings";function a9({includeFolderSetting:e=!0}){let t=n.useRef(null),{setKeyboardNavigationElement:s}=(0,$.M3)({path:[tJ.ON.HEADER,tJ.my.SEARCH_AND_FILTER],column:tJ.Wy.SETTINGS}),i=(0,x.tS)(),l=(0,ig.Um)(),o=l?.type===a8,d=(0,R.wA)(),c=n.useCallback(()=>{o?d((0,n_.oB)()):(d((0,n_.j7)({type:a8,data:{position:{top:t.current?.getBoundingClientRect().bottom,left:t.current?.getBoundingClientRect().left}}})),a.az.trackDefinedEvent("assets_panel.asset_type_dropdown_opened",{fileKey:i??void 0,assetsPanelVersion:3}))},[d,i,o]),u=n.useMemo(()=>{if(o)return l.data?.position},[l?.data?.position,o]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a0.o,{eventListeners:o?["onMouseDown"]:[],children:(0,r.jsx)(a1.d,{onClick:c,"aria-expanded":o,ref:(0,a6.Ay)(t,s),"aria-label":(0,m.t)("design_systems.assets_panel.settings_label"),"aria-haspopup":"listbox",htmlAttributes:{"data-testid":"asset-panel-settings-button"},children:(0,r.jsx)(a3.P,{})})}),o&&(0,r.jsx)(oe,{position:u,includeFolderSetting:e,buttonRef:t})]})}function oe({position:e,includeFolderSetting:t,buttonRef:s}){let i=(0,R.wA)(),o=n.useCallback(()=>{i((0,n_.oB)())},[i]),d=(0,sr.R2)("number"==typeof e?.top?e.top:void 0),{productComponents:c}=(0,nz.g5)(ev.$A.Design),u=at(),[p]=(0,si.ye)(),{currentView:g,libraryKey:f}=(0,N.wV)(),{getLibrary:_}=(0,sa.G)(),y=(0,x.tS)(),j=(0,x._G)(),[C]=(0,si.MA)(),v=!!(0,b.GM)()()&&g===N.S5.Libraries,k=v?si.$H.LIST:C,S=(0,iR.cJ)()||v,w=n.useMemo(()=>g!==N.S5.Search&&(c.length>0||u.length>0),[g,c.length,u.length]),T=n.useMemo(()=>y&&j?_(j):void 0,[_,y,j]),I=T?.type===tJ.yW.DESIGN&&(T.numComponents>0||T.numTemplates>0),{libraries:E,presets:A,librariesForConnectedProject:M}=(0,ik.g)(),{goToLibrary:P,goToAll:L,goToRecents:O,changeAssetsView:F,toggleShowFolders:D}=function(e){let t=(0,x.q5)(),s=(0,sr.sN)(),{navigateToLibrary:r,navigateToTop:i,navigateToRecents:l}=(0,N.wV)(),{setLastNavAction:o}=(0,ri.ZX)(),[,d]=(0,si.MA)(),[,c]=(0,si.ye)(),{focusSearchBar:u}=(0,sn.rl)(),p=(0,H.Xr)(N.aK),h=n.useCallback(e=>{s("settingsMenu",e)},[s]),m=n.useCallback(e=>{h(r(e)),u(),p(N.t6.Libraries)},[u,r,p,h]),g=n.useCallback(()=>{h(i()),u()},[u,i,h]),f=n.useCallback(()=>{h(l()),u()},[u,l,h]),_=n.useCallback(()=>e.current?.focus(),[e]),y=n.useCallback(e=>{a.az.trackDefinedEvent("assets_panel.view_mode_changed",{viewMode:e,fileKey:t?.key,fileTeamId:t?.teamId??void 0,fileOrgId:t?.parentOrgId??void 0}),d(e),o(ri.r6.ToggleView)},[t?.key,t?.parentOrgId,t?.teamId,d,o]),b=(0,sn.NR)({onBoth:e=>()=>y(e),onKeyDown:()=>_}),j=n.useCallback(e=>{a.az.trackDefinedEvent("assets_panel.folder_toggle",{showFolders:e,fileKey:t?.key,fileTeamId:t?.teamId??void 0,fileOrgId:t?.parentOrgId??void 0}),c(e)},[t?.key,t?.parentOrgId,t?.teamId,c]);return{goToLibrary:m,goToAll:g,goToRecents:f,changeAssetsView:b,toggleShowFolders:(0,sn.NR)({onBoth:e=>()=>j(e),onKeyDown:()=>_})}}(s),K=n.useMemo(()=>{let e=[];return e.push(ot({text:(0,m.t)("design_systems.assets_panel.dropdown_type_all_libraries"),checked:g===N.S5.Libraries||g===N.S5.Search&&!f,onClick:L})),w&&e.push(ot({text:(0,m.t)("design_systems.assets_panel.dropdown_type_recents"),checked:g===N.S5.Recents&&c.length>0,onClick:O})),I&&e.push(ot({text:T.name,checked:g!==N.S5.Recents&&f===T.libraryKey,onClick:()=>P(T.libraryKey)})),(E.length>0||A.length>0)&&e.push((0,r.jsx)(nx.wv,{})),e.push(...E.map(({name:e,libraryKey:t})=>ot({text:e,isApproved:(0,a7.sF)(t),checked:g!==N.S5.Recents&&f===t,onClick:()=>P(t)}))),e.push(...A.map(({name:e,libraryKey:t})=>ot({text:e,isApproved:(0,a7.sF)(t),isPreset:!0,checked:g!==N.S5.Recents&&f===t,onClick:()=>P(t)}))),M.length>0&&(e.push((0,r.jsx)(nx.wv,{})),e.push((0,r.jsx)("div",{className:l()(h.s.textBodyMedium.$,"asset_panel_settings--optionSubtitle--9d2Ib"),children:(0,m.t)("design_systems.libraries_modal.connected_project_libraries")})),e.push(...M.map(({name:e,libraryKey:t})=>ot({text:e,isApproved:(0,a7.sF)(t),checked:g!==N.S5.Recents&&f===t,onClick:()=>P(t)})))),e.push((0,r.jsx)(nx.wv,{})),S||(e.push(ot({text:(0,m.t)("design_systems.assets_panel.view_toggle_grid"),checked:k===si.$H.GRID,onClick:F(si.$H.GRID),icon:(0,r.jsx)(a5.t,{})})),e.push(ot({text:(0,m.t)("design_systems.assets_panel.view_toggle_list"),checked:k===si.$H.LIST,onClick:F(si.$H.LIST),icon:(0,r.jsx)(a4.Z,{})}))),t&&e.push(ot({text:(0,m.t)("design_systems.assets_panel.view_toggle_show_folders"),checked:p,onClick:D(!p),icon:(0,r.jsx)(a2.e,{})})),e},[g,f,L,w,I,E,A,M,t,c.length,O,T,P,k,F,p,D,S]),B=n.useMemo(()=>({...e,maxHeight:d}),[d,e]);return rP.createPortal((0,r.jsx)(nx.X3,{className:l()(im.Dm,"asset_panel_settings--dropdown--gs7K3"),positionAbsolute:!0,style:B,id:a8,hideDropdown:o,autofocusPrevElementOnEsc:!0,children:K}),document.body)}function ot({text:e,isApproved:t,isPreset:s,checked:n,onClick:i,icon:l}){return(0,r.jsx)(nx.MM,{className:"asset_panel_settings--dropdownOption--kJ-6M",checked:!!n,onClick:i,children:(0,r.jsxs)("div",{className:"asset_panel_settings--optionContentContainer--iAJ6X",children:[(0,r.jsx)("div",{className:"asset_panel_settings--optionContent---2nCX ellipsis--ellipsis--Tjyfa",children:l?(0,r.jsxs)("div",{className:"asset_panel_settings--optionWithLeftIconContainer--QP3Gm",children:[l,(0,r.jsx)("span",{children:e})]}):e}),(0,r.jsx)("div",{className:"asset_panel_settings--optionRightIcon--zi-2v",children:t?(0,r.jsx)(et.FX,{}):s?(0,r.jsx)("div",{className:h.s.ml2.$,children:(0,r.jsx)(eL.E,{libraryKey:void 0})}):null})]})},e)}var os=s(873291),or=s(25907),on=s(90383),oi=s(674524),ol=s(171660),oa=s(113985),oo=s(835307),od=s(25870),oc=s(271899),ou=s(946847),op=s(288971),oh=s(38119),om=s(659639),og=s(712242),ox=s(132078);let of="visual_search_assets_panel";function o_({onDismiss:e}){let[t,s]=n.useState(!1),{width:i}=sK(),l=Math.min(.7*i,240),a=(0,R.d4)(sb.vD),o=(0,oo.Fk)((e,t)=>{let s=e.get(t);return s?.name},a),{getConfig:d}=(0,aH.I7)("assets_panel_visual_search"),c="component_filter"===d().get("variant","control"),u=n.useCallback(()=>{a&&((0,op.$I)({moduleToOpen:{type:"custom",module:(0,eI.P5)()?(0,r.jsx)(oh.z6,{initialSearchTagType:c?om.qG.COMPONENTS:void 0,isVisualSearch:!0,closeOnEscape:!0}):(0,r.jsx)(og.WS,{}),beforeModuleOpen:()=>(0,og.jp)(oa.G4.ASSETS_PANEL_VISUAL_SEARCH),name:ou.Sn.VISUAL_SEARCH},trackingData:{source:oa.G4.ASSETS_PANEL_VISUAL_SEARCH}}),e())},[a,e,c]),p=n.useCallback(t=>{(0,op.$I)({moduleToOpen:{type:"custom",module:(0,eI.P5)()?(0,r.jsx)(oh.z6,{initialSearchTagType:c?om.qG.COMPONENTS:void 0,isVisualSearch:!0,closeOnEscape:!0}):(0,r.jsx)(og.WS,{}),beforeModuleOpen:()=>(0,og.qF)(oa.G4.ASSETS_PANEL_VISUAL_SEARCH,t),name:ou.Sn.VISUAL_SEARCH},trackingData:{source:oa.G4.ASSETS_PANEL_VISUAL_SEARCH}}),e()},[e,c]),h=n.useMemo(()=>{if(!a)return null;let e=(0,nT.UN)().get(a);if(!e)return null;let t=(0,oa.T1)(e);return t?t.startsWith("data:image")?t:`data:image/png;base64,${t}`:null},[a]),g=n.useCallback(e=>{e.preventDefault(),e.stopPropagation();let t=e.clipboardData?.files;t?.length===1&&t[0]?.type.startsWith("image/")&&p(t[0])},[p]);n.useEffect(()=>{if(t)return document.addEventListener("paste",g),()=>document.removeEventListener("paste",g)},[g,t]);let x=n.useCallback(e=>(!!e.metaKey||!!e.ctrlKey)&&"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),u(),!0),[u]),f=(0,oi.fo)(void 0,"keydown",e=>{x(e.event)&&e.accept()});n.useEffect(()=>(document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}),[x]),n.useEffect(()=>{let t=t=>{let s=t.target;s.closest(".modalContainer")||s.closest("canvas")||e()};return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[e]);let _=n.useMemo(()=>o||(0,m.tx)("design_systems.assets_panel.visual_search.select_layer"),[o]),y=n.useMemo(()=>a?(0,r.jsx)("div",{className:"xl010v5",children:(0,r.jsx)(oc.Bf,{guid:a})}):(0,r.jsx)(os.H,{}),[a]);return(0,iB.O1)(()=>(e(),!0),iB.KD.MODAL),(0,r.jsx)(od.vL,{name:"visual_search_modal",handleKeyDown:f,focusOnMount:!0,children:(0,r.jsx)(ox.NJ,{className:"visual_search_button--modalContainer--RU-Vk pointer_modal--walkThroughModal--6eTVS pointer_modal--pointerModal--wrpFz",dismissModal:e,width:l,targetKey:of,arrowPosition:I.F_.TOP,backgroundColor:"var(--color-bg, $figmaFGWhite)",shouldNotWrapInParagraphTag:!0,noAnimation:!0,pointerOffsetOverride:l-12,children:(0,r.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4",children:[(0,r.jsxs)("div",{className:"x78zum5 x1q0g3np xl56j7k x6s0dn4 xod5an3 x1s2d0ae xxk0z11",children:[y,(0,r.jsx)(ol.E,{fontWeight:"medium",truncate:!0,children:_})]}),h?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"xh8yej3 xekxv85 x19y5rnk x1v8gsql x78zum5 xdt5ytf x6s0dn4 xl56j7k",children:(0,r.jsx)("img",{src:h||"",alt:"Preview",className:"xeu0yli x14r61f x1tamke2 x19kjcj4"})}),(0,r.jsx)("div",{className:"x78zum5 x13a6bvl xh8yej3 x14vqqas",children:(0,r.jsxs)(eY.$n,{variant:"secondary",onClick:u,children:[(0,r.jsx)(ol.E,{children:(0,m.tx)("design_systems.assets_panel.visual_search.search")}),(0,r.jsx)(eY.$n.Shortcut,{children:"\u2318\u23CE"})]})})]}):(0,r.jsxs)("div",{className:"xmkeg23 xbsl7fq x7z60cl xdnk06y x192jxwq x2b8uid x1ypdohk xzlr0fm xh8yej3",children:[(0,r.jsx)("input",{type:"file",accept:"image/*",className:"x1s85apg",id:"visual-search-file-input",onChange:e=>{let t=e.target.files?.[0];t&&p(t)}}),(0,r.jsx)("button",{className:"xh8yej3",onClick:e=>{e.preventDefault(),e.stopPropagation(),document.getElementById("visual-search-file-input")?.click()},children:(0,r.jsx)("div",{className:"xggk2y7",onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDrop:e=>{e.preventDefault(),e.stopPropagation();let t=e.dataTransfer.files?.[0];t&&p(t)},onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:(0,r.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 xl56j7k x1jnr06f",children:[(0,r.jsx)(or.Z,{}),(0,r.jsx)(ol.E,{children:(0,m.tx)("design_systems.assets_panel.visual_search.drag_or_upload")})]})})})]})]})})})}function oy(){let[e,t]=n.useState(!1),{setKeyboardNavigationElement:s}=(0,$.M3)({path:[tJ.ON.HEADER,tJ.my.SEARCH_AND_FILTER],column:tJ.Wy.VISUAL_SEARCH_BUTTON});return(0,r.jsxs)(a0.o,{eventListeners:e?["onMouseDown"]:[],children:[(0,r.jsx)(a1.d,{"data-onboarding-key":of,ref:s,onClick:()=>{t(!e),a.az.trackDefinedEvent("fragment_search.assets_panel_visual_search_button_clicked",{})},"aria-expanded":e,"aria-label":(0,m.t)("design_systems.assets_panel.visual_search.label"),children:(0,r.jsx)(on.A,{})}),e&&(0,r.jsx)(o_,{onDismiss:()=>t(!1)})]})}let ob=new class{constructor(){this.format=e=>{switch(e){case N.t6.Blocks:return(0,m.t)("design_systems.assets_panel.blocks");case N.t6.Libraries:return(0,m.t)("design_systems.assets_panel.dropdown_libraries")}}}};function oj(){let{getPage:e,getLibrary:t}=(0,sa.G)(),{currentView:s,libraryKey:i,pageId:l}=(0,N.wV)(),a=n.useMemo(()=>e(i,l),[e,i,l]),o=n.useMemo(()=>t(i),[t,i]),d=!il()&&s!==N.S5.Search,[c,u]=(0,H.fp)(N.aK),p=(0,aU.cJ)()&&s!==N.S5.Search&&s!==N.S5.Recents?[N.t6.Blocks,N.t6.Libraries]:void 0;return(0,r.jsxs)("div",{className:"x78zum5 xdt5ytf xw6ie8e",children:[(0,r.jsx)(ov,{library:o}),!!p&&(0,r.jsx)(ok,{legend:(0,m.tx)("design_systems.assets_panel.assets"),value:c,onChange:e=>{(0,sr.hB)(()=>u(e))},children:p.map(e=>(0,r.jsx)(aK.RT,{value:e,label:ob.format(e)},e))}),d&&(0,r.jsx)(oC,{page:a})]})}function oC({page:e}){let{currentView:t}=(0,N.wV)(),s=(0,aU.cJ)(),[n]=(0,H.fp)(N.aK),i=iF(),l=(0,az.HY)(),a=!i&&l;if(s){if(n===N.t6.Blocks&&t!==N.S5.Recents||n===N.t6.Libraries&&i)return null;a=t===N.S5.Libraries&&n===N.t6.Libraries}return(0,r.jsxs)("div",{className:"x78zum5 x1q0g3np x6s0dn4",children:[(0,r.jsx)(iD,{page:e}),a&&(0,r.jsx)("div",{className:"x15bdqvn xt970qd xbfr8j9",children:(0,r.jsx)(aV.b,{entrypoint:ic.r6.ASSETS_PANEL_BUTTON,hideIfNoUpdates:!1})})]})}function ov({library:e}){let{currentView:t,visualAssetsType:s}=(0,N.wV)(),n=(0,eI.Ko)(),{getConfig:i}=(0,aH.I7)("assets_panel_visual_search"),l=(0,p.b)(),a=(0,az.HY)(),o=l||a,{closeOverlay:d}=(0,iW.h)(),c=!(0,aU.cJ)()&&n&&"control"!==i().get("variant","control");return(0,r.jsxs)("div",{...{0:{className:"xrvj5dj x52fmzj x1eavx82 x1on1db2 x1jnr06f x6s0dn4 xet2fuk x21xpn4 xt970qd xbfr8j9"},1:{className:"xrvj5dj x52fmzj x1eavx82 x1on1db2 x1jnr06f x6s0dn4 xet2fuk x21xpn4 xt970qd xbfr8j9 xexx8yu xnuq7ks x18d9i69 x163pfp x1o1pmfc"}}[!!o<<0],children:[(0,r.jsx)("div",{...{0:{className:"x1ms6mhf xgkxs2y"},1:{className:"x1ms6mhf xgkxs2y x5jayri"}}[!!o<<0],children:(0,r.jsx)(aJ,{libraryName:e?.name})}),c&&(0,r.jsx)("div",{className:"x1ms6mhf x1npkx4u",children:(0,r.jsx)(oy,{})}),(0,r.jsx)("div",{...{0:{className:"x78zum5 x6s0dn4 x1ms6mhf x1npkx4u"},1:{className:"x78zum5 x6s0dn4 x1ms6mhf x1k3v4rp"}}[!!c<<0],children:(0,r.jsx)(a9,{includeFolderSetting:[N.S5.Libraries,N.S5.Pages,N.S5.Assets].includes(t)})}),l&&(0,r.jsx)("div",{className:"x1ms6mhf x1k3v4rp",children:(0,r.jsx)(eq.K,{"aria-label":(0,m.t)("design_systems.assets_panel.close_inserts"),onClick:d,children:(0,r.jsx)(aG.A,{})})}),t===N.S5.Search&&e&&(0,r.jsx)("div",{className:"x78zum5 xeuugli x7sv70a xgkxs2y",children:(0,r.jsx)(aZ,{library:e})}),t===N.S5.Search&&s&&(0,r.jsx)("div",{className:"x78zum5 xeuugli x7sv70a xgkxs2y",children:(0,r.jsx)(aQ,{visualAssetsType:s})})]})}function ok({legend:e,value:t,onChange:s,children:n}){return(0,r.jsx)("div",{className:"xz9dl7a xyfqnmn xwib8y2 xnm25rq x1xmf6yo x178xt8z x13fuv20 x16ufvko",children:(0,r.jsx)(aK.bL,{legend:(0,r.jsx)(aB.q,{children:e}),value:t,onChange:s,children:n})})}var oS=s(339619);let ow=e=>n.useCallback(t=>{t()||e()},[e]);var oT=s(495896),oN=s(475961),oI=s(937749);function oE(e){return(0,r.jsx)(c.u,{label:"AssetPanel",children:(0,r.jsx)(oA,{...e})})}function oA({width:e}){let t=iv(),s=function(e){let t=(0,ea.iZ)(),s=(0,x.q5)(),r=(0,oN.jO)(),i=(0,S.f)("has_dismissed_component_sidebar_library_upsell_banner"),l=(0,R.d4)(e=>e.isFreeUser),a=(0,R.d4)(iy.P),o=s?.teamId?a[s.teamId]:null,d=(0,en.bc)(ed.kQI,{id:s?.teamId??""},{enabled:!!s?.teamId}),c=s?.canEdit??!1,u=d.data?.team?.hasPermission??!1,p=e.numComponents>0||e.numTemplates>0;return n.useMemo(()=>!i&&l&&(!o||!(0,eF.w5)(o)&&u)&&c&&r&&p&&(0,oT.Hz)(t?.id),[i,l,o,u,c,r,p,t])}(t.localAssets),i="loading"===(0,f.je)().status,l=n.useRef(null),c=o.wY(l)?.width||e,[u]=(0,si.MA)(),p=(0,x.q5)();(0,d.h)(()=>{(0,a.sx)("Component Sidebar Viewed",{viewMode:u,assetsPanelVersion:3,fileKey:p?.key,fileTeamId:p?.teamId??void 0,fileOrgId:p?.parentOrgId??void 0,componentSuggestionSessionId:(0,O.r6)()})});let{isFlyoutOpen:h,closeFlyout:m,flyoutProps:_}=(0,tE.JA)(),y=n.useCallback(e=>{let t=document.getElementById(tE.Ev);h||!t||!l.current||!e.relatedTarget||l.current.contains(e.relatedTarget)||t.contains(e.relatedTarget)||m()},[h,m]);return(0,r.jsxs)(oM,{assetPanelItemsByLibraryKey:t,width:c,children:[(0,r.jsx)("div",{className:oI.kL,"data-testid":"component-sidebar",translate:"no",ref:l,onBlur:y,children:(0,r.jsxs)("div",{className:oI.kL,style:{width:c},children:[(0,r.jsx)(oj,{}),(0,r.jsx)(au,{isLoading:i,children:(0,r.jsx)(aR,{assetPanelItemsByLibraryKey:t,width:c})}),s&&(0,r.jsx)(tU,{}),(0,r.jsx)("div",{style:{left:`${c}px`,top:"240px"},className:oI.b3,"data-onboarding-key":g.RJ}),(0,r.jsx)(L,{width:c})]})}),_&&(0,r.jsx)(tL,{..._})]})}function oM({children:e,width:t,assetPanelItemsByLibraryKey:s}){let n=(0,p.b)();return(0,r.jsx)(ri.P3,{children:(0,r.jsx)(sa.K,{assetPanelItemsByLibraryKey:s,children:(0,r.jsx)(sn.tM,{className:l()(oI.kL,n&&oI.Nb),children:(0,r.jsx)(oP,{children:(0,r.jsx)(sB,{width:t,children:e})})})})})}function oP({children:e}){return!function(){let{libraryKey:e,pageId:t,folderPath:s,navigateToTop:r,navigateToPage:i,navigateToPath:l,navigateToLibrary:a,currentView:o,onBack:d}=(0,N.wV)(),c=(0,ac.q)(),u=c(e),{getLibrary:p,getFolder:h}=(0,sa.G)(),{setLastNavAction:m}=(0,ri.ZX)(),g=ow(r),x=(0,ik.g)().allLibrariesByLibraryKey,[f,_]=(0,H.fp)(oS.dL);n.useEffect(()=>{f&&x.size>0&&((0,sr.hB)(()=>a(f)),_(null))},[a,x.size,f,_]),(0,N.sH)(),n.useEffect(function(){if(o!==N.S5.Assets&&o!==N.S5.Pages)return;let n=p(e),a=x.get(e);if(!n){if(c(e)&&a&&o!==N.S5.Assets)return;g(r);return}if(t){if(!n?.pages.get(t)){let e=(0,N.Cg)(n);e?g(()=>i(e.id)):g(d);return}if(s&&!h(e,t,s)){let r=s.slice(0,-1),n=h(e,t,r);for(;!n&&r.length>0;)n=h(e,t,r=r.slice(0,-1));if(!n)return g(()=>i(t));let a=parent?(0,N.xc)(n):void 0;return void(a?g(()=>l([...r,a.name])):(g(()=>l(r)),m(ri.r6.Back)))}}},[d,u,o,t,s,r,i,p,h,l,m,g,c,x,e]),n.useEffect(function(){let r=p(e);if(!r||u)return;let n=(0,N.Cg)(r);if(o===N.S5.Pages&&n)i(n.id);else if(o===N.S5.Assets){let r=h(e,t,s);if(!r)return;let n=(0,N.xc)(r);n&&l([...s??[],n.name])}},[u,o,s,h,p,i,l,d,t,e])}(),(0,r.jsx)(r.Fragment,{children:e})}function oL(){return(0,r.jsx)("div",{className:h.s.colorTextSecondary.my8.mx16.$,children:(0,m.tx)("design_systems.assets_panel.error")})}function oO({width:e}){return(0,r.jsx)(c.u,{label:"AssetPanelUI3",children:(0,r.jsx)(u.tH,{boundaryKey:"AssetPanelUI3",fallback:(0,r.jsx)(oL,{}),children:(0,r.jsx)(oE,{width:e})})})}},217961:(e,t,s)=>{s.d(t,{C:()=>n,X:()=>i});var r=s(795033);let n=(0,s(985416).Wh)(()=>(0,r.eU)(0)),i=(0,r.eU)(!1)},592228:(e,t,s)=>{s.d(t,{vx:()=>eT,oo:()=>eM,OG:()=>eN});var r=s(104076),n=s(716976),i=s(903927),l=s(638004),a=s(833737),o=s(266808),d=s(681958),c=s(980852),u=s(812714),p=s(795033),h=s(674524),m=s(511570),g=s.n(m),x=s(983500),f=s(76616),_=s(221586),y=s(641518),b=s(550209),j=s(652539),C=s(236631),v=s(192075),k=s(659062),S=s(428045),w=s(736216),T=s(968169),N=s(893178),I=s(568590),E=s(371952),A=s(692042),M=s(106112),P=s(582689),L=s(331497),O=s(448711),R=s(835307),F=s(894210),D=s(294745),K=s(336547),B=s(91704),G=s(579337),H=s(737139),z=s(390036),V=s(740419);function U({modeNames:e}){if(0===e.length)return null;let t=1===e.length?e[0]:e[0]+" + "+(e.length-1);return(0,r.jsx)("div",{className:V.Io,"data-testid":"variable-mode-pill","data-tooltip-type":F.Ib.TEXT,"data-tooltip":(0,v.t)("variables.mode_pill.tooltip",{listOfModes:(0,z.Yx)(e)}),children:(0,r.jsx)("div",{className:V.XW,children:t})})}var W=s(170462),$=s(167151),X=s(382827),Y=s(684742),q=s(390579),J=s(736813),Z=s(92299),Q=s(291355),ee=s(566447),et=s(15890),es=s(221154),er=s(405864),en=s(597304);function ei(){return(0,r.jsx)("div",{className:C.s.flex.itemsCenter.justifyCenter.$,children:(0,r.jsx)("div",{className:V.xE})})}class el extends n.PureComponent{constructor(){super(...arguments),this.expandMouseDown=e=>{this.props.expandMouseDown(this.props.guid,e)}}renderNodeIndents(){let e=[];for(let t=0;t<this.props.level+1;t++){let s=`[${t}]`,n=-1!==this.props.isLastMaskedAtLevels.indexOf(s),i=-1!==this.props.isMaskedAtLevels.indexOf(s),l=t===this.props.level&&this.props.mask,a=t===this.props.level&&this.props.hasChildren,o=g()(V.dK,V.co,{[V.TY]:this.props.displayOrder===Z.k.DOM});e.push((0,r.jsx)("span",{className:V.pZ},t)),n?e.push((0,r.jsx)(j.B,{svg:a?er.A:en.A,className:o},`${t}-mask`)):i?e.push((0,r.jsx)(j.B,{svg:a?es.A:et.A,className:o},`${t}-mask`)):l&&e.push((0,r.jsx)(j.B,{svg:a?ee.A:Q.A,className:o},`${t}-mask`)),this.props.hasBullet&&t===this.props.level?e.push((0,r.jsx)(Y.E,{recordingKey:y.Pt(this.props,"expandCaret"),className:V.OI,actionOnPointerDown:!0,onClick:this.expandMouseDown,htmlAttributes:{"data-testid":this.props.isMeasurementNode?void 0:"new-frame-bullet"},children:(0,r.jsx)(ei,{})},"expand-caret")):a&&e.push((0,r.jsx)(Y.E,{recordingKey:y.Pt(this.props,"expandCaret"),className:g()(V.GE,V.Fq),actionOnPointerDown:!0,onClick:this.expandMouseDown,children:this.props.isExpanded?(0,r.jsx)(q.O,{}):(0,r.jsx)(J.k,{})},"expand-caret"))}return e}render(){return(0,r.jsx)("span",{ref:this.props.indentsRefCallback,className:V.Wm,children:this.renderNodeIndents()})}}el.displayName="Indents";var ea=s(271899),eo=s(4921),ed=s(740681),ec=s(106774),eu=s(11048);let ep=n.memo(function(e){let{locked:t,isAncestorLocked:s,onMouseDown:i,recordingKey:l}=e,a=(0,n.useRef)(null),o=n.useCallback(e=>{e&&i(e)},[i]),d=y.rf(l,"mousedown",o),c=n.useMemo(()=>({onMouseDown:d,onKeyDownCapture:e=>{(e?.code==="Space"||e?.key==="Enter")&&d(new MouseEvent("mousedown",{altKey:e.altKey}))},onMouseLeave:()=>{a?.current&&document?.activeElement===a?.current&&a.current?.blur()},onDoubleClick:e=>e.stopPropagation()}),[d]),u=n.useMemo(()=>s&&!t?eu.Zy:(0,r.jsx)(ed.s,{"data-testid":"locked-icon"}),[s,t]),p=n.useMemo(()=>(0,r.jsx)(ec.r,{"data-testid":"unlocked-icon"}),[]);return(0,r.jsx)("span",{className:V.hz,children:(0,r.jsx)(eo.f,{ref:a,"aria-label":(0,v.t)("fullscreen.object_row.toggle_lock"),checked:t||s,onIcon:u,offIcon:p,htmlAttributes:c})})}),eh=(0,n.memo)(function(e){return(0,r.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:(0,r.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M8 3.5a.5.5 0 0 1 .5-.5h2a.5.5 0 1 1 0 1H10v8h.5a.5.5 0 1 1 0 1h-2a.5.5 0 0 1 0-1H9V4h-.5a.5.5 0 0 1-.5-.5m3 2a.5.5 0 0 1 .5-.5h1A1.5 1.5 0 0 1 14 6.5v3a1.5 1.5 0 0 1-1.5 1.5h-1a.5.5 0 0 1 0-1h1a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 1-.5-.5M2.5 7a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 .5.5h4a.5.5 0 1 1 0 1h-4A1.5 1.5 0 0 1 2 9.5v-2a.5.5 0 0 1 .5-.5m2.515-3.56L4.7 4.7l-1.26.315c-.505.126-.505.844 0 .97L4.7 6.3l.315 1.26c.126.505.844.505.97 0L6.3 6.3l1.26-.315c.505-.126.505-.844 0-.97L6.3 4.7l-.315-1.26c-.126-.505-.844-.505-.97 0",clipRule:"evenodd"})})});var em=s(141330),eg=s(868187);function ex({disabled:e}){let t=(0,n.useMemo)(()=>({"data-tooltip-type":F.Ib.SPECIAL,"data-tooltip-show-above":!0,"data-tooltip-timeout-delay":50,"data-tooltip":eg.S,"data-tooltip-ai-beta-text":(0,v.t)("fullscreen.context_menu.auto_rename_layers"),"data-tooltip-ai-beta-action":em.JT.AUTO_RENAME_LAYERS}),[]);return(0,r.jsx)(Y.E,{className:V.J0,onClick:()=>{(0,w.Br)({source:o.uQ6.LAYERS_PANEL_ACTION_ROW,trackingDataSource:"layers_panel_action_row"})},htmlAttributes:e?void 0:t,disabled:e,children:(0,r.jsx)(eh,{})})}var ef=s(45754),e_=s(185245);function ey({guid:e,className:t}){let s=(0,$.cJ)(),n=(0,p.md)(e_.s0),i=(0,L.J2)((0,T.UK)().showSemanticTagsOnLayerRows),l=(0,R.Fk)((e,t)=>{let s=e.get(t);return s?.isAccessibilityAnnotatable},e);return s&&n===o.Nfd.FILE&&i&&l?(0,r.jsx)(eb,{guid:e,className:t}):null}function eb({guid:e,className:t}){let s=(0,ef.Nf)(e);return s?(0,r.jsx)("span",{className:t,"data-testid":`semantic-label-${e}`,children:s}):null}var ej=s(997811),eC=s(20165);let ev=n.memo(function(e){let{visible:t,isAncestorHidden:s,onMouseDown:i,recordingKey:l}=e,a=(0,n.useRef)(null),o=n.useCallback(e=>{e&&i(e)},[i]),d=y.rf(l,"mousedown",o),c=n.useMemo(()=>({onMouseDown:d,onKeyDownCapture:e=>{(e?.code==="Space"||e?.key==="Enter")&&d(new MouseEvent("mousedown",{altKey:e.altKey}))},onMouseLeave:()=>{a?.current&&document?.activeElement===a?.current&&a.current?.blur()},onDoubleClick:e=>e.stopPropagation(),"data-testid":"object-row-toggle-visibility"}),[d]),u=n.useMemo(()=>s?eu.Zy:(0,r.jsx)(ej.l,{"data-testid":"visible-icon"}),[s]),p=n.useMemo(()=>(0,r.jsx)(eC.f,{"data-testid":"hidden-icon"}),[]);return(0,r.jsx)("span",{className:V.yk,children:(0,r.jsx)(eo.f,{ref:a,"aria-label":(0,v.t)("fullscreen.object_row.toggle_visibility"),checked:t,onIcon:u,offIcon:p,htmlAttributes:c})})});ev.displayName="VisibilityToggle";var ek=s(404343),eS=s(347080),ew=s(864187);let eT="layer-panel-onboarding-key";function eN(e){let t=(0,$.cJ)(),s=(0,X.sO)(),r=(e.abbreviatedStateName||e.name).replace(/\n/," ");if(t&&e.isWebpage&&e.isSiteHomepage?r=(0,v.t)("sites.panel.home"):s&&"SLIDE"===e.nodeType&&(r=(0,v.t)("slides.layers_panel.slide_number",{orderNum:e.name})),e.shouldShowGuids){let t=o.Egt.getOverridePathForNode(e.guid);return`${r} (${e.guid}): [${t}]`}return r}function eI({isPrimaryBreakpoint:e}){return(0,r.jsx)("div",{className:C.s.flex.$,children:e&&(0,r.jsx)("span",{className:C.s.colorTextBrand.pr8.$,children:(0,v.t)("sites.panel.primary")})})}function eE(e){let[t,s]=(0,n.useState)(null),[i,l]=(0,n.useState)(!1),a=(0,$.cJ)(),o=(0,p.md)((0,K.r8)(e.guid)),{showVisualLayerIcons:d}=n.useContext(P.y0);(0,n.useEffect)(()=>{s(e.isRenaming?e.name:null)},[e.name,e.isRenaming]);let c=eN({abbreviatedStateName:e.abbreviatedStateName,guid:e.guid,shouldShowGuids:e.shouldShowGuids,name:e.name,isSiteHomepage:e.isSiteHomepage,isWebpage:e.isWebpage,nodeType:e.nodeType}),h=y.rf(e.recordingKey,e.focusOnSingleClick?"click":"dblclick",()=>{O.F.trackFromFullscreen("action_rename_selection",{source:"click"}),e.startRenaming(e.guid)}),m=(0,n.useRef)(null),x=(0,n.useCallback)(e=>{e&&(m.current=e,m.current.select())},[]),f=y.AF(e.recordingKey,"change",e=>{s(e.currentTarget?.value)}),b=y.v_(e.recordingKey,"keydown",t=>{if(!i){if(t.keyCode===_.Uz.ESCAPE)e.stopRenaming(!1);else if(t.keyCode===_.Uz.ENTER)e.stopRenaming(!0,m.current?.value,c);else{if(t.keyCode!==_.Uz.TAB)return(0,N.jr)(t,N.W0.NO),y.aH;t.preventDefault(),e.stopRenaming(!0,m.current?.value,c),t.shiftKey?e.prevNodeGuid&&e.startRenaming(e.prevNodeGuid):e.nextNodeGuid&&e.startRenaming(e.nextNodeGuid)}}}),k=y.iQ(e.recordingKey,"blur",()=>{e.stopRenaming(!0,m.current?.value,c)}),S=!e.isFixedOnHScroll,w="SLIDE_ROW"===e.nodeType,T=d&&(0,u.kc)().ce_il_root;return(0,r.jsxs)(r.Fragment,{children:[w?null:T?(0,r.jsx)(W.N,{guid:e.guid,size:e.iconSize,navigateAndPanTo:e.navigateAndPanTo,isMeasurementNode:e.isMeasurementNode,rowSelected:e.isSelected}):(0,r.jsx)(ea.Bf,{disabled:e.disabled,guid:e.guid,hovered:e.hovered,isSiteHomepage:e.isSiteHomepage,locked:e.locked,navigateAndPanTo:e.navigateAndPanTo,outOfView:e.outOfView,panelType:e.panelType,scrollLeft:e.scrollLeft}),(e.isThumbnail||e.isFavicon||e.isSocialImage)&&(0,r.jsx)(j.B,{"data-tooltip":e.isFavicon?(0,v.t)("fullscreen.object_row.favicon"):e.isSocialImage?(0,v.t)("fullscreen.object_row.social_image"):(0,v.t)("fullscreen.object_row.file_thumbnail"),"data-tooltip-show-above":!0,"data-tooltip-type":F.Ib.TEXT,className:V.V3,svg:ew.A}),e.isRenaming&&(0,r.jsx)(H.ks,{autoCapitalize:"off",autoCorrect:"off",className:g()(V.hF,e.inputTextOverridesClassName),innerRef:x,onBlur:k,onChange:f,onCompositionEnd:()=>l(!1),onCompositionStart:()=>l(!0),onKeyDown:b,spellCheck:!1,value:null!==t?t:e.name}),!e.isRenaming&&(0,r.jsxs)("span",{className:g()(V.qg,e.staticTextOverridesClassName,{[C.s.justifyBetween.$]:a,[C.s.eventsAuto.$]:e.isFixedOnHScroll}),onDoubleClick:e.focusOnSingleClick?void 0:h,onClick:e.focusOnSingleClick?h:void 0,dir:"auto",children:[(0,r.jsx)("div",{className:V.Xv,ref:e.layerNamePlaceholderRef,children:c}),(0,r.jsx)("div",{className:g()(V._k,{[V.r]:!S||e.isHovered||e.displaySemanticLabel}),ref:e.layerNameRef,children:o&&"pending"!==o.state?o.name:c}),e.explicitVariableModeNames&&e.explicitVariableModeNames.length>0&&(0,r.jsx)("div",{className:V.pS,children:(0,r.jsx)(U,{modeNames:e.explicitVariableModeNames})}),!e.isHovered&&a&&(0,r.jsx)(eI,{isPrimaryBreakpoint:e.isPrimaryBreakpoint})]})]})}let eA=n.memo(function(e){var t,s;t="object-row-inner-render-timer",f.sn.start(t),(0,n.useEffect)(()=>{let e=f.sn.get(t);e&&e.isRunning&&!e.isUnreliable&&f.sn.tryStop(t)});let{topLevelObjectRowHeight:i,nestedObjectRowHeight:m,rowSelectionGap:_,topLevelIconSize:j,nestedIconSize:v,boldLayerNames:N}=n.useContext(P.y0),I=(0,n.useRef)(null),[E,A]=(0,n.useState)(null),[O,H]=(0,n.useState)(null),z=(0,n.useCallback)(e=>{A(e)},[]),U=(0,n.useCallback)(e=>{H(e)},[]),W=(0,p.md)(S.eC),$=(s=e.guid,(0,p.md)(S.Fj).has(s)),[X,Y]=(0,n.useState)(!1),[q,J]=(0,n.useState)(!1),Z=(0,R.Fk)((e,t)=>e.get(t)?.name??"",e.guid),Q=(0,R.Fk)((e,t)=>{let s=e.get(t);return s&&s.isState?s.stateAbbreviatedName:null},e.guid),ee=eN({abbreviatedStateName:Q,name:Z,shouldShowGuids:e.shouldShowGuids,guid:e.guid,isSiteHomepage:e.isSiteHomepage,isWebpage:e.isWebpage,nodeType:e.nodeType}),et=(0,n.useCallback)(()=>{let e=I.current;return!!e&&e.scrollWidth>e.offsetWidth},[]),es=(0,n.useCallback)(()=>{Y(et())},[Y,et]),{onContextMenu:er}=e,en=(0,h.rf)(e.recordingKey,"contextmenu",(0,n.useCallback)(t=>{er&&er(e.guid,t)},[er,e.guid])),{onMouseEnter:ei}=e,ea=(0,h.rf)(e.recordingKey,"mouseenter",(0,n.useCallback)(t=>{es(),J(!0),ei&&ei(e.guid,t)},[ei,e.guid,es])),eo=(0,n.useCallback)(()=>{J(!1)},[]),{lockMouseDown:ed}=e,ec=(0,n.useCallback)(t=>{ed&&ed(e.guid,t)},[ed,e.guid]),{visibleMouseDown:eh}=e,em=(0,n.useCallback)(t=>{eh&&eh(e.guid,t)},[eh,e.guid]),{onDragStartCallback:eg}=e,ef=(0,n.useCallback)(t=>{t.dataTransfer.effectAllowed="none",null!=eg&&eg(e.guid,t)},[eg,e.guid]),{onDragOverCallback:e_}=e,eb=(0,n.useCallback)(t=>{null!=e_&&e_(e.guid,t)},[e_,e.guid]),{onDragDropCallback:ej}=e,eC=(0,n.useCallback)(t=>{null!=ej&&ej(e.guid,t)},[ej,e.guid]),{onDragEnterCallback:ew}=e,eI=(0,n.useCallback)(t=>{null!=ew&&ew(e.guid,t)},[ew,e.guid]),{onDragLeaveCallback:eA}=e,eM=(0,n.useCallback)(t=>{null!=eA&&eA(e.guid,t)},[eA,e.guid]),eP=(0,n.useCallback)(()=>null!=e.nodeMemoryUsage&&null!=e.rootMemoryUsage?(0,M.pr)(e.nodeMemoryUsage,e.rootMemoryUsage,!0):((0,b.$D)(l.e.SCENEGRAPH_AND_SYNC,Error("node memory usage or root memory usage is null")),""),[e.nodeMemoryUsage,e.rootMemoryUsage]),eL=!e.visible||e.isAncestorHidden&&e.panelType!==B.g$.CodeComponent,eO=e.locked||e.isAncestorLocked,eR=(e.level+3)*(0,x.jz)(eS.indentWidthWithMargin),eF=(0,x.jz)(eS.scrollBarYWidth)+(0,x.jz)(eS.trackPadding),eD=void 0!==e.panelWidth&&eR+eF>e.panelWidth+e.scrollLeft,eK=0===e.level,eB=(0,w.A0)(o.uQ6.LAYERS_PANEL_ACTION_ROW),eG=(0,c.UN)().get(e.guid),eH=eB&&eK&&q&&eG&&(0,w.sq)(eG),ez="REACT_FIBER"!==e.nodeType&&"SLIDE"!==e.nodeType&&"SLIDE_ROW"!==e.nodeType,eV=p.md(K.r8(e.guid))?.state==="pending",eU=(0,L.J2)((0,T.UK)().showSemanticTagsOnLayerRows),eW=e.visible&&!e.isAncestorHidden&&eU,e$=eK?i:m,eX=eK?j:v,eY={transform:`translate3d(0px, ${e.top}px, 0)`,height:e$,"--row-actions-width":eH?ek.gdM:ek.yj4,"--object-row-height":`${e$}px`,"--selection-height":`${e$-2*_}px`},eq=e.fixed&&0!==e.panelWidth,eJ="FRAME"===e.nodeType,eZ=g()({[V.nM]:!0,[V.M4]:eK,[V.Gt]:eJ&&!(0,eu.Rt)(e)&&!e.resizeToFit&&!e.isStateGroup,[V.Os]:eJ&&!(0,eu.Rt)(e)&&e.resizeToFit,[V.t$]:eJ&&(0,eu.Rt)(e),[V.DT]:e.isStateGroup,[V.a6]:(0,d.MT)(e.nodeType),[V.uW]:"SECTION"===e.nodeType,[V.HR]:"SYMBOL"===e.nodeType,[V.rS]:"CODE_COMPONENT"===e.nodeType,[V.bY]:"CODE_INSTANCE"===e.nodeType,[V.$E]:e.componentLike,[V.qm]:e.layerLikeCodeNode||"REACT_FIBER"===e.nodeType,[V.xG]:"MODULE"===e.nodeType,[V.KJ]:"INSTANCE"===e.nodeType,[V.iE]:e.isStamp,[V.Zt]:"HIGHLIGHT"===e.nodeType,[V.HL]:"WIDGET"===e.nodeType||e.isWidgetSublayer,[V.j3]:e.isDescendantOfSymbol,[V.cb]:e.isDescendantOfInstanceExcludingSlotSublayers,[V.NI]:e.isSlot,[V.vp]:e.isDescendantOfModule,[V.dK]:e.mask,[V.WO]:(0,B.qW)(e.panelType),[V.i9]:e.isWebpage,[V.Cr]:N,[V.Zu]:!!eq,[V.lh]:!!e.layerAbove,[V.yo]:e.isHovered,[V.wH]:e.isSelected,[V.ct]:e.isAncestorSelected,[V.r9]:eL,[V.xt]:eO,[V.sz]:e.hasChildren&&e.isExpanded,[V.uC]:e.isLayerAboveSelected&&e.isLayerBelowSelected,[V.ow]:e.isLayerAboveSelected&&!e.isLayerBelowSelected,[V.sc]:e.isLayerBelowSelected&&!e.isLayerAboveSelected}),eQ=e.versionHistory?.activeId&&"current_version"===e.versionHistory.activeId,e0=e.showMemoryUsage&&e.showInFileMemoryPercentage&&!e.isRenaming&&eQ,{registerWidth:e1}=(0,G.gz)(),e3=!!eq,{observeWithResizeObserver:e5,unobserveWithResizeObserver:e4}=e;(0,n.useEffect)(()=>{if(E&&O){if(e3)return;let t=()=>{let t=E.getBoundingClientRect().right-O.getBoundingClientRect().left+(0,x.jz)(eS.rowActionsWidth);e1(e.guid,t)};return t(),e5(E,t),e5(O,t),()=>{e4(E),e4(O)}}},[e3,E,O,e.guid,e1,e5,e4]);let e2=!(0,u.kc)().eu_perf_layers_toggle_render||q||!e.visible||e.locked||e.isAncestorLocked||e.isAncestorHidden,e6=(0,r.jsxs)(r.Fragment,{children:[eH&&(0,r.jsx)(ex,{disabled:eV}),ez&&e2&&(0,r.jsx)(ep,{recordingKey:y.Pt(e,"lockIcon"),locked:e.locked,isAncestorLocked:e.isAncestorLocked,onMouseDown:ec}),ez&&e2&&(0,r.jsx)(ev,{recordingKey:y.Pt(e,"visibleIcon"),visible:e.visible,isAncestorHidden:e.isAncestorHidden,onMouseDown:em})]}),e7=!e.hideRowActions&&!e.isRenaming&&!e.isReadOnly&&!e.isDragging&&!eD,e8=(0,r.jsx)("div",{className:V.u4,"data-testid":`${e.guid}-layers-panel-row`,"data-tooltip":X?ee:null,"data-tooltip-hide-immediately":!0,"data-tooltip-max-lines":4,"data-tooltip-show-immediately":!0,"data-tooltip-show-right":!0,"data-tooltip-text-left":!0,"data-tooltip-type":F.Ib.TEXT,style:void 0===e.panelWidth?void 0:{width:e3?`${e.panelWidth}px`:`${e.panelWidth+e.scrollLeft}px`},children:function(t=!1){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(el,{currentPage:e.currentPage,disabled:eL,dispatch:e.dispatch,displayOrder:e.displayOrder,expandMouseDown:e.expandMouseDown,guid:e.guid,hasBullet:$,hasChildren:e.hasChildren,hovered:e.isHovered,indentsRefCallback:U,isExpanded:e.isExpanded,isLastMaskedAtLevels:e.isLastMaskedAtLevels,isMaskedAtLevels:e.isMaskedAtLevels,isMeasurementNode:t,level:e.level,locked:eO,mask:e.mask,outOfView:eD,recordingKey:t?void 0:y.Pt(e,"indents"),scrollLeft:e.scrollLeft}),(0,r.jsx)(eE,{...e,abbreviatedStateName:Q,disabled:eL,displaySemanticLabel:eW,hovered:e.isHovered,iconSize:eX,isFixedOnHScroll:e3,isMeasurementNode:t,layerNamePlaceholderRef:z,layerNameRef:I,locked:eO,name:Z,outOfView:eD,recordingKey:t?void 0:e.recordingKey,scrollLeft:e.scrollLeft}),e.hasWarning&&(0,r.jsx)("div",{className:g()(C.s.flex.alignCenter.mr16.$,V.QW),"data-tooltip-type":F.Ib.TEXT,"data-tooltip":e.warningMessage,"data-tooltip-max-lines":4,"data-tooltip-show-immediately":!0,"data-tooltip-hide-immediately":!0,children:(0,r.jsx)(a.R,{})}),e0&&(0,r.jsx)("span",{className:V.HY,dir:"auto",children:eP()}),eW&&(0,r.jsx)(ey,{guid:e.guid,className:V.R4}),e7&&(0,r.jsx)("div",{className:V.cm})]})}()});return(0,r.jsxs)("div",{className:eZ,"data-onboarding-key":e.guid===W&&e.isSelected&&(!e.isRowInView||e.isRowInView(e,O))?eT:void 0,"data-testid":e.hasChildren?"layer-row-with-children":"layer-row",draggable:!1,onContextMenu:en,onDragEnter:eI,onDragLeave:eM,onDragOver:eb,onDragStart:ef,onDrop:eC,onMouseEnter:ea,onMouseLeave:eo,style:eY,children:[e7&&(0,r.jsxs)("div",{className:V.cm,style:k.sx.absolute.wFull.eventsNone.$,children:[(0,r.jsx)("div",{className:C.s.wFull.$}),(0,r.jsx)("div",{className:V.V0,children:(0,r.jsx)("div",{className:V.Hz,children:e6})})]}),(0,r.jsx)(D.e,{condition:e3,wrapper:e=>(0,r.jsx)("div",{style:k.sx.absolute.wFull.eventsNone.$,children:(0,r.jsx)("div",{className:V.n4,children:(0,r.jsx)("div",{children:e})})}),children:e8})]})});eA.displayName="ObjectRow";let eM=n.memo(function(e){let t=(0,i.d4)(t=>t.mirror.appModel.hoveredNode===e.guid),s=e.hasRefToHoveredDef||t||e.isTemporarilyHovered,l=(0,I.Z)("prototype_sections_zoom"),a=n.useCallback(e=>{l((0,A.QZ)({nodeId:e,alwaysPan:!0}))},[l]),o=(0,E.o3)(e.guid);return(0,r.jsx)(eA,{...e,isHovered:s,explicitVariableModeNames:o,navigateAndPanTo:a})})},156928:(e,t,s)=>{s.d(t,{X:()=>eq});var r=s(104076),n=s(716976),i=s(903927),l=s(547115),a=s(951002),o=s(792875),d=s(638004),c=s(266808),u=s(170627),p=s(681958),h=s(980852),m=s(812714),g=s(795033),x=s(776111),f=s(511570),_=s.n(f),y=s(385446),b=s.n(y),j=s(851824),C=s(883765),v=s(76616),k=s(983500),S=s(597581),w=s(221586),T=s(787144),N=s(218465),I=s(681398),E=s(84072),A=s(641518),M=s(550209),P=s(264830),L=s(361170),O=s(876621),R=s(72138),F=s(549571),D=s(147046),K=s(278491),B=s(469191),G=s(819851),H=s(354114),z=s(968169),V=s(510232),U=s(772523),W=s(508011),$=s(120074),X=s(587277),Y=s(592726),q=s(582689),J=s(331497),Z=s(835307);class Q{constructor(e,t,s,r,n={}){this.component=e,this.onMouseDown=t,this.onMouseMove=s,this.onMouseUp=r,this.options=n,this.oldTouch=null,this.draggingID=null,this.deferredDragStart=null,this.onTouchStart=e=>{if(e.stopPropagation(),null===this.draggingID&&e.touches.length>0){let t=e.touches[0];if(this.draggingID=t.identifier,document.addEventListener("touchmove",this.onTouchMove,{passive:!1}),document.addEventListener("touchend",this.onTouchEndOrCancel),document.addEventListener("touchcancel",this.onTouchEndOrCancel),this.options.delayInMS){let s=!1;if(this.deferredDragStart=r=>{if(s)return!1;let n=r.clientX-t.clientX,i=r.clientY-t.clientY;return!(10>Math.sqrt(n*n+i*i))&&(s=!0,!this.options.delayInMS&&(this.onMouseDown(this.mouseEvent("mousedown",e,t)),!0))},this.options.delayInMS){let r=this.deferredDragStart;setTimeout(()=>{this.deferredDragStart!==r||s||(this.deferredDragStart=null,this.onMouseDown(this.mouseEvent("mousedown",e,t)))},this.options.delayInMS)}}else this.deferredDragStart=null,this.onMouseDown(this.mouseEvent("mousedown",e,t))}},this.onTouchMove=e=>{if(e.stopPropagation(),null!==this.draggingID){for(let t of e.touches)if(t.identifier===this.draggingID){if(this.deferredDragStart){if(!this.deferredDragStart(t))break;this.deferredDragStart=null}e.preventDefault(),this.onMouseMove(this.mouseEvent("mousemove",e,t));break}}},this.onTouchEndOrCancel=e=>{e.stopPropagation(),null!==this.draggingID&&(this.draggingID=null,document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEndOrCancel),document.removeEventListener("touchcancel",this.onTouchEndOrCancel),this.deferredDragStart?this.deferredDragStart=null:this.onMouseUp(this.mouseEvent("mouseup",e,this.oldTouch)))}}mouseEvent(e,t,s){this.oldTouch=s;let r=new MouseEvent(e,{altKey:t.altKey,metaKey:t.metaKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});return Object.defineProperty(r,"target",{value:t.target}),Object.defineProperty(r,"currentTarget",{value:t.currentTarget}),r}}var ee=s(440910),et=s(739710),es=s(299117),er=s(124125),en=s(192075),ei=s(244205),el=s(90844),ea=s(422872),eo=s(428045),ed=s(219971),ec=s(143277),eu=s(61102),ep=s(592228),eh=s(643330),em=s(441030);function eg(){let{show:e,isShowing:t,complete:s,uniqueId:i}=(0,ea.e)({overlay:em.xtb,priority:ec.N.SECONDARY_MODAL}),l=ed.y.isApple(),a=n.useMemo(()=>(0,r.jsx)(er.S,{shortcut:l?"\u2303\u21E7A":"Ctrl+Alt+Shift+A"}),[l]);return(0,el.E)(i,eo.in,()=>{e({canShow:()=>!!(0,m.kc)().ce_al_show_msal_onboarding})}),(0,r.jsx)(eu.rq,{arrowPosition:eh.F_.LEFT_TITLE,description:(0,en.tx)("fullscreen.msal_onboarding.body"),disableHighlight:!0,emphasized:!0,isShowing:t,onClose:s,onTargetLost:s,primaryCta:{label:(0,en.tx)("general.got_it"),type:"button",onClick:s,variantOverride:"primary",ctaTrackingDescriptor:ei.c.GOT_IT},secondaryCta:{label:(0,en.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/5731482952599#suggest",ctaTrackingDescriptor:ei.c.LEARN_MORE},targetKey:ep.vx,title:(0,r.jsx)("p",{"data-testid":"msal-onboarding-title",children:(0,en.tx)("fullscreen.msal_onboarding.header_with_shortcut",{msalShortcut:a})}),trackingContextName:"MSAL Onboarding Overlay"})}var ex=s(156816),ef=s(336547),e_=s(844182),ey=s(170462),eb=s(769183),ej=s.n(eb),eC=s(666875),ev=s(311272),ek=s(211862);function eS({ids:e,thumbnailEdits:t,focusedNodeId:s,width:i,height:l}){let a=(0,ek.tS)(),[o,d]=(0,n.useState)([]),[c]=(0,eC.A)(o,100,{equalityFn:eI});(0,n.useEffect)(()=>{if(c.length){let e=[...c];s&&e.includes(s)&&(e=[s,...e.filter(e=>e!==s)]),ej()(e,5).forEach((e,t)=>{e.forEach(e=>{let r=e===s;setTimeout(()=>(0,ev.I6)(e,r,a||"",i,l),40*t)})}),d(t=>t.filter(t=>!e.includes(t)))}},[c,s,a,i,l]);let u=(0,n.useCallback)(e=>{d(t=>t.includes(e)?t:[...t,e])},[]);return(0,r.jsx)(r.Fragment,{children:e.map(e=>(0,r.jsx)(eN,{guid:e,editCount:t.get(e)||0,requestThumbnailGeneration:u},e))})}let ew=(0,s(985416).Wh)(()=>(0,g.eU)({})),eT=(0,g.Iz)(e=>(0,g.eU)(t=>t(ew)[e]??null,(t,s,r)=>{let n=t(ew);s(ew,{...n,[e]:r})}));function eN({guid:e,editCount:t,requestThumbnailGeneration:s}){let[i,l]=(0,g.fp)(eT(e)),[a]=(0,eC.A)(t,400);return(0,n.useEffect)(()=>()=>{l(a)},[a,l]),(0,n.useEffect)(()=>{a===i&&(0,ev.lp)(e)||s(e)},[e,a,s,i]),(0,r.jsx)(r.Fragment,{})}function eI(e,t){return e.length===t.length&&e.every((e,s)=>e===t[s])}function eE(e){let{topLevelIconSize:t}=n.useContext(q.y0),s=(0,Z.wA)((e,t)=>t.filter(t=>{let s=e.get(t)?.type;return!!s&&!ey.w.includes(s)}),e.ids),i=(0,Z.$y)((e,t)=>c.glU?c.glU.getLastEditTimes(t).reduce((e,s,r)=>(e.set(t[r],s),e),new Map):new Map,e.ids);return(0,r.jsx)(eS,{ids:s,thumbnailEdits:i,focusedNodeId:e.focusedNodeId,width:2*t,height:2*t})}var eA=s(217961),eM=s(236631),eP=s(579337),eL=s(740419);function eO({guid:e,objectRow:t,setRowWidth:s}){let i=(0,n.useRef)(null),[l,a]=(0,n.useState)(),{rowWidthsCache:o}=(0,eP.gz)();return(0,n.useEffect)(()=>{if(!i.current||!e)return;let t=o[e];void 0!==t&&(t!==l?.width||e!==l?.guid)&&a({width:t,guid:e})}),(0,n.useEffect)(()=>{l?.guid===e&&s({guid:e,width:l.width})},[l,e,s]),(0,r.jsx)("div",{ref:i,className:_()(eM.s.absolute.invisible.$,eL.Qr),"data-testid":"autoscroll-measurement-node",children:t})}var eR=s(652539),eF=s(91704),eD=s(630701);function eK(e){let{top:t,width:s,guid:i,level:l,onMouseEnter:a,recordingKey:o}=e,{nestedObjectRowHeight:d}=n.useContext(q.y0),c=A.rf(o,"click",e=>{U.bd([i])}),u={transform:`translate3d(0px, ${t}px, 0)`,width:s,height:d},p={width:eF.iy*l*2,marginRight:1===l?eF.iy/2:0};return(0,r.jsxs)("div",{className:"layer_expansion_row--layerExpansionRow--G8Twa object_row--row--HIYa5",style:u,onMouseDown:e=>e.stopPropagation(),onClick:c,onMouseEnter:a,role:"button",tabIndex:0,children:[(0,r.jsx)("span",{className:"layer_expansion_row--layerExpansionIndent--Bg5Df object_row--indent--uZlad",style:p}),(0,r.jsx)("span",{className:"layer_expansion_row--iconWrapper--J3NJb object_row--iconWrapper--ivRSW",children:(0,r.jsx)(eR.B,{svg:eD.A})}),(0,r.jsx)("span",{className:"layer_expansion_row--rowText--yhMnt object_row--rowText--3qo7Q ellipsis--ellipsis--Tjyfa",children:(0,en.tx)("design_systems.component_properties.see_all_layers")})]})}var eB=s(224764);class eG extends A.o6{renderPlainIndents(e){let t=[];for(let s=0;s<e+1;s++)t.push((0,r.jsx)("span",{className:eL.pZ},s));return(0,r.jsx)("span",{className:eL.Wm,children:t})}render(){let e={transform:`translate3d(0px, ${this.props.top}px, 0)`,width:this.props.width,height:eB.n,"--selection-height":`${eB.n}px`,"--row-gap":"0px"},t=_()(eL.nM,eL.bV,{[eL.ct]:this.props.isParentSelected,[eL.j3]:this.props.isDescendantOfSymbol,[eL.cb]:this.props.isDescendantOfInstanceExcludingSlotSublayers,[eL.sc]:this.props.isParentSelected&&this.props.sectionHasChildren});return(0,r.jsxs)("div",{className:t,style:e,children:[this.renderPlainIndents(this.props.level),this.props.sectionType===c.KjJ.FIXED?(0,en.t)("fullscreen.properties_panel.constraints_resizing_panel.fixed"):(0,en.t)("fullscreen.properties_panel.scrolls")]})}}eG.displayName="SectionRow";var eH=s(656948),ez=s(967749),eV=s(347080);let eU="objects_panel--dropTargetBox--4SX8i",eW=new T.V;function e$(e){return"object"===e.rowType?e.guid:"layer-expansion"===e.rowType?`expand-${e.containingPrimaryInstanceGUID}`:e.sectionId}class eX extends A.o6{constructor(e){super(e),this.state={scrollTop:0,scrollLeft:0,mouseDown:null,dropTarget:null,needsScrollLine:!1,rowToScrollToData:null},this.cachedAllRowData=[],this.topByGuid=Object.create(null),this.leftByGuid=Object.create(null),this.heightByGuid=Object.create(null),this.totalHeight=0,this.cachedAllObjectRowDataMap={},this.setNeedsScrollLine=e=>{this.setState({needsScrollLine:e>0})},this.rangeSelectAnchorNodeId=null,this.getScene=()=>this.props.sceneGraph||(0,h.UN)(),this.initializeRows=e=>{let t=this.getScene(),s=e.customRowBuilder?e.customRowBuilder():(0,eH.Sk)({sceneGraph:t,rootNodeGuids:e.topNodeProperties?.children??[],showImmutableFrameSublayers:e.showImmutableFrameSublayers,temporarilyExpandedInstanceLayers:e.temporarilyExpandedInstanceLayers,topLevelObjectRowHeight:e.topLevelObjectRowHeight,nestedObjectRowHeight:e.nestedObjectRowHeight,focusedNodes:e.focusedNodes});this.topByGuid=s.topByGuid,this.leftByGuid=s.leftByGuid,this.heightByGuid=s.heightByGuid,this.sectionById=s.sectionById,this.totalHeight=s.totalHeight,this.cachedAllRowData=s.rowData,g.zl.set(eA.X,s.rowData.filter(eF.N1).some(e=>e.isExpanded&&e.hasChildren)),this.cachedAllObjectRowDataMap=s.rowData.filter(eF.N1).reduce((e,t)=>(e[t.guid]=t,e),{})},this.updateAllVisibleRowGuids=()=>{let e=[];for(let t of this.cachedAllRowData)(0,eF.N1)(t)&&e.push(t.guid);this.context.registerGuids(e)},this.justToggledExpandedGuid=null,this.anchorNodeId=null,this.topNodeDelta=0,this.lastCollapsedScrollPosition=null,this.scrollAfterNodeExpanded=!1,this.lastCollapsedGuid=null,this.hasCrossedDragThreshold=!1,this.onLeftPanelCollapsedChange=e=>{if(!e){let e=this.getTopSelectedNodeId();e&&this.scrollToNode({nodeId:e})}},this.scrollToNodeIdAfterUpdate=null,this.scrollToNode=({nodeId:e,forStackInsertion:t})=>{let s=this.topByGuid[e],r=void 0!==s,n=this.state.rowToScrollToData?.guid===e;if(!r||!n){let t=this.getScene().get(e);t&&t.parentGuid&&U.hq(t.parentGuid),this.scrollToNodeIdAfterUpdate=e;return}let i=this.heightByGuid[e],l=!this.isVerticallyVisible(s,s+i),a=this.shouldHorizontallyAutoscroll(e);(l||a)&&this.scrollNodeIntoView(e,{forStackInsertion:t})},this.recalculateLayout=()=>{this.windowInnerHeight=window.innerHeight,this.recalculateRequested=!1},this.recalculateRequested=!1,this.requestRecalculateLayout=()=>{this.recalculateRequested||requestAnimationFrame(this.recalculateLayout)},this.isScrolling=!1,this.scrollingTimeout=null,this.handleMouseEnterAfterScroll=null,this.hasTrackedHScrollEvent=!1,this.onScroll=e=>{this.isScrolling=!0,this.nextScrollTop=e,null==this.frameRequestY&&(this.frameRequestY=requestAnimationFrame(this.setScrollTopState)),null!=this.scrollingTimeout&&clearTimeout(this.scrollingTimeout),this.scrollingTimeout=setTimeout(this.doneScrolling,50),this.props.onScroll(e),this.setNeedsScrollLine(e),g.zl.set(ef.uK,{autoScroll:!1})},this.onScrollLeftChanged=(e,t)=>{t||this.props.stopRenaming(!1),this.nextScrollLeft=e,null==this.frameRequestX&&(this.frameRequestX=requestAnimationFrame(this.setScrollLeftState)),this.hasTrackedHScrollEvent||((0,C.sx)("layers_horizontal_scroll"),this.hasTrackedHScrollEvent=!0)},this.doneScrolling=()=>{this.isScrolling=!1,this.scrollingTimeout=null,this.handleMouseEnterAfterScroll&&(this.handleMouseEnterAfterScroll(),this.handleMouseEnterAfterScroll=null)},this.frameRequestY=null,this.frameRequestX=null,this.nextScrollTop=0,this.nextScrollLeft=0,this.setScrollTopState=()=>{this.setState({scrollTop:this.nextScrollTop}),this.frameRequestY=null},this.setScrollLeftState=()=>{this.setState({scrollLeft:this.nextScrollLeft}),this.frameRequestX=null},this.isNodeSticky=e=>((0,M.xO)(d.e.FIGJAM,this.props),e.parentGuid===this.props.currentPage&&("SYMBOL"===e.type||"FRAME"===e.type&&!e.resizeToFit)),this.isAncestorSticky=e=>{let t=this.getScene(),s=e.parentGuid?t.get(e.parentGuid):null;for(;s&&s.guid!==this.props.currentPage;){if(this.isNodeSticky(s))return!0;s=s.parentGuid?t.get(s.parentGuid):null}return!1},this.stickyHeaderGuid=null,this.lastStickyHeaderGuid=null,this.lastExpansionTarget=null,this.findStickyHeaderRowAndReplaceInVisibleRows=e=>{if(this.stickyHeaderGuid=null,(this.state.scrollTop>0||this.scrollAfterNodeExpanded)&&e.length>0){let t;let s=this.state.scrollTop,r=(e,t,s)=>{if("object"!==e.rowType)return!1;let r=this.findStickyHeader(e,t,s);if(r){let t=this.renderedVisibleRowProps.indexOf(e);t>=0?this.renderedVisibleRowProps[t]=r:this.renderedVisibleRowProps.push(r)}return!!r},n=null;for(let i=0;i<e.length;i++)if(0===(t=e[i]).level){if(n&&r(n,n.top,t.top)||t.top>s)return;n=t}(0,a.KF)(!!n,"has at least one top level section"),r(n,n.top,Number.POSITIVE_INFINITY)}},this.scrollNodeIntoView=(e,t)=>{let s=t&&t.fromAIRename||!1,r=t&&t.forStackInsertion||!1;if(null==this.topByGuid[e]||this.shouldHorizontallyAutoscroll(e)&&this.state.rowToScrollToData?.guid!==e||!this.scrollContainerEl||!this.scrollContainer)return;let n=this.topByGuid[e],i=this.heightByGuid[e],l=this.state.scrollTop,a=this.scrollContainerHeight();if(this.stickyHeaderGuid===e){r&&this.scrollContainer.scrollTo(n-1);return}let o=this.getScene().get(e);if(!o)return;s||g.zl.set(ef.uK,{autoScroll:!1});let d=this.isAncestorSticky(o);if(d&&n<l+i?this.scrollContainer.scrollTo(n-i):!d&&n<l?this.scrollContainer.scrollTo(n):n+i>l+a&&this.scrollContainer.scrollTo(n-a/2),this.shouldHorizontallyAutoscroll(e)&&this.state.rowToScrollToData?.guid===e&&this.state.rowToScrollToData?.width){let t=this.getNewHorizontalAutoscrollPosition(e,this.state.rowToScrollToData?.width);void 0!==t&&this.scrollContainer.scrollToLeft(t)}},this.measureCriticalInteraction=!!((0,m.kc)().critical_interaction_layers_panel_right_click&&!(0,x.PN)()&&window?.performance?.mark),this.runAfterFramePaintCancel=null,this.rowContextMenu=(e,t)=>{if(this.props.onRowContextMenu){this.props.onRowContextMenu(e,t);return}let s=this.getScene().get(e);if(!s)return;(0,ee.sp)(this.getScene(),this.props.sceneGraphSelection,s.guid)||this.updateSelection(s.guid);let{clientX:r,clientY:n}=t;this.props.dispatch(D.j7({type:K.Rb,data:{clientX:r,clientY:n}})),this.measureCriticalInteraction&&(this.runAfterFramePaintCancel=(0,E.Z)(()=>{try{let e=window.performance.measure("critical-interactions:layers-panel-right-click-duration","critical-interactions:layers-panel-right-click-start");N.J.logVital("critical-interactions.layers-panel-right-click",{level:l.$b.INFO,startTime:window.performance.timeOrigin+e.startTime,duration:e.duration})}catch(e){(0,M.$D)(d.e.FRONTEND_PLATFORM,e)}}))},this.rowContainerMouseDown=A.cZ(this,"mousedown",e=>{let t=this.guidAtMousePosition(e.clientY);if(!t||(e.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&!this.props.renamingGuid&&document.activeElement.blur(),this.props.ignoreRightClickForSelection&&2===e.button))return;let s=2===e.button||0===e.button&&e.ctrlKey;if(this.measureCriticalInteraction&&s&&(this.runAfterFramePaintCancel&&this.runAfterFramePaintCancel(),window.performance.mark("critical-interactions:layers-panel-right-click-start")),this.props.onSelectNodesFromLayersPanel?.(),(this.props.allowToggleSelection??!0)&&(0,w.Fo)(e)){this.toggleSelected(t);return}(0,m.kc)().version_diffing&&this.props.editModeType===c.m1T.COMPARE_CHANGES&&c.glU.setActiveChange(t)&&this.props.showViewChangesNotification(t);let r=(0,o.IL)(this.props.sceneGraphSelection),n=null;if(r?n=r:this.rangeSelectAnchorNodeId&&(0,ee.K3)(this.props.sceneGraphSelection,this.rangeSelectAnchorNodeId)&&(n=this.rangeSelectAnchorNodeId),(this.props.allowSelectRange??!0)&&e.shiftKey&&n){U.GL(n,t),H.Y5.commit();return}(0,ee.sp)(this.getScene(),this.props.sceneGraphSelection,t)||(this.updateSelection(t),this.rangeSelectAnchorNodeId=t),(0,B.i)(e)||this.setState({mouseDown:new L.Mi(e.clientX,e.clientY)})},{recordMetadata:e=>{let t=this.guidAtMousePosition(e.clientY);return(0,a.KF)(!!t,"interaction test does not support rare case of no guid under mouse (empty layers panel?)"),{path:(0,eF.eT)(t,this.getScene()),clientX:e.clientX}},playbackMetadata:e=>{let t=(0,eF.g2)(e.path,this.getScene(),this.props.currentPage),s=this.topByGuid[t]+this.heightByGuid[t]/2;return{clientY:this.clientY(s),clientX:e.clientX}}}),this.onMouseMove=e=>{if(this.scrollContainer&&this.scrollContainerEl&&this.state.mouseDown&&!this.props.renamingGuid){this.state.mouseDown.distanceTo({x:e.clientX,y:e.clientY})>3&&(this.hasCrossedDragThreshold=!0);let t=this.relativeY(e.clientY),s=this.state.scrollTop,r=this.scrollContainerHeight();if(r>0){if(t<s){this.scrollContainer.scrollTo(s-(0,eF.bm)(s-t,this.props.topLevelObjectRowHeight));return}if(t>s+r){this.scrollContainer.scrollTo(s+(0,eF.bm)(t-s-r,this.props.topLevelObjectRowHeight));return}}let n=(0,eF.OL)(this.getScene(),this.props.sceneGraphSelection,this.topByGuid,this.heightByGuid,this.sectionById,e.clientX-this.state.mouseDown.x,t,this.mouseOverStickyHeaderGuid(e.clientY),this.props.panelType??eF.g$.Object,this.props.topNodeProperties,this.props.insertionLineBoxOffset);this.state.dropTarget&&n&&this.state.dropTarget.index!==n.index&&S.H.trigger(c.JA.SNAP),(this.hasCrossedDragThreshold||!n)&&(this.expandDropTargetIfNeeded(n,t),this.setState({dropTarget:n}))}},this.onMouseUp=A.cZ(this,"mouseup",e=>{let t=this.getScene(),s=!1;if(this.hasCrossedDragThreshold=!1,this.state.mouseDown&&!this.props.renamingGuid){if(s=!0,3>=this.state.mouseDown.distanceTo(new L.Mi(e.clientX,e.clientY))){if(!(0,B.i)(e)){let t=this.guidAtMousePosition(e.clientY);t?this.updateSelection(t):s=!1}}else if(!this.props.isReadOnly){let s=(0,eF.OL)(t,this.props.sceneGraphSelection,this.topByGuid,this.heightByGuid,this.sectionById,e.clientX-this.state.mouseDown.x,this.relativeY(e.clientY),this.mouseOverStickyHeaderGuid(e.clientY),this.props.panelType??eF.g$.Object,this.props.topNodeProperties,this.props.insertionLineBoxOffset);if(!s)return;let{parentGuid:r,index:n,section:i}=s,l=t.get(r);if(!l||void 0===n)return;let a=e.altKey,o=(0,eF.Lc)(l,n);a?(this.props.onSelectNodesFromLayersPanel?.(),u.l7.user("duplicate-selection",()=>U.kH(l.guid,o,i))):(this.props.onSelectNodesFromLayersPanel?.(),u.l7.user("reparent-selection",()=>U.Yu(l.guid,o,i))),U.hq(l.guid),c.Egt.clearTemporarilyExpanded(),H.Y5.commit()}}if(this.setState({mouseDown:null,dropTarget:null}),this.isDraggingToToggle&&(s=!0,this.isDraggingToToggle=null,H.Y5.commit()),!s)return A.aH},{recordMetadata:e=>{let t=this.getScene(),s=this.guidAtMousePosition(e.clientY),r=this.relativeY(e.clientY);(0,a.KF)(!!s,"interaction test does not support rare case of no guid under mouse (empty layers panel?)");let n=this.topByGuid[s],i=this.heightByGuid[s];return{path:(0,eF.eT)(s,t),treatAsEndOfClick:!!(this.state.mouseDown&&5>this.state.mouseDown.distanceTo(new L.Mi(e.clientX,e.clientY))),belowAll:r>n+i,clientX:e.clientX,aboveAll:r<n}},playbackMetadata:e=>{if(e.treatAsEndOfClick)return{clientX:this.state.mouseDown.x,clientY:this.state.mouseDown.y};{let t=(0,eF.g2)(e.path,this.getScene(),this.props.currentPage),s=this.topByGuid[t]+this.heightByGuid[t]/2;return e.belowAll&&(s+=this.heightByGuid[t]),e.aboveAll&&(s-=this.heightByGuid[t]),{clientY:this.clientY(s),clientX:e.clientX}}}}),this.setRowToScrollToData=e=>{this.setState({rowToScrollToData:e})},this.getNewHorizontalAutoscrollPosition=(e,t)=>{let s=this.leftByGuid[e];if(void 0===s)return;let r=s-16;return this.isOutOfViewLeft(e)?Math.max(0,r):this.isOutOfViewRight(e)&&t?t-s>(this.props.width??0)?r:t-(this.props.width??0):void 0},this.onScrollContainerMouseDown=()=>{U.wr(),H.Y5.commit()},this.cachedScrollContainerHeight=0,this.scrollContainerRef=e=>{this.scrollContainer=e,this.scrollContainerEl=e?.getClipContainer(),this.scrollContainerEl&&(0,m.kc)().obj_panel_caching&&(this.setupScrollContainerResizeObserver(this.scrollContainerEl),this.cachedScrollContainerHeight=this.scrollContainerEl.clientHeight)},this.containerMouseLeave=e=>{U.Uc(""),null!=this.hoverToExpandGroupTimeout&&clearTimeout(this.hoverToExpandGroupTimeout)},this.expandMouseDown=(e,t)=>{let s=this.getScene().get(e);if(!s)return;t.stopPropagation(),(0,C.sx)("objects_panel_expand",{nonInteraction:0});let r=!s.isExpanded;t.altKey?U.sK(s.guid,r):(0,w.Fo)(t)&&!(0,o.Im)(this.props.sceneGraphSelection)?U.yF(s.guid,r):U.sq(s.guid,r),this.justToggledExpandedGuid=s.guid},this.isDraggingToToggle=null,this.lockMouseDown=(e,t)=>{let s=this.getScene().get(e);if(!s||this.props.isReadOnly)return;t.stopPropagation();let r=!s.locked;this.isDraggingToToggle={locked:r},u.l7.user("set-locked",()=>{U.tU(s.guid,r,t.altKey)})},this.visibleMouseDown=(e,t)=>{let s=this.getScene().get(e);if(!s||this.props.isReadOnly)return;t.stopPropagation();let r=!s.visible;this.isDraggingToToggle={visible:r},u.l7.user("set-visible",()=>{U.pr(s.guid,r,t.altKey)})},this.hoverToExpandGroupTimeout=null,this.rowMouseEnter=(e,t)=>{let s=this.getScene().get(e);if(!s)return;let r=()=>{if(this.isDraggingToToggle){let{locked:e,visible:t}=this.isDraggingToToggle;null!=e&&u.l7.user("set-locked",()=>(function(e,t,s){e&&eJ(e,s,e=>{e.locked=t})})(s,e,!1)),null!=t&&u.l7.user("set-visible",()=>(function(e,t,s){e&&eJ(e,s,e=>{e.visible=t})})(s,t,!1))}this.state.mouseDown||U.Uc(s.guid)};I.Ay.firefox&&this.isScrolling?this.handleMouseEnterAfterScroll=r:r()},this.onDragDrop=(e,t)=>{this.onMouseUp(t.nativeEvent)},this.onDragOver=(e,t)=>{this.onMouseMove(t.nativeEvent)},this.onDragEnter=(e,t)=>{this.onMouseMove(t.nativeEvent),this.rowMouseEnter(e,t)},this.onDragLeave=(e,t)=>{this.onMouseMove(t.nativeEvent)},this.renderedVisibleRowProps=[],this.touchAdapter=new Q(this,this.rowContainerMouseDown,this.onMouseMove,this.onMouseUp,{delayInMS:500}),this.getIsRowInView=(e,t)=>{if(!this.scrollContainer)return!0;let s=this.scrollContainer.getClipContainer().getBoundingClientRect();if(!t)return!0;let r=t.getBoundingClientRect();return e.fixed&&(this.props.width??0)!==0||r.top>=s.top&&r.bottom<=s.bottom},this.recalculateLayout(),this.initializeRows(this.props),this.scrollContainerInnerRef=n.createRef()}componentDidMount(){super.componentDidMount(),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp),window.addEventListener("resize",this.requestRecalculateLayout),H.Y5.fromFullscreen.on("scrollToNode",this.scrollToNode);let e=c.glU&&c.glU.getFirstSelectedNodeIdForCurrentPage();e&&this.scrollToNode({nodeId:e}),this.updateAllVisibleRowGuids(),this.props.scrollContainerInnerRef?.(this.scrollContainerInnerRef);let t="objects-panel-inner-render-timer",s=v.sn.get(t);s&&s.isRunning&&!s.isUnreliable&&v.sn.tryStop(t)}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("resize",this.requestRecalculateLayout),H.Y5.fromFullscreen.removeListener("scrollToNode",this.scrollToNode),this.scrollContainerResizeObserver&&(this.scrollContainerResizeObserver.disconnect(),this.scrollContainerResizeObserver=void 0),(0,m.kc)().critical_interaction_layers_panel_right_click&&this.runAfterFramePaintCancel&&this.runAfterFramePaintCancel()}updateSelection(e){this.props.onSelectionUpdated?this.props.onSelectionUpdated(e):((0,X.S)("panel"),U.tJ([e]),H.Y5.commit())}UNSAFE_componentWillUpdate(e){if(e.renamingGuid&&e.renamingGuid!==this.props.renamingGuid)this.scrollToNodeIdAfterUpdate=e.renamingGuid;else if(e.currentPage&&e.currentPage!==this.props.currentPage){let e=c.glU&&c.glU.getFirstSelectedNodeIdForCurrentPage();e&&(this.scrollToNodeIdAfterUpdate=e)}let t=this.props.focusedNodes!==e.focusedNodes,s=this.props.objectsPanelRowRebuildCounter!==e.objectsPanelRowRebuildCounter,r=this.props.customRowBuilder!==e.customRowBuilder;if((s||r||this.props.currentPage!==e.currentPage||this.props.showImmutableFrameSublayers!==e.showImmutableFrameSublayers||!b()(this.props.temporarilyExpandedInstanceLayers,e.temporarilyExpandedInstanceLayers)||!b()(this.props.temporarilyHoveredNodes,e.temporarilyHoveredNodes)||t&&(0,m.kc)().ce_il_layer_focus||!b()(this.props.topNodeProperties?.children,e.topNodeProperties?.children))&&this.initializeRows(e),this.anchorNodeId=null,this.topNodeDelta=0,s){if(null!==this.justToggledExpandedGuid)this.justToggledExpandedGuid===this.stickyHeaderGuid?(this.lastCollapsedScrollPosition=this.state.scrollTop,this.lastCollapsedGuid=this.justToggledExpandedGuid,this.scrollToNodeIdAfterUpdate=this.stickyHeaderGuid):this.justToggledExpandedGuid===this.lastCollapsedGuid&&this.justToggledExpandedGuid===this.lastStickyHeaderGuid&&this.topByGuid[this.lastStickyHeaderGuid]===this.state.scrollTop&&(this.scrollAfterNodeExpanded=!0),this.justToggledExpandedGuid=null;else{let e=!1;for(let t of this.renderedVisibleRowProps)if("object"===t.rowType&&this.scrollContainer&&(0,eF.U$)(t,0,this.scrollContainer.getTrackHeight(),this.state.scrollTop)&&this.props.sceneGraphSelection[t.guid]){e=!0;break}let t=null,s=null;for(let r of this.renderedVisibleRowProps)"object"===r.rowType&&this.scrollContainer&&(0,eF.U$)(r,0,this.scrollContainer.getTrackHeight(),this.state.scrollTop)&&((!e||this.props.sceneGraphSelection[r.guid])&&(null===t||t>r.top)&&(t=r.top,this.anchorNodeId=r.guid),(null===s||s>r.top)&&(s=r.top,this.topNodeDelta=this.topByGuid[r.guid]-r.top))}}}componentDidUpdate(e,t){if(super.componentDidUpdate(e,t),!this.scrollContainer)return;if(this.updateAllVisibleRowGuids(),this.scrollToNodeIdAfterUpdate){this.scrollNodeIntoView(this.scrollToNodeIdAfterUpdate);let e=void 0!==this.topByGuid[this.scrollToNodeIdAfterUpdate],t=this.state.rowToScrollToData?.guid===this.scrollToNodeIdAfterUpdate;e&&t&&(this.scrollToNodeIdAfterUpdate=null)}else if(this.scrollAfterNodeExpanded)null!=this.lastCollapsedScrollPosition&&this.scrollContainer.scrollTo(this.lastCollapsedScrollPosition),this.scrollAfterNodeExpanded=!1,this.lastCollapsedScrollPosition=null,this.lastCollapsedGuid=null;else{let e=this.scrollContainer.getScrollTop()+this.topNodeDelta,t=!1;for(let s of this.renderedVisibleRowProps)if("object"===s.rowType&&s.guid===this.anchorNodeId){t=(0,eF.U$)(s,0,this.scrollContainer.getTrackHeight(),e);break}t?this.scrollContainer.scrollTo(e):this.anchorNodeId&&this.scrollNodeIntoView(this.anchorNodeId)}let s="objects-panel-inner-render-timer",r=v.sn.get(s);r&&r.isRunning&&!r.isUnreliable&&v.sn.tryStop(s)}getTopSelectedNodeId(){let e;let t=Object.keys(this.props.sceneGraphSelection),s=1/0;for(let r of t){let t=this.topByGuid[r];t<s&&(s=t,e=r)}return e}findStickyHeader(e,t,s){let r=this.state.scrollTop,n=this.getScene().get(e.guid);if(!n||!e.hasChildren||!(e.isExpanded||e.isTemporarilyExpanded))return null;let i=t<=r&&s>r+e.height,l=s>r&&s<=r+e.height;return(this.scrollAfterNodeExpanded||i||l)&&this.isNodeSticky(n)?i?(this.stickyHeaderGuid=e.guid,this.lastStickyHeaderGuid=this.stickyHeaderGuid,{...e,fixed:!0}):l?{...e,top:s-e.height,layerAbove:!0}:this.scrollAfterNodeExpanded&&e.guid===this.lastStickyHeaderGuid?(this.stickyHeaderGuid=e.guid,this.lastStickyHeaderGuid=this.stickyHeaderGuid,{...e,fixed:!0}):null:null}expandDropTargetIfNeeded(e,t){let s=null;if(e&&"sticky"!==e.parentTop){let r=this.getScene().get(e.parentGuid);(0,a.KF)(!!r,"parentGuid should point to a valid node");let n=this.heightByGuid[e.parentGuid],i=t>e.parentTop+n/3&&t<e.parentTop+2*n/3;r.uiOrderedChildren.length&&i&&(s=r.guid)}this.lastExpansionTarget!==s&&(this.lastExpansionTarget&&null!=this.hoverToExpandGroupTimeout&&clearTimeout(this.hoverToExpandGroupTimeout),s&&(this.hoverToExpandGroupTimeout=setTimeout(()=>{this.state.mouseDown&&U.Ir(s,!0)},1e3)),this.lastExpansionTarget=s)}toggleSelected(e){this.props.sceneGraphSelection[e]?U.D$([e]):(U.Dh([e]),this.rangeSelectAnchorNodeId=e),H.Y5.commit()}relativeY(e){let t=(0,P.bG)();return this.scrollContainerEl&&(t=this.scrollContainerEl.getBoundingClientRect().top),e-t+this.state.scrollTop}clientY(e){let t=(0,P.bG)();return this.scrollContainerEl&&(t=this.scrollContainerEl.getBoundingClientRect().top),e+t-this.state.scrollTop}isVerticallyVisible(e,t){if(!this.scrollContainerEl)return!0;let s=this.state.scrollTop,r=this.scrollContainerEl.getBoundingClientRect().height+this.state.scrollTop;return s<e&&t<r}isOutOfViewLeft(e){let t=this.leftByGuid[e];return void 0!==t&&t<this.state.scrollLeft-50}isOutOfViewRight(e){let t=this.leftByGuid[e];return void 0!==t&&t+(0,k.jz)(eV.indentWidth)>this.state.scrollLeft+(this.props.width??0)-50}shouldHorizontallyAutoscroll(e){return this.props.renamingGuid!==e&&(this.isOutOfViewLeft(e)||this.isOutOfViewRight(e))}guidAtMousePosition(e){return this.mouseOverStickyHeaderGuid(e)||(0,eF.GN)(this.getScene(),this.props.sceneGraphSelection,this.topByGuid,this.heightByGuid,this.relativeY(e))}mouseOverStickyHeaderGuid(e){return this.scrollContainerEl&&e-this.scrollContainerEl.getBoundingClientRect().top<this.props.topLevelObjectRowHeight?this.stickyHeaderGuid:null}computeStackOutlineHeight(e,t,s,r){return"sticky"===e?Math.min(t-s,r):Math.min(t-e,r-(e-s))}scrollContainerHeight(){return(0,m.kc)().obj_panel_caching&&this.cachedScrollContainerHeight?this.cachedScrollContainerHeight:this.scrollContainerEl?.clientHeight??0}renderDropTarget(e){let t=null;if(null!=e.parentTop){let s=this.scrollContainerHeight(),n=e.bottomForCanvasStackReparenting,i=this.heightByGuid[e.parentGuid],l="sticky"===e.parentTop||this.stickyHeaderGuid===e.parentGuid;n&&s&&(i=this.computeStackOutlineHeight(l?"sticky":e.parentTop,n,this.state.scrollTop,s)),t=l?(0,r.jsx)("div",{"data-testid":"drop-target-box",className:eU,style:{position:"sticky",width:this.props.width??0,height:i,zIndex:ez.Wb}},"drop-target-box"):(0,r.jsx)("div",{"data-testid":"drop-target-box",className:eU,style:{transform:`translate3d(0px, ${e.parentTop}px, 0)`,height:i}},"drop-target-box")}let s=null;return null!=e.lineTop&&(s=(0,r.jsx)("div",{"data-testid":"drop-target-line",className:"objects_panel--dropTargetLine--vmN9u",style:{marginLeft:`${e.lineIndent?e.lineIndent:0}px`,transform:`translate3d(0px, ${0===e.lineTop?0:e.lineTop-1}px, 0)`,transition:"margin-left 150ms 0ms"}},"drop-target-line")),[t,s]}setupScrollContainerResizeObserver(e){(0,m.kc)().obj_panel_caching&&this.observedScrollContainerEl!==e&&(this.scrollContainerResizeObserver&&this.scrollContainerResizeObserver.disconnect(),this.scrollContainerResizeObserver=new ResizeObserver(t=>{for(let s of t)if(s.target===e){let e=s.contentRect.height;e!==this.cachedScrollContainerHeight&&(this.cachedScrollContainerHeight=e);return}}),this.scrollContainerResizeObserver.observe(e),this.observedScrollContainerEl=e)}onContextMenu(e){e.stopPropagation(),e.preventDefault()}hasAtLeastOneRefToHoveredDefId(e){if(!this.props.hoveredPropDef||!this.props.hoveredPropDef.nodeIDs?.length||!this.props.hoveredPropDef.defID)return!1;let t=e.containingSymbolId;if(!t||!this.props.hoveredPropDef.nodeIDs.includes(t))return!1;for(let t of Object.values(e.propRefs))if(t.isLinked&&t.explicitDefID===this.props.hoveredPropDef.defID)return!0;return!1}renderObjectRow(e,t,s,n){let i=t.getNode(e.guid);if(!i||!i.parentGuid)return null;let l=t.getAncestorInfo(i.parentGuid),a=t.getMaskInfo(e.guid),o=null!=e.isSelected?e.isSelected:(0,ee.K3)(this.props.sceneGraphSelection,e.guid);if(!l||!a)return null;let d=(l.isAncestorSelected||o)&&!l.isAncestorHidden&&this.hasAtLeastOneRefToHoveredDefId(i),c=!!e.prevNodeGuid&&t.getAncestorInfo(e.prevNodeGuid).isAncestorSelected,u=(!!e.prevNodeGuid&&(0,ee.K3)(this.props.sceneGraphSelection,e.prevNodeGuid)||c)&&eH.OZ(this.cachedAllRowData)?.guid!==e.guid,h=!!e.nextNodeGuid&&t.getAncestorInfo(e.nextNodeGuid).isAncestorSelected,m=("FIXED_WHEN_CHILD_OF_SCROLLING_FRAME"===i.scrollBehavior||l.isAncestorFixed)&&l.isAncestorSelected,g=(!!e.nextNodeGuid&&(0,ee.K3)(this.props.sceneGraphSelection,e.nextNodeGuid)||h)&&eH.w6(this.cachedAllRowData)?.guid!==e.guid,x=i.isLayerLikeCodeNode&&!i.isInstanceSublayer&&!i.isSymbolSublayer,f=(i.isCodeInstance||i.isCodeFile||i.isCodeComponent)&&!x;return(0,r.jsx)(ep.oo,{isReadOnly:this.props.isReadOnly,...e,booleanOperation:i.booleanOperation,componentLike:f,cornerRadius:i.cornerRadius,currentPage:this.props.currentPage,dispatch:this.props.dispatch,displayOrder:l.childrenDisplayOrder,expandMouseDown:this.expandMouseDown,hasChildren:i.isExpandable||e.hasChildren||(0,et.vo)(i,this.getScene()),hasRefToHoveredDef:d,hideRowActions:this.props.hideRowActions,isAncestorHidden:l.isAncestorHidden,isAncestorLocked:l.isAncestorLocked,isAncestorSelected:!e.ignoreAncestorSelection&&l.isAncestorSelected,isDragging:!!this.state.dropTarget,isExpanded:e.isExpanded||e.isTemporarilyExpanded,isFavicon:this.props.faviconGuid===e.guid,isGIF:i.hasEnabledAnimatedPaint,isLastMaskedAtLevels:a.isLastMaskedAtLevels,isLayerAboveSelected:u,isLayerBelowSelected:g||m,isMaskedAtLevels:a.isMaskedAtLevels,isPrimaryBreakpoint:i.isPrimaryBreakpointFrame,isRenaming:this.props.renamingGuid===e.guid,isRowInView:s,isSelected:o,isSiteHomepage:this.props.topNodeProperties?.siteHomepageId===e.guid,isSlot:e.isSlot,isSocialImage:this.props.socialImageGuids?.split(",").includes(e.guid),isStamp:(0,p.GI)(i),isState:i.isState,isStateGroup:i.isStateGroup,isStaticImage:i.hasEnabledStaticImagePaint,isTemporarilyHovered:this.props.temporarilyHoveredNodes.includes(e.guid),isThumbnail:this.props.thumbnailGuid===e.guid,isWebpage:i.isResponsiveSetOrWebpage,isWidgetSublayer:!!i.isInWidget,layerLikeCodeNode:x,lockMouseDown:this.lockMouseDown,locked:i.locked,mask:i.mask,nodeMemoryUsage:this.props.showInFileMemoryPercentage?i.nodeMemoryUsage:null,nodeType:i.type,objectsPanelThumbnailId:i.objectsPanelThumbnailId,observeWithResizeObserver:this.props.observeWithResizeObserver,onContextMenu:this.rowContextMenu,onDragDropCallback:this.onDragDrop,onDragEnterCallback:this.onDragEnter,onDragLeaveCallback:this.onDragLeave,onDragOverCallback:this.onDragOver,onMouseEnter:this.rowMouseEnter,panelType:this.props.panelType??eF.g$.Object,panelWidth:this.props.width,recordingKey:n?void 0:e.recordingKey,renderResourceUse:this.props.renderResourceUse,resizeToFit:i.resizeToFit,rootMemoryUsage:this.props.showInFileMemoryPercentage?i.rootMemoryUsage:null,scrollDirection:i.scrollDirection,scrollLeft:this.state.scrollLeft,shouldShowGuids:this.props.shouldShowGuids,showInFileMemoryPercentage:this.props.showInFileMemoryPercentage,showMemoryUsage:this.props.showMemoryUsage,stackMode:i.stackMode,startRenaming:this.props.startRenaming,stopRenaming:this.props.stopRenaming,unobserveWithResizeObserver:this.props.unobserveWithResizeObserver,userId:this.props.userId,versionHistory:this.props.versionHistory,visible:i.visible,visibleMouseDown:this.visibleMouseDown},eW.getKeyForId(e.guid))}renderLayerExpansionRow(e){let t=eW.getKeyForId(e$(e)),s=void 0===this.props.width?"100%":this.props.width+this.state.scrollLeft;return(0,r.jsx)(eK,{top:e.top,width:s,guid:e.containingPrimaryInstanceGUID,level:e.level,onMouseEnter:()=>U.Uc(""),dispatch:this.props.dispatch,recordingKey:A.Pt(this.props,"layerExpansion",e.containingPrimaryInstanceGUID)},t)}renderSectionHeader(e){let t=this.sectionById[e.sectionId],s=t&&(0,ee.sp)(this.getScene(),this.props.sceneGraphSelection,t.parentGuid),n=!0;if(t?.parentGuid&&t?.type!==c.KjJ.FIXED){let e=this.props.sceneGraph.get(t?.parentGuid);e&&e.fixedChildrenCount===e.uiOrderedChildren.length&&(n=!1)}let i=Math.max(this.props.scrollWidth,this.props.width??0);return(0,r.jsx)(eG,{...e,width:i,isParentSelected:s,sectionHasChildren:n,dispatch:this.props.dispatch},eW.getKeyForId(e.sectionId))}render(){v.sn.start("objects-panel-inner-render-timer");let e=this.renderedVisibleRowProps,t=this.cachedAllRowData||[];for(let s of(this.renderedVisibleRowProps=(0,eF.Uw)(t,this.windowInnerHeight,this.state.scrollTop),this.findStickyHeaderRowAndReplaceInVisibleRows(t),e))(0,eF.Mq)(s,this.windowInnerHeight,this.state.scrollTop)||eW.freeKeyForId(e$(s));this.renderedVisibleRowProps.sort((e,t)=>eW.getKeyForId(e$(e))-eW.getKeyForId(e$(t)));let s=this.props.nodeInfoCache,n=[];for(let e of this.renderedVisibleRowProps)"object"===e.rowType?n.push(this.renderObjectRow(e,s,this.getIsRowInView)):"layer-expansion"===e.rowType?n.push(this.renderLayerExpansionRow(e)):n.push(this.renderSectionHeader(e));var i=null;if(this.scrollToNodeIdAfterUpdate){let e=this.cachedAllObjectRowDataMap[this.scrollToNodeIdAfterUpdate];void 0!==e&&(0,eF.N1)(e)&&(i=this.renderObjectRow(e,s,this.getIsRowInView,!0))}if(!this.props.hideCanvasDropTargets&&this.props.reparentIntoStackInfo&&this.props.sceneGraph){let e=this.props.reparentIntoStackInfo.indexInParent,t=this.props.reparentIntoStackInfo.parentGuid,s=this.props.sceneGraph.get(t);s&&n.push(...this.renderDropTarget((0,eF.Gs)(s,this.topByGuid,this.heightByGuid,this.props.sceneGraph,this.totalHeight,this.props.insertionLineBoxOffset,e)))}else!this.props.isReadOnly&&this.state.dropTarget&&n.push(...this.renderDropTarget(this.state.dropTarget));let l=this.stickyHeaderGuid||!this.state.needsScrollLine?"objects_panel--scrollContainer--h6khG":"objects_panel--scrollContainerWithBorder--SR2sm objects_panel--scrollContainer--h6khG",a={width:`max(${this.props.scrollWidth??0}px, 100%)`,height:this.totalHeight,"--row-gap":`${this.props.rowSelectionGap}px`};return(0,r.jsxs)(r.Fragment,{children:[this.props.showVisualLayerIcons&&(0,m.kc)().ce_il_root&&(0,r.jsx)(eE,{ids:this.renderedVisibleRowProps.filter(e=>"object"===e.rowType).map(e=>e.guid),focusedNodeId:this.getTopSelectedNodeId()}),(0,r.jsx)(eO,{objectRow:i,setRowWidth:this.setRowToScrollToData,guid:this.scrollToNodeIdAfterUpdate}),(0,r.jsx)(eF.M3,{selection:this.props.sceneGraphSelection,getNode:function(e){return s.getNode(e)??null}}),(0,r.jsxs)(R.P,{ref:this.scrollContainerRef,className:_()(l,{"objects_panel--hasPending--0IO3j":this.props.hasPending}),dataOnboardingKey:this.props.isUI3?void 0:ex.m4,enableOverscroll:!0,horizontalScrollBarEnabled:!0,initialScrollTop:this.props.initialScrollTop,innerClassName:_()({"objects_panel--reserveBottomHeight--yfmtq":this.props.reserveBottomHeight}),minContentWidth:this.props.width,onContextMenu:this.onContextMenu,onMouseDown:this.onScrollContainerMouseDown,onScroll:this.onScroll,onScrollLeftChanged:this.onScrollLeftChanged,recordingKey:A.Pt(this.props,"scrollContainer"),scrollContainerRef:this.scrollContainerInnerRef,width:this.props.width,children:[(0,r.jsx)(e_.jq,{onLeftPanelCollapsedChange:this.onLeftPanelCollapsedChange}),(0,r.jsx)(O.V,{children:(0,r.jsx)("div",{className:_()("objects_panel--rowContainer--03VQD","objects_panel--horizontalScrollBarPadding--JfnK4"),style:a,onMouseDown:this.rowContainerMouseDown,onTouchStart:this.touchAdapter.onTouchStart,onMouseLeave:this.containerMouseLeave,"data-testid":"objects-panel",children:n})})]})]})}}function eY(e){let t=(0,i.wA)(),s=(0,J.J2)((0,z.UK)().showImmutableFrameSublayers),l=(0,J.ut)(c.Ez5?.uiState().reparentIntoStackInfo,null),a=(0,W.NF)(),o=(0,W.Ht)(),d=(0,J.J2)(c.Ez5.uiState().hoveredComponentPropDef),u=(0,W.no)(),p=(0,J.J2)(c.Ez5.canvasViewState().temporarilyHoveredNodes),x=(0,Y.TA)(),f=(0,i.d4)(e=>e.mirror.sceneGraphSelection),_=(0,i.d4)(e=>e.mirror.objectsPanelRowRebuildCounter),y=(0,i.d4)(e=>e.mirror.appModel.temporarilyExpandedInstanceLayers),b=(0,i.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),C=(0,G.m0)(),v=(0,F._I)(),k=(0,V.E)(),S=(0,h.UN)(),w=(0,Z.wA)((e,t)=>{let s=e.get(t);return s?{guid:s.guid,children:s.uiOrderedChildren,siteHomepageId:s.siteHomepageId}:null},e.currentPage),T=(0,eP.el)(),{topLevelObjectRowHeight:N,nestedObjectRowHeight:I,rowSelectionGap:E,insertionLineBoxOffset:A,showVisualLayerIcons:M}=n.useContext(q.y0);(0,eF.SV)();let[P,L]=(0,g.fp)(eA.C),O=(0,j.A)(L,200),R=(0,Z.Fk)(e=>e.getCurrentPage()?.webMetadata?.faviconID),D=(0,Z.Fk)(e=>{let t=e.getCurrentPage();return(0,m.kc)().derived_prop_slow_selectors?(t?t.socialImageGuidsOnPage:[]).join(","):[t?.webMetadata?.socialImageID,...t?.childrenNodes.map(e=>e.isResponsiveSetOrWebpage&&e.webMetadata?.socialImageID)||[]].filter(e=>"string"==typeof e).join(",")}),K=(0,J.J2)((0,z.UK)().showGuids),B=(0,$._Z)().isLoading,H=(0,n.useMemo)(()=>new eH.nV(S,f),[S,_,f]),U=n.useRef(null),X=n.useRef(new Map);n.useEffect(()=>{let e=X.current;return U.current=new ResizeObserver(t=>{for(let s of t){let t=e.get(s.target);t?.(s)}}),()=>{U.current?.disconnect(),e.clear()}},[]);let Q=n.useCallback((e,t)=>{!e||X.current.has(e)||(X.current.set(e,t),U.current?.observe(e))},[]),ee=n.useCallback(e=>{e&&(U.current?.unobserve(e),X.current.delete(e))},[]);if(C&&!v)return null;let et=null===e.topNodeProperties?w:e.topNodeProperties;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eX,{...e,currentPage:e.currentPage,dispatch:t,editModeType:b,faviconGuid:R,focusedNodes:e.focusedNodes,hasPending:B,hoveredPropDef:d,initialScrollTop:P,insertionLineBoxOffset:A,nestedObjectRowHeight:I,nodeInfoCache:H,objectsPanelRowRebuildCounter:_,observeWithResizeObserver:Q,onScroll:O,onSelectNodesFromLayersPanel:e.onSelectNodesFromLayersPanel,recordingKey:e.recordingKey??"objectsPanel",renderResourceUse:a,reparentIntoStackInfo:l,reserveBottomHeight:e.reserveBottomHeight,rowSelectionGap:E,sceneGraph:S,sceneGraphSelection:f,scrollWidth:T,shouldShowGuids:K,showImmutableFrameSublayers:s,showInFileMemoryPercentage:u,showMemoryUsage:o,showViewChangesNotification:k,showVisualLayerIcons:M,socialImageGuids:D,temporarilyExpandedInstanceLayers:y,temporarilyHoveredNodes:p,topLevelObjectRowHeight:N,topNodeProperties:et,unobserveWithResizeObserver:ee,userId:x??void 0}),(0,r.jsx)(es.p,{featureFlag:"auto_auto_layout",children:(0,r.jsx)(eg,{})})]})}function eq(e){return(0,r.jsx)(eP.Rp,{children:(0,r.jsx)(eY,{...e})})}function eJ(e,t,s){if(s(e),t)for(let t of e.uiOrderedChildren)eJ((0,h.UN)().get(t),!0,s)}eX.displayName="ObjectsPanelView",eX.contextType=eP.$V},347598:(e,t,s)=>{s.d(t,{B:()=>a});var r=s(104076),n=s(511570),i=s.n(n),l=s(961125);function a({children:e,hasScrollLine:t,onClick:s}){return(0,r.jsx)("div",{className:i()(l.kL,{[l.to]:t}),onClick:s,children:e})}},837080:(e,t,s)=>{s.d(t,{H:()=>i});var r=s(104076),n=s(489175);function i({children:e,dataOnboardingKey:t}){return(0,r.jsx)("div",{className:"header_text--headerText--ZXIeN",onContextMenu:n.jo,"data-onboarding-key":t,children:e})}},582730:(e,t,s)=>{s.d(t,{o:()=>N});var r=s(104076),n=s(903927),i=s(680909),l=s(684742),a=s(420680),o=s(956814),d=s(864200),c=s(38660),u=s(266808),p=s(795033);s(120440);var h=s(641518),m=s(192075),g=s(330378),x=s(489175),f=s(736216),_=s(211862),y=s(894210),b=s(564941),j=s(156816),C=s(217961),v=s(156928),k=s(558720),S=s(141330),w=s(390452),T=s(578420);function N({isLayersOpen:e,onToggleLayers:t,recordingKey:s,...n}){let a=(0,_.q5)(),d=a?.thumbnailGuid||null;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.bL,{isOpen:e,toggle:t,height:"fill",children:[(0,r.jsxs)(i.Y9,{variant:"leftPanel",size:"lg","data-onboarding-key":j.BZ,children:[(0,r.jsx)(i.JU,{recordingKey:h.Pt(s,"layersCollapsedRow"),htmlAttributes:{onContextMenu:x.jo},children:(0,m.tx)("fullscreen.pages_panel.layers_tab")}),e&&(0,r.jsx)(i.X0,{children:(0,r.jsx)(I,{recordingKey:h.Pt(s,"layersOptionMenu")})})]}),(0,r.jsx)(i.UC,{children:(0,r.jsx)(v.X,{...n,thumbnailGuid:d})})]}),n.reserveBottomHeight&&n.showAllLayers&&(0,r.jsx)("div",{className:"x78zum5 xl56j7k x10l6tqk x1ey2m1c xu96u03 x3m8u43 xsdox4t x1yjdb4r xoegz02",children:(0,r.jsxs)(l.E,{onClick:n.showAllLayers,className:"x1hlb6i2 x1db2dqx x78zum5 x6s0dn4 x1rjybxy x19y5rnk xxk0z11 xh8yej3 xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x10e2c7l xv2f06h x1n0bwc9 x1c5oinq",children:[(0,r.jsx)(o.f,{}),(0,m.tx)("sites.layer_view.show_all_layers")]})})]})}function I(e){let t=(0,n.d4)(e=>e.mirror.appModel.keyboardShortcuts),s=(0,p.md)(C.X),i="collapse-layers",l=()=>{u.glU?.triggerActionEnumInUserEditScope(u.rcl.COLLAPSE_LAYERS,{})};if((0,f.A0)(u.uQ6.LAYERS_PANEL_OVERFLOW_MENU)){let s=[{displayText:(0,g.A)(i),callback:l,sideText:(0,b.c1)(t,i),rightJustifySideText:!0,icon:(0,r.jsx)(d.X,{"data-testid":"collapse-layers-button"}),recordingKey:i},{displayText:(0,g.A)("auto-rename-layers"),callback:()=>{(0,f.Br)({source:u.uQ6.LAYERS_PANEL_OVERFLOW_MENU,trackingDataSource:"layers_panel_overflow_menu"})},icon:(0,r.jsx)(c.d,{}),rightIcon:(0,r.jsx)(T.yi,{variant:w.x.ON_MENU,helpUrlVariant:S.JT.AUTO_RENAME_LAYERS}),recordingKey:"auto-rename-layers"}];return(0,r.jsx)(k.U,{dropdownItems:s,lean:"left",recordingKey:e.recordingKey})}return s?(0,r.jsx)(a.K,{"aria-label":(0,g.A)(i),"data-testid":"collapse-layers-button",onClick:l,recordingKey:h.Pt(e.recordingKey,i),htmlAttributes:{"data-tooltip-type":y.Ib.TEXT,"data-tooltip":(0,g.A)(i)},children:(0,r.jsx)(d.X,{})}):(0,r.jsx)(r.Fragment,{})}},685040:(e,t,s)=>{s.d(t,{v:()=>G});var r=s(104076),n=s(716976),i=s(903927),l=s(276800),a=s(989941),o=s(623411),d=s(12866),c=s(812714),u=s(883765),p=s(641518),h=s(836982),m=s(361170),g=s(192075),x=s(850701),f=s(197055),_=s(278491),y=s(354114),b=s(553065),j=s(754446),C=s(805384),v=s(894210),k=s(386958),S=s(350205),w=s(471798),T=s(221586);let N="mixed_checkbox--mixed--xYUsQ";class I extends n.PureComponent{constructor(e){super(e),this.documentKeyDown=e=>{e.keyCode===T.Uz.TAB&&this.setState({showFocus:!0})},this.documentMouseDown=e=>{this.setState({showFocus:!1})},this.onFocus=e=>{this.state.showFocus||e.target.blur()},this.state={showFocus:!1}}componentDidMount(){document.addEventListener("keydown",this.documentKeyDown),document.addEventListener("mousedown",this.documentMouseDown)}componentWillUnmount(){document.removeEventListener("keydown",this.documentKeyDown),document.removeEventListener("mousedown",this.documentMouseDown)}classNameForInput(){let{someChecked:e}=this.props,t="mixed_checkbox--checkboxInput--aoLHh";return e&&(t+=` ${N}`),this.props.inputClassName&&(t+=` ${this.props.inputClassName}`),t}classNameForCheckmark(){let{someChecked:e}=this.props,t="mixed_checkbox--checkmark--B6ca7";return e?t+=` ${N}`:t+=" mixed_checkbox--checked--w0eLb",this.props.disabled&&(t+=" mixed_checkbox--disabled--NP7v9"),this.props.checkmarkClassName&&(t+=` ${this.props.checkmarkClassName}`),t}render(){let{allChecked:e,someChecked:t}=this.props;return(0,r.jsxs)("label",{className:["mixed_checkbox--checkboxHitbox--QsCWQ",this.props.className].filter(e=>!!e).join(" "),children:[(0,r.jsx)("input",{id:this.props.id,"data-testid":this.props["data-testid"],"data-onboarding-key":this.props["data-onboarding-key"],type:"checkbox",onFocus:this.onFocus,checked:e,className:this.classNameForInput(),onChange:this.props.onChange,disabled:this.props.disabled}),(t||e)&&(0,r.jsx)("div",{className:this.classNameForCheckmark(),children:e?(0,r.jsx)(S.l,{}):(0,r.jsx)(w.w,{})})]})}}I.displayName="MixedCheckbox";class E extends p.o6{constructor(e){super(e),this.onChange=p.Z7(this,"change",e=>{this.props.onChange?.(e.target.checked)})}render(){let e=(0,b.hS)(this.props.property)&&!!(0,b.E7)(this.props.property),t=(0,b.gl)(this.props.property);return(0,r.jsx)(I,{className:["checkbox--checkboxHitbox--HBFVf mixed_checkbox--checkboxHitbox--QsCWQ",this.props.className].filter(e=>!!e).join(" "),inputClassName:"checkbox--checkboxInput--IHKak mixed_checkbox--checkboxInput--aoLHh",checkmarkClassName:"checkbox--checkmark--pzYni mixed_checkbox--checkmark--B6ca7",allChecked:e,someChecked:t,disabled:this.props.disabled,id:this.props.id,"data-testid":this.props["data-testid"],onChange:this.onChange})}}E.displayName="Checkbox";var A=s(964182),M=s(691967),P=s(501883),L=s(737139),O=s(421166),R=s(659159),F=s(7087),D=s(211251),K=s(167151),B=s(694915);function G(e){let t=(0,n.useRef)(null),s=(0,d.DP)(),S=(0,i.wA)(),w=(0,K.cJ)(),{backgroundColor:T,backgroundEnabled:N,backgroundOpacity:I,exportBackgroundDisabled:M}=(0,j.zj)("backgroundColor","backgroundEnabled","backgroundOpacity","exportBackgroundDisabled"),G=e=>y.Y5.updateSelectionProperties({backgroundEnabled:e}),z=e=>{y.Y5.updateSelectionProperties({exportBackgroundDisabled:!e})},V=n.useMemo(()=>{let e=(0,b.E7)(T),t=(0,b.E7)(I);return null!=e&&null!=t?{...e,a:t}:T||b.oV},[T,I]),U=n.useMemo(()=>(0,b.hS)(I)&&"number"==typeof I&&isNaN(I)?0:I,[I]),W=()=>{if(e.setDefaultToolOnPickerOpen&&y.Y5.triggerAction("set-tool-default"),e.pickerShown&&e.pickerShown.id===_.k8)S(x.XE());else{(0,c.kc)().ce_properties_panel_tracking&&(0,u.sx)("editor-background-panel-color-picker-show");let e=t.current?(0,k.cn)(t.current):{x:0,y:0};S(x.u1({id:_.k8,initialX:e.x,initialY:e.y})),S(f.sw())}},$=()=>(0,r.jsx)(H,{backgroundColor:T,backgroundEnabled:N,backgroundOpacity:I,pickerShown:e.pickerShown,chitRowRef:t,recordingKey:e.recordingKey,toggleColorPicker:W}),X=()=>({color:(0,b.E7)(T)??void 0,opacity:(0,b.E7)(U)??void 0,type:"SOLID",blendMode:"NORMAL",visible:(0,b.E7)(N)??void 0}),Y=()=>(0,r.jsx)(D.a,{...e,ref:t,dragging:!1,hasFocus:!1,onPreviewClick:W,onRowFocus:l.lQ,paint:X(),previewActive:!1,secondIconButton:q(),selected:e.pickerShown?.id===_.k8,singletonRow:!0}),q=()=>void 0===N?void 0:(0,r.jsx)("span",{className:"background_panel--visible--2-4Ns",children:(0,r.jsx)(R.B,{visible:N,onChange:G,recordingKey:p.Pt(e,"visibleToggle")})});return(0,r.jsx)(h.k,{name:"background_panel",children:(0,r.jsxs)(L.Zk,{children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(L.fI,{className:"background_panel--panelTitleRow--uNINf",children:[(0,r.jsx)(P.xw,{children:w?(0,g.tx)("fullscreen.properties_panel.background"):(0,g.tx)("fullscreen.properties_panel.page")}),(0,r.jsx)(F.M,{showLibrarySets:!0,recordingKey:"pageLevel"})]}),"ui2"===s.version?(0,r.jsxs)(L.fI,{ref:t,children:[$(),q()]}):(0,r.jsx)(C.Q.Consumer,{children:e=>e.useLargePreviewRows?Y():(0,r.jsx)(B.DE,{ref:t,label:null,input:$(),icon:q()})})]}),e.hasExports?"ui3"===s.version?(0,r.jsx)(B.Ad,{label:(0,r.jsx)(r.Fragment,{}),input:(0,r.jsx)(a.S,{muted:!0,mixed:M===b.oV,checked:!1===M,onChange:z,recordingKey:p.Pt(e,"exportDisableCheckbox"),label:(0,r.jsx)(o.J,{htmlAttributes:{"data-tooltip":(0,g.t)("fullscreen.properties_panel.include_the_canvas_or_group_background_in_exports"),"data-tooltip-type":v.Ib.TEXT},children:(0,g.tx)("fullscreen.properties_panel.show_in_exports")}),htmlAttributes:{"data-tooltip":(0,g.t)("fullscreen.properties_panel.include_the_canvas_or_group_background_in_exports"),"data-tooltip-type":v.Ib.TEXT}})}):(0,r.jsxs)(L.fI,{className:"background_panel--checkboxLabelRow--r-hmK",children:[(0,r.jsx)(E,{className:"background_panel--checkbox--6U3j-",id:"export-background-disabled",property:M===b.oV?b.oV:!M,onChange:z,recordingKey:p.Pt(e,"exportDisableCheckbox")}),(0,r.jsx)(L.JU,{className:"background_panel--checkboxLabel--ITthj",htmlFor:"export-background-disabled","data-tooltip-type":v.Ib.TEXT,"data-tooltip":(0,g.t)("fullscreen.properties_panel.include_the_canvas_or_group_background_in_exports"),children:(0,g.tx)("fullscreen.properties_panel.show_in_exports")})]}):void 0,e.pickerShown?.id===_.k8&&(0,r.jsx)(A.h,{disabledVariableIds:new Set,initialPosition:new m.Mi(e.pickerShown.initialX,e.pickerShown.initialY),color:(0,b.hS)(V)?(0,b.E7)(V):{r:1,g:1,b:1,a:1},boundVariable:null,onChange:(e,t)=>{let s=e.a;e.a=1,y.Y5.updateSelectionProperties({backgroundColor:e,backgroundOpacity:s,backgroundEnabled:!0},{shouldCommit:t})},recordingKey:p.Pt(e,"colorPicker")}),(0,r.jsx)(O.wu,{showExplicitOnly:!0,recordingKey:"backgroundPanel-variableModeEntries"})]})})}function H(e){let t=n.useMemo(()=>{let t=(0,b.E7)(e.backgroundColor),s=(0,b.E7)(e.backgroundOpacity);return null!=t&&null!=s?{...t,a:s}:e.backgroundColor||b.oV},[e.backgroundColor,e.backgroundOpacity]),s=n.useMemo(()=>(0,b.hS)(e.backgroundOpacity)&&"number"==typeof e.backgroundOpacity&&isNaN(e.backgroundOpacity)?0:e.backgroundOpacity,[e.backgroundOpacity]),l=(0,b.E7)(e.backgroundColor),a=(0,b.E7)(e.backgroundEnabled),o={color:l??void 0,opacity:(0,b.E7)(s)??void 0,type:"SOLID",blendMode:"NORMAL",visible:a??void 0};return(0,r.jsx)("div",{className:"background_panel--colorValueContainer---lsls paint_panels--colorValueContainer--DGeSP raw_components--borderFocusWithin--BaipZ paint_panels--_baseColorValueContainer--t-UIV raw_components--base--T7G0z raw_components--singleRowHeight--dKM4t",children:(0,r.jsx)(M.y,{recordingKey:e.recordingKey,togglePicker:e.toggleColorPicker,chitOverride:{color:t,opacity:s},paint:o,onChange:(t,s)=>{let r=!(0,i.bN)(t.color,e.backgroundColor),n=t.opacity!==e.backgroundOpacity;y.Y5.updateSelectionProperties({backgroundColor:r&&t?.color?{...t.color,a:1}:void 0,backgroundOpacity:n?t.opacity:void 0,backgroundEnabled:0!==t.opacity},{shouldCommit:s})},shouldAutoComplete:!1})})}},179863:(e,t,s)=>{s.d(t,{J:()=>f,N:()=>x});var r=s(104076),n=s(716976),i=s(777304),l=s(641518),a=s(192075),o=s(241421),d=s(553065),c=s(879018),u=s(954741),p=s(763268);let h=new o.SU;class m extends u.c${}let g=u.l6;class x extends n.PureComponent{render(){let e=this.props.includePassThrough?p.j4:p.r5;return(0,r.jsx)(g,{ariaLabel:(0,a.t)("fullscreen.properties_panel.color_picker.blend_mode_select.tooltip.blend_mode"),chevronClassName:this.props.chevronClassName,className:this.props.className,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,dropdownWidth:this.props.isUI3?120:"auto",enablePreview:!0,formatter:h,icon:this.props.isUI3?(0,r.jsx)(i.q,{}):(0,r.jsx)(c.MK,{value:(0,d.E7)(this.props.property),defaultBlendMode:this.props.includePassThrough?"PASS_THROUGH":"NORMAL"}),id:f(this.props.id),inputClassName:this.props.inputClassName,onChange:this.props.onChange,onMouseDown:this.props.onMouseDown,property:this.props.property,recordingKey:this.props.recordingKey,willShowDropdown:this.props.willShowDropdown,children:e.map((e,t)=>"SELECT_DIVIDER"===e?(0,r.jsx)(u.sK,{},t):(0,r.jsx)(m,{value:e,recordingKey:l.Pt(this.props,e)},t))})}}function f(e){return`blend-mode-select-${e}`}x.displayName="BlendMode"},104932:(e,t,s)=>{s.d(t,{c:()=>A,Q:()=>P});var r=s(104076),n=s(716976),i=s(903927),l=s(420680),a=s(839793),o=s(266808),d=s(511570),c=s.n(d),u=s(641518),p=s(192075),h=s(772523),m=s(512038),g=s(842013),x=s(894210),f=s(739710),_=s(581993),y=s(415567),b=s(437540),j=s(835307),C=s(540864),v=s(912138),k=s(492978),S=s(737139),w=s(476996),T=s(694915),N=s(920764),I=s(978526),E=s(388332);let A=n.memo(function(e){let{stateGroupSelectionMode:t,containingProductComponent:s,componentDescription:l}=(0,N.z6)(),a=n.useRef(null);(0,N.Od)(a),(0,N.h$)(a);let d=(0,i.d4)(g.Dr),u=(0,i.d4)(g.Ct),{allowLibraryPublish:h}=n.useContext(m.s);return t!==o.iCO.STATE?null:s?s&&s.isAlive?(0,r.jsxs)(S.Zk,{className:"component_panel--componentPanel--aKD1Q",style:e.isInSelectionActionsPanel?{paddingBottom:0,borderBottom:"none"}:void 0,ref:a,children:[(0,r.jsx)(P,{}),(0,r.jsx)(v.n,{description:l}),(0,r.jsx)(T.DE,{appendedClassName:c()(e.isInSelectionActionsPanel?"component_panel--ui3PanelHeaderRowSAP--3-23z props_panel--ui3PanelHeaderRowSAP--ws4dj props_panel--ui3PanelHeaderRow--Ab8Jz":"component_panel--ui3PanelHeaderRow--hU6q6 props_panel--ui3PanelHeaderRow--Ab8Jz",E.yf),label:null,input:(0,p.tx)("design_systems.component_panel.current_variant"),icon:(0,r.jsx)(M,{recordingKey:e.recordingKey})}),t===o.iCO.STATE&&(0,r.jsx)(_.e6,{containerWidth:f.O2.REGULAR,propDimension:f.OE.DEFINITION,guids:[s.guid],recordingKey:e.recordingKey,entrypointForInstanceSwapPicker:null}),d&&u&&h&&(0,r.jsx)(k.x,{})]}):null:(0,r.jsx)(w.j,{recordingKey:"createStateGroup"})});function M(e){let t=function(){let e=(0,b.R)(C.Lg);return(0,j.g0)(e)}();return t&&("SYMBOL"===t.type&&!t.isState||t.isStateGroup)?(0,r.jsx)(l.K,{recordingKey:u.Pt(e.recordingKey,"goToParent"),"aria-label":(0,p.t)("design_systems.component_panel.select_component"),onClick:()=>{h.tJ([t.guid])},htmlAttributes:{"data-tooltip":(0,p.t)("design_systems.component_panel.select_component"),"data-tooltip-type":x.Ib.TEXT},children:(0,r.jsx)(a.r,{})}):null}function P(){let e=(0,y.I9)();return e&&e.length>1?(0,r.jsx)(T.Ad,{label:null,appendedClassName:"component_panel--ui3ComponentRenameInputRow--nU8OK",input:(0,r.jsx)(I.R,{alwaysShowParentComponent:!0,shouldHideComponentIcon:!0,unfocusedInputOverridesClassName:"component_panel--ui3ComponentRenameUnfocusedInputOverride--n2SfL"})}):null}},357173:(e,t,s)=>{s.d(t,{ei:()=>y,j2:()=>b});var r=s(104076),n=s(716976),i=s(454851),l=s(863058),a=s(266808),o=s(812714),d=s(883765),c=s(437540),u=s(641518),p=s(933688),h=s(192075),m=s(354114),g=s(746005),x=s(76365),f=s(304812),_=s(567253);function y({recordingKey:e,rowRef:t}){let{selectedGUIDs:s}=(0,c.R)(e=>({selectedGUIDs:(0,x.Sh)(e)})),i=(0,_.Jo)(),l=(0,_.Df)(),o=(0,g.kG)("corner-smoothing"),[d,p]=n.useState(!1),h=l.cornerRadius,y=l.rectangleCornerRadii,j=i.cornerRadius,C=i.rectangleCornerRadii;n.useEffect(()=>{p(!!a.glU&&a.glU.getCornerRadiusToolPreferencesForFile()&&h&&y&&j&&C)},[s,h,y,j,C]);let v=(0,n.useCallback)(()=>{o.hide(),m.Y5.deselectProperty()},[o]),k=null;return h&&y?k=(0,r.jsx)(b,{recordingKey:e,disabled:!j||!C,rectangleCornerToolIndependentActive:d,setRectangleCornerToolIndependentActive:p}):h&&!y&&(k=(0,r.jsx)(f.E,{recordingKey:u.Pt(e,"cornerSmoothingToggle"),rowRef:t})),{cornerRadiusEnabled:h&&j,cornerControlIconButton:k,independentCornerControlEnabled:d,hideCornerSmoothing:v,cornerSmoothingPicker:o}}let b=n.memo(function({rectangleCornerToolIndependentActive:e,setRectangleCornerToolIndependentActive:t,disabled:s,recordingKey:n}){return(0,r.jsx)(p.E,{name:"independent_corner_radius_toggle",children:(0,r.jsx)(i.d,{actionOnPointerDown:!0,"aria-expanded":e,onClick:()=>{a.glU&&a.glU.setCornerRadiusToolPreferencesForFile(!e),t(!e),(0,o.kc)().ce_properties_panel_tracking&&(0,d.sx)("editor-transform-panel-change",{key:"rectangleCornerRadiiIndependent",value:e})},"aria-label":(0,h.t)("fullscreen.properties_panel.transform_panel.independent_corners"),disabled:s,htmlAttributes:{"data-testid":"individual-corners-toggle-button"},recordingKey:u.Pt(n,"rectangleCornerToolIndependentToggle"),children:(0,r.jsx)(l.Q,{})})})})},912138:(e,t,s)=>{s.d(t,{n:()=>o});var r=s(104076),n=s(716976),i=s(136192),l=s(553065),a=s(694915);function o({description:e}){let t=n.useMemo(()=>(0,l.gl)(e)?"":(0,i.At)(e),[e]);return""===t?null:(0,r.jsx)(a.Ad,{appendedClassName:"asset_description_preview--ui3DescriptionRow--U6fJ7",label:null,input:(0,r.jsx)("div",{className:"asset_description_preview--ui3Description--s4mHd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k",children:t})})}},124233:(e,t,s)=>{s.d(t,{Dr:()=>R,xf:()=>O});var r=s(104076),n=s(716976),i=s(420680),l=s(162954),a=s(623411),o=s(619246),d=s(208754),c=s(760238),u=s(816299),p=s(263185),h=s(486324),m=s(225654),g=s(180),x=s(140458),f=s(620480),_=s(350205),y=s(266808),b=s(170627),j=s(812714);s(120440);var C=s(511570),v=s.n(C),k=s(983500),S=s(192075),w=s(754446),T=s(331497),N=s(835307),I=s(656474),E=s(864021),A=s(418204),M=s(734294);let P="SEPARATOR",L=[.25,.5,.75,1,2,3,4,5];function O(){let e=(0,T.ut)(y.Ez5?.propertiesPanelState().shownPropertiesPanels,[]),t=e?.[y.ibQ.GRID_TRACKS]??!1;return(0,j.kc)().ce_tv_grid_ga&&t}function R(){let[e,t]=n.useState(new Set),s=(0,M.pq)("PARENT"),l=(0,N.Fk)(e=>{let t=e.getDirectlySelectedNodes();return 1===t.length&&t[0]?.isGrid&&y.HV5?.getGridTrackSelection()||[]});return n.useEffect(()=>{l.length>0&&t(new Set(l))},[l]),(0,r.jsxs)("div",{className:"x78zum5 xdt5ytf xh8yej3 x6s0dn4",children:[(0,r.jsxs)("div",{className:"x78zum5 xsdox4t x6s0dn4 xh8yej3 x9f619 xpka0n7 xbfr8j9 xl56j7k xso031l x1q0q8m5 xertd99",children:[(0,r.jsx)(A.Y,{nodeCount:1,nodeType:"GRID_TRACKS",nodeTypeString:"Grid tracks"}),(0,r.jsx)(i.K,{"aria-label":(0,S.t)("common.close"),onClick:()=>{s&&y.Egt?.replaceSelection([s],!0)},children:(0,r.jsx)(m.X,{})})]}),(0,r.jsx)(F,{axis:"COLUMNS",titleString:(0,S.t)("fullscreen.properties_panel.grid.columns"),selectedRows:new Set([...e].filter(e=>e.axis===y._0v.X).map(e=>e.index)),updateSelectedRows:e=>{let s=[...e].map(e=>({index:e,axis:y._0v.X}));t(new Set(s)),y.HV5?.setGridTrackSelection(s)}}),(0,r.jsx)(F,{axis:"ROWS",titleString:(0,S.t)("fullscreen.properties_panel.grid.rows"),selectedRows:new Set([...e].filter(e=>e.axis===y._0v.Y).map(e=>e.index)),updateSelectedRows:e=>{let s=[...e].map(e=>({index:e,axis:y._0v.Y}));t(new Set(s)),y.HV5?.setGridTrackSelection(s)}})]})}function F({axis:e,titleString:t,selectedRows:s,updateSelectedRows:n}){let a=(0,N.Fk)(t=>{let s=t.getDirectlySelectedNodes();return 1===s.length&&s[0]?.isGrid?"ROWS"===e?s[0].gridRowSizesInOrder:s[0].gridColumnSizesInOrder:null});return a&&0!==a.length?(0,r.jsxs)("div",{className:"x78zum5 xdt5ytf xh8yej3 x9f619 xso031l x1q0q8m5 xertd99 xsag5q8",children:[(0,r.jsxs)("div",{className:"x78zum5 x1qughib x6s0dn4 xsdox4t xh8yej3 x9f619 xexx8yu xctkrei x18d9i69 x1gcgh60 xe0lunc",children:[(0,r.jsx)("span",{className:"xiuzu7u xwq5hk xfc7a33 x1j61x8r x8j8v4g x11tzhbd xqp8s7e",children:t}),(0,r.jsx)(i.K,{"aria-label":"ROWS"===e?(0,S.t)("fullscreen.properties_panel.grid.add_row"):(0,S.t)("fullscreen.properties_panel.grid.add_column"),onClick:()=>{b.l7.user("add-grid-track-edit-scope",()=>{y.HV5?.addTrackToGrid("ROWS"===e?y._0v.Y:y._0v.X)})},children:(0,r.jsx)(g.$,{})})]}),(0,r.jsx)(l.bL,{setSelectedRows:n,children:a?.map((t,i)=>r.jsx(D,{index:i+1,axis:e,computedSize:t.computedSize,type:t.maxSizing.type,value:t.maxSizing.value,selected:s.has(i),numSelected:s.size,setIsSelected:e=>{e&&!s.has(i)&&n(new Set([i]))}},`${e}-${i}`))})]}):null}function D({key:e,index:t,axis:s,value:l,type:m,computedSize:g,selected:j,setIsSelected:C,numSelected:T}){let N=parseFloat(l.toFixed(2)),A=(0,w.A5)("gridTrackSize"),[M,O]=n.useState(!1),[R,F]=n.useState(N),D=n.useRef(null),K=(0,n.useMemo)(()=>1===T?"ROWS"===s?(0,S.t)("fullscreen.properties_panel.grid.delete_row"):(0,S.t)("fullscreen.properties_panel.grid.delete_column"):"ROWS"===s?(0,S.t)("fullscreen.properties_panel.grid.delete_n_rows",{num_rows:T}):(0,S.t)("fullscreen.properties_panel.grid.delete_n_columns",{num_cols:T}),[s,T]),B=(0,r.jsx)(i.K,{"aria-label":K,onClick:()=>{b.l7.user("delete-grid-track-edit-scope",()=>{y.HV5?.deleteGridTrackSelection()})},children:(0,r.jsx)(x.r,{})}),G=(0,r.jsxs)("span",{className:v()({"grid_tracks_panel--nonFixedTrackSizeInput--9q7qS":m!==y.sAE.FIXED}),children:[(0,r.jsx)(a.h,{htmlFor:"grid-track-size-input",children:"ROWS"===s?(0,S.t)("fullscreen.properties_panel.grid.row_height"):(0,S.t)("fullscreen.properties_panel.grid.column_width")}),(0,r.jsx)(o.bL,{children:(0,r.jsx)(o.D0,{id:"grid-track-size-input",formatter:E.K,value:{value:g,type:m},onChange:({value:e,type:t})=>{A({value:e,type:(0,I.X)(t)})},htmlAttributes:{onSelect:()=>{C(!0)}}})})]}),H=h.M.useAutocomplete({selected:[N.toString()??""],activeValue:M?R?.toString():void 0,expanded:M,expandOnFocus:!1,onExpand:e=>{O(e),F(N),e&&C(!0)},onActiveValueChange:e=>{e&&F(parseFloat(e))},onSelect(e){e&&(A({value:parseFloat(e),type:"FLEX"}),O(!1))}}),z=(0,n.useMemo)(()=>{let e=[];for(let t of(L.includes(N)||(e.push(N),e.push(P)),L))e.push(t);return e},[N]),V=(0,n.useMemo)(()=>(z.findIndex(e=>N===e)+1)*(0,k.jz)("24px")+(0,k.jz)("8px"),[N,z]),U=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"grid_tracks_panel--gridTrackSizeComboboxContainer--tuJYh",children:[(0,r.jsx)(a.h,{htmlFor:"grid-track-size-combobox-input",children:"ROWS"===s?(0,S.t)("fullscreen.properties_panel.grid.row_height"):(0,S.t)("fullscreen.properties_panel.grid.column_width")}),(0,r.jsx)(o.bL,{children:(0,r.jsx)(o.D0,{id:"grid-track-size-combobox-input",formatter:E.lG,value:{value:N,type:m},onChange:({value:e,type:t})=>{A({value:e,type:(0,I.X)(t)})},htmlAttributes:{onSelect:()=>{C(!0)}},...H.getInputProps({ref:D})})}),(0,r.jsx)(h.M.Trigger,{...H.getTriggerProps(),className:"grid_tracks_panel--gridTrackSizeComboboxTrigger--iL7tG",children:(0,r.jsx)(f.r,{})})]}),(0,r.jsx)(h.M.PopupList,{...H.getListProps(),anchorEl:D,"data-testid":"grid-track-size-combobox-popup-list",placement:"bottom-start",offset:{mainAxis:-V},className:"grid_tracks_panel--gridTrackSizeComboboxPopupList--A2Ro6",children:z.map(e=>e===P?(0,r.jsx)(h.M.Separator,{className:"grid_tracks_panel--gridTrackSizeComboboxSeparator--dhG1e"},"separator"):(0,r.jsx)(h.M.Option,{value:e.toString(),className:"grid_tracks_panel--gridTrackSizeComboboxOption--WOCKW",recordingKey:`grid-track-size-flex-factor-${e}`,children:(0,r.jsxs)("span",{className:v()("grid_tracks_panel--gridTrackSizeComboboxOptionInner--YTxGQ",{"grid_tracks_panel--gridTrackSizeComboboxOptionInnerActive--EX5gk":R===e}),children:[(0,r.jsx)(_.l,{className:"grid_tracks_panel--gridTrackSizeComboboxOptionCheck--5bDk7"}),`${e}x`]})},e))})]});return(0,r.jsxs)(d.fI,{selected:j,disableDragging:!0,className:"grid_tracks_panel--oneIconTwoInputOneIconRow--w4Jov grid_tracks_panel--row--pzpgw",children:[(0,r.jsx)("span",{className:v()("grid_tracks_panel--indexLabel--6AMAs",{"grid_tracks_panel--indexLabelSelected--JP1Bw":j}),children:t}),(0,r.jsx)(c.fh,{className:"grid_tracks_panel--leftInput--XRpGB",children:m!==y.sAE.FLEX?G:U}),(0,r.jsx)(c.fh,{className:"grid_tracks_panel--rightInput--wjOuc",children:(0,r.jsxs)(u.bL,{onChange:e=>{e&&A({type:e})},onOpenChange:e=>{e&&C(!0)},value:y.sAE[m],children:[(0,r.jsx)(u.l9,{width:"fill",label:(0,r.jsx)(a.h,{children:(0,S.t)("fullscreen.properties_panel.grid.track_sizing")})}),(0,r.jsxs)(u.mc,{children:[(0,r.jsx)(u.c$,{value:"FIXED",children:(0,S.t)("fullscreen.properties_panel.constraints_resizing_panel.fixed")}),(0,r.jsx)(u.c$,{value:"FLEX",children:(0,S.t)("fullscreen.properties_panel.constraints_resizing_panel.fill")}),(0,r.jsx)(u.c$,{value:"HUG",children:(0,S.t)("fullscreen.properties_panel.constraints_resizing_panel.hug")})]})]})}),(0,r.jsx)(c.fh,{className:"grid_tracks_panel--rightIcon--3iZ87",children:(0,r.jsx)(p.T,{selected:j,children:(0,r.jsx)("span",{className:v()("grid_tracks_panel--removeButton--MiKPU",{"grid_tracks_panel--removeButtonVisible--vg0ex":j}),children:B})})})]},e)}},309801:(e,t,s)=>{s.d(t,{Ay:()=>q});var r=s(104076),n=s(716976),i=s(991981),l=s(980852),a=s(906494),o=s(266808),d=s(920498);function c(e){switch(e){case"FIXED":return o.mKm.FIXED;case"HUG":return o.mKm.HUG_CONTENT;case"FILL":return o.mKm.FILL_CONTAINER}}function u(e){switch(e){case o.mKm.FIXED:return"FIXED";case o.mKm.HUG_CONTENT:return"HUG";case o.mKm.FILL_CONTAINER:return"FILL"}}function p(e,t){let s=e;for(;s;){let e=Object.getOwnPropertyDescriptor(s,t);if(e&&"function"==typeof e.set)return e;s=Object.getPrototypeOf(s)}return null}function h(e){return[[e.m00,e.m01,e.m02],[e.m10,e.m11,e.m12]]}let m=Symbol();class g{node;nodeShim;scenegraph;constructor(e,t){let s=new x(e);return this.node=e,this.nodeShim=new x(e),this.scenegraph=t,new Proxy(this,{get:(t,r)=>{let n=p(s,r);if(n?.get)return n.get.call(s);if(void 0!==s[r])return s[r];let i=p(e,r);return i?.get?i.get.call(e):void 0!==e[r]?e[r]:void 0},has:(t,r)=>{let n=p(s,r),i=p(e,r);return!!(n?.get||void 0!==s[r]||i?.get)||void 0!==e[r]},set(r,n,i){let l=!1,a=p(s,n);if(a?.set)a.set.call(s,i),l=!0;else{let t=p(e,n);t?.set&&(t.set.call(e,i),l=!0)}if(l)return t.updateAll(),l;throw Error(`Property ${String(n)} is read-only`)}})}}let x=class{node;scenegraph;constructor(e){this.node=e,this.scenegraph=e.sceneGraph}get children(){return this.node.childrenNodes.map(e=>new g(e,this.scenegraph))}resize(e,t){this.node.resizeWithConstraints(e,t)}insertChild(e,t){this.node.insertChild(t.node,e)}appendChild(e){this.node.appendChild(e.node)}remove(){this.node.removeSelfAndChildren()}findAllWithCriteria(e){return this.node.findAllWithCriteria(e).map(e=>new g(this.sceneGraph.get(e[0]),this.scenegraph))}findOne(e){let t=[new g(this.node,this.scenegraph)];for(;t.length>0;){let s=t.shift();if(e(s))return s;for(let e of s.children)t.push(e)}return null}findAll(e){let t=[new g(this.node,this.scenegraph)],s=[];for(;t.length>0;){let r=t.shift();for(let n of((!e||e(r))&&s.push(r),r.children))t.push(n)}return s}findChild(e){for(let t of this.children)if(e(t))return t;return null}clone(){let e=this.node.clone();return new g(this.scenegraph.get(e),this.scenegraph)}get parent(){return this.node.parentNode?new g(this.node.parentNode,this.scenegraph):null}get type(){return(0,a.wg)(this.node)}get width(){return this.node.size.x}get height(){return this.node.size.y}get relativeTransform(){return h(this.node.relativeTransform)}get absoluteTransform(){return h(this.node.absoluteTransform)}get layoutMode(){return this.node.stackMode}set layoutMode(e){this.node.stackMode=e}get primaryAxisAlignItems(){return this.node.stackPrimaryAlignItems}set primaryAxisAlignItems(e){this.node.stackPrimaryAlignItems=e}get counterAxisAlignItems(){return this.node.stackCounterAlignItems}set counterAxisAlignItems(e){this.node.stackCounterAlignItems=e}get counterAxisSpacing(){return this.node.stackCounterSpacing}set counterAxisSpacing(e){this.node.stackCounterSpacing=e}get layoutPositioning(){return this.node.stackPositioning}set layoutPositioning(e){this.node.stackPositioning=e}get paddingLeft(){return this.node.stackLeftPadding}set paddingLeft(e){this.node.stackLeftPadding=e}set paddingRight(e){this.node.stackRightPadding=e}set paddingBottom(e){this.node.stackBottomPadding=e}get paddingTop(){return this.node.stackTopPadding}set paddingTop(e){this.node.stackTopPadding=e}get layoutSizingHorizontal(){return u(this.node.stackHorizontalLayoutSize)}set layoutSizingHorizontal(e){this.node.stackHorizontalLayoutSize=c(e)}get layoutSizingVertical(){return u(this.node.stackVerticalLayoutSize)}set layoutSizingVertical(e){this.node.stackVerticalLayoutSize=c(e)}get layoutWrap(){return this.node.stackWrap}set layoutWrap(e){this.node.stackWrap=e}get itemSpacing(){return this.node.stackSpacing}set itemSpacing(e){this.node.stackSpacing=e}set constraints(e){this.node.horizontalConstraint=e.horizontal,this.node.verticalConstraint=e.vertical}set clipsContent(e){this.node.frameMaskDisabled=!e}get selection(){return this.node.directlySelectedNodes.map(e=>new g(e,this.scenegraph))}set selection(e){this.node.directlySelectedNodes=e.map(e=>e.node)}get strokes(){return this.node.strokePaints.data}get fontName(){return"mixed"===this.node.fontNameOrMixed?m:this.node.fontNameOrMixed}get id(){return this.node.guid}set fills(e){for(let t of e)"SOLID"===t.type&&(t.color.a=t.opacity||1);console.log(e),this.node.fills=e}};class f{scenegraph;constructor(e=(0,l.UN)()){this.scenegraph=e}getNodeById(e){let t=this.scenegraph.get(e);return t?new g(t,this.scenegraph):null}ungroup(e){return this.scenegraph.ungroup(e.node).map(e=>new g(e,this.scenegraph))}createFrame(){return new g(this.scenegraph.createNode("FRAME"),this.scenegraph)}createPage(){return new g(this.scenegraph.createNode("CANVAS"),this.scenegraph)}createText(){return new g(this.scenegraph.createNode("TEXT"),this.scenegraph)}get currentPage(){return new g(this.scenegraph.getCurrentPage(),this.scenegraph)}async setCurrentPageAsync(e){await this.scenegraph.setCurrentPageAsync(e.node.id)}async loadFontAsync(e){await (0,d.EV)(e),await (0,d.FP)()}util={solidPaint:e=>({type:"SOLID",color:{r:1,g:1,b:1,a:1},opacity:1,visible:!0})};mixed=m}var _=s(945741),y=s(249890),b=s(983317),j=s(667693),C=s(276800),v=s(420680),k=s(989941),S=s(623411),w=s(293422),T=s(307829),N=s(454851),I=s(129011),E=s(590387),A=s(853943),M=s(146815),P=s(795033);s(120440);var L=s(997629),O=s(641518),R=s(236631),F=s(192075),D=s(132739),K=s(315361),B=s(819851),G=s(354114),H=s(176203),z=s(581993),V=s(694915),U=s(737139),W=s(572427);let $={layout:"Include layout properties",rendering:"Include rendering properties",text:"Include text properties",interactivity:"Include interactivity properties"},X={...Object.fromEntries((0,_._0)().filter(e=>"boolean"===e.type).map(e=>[e.name,!1])),..._.KQ},Y={...X,includeInstanceOverrides:!0,includeTypescriptTypes:!0};function q({recordingKey:e}){let[t,s]=(0,n.useState)(!1),[a,d]=(0,n.useState)(""),[c,u]=(0,n.useState)({}),[p,h]=(0,n.useState)({}),[m,g]=(0,n.useState)(""),[x,b]=(0,n.useState)(void 0),[j,T]=(0,n.useState)(""),[N,I]=(0,n.useState)(!1),[A,P]=(0,n.useState)(""),[D,$]=(0,n.useState)(0),[X,q]=(0,n.useState)({x:0,y:0}),[Z,Q]=(0,n.useState)(void 0),[ee,et]=(0,n.useState)({layout:!0,rendering:!0,text:!0,interactivity:!0}),es=(0,K.uQ)(),er=(0,B.lg)(),[en,ei]=(0,n.useState)({...Y,editorType:(0,H.y9)(er)??void 0}),[el,ea]=(0,n.useState)(!1),eo=(0,n.useRef)(null),ed=(0,n.useMemo)(()=>A?(0,l.UN)().get(A):null,[A]),ec=(0,n.useCallback)(async e=>{if(en)try{let t;let s={...en,filterFunction:e=>e.visible,fieldGroups:Object.entries(ee).filter(([e,t])=>t).map(([e])=>e),focusNodeId:ed?ed.guid:void 0,maxSerializeNodes:D};if(el){let r=(0,l.UN)();if(eo.current?.cloneId){let e=r.get(eo.current.cloneId);e&&e.removeSelfAndChildren()}let n=e.clone({tracking:o.HzA.IGNORE}),a=r.get(n);if(!a)throw Error("Clone failed");r.getInternalCanvas()?.appendChild(a);let d=new f(r),{output:c,cloneToNodeMap:u}=await (0,L.CU)({node:e,clone:a,options:s,cloneTransformFn:async e=>{await (0,i.$u)([e.guid],{},d)},jsxElementTransformFn:({jsxElement:e,originalSublayer:t,cloneSublayer:s})=>(t?s.isStack&&!t.isStack&&(e.props.virtual="layout"):e.props.virtual="node",e)}),{jsxElement:p,...h}=c;t={jsxStr:(0,y.V)(p),...h},eo.current={cloneId:n,cloneToNodeMap:u}}else t=await (0,L.oy)(e,s);d(t.jsxStr),u(t.componentInfoByJSXName),h(t.assetsByName),g(t.variablesObjDefinition??""),b(t.styleInfoCategorized);let r=e.isInstance?(0,l.UN)().get(e.symbolId):e;if(!en.ignoreFetchingComponentData&&r&&((0,M.B)(e)||e.isStateGroup||e.isInstance)){let e=await (0,L.gZ)(r,{serializeVariants:{strategy:"all"}}),t=Array.from(new Set(e.prefixTypes)).join("\n");T(t+"\n"+e.jsxStr)}else T("")}catch(e){if(e instanceof _.LV&&"Focus node is not a descendant of the node"===e.message){P(""),$(0);return}throw e}},[d,ee,en,ed,D,el]),eu=(0,n.useCallback)(async()=>{if(!t||!es)return;let e=(0,l.UN)().get(es);e&&(await ec(e),G.Y5.triggerAction("commit"))},[t,es,ec]);async function ep(e){if(!en)return;let t={...en,assetsByName:p,styleInfoCategorized:x,originalSize:en.normalizePxToRange01&&X.x>0&&X.y>0?X:void 0};Q(void 0);try{if(es){let s=(0,l.UN)().get(es);if(!s)throw Error("Node not found");if(el&&eo.current){let r=(0,l.UN)().get(eo.current.cloneId);if(!r)throw Error("Clone not found");let n=y.S(e)?.[0];if(!n)throw Error("Couldn't parse JSX");await (0,L.ZM)({node:s,clone:r,jsxElement:n,cloneToNodeMap:eo.current.cloneToNodeMap,cloneSublayerTransformFn:(e,t)=>{"node"===t.props.virtual?e.ungroup():"layout"===t.props.virtual&&(e.stackMode="NONE")},options:t}),r.removeSelfAndChildren(),eo.current=null}else await (0,L.Go)({jsxStr:e,node:s,options:t})}else if(!(await (0,L.LZ)(e,t)).node)throw Error("Couldn't parse JSX")}catch(e){console.error(e),Q(`JSX Error: ${e.message}`)}}(0,n.useEffect)(()=>{if(N)return(0,l.UN)().onChange(()=>{eu()},{allowDeferral:!1})},[N,eu]),(0,n.useEffect)(()=>{eu()},[eu]);let eh=Object.values(c).map(e=>e.typescriptType).filter(e=>null!==e).join("\n");return(0,r.jsxs)(U.Zk,{children:[(0,r.jsxs)(W.Wv,{titleTx:(0,F.tx)("fullscreen.properties_panel.jsx_debug.title"),children:[(0,r.jsx)(v.K,{"aria-label":"Copy JSX",onClick:()=>{navigator.clipboard.writeText(a)},children:(0,r.jsx)(E.h,{})}),(0,r.jsx)(J,{serializerOptions:en,setSerializerOptions:ei,selectedFieldGroups:ee,setSelectedFieldGroups:et,useNonDestructiveAutoAutolayout:el,setUseNonDestructiveAutoAutolayout:ea})]}),(0,r.jsxs)("div",{className:R.s.px16.$,children:[(0,r.jsx)(k.S,{checked:t,onChange:e=>s(e),label:(0,r.jsx)(S.J,{children:"Enabled"})}),t&&(0,r.jsxs)(r.Fragment,{children:[Z&&(0,r.jsx)(S.J,{className:"x172n1ly",children:Z}),(0,r.jsxs)(z.R$,{row:(0,r.jsx)("span",{className:R.s.flex.wFull.py8.$,children:(0,r.jsx)(S.J,{className:R.s.fontMedium.$,children:"Additional settings"})}),isCollapsedByDefault:!0,isChevronAlwaysVisible:!0,recordingKey:O.Pt(e,"additionalSettingsCollapsibleRow"),children:[(0,r.jsx)(S.J,{children:"Focus node guid and max nodes"}),(0,r.jsx)(V.fn,{leftLabel:null,leftInput:(0,r.jsx)(U.jT,{onBlur:e=>P(e.currentTarget.value),placeholder:"GUID"}),rightLabel:null,rightInput:(0,r.jsx)(U.jT,{value:D,onChange:e=>$(Number(e.currentTarget.value)),placeholder:"Max nodes"}),icon:null}),(0,r.jsx)(S.J,{children:"Original size"}),(0,r.jsx)(V.fn,{leftLabel:null,leftInput:(0,r.jsx)(U.jT,{value:X.x,onChange:e=>q({x:Number(e.currentTarget.value),y:X.y}),placeholder:"X"}),rightLabel:null,rightInput:(0,r.jsx)(U.jT,{value:X.y,onChange:e=>q({x:X.x,y:Number(e.currentTarget.value)}),placeholder:"Y"}),icon:null})]}),(0,r.jsx)("div",{children:(0,r.jsx)("textarea",{rows:15,value:a,style:{width:"100%"},onChange:e=>d(e.target.value)})}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:8,marginBottom:16},children:[(0,r.jsx)(w.$n,{onClick:()=>ep(a),children:es?"Update node":"Create node"}),(0,r.jsx)(k.S,{checked:N,onChange:e=>I(e),label:(0,r.jsx)(S.J,{children:"Live Update"})})]})]}),Object.keys(c).length>0&&(0,r.jsxs)("div",{style:{paddingBottom:16},children:["Components:",(0,r.jsx)("div",{children:(0,r.jsx)("textarea",{rows:10,style:{padding:10,width:"100%"},value:JSON.stringify(c,null,2),onChange:C.lQ})})]}),eh.length>0&&(0,r.jsxs)("div",{children:["Typescript definitions:",(0,r.jsx)("textarea",{rows:10,style:{width:"100%"},value:eh})]}),Object.keys(p).length>0&&(0,r.jsxs)("div",{style:{paddingBottom:16},children:["Assets:",(0,r.jsx)("div",{children:(0,r.jsx)("textarea",{rows:10,style:{padding:10,width:"100%"},value:JSON.stringify(p,null,2),onChange:C.lQ})})]}),m&&(0,r.jsxs)("div",{style:{paddingBottom:16},children:["Variables:",(0,r.jsx)("div",{children:(0,r.jsx)("textarea",{rows:10,style:{padding:10,width:"100%"},value:m,onChange:C.lQ})})]}),x&&Object.keys(x).length>0&&(0,r.jsxs)("div",{style:{paddingBottom:16},children:["Styles:",(0,r.jsx)("div",{children:(0,r.jsx)("textarea",{rows:10,style:{padding:10,width:"100%"},value:JSON.stringify(x,null,2),onChange:C.lQ})})]}),j&&(0,r.jsxs)("div",{children:["React function component definition:",(0,r.jsx)("textarea",{rows:10,style:{width:"100%"},value:j,onChange:C.lQ})]})]})]})}function J({serializerOptions:e,setSerializerOptions:t,selectedFieldGroups:s,setSelectedFieldGroups:i,useNonDestructiveAutoAutolayout:l,setUseNonDestructiveAutoAutolayout:a}){let{getTriggerProps:o,manager:d}=T.b(),c={"Default Web Preset":Y},u=P.md(D.pF)?.options;u&&Object.assign(c,{"Make Edits Serializer Preset":(0,b.k3)(u),"Make Edits Component Serializer Preset":(0,b.R0)(u)});let p=n.useCallback(e=>{i&&i(t=>({...t,[e]:!t[e]}))},[i]),h=n.useCallback((e,s)=>{t(t=>({...t,[e]:s}))},[t]),m=n.useCallback(()=>{a(e=>!e)},[a]),g=(0,_._0)();return(0,r.jsxs)(T.bL,{manager:d,children:[(0,r.jsx)(N.d,{...o(),"aria-label":"JSX debug settings",children:(0,r.jsx)(A.J,{})}),(0,r.jsxs)(T.mc,{children:[(0,r.jsx)(T.YJ,{title:(0,r.jsx)(T.hE,{children:"Presets"}),children:Object.entries(c??{}).map(([s,n])=>{let i={...X,...n},l=(0,j.c2)(i,e);return(0,r.jsx)(I.H_,{checked:l,onChange:()=>t(i),children:s},s)})}),(0,r.jsx)(T.YJ,{title:(0,r.jsx)(T.hE,{children:"Field groups"}),children:Object.entries(s??{}).map(([e,t])=>(0,r.jsx)(I.H_,{checked:t,onChange:()=>p(e),children:$[e]},e))}),g.filter(e=>"select"===e.input).map(t=>{let s=t.optional?[void 0]:[];return s.push(...t.choices),(0,r.jsx)(T.YJ,{title:(0,r.jsx)(T.hE,{children:t.description??t.name}),children:s.map(s=>(0,r.jsx)(I.H_,{checked:e[t.name]===s,onChange:()=>h(t.name,s),children:`${s}`},`${t.name}-${s}`))},t.name)}),(0,r.jsx)(T.YJ,{children:(0,r.jsx)(I.H_,{checked:l,onChange:()=>m(),children:"Use non-destructive auto-autolayout"},"use-non-destructive-auto-autolayout")}),(0,r.jsx)(T.YJ,{title:(0,r.jsx)(T.hE,{children:"Other options"}),children:g.filter(e=>"checkbox"===e.input).map(t=>(0,r.jsx)(I.H_,{checked:!!e[t.name],onChange:()=>h(t.name,!e[t.name]),children:t.description??t.name},t.name))})]})]})}},794354:(e,t,s)=>{s.d(t,{X2:()=>e_,Rv:()=>em,ZJ:()=>eg,qP:()=>ex,I_:()=>ef});var r=s(104076),n=s(716976),i=s(903927),l=s(417401),a=s(266808),o=s(437540),d=s(641518),c=s(192075),u=s(354114),p=s(553065),h=s(754446),m=s(76365),g=s(754788),x=s(183570),f=s(717206),_=s(950241),y=s(217062),b=s(357173),j=s(737139),C=s(177612),v=s(567253),k=s(729591),S=s(569527),w=s(420790),T=s(572427),N=s(421166),I=s(7087),E=s(694915),A=s(454851),M=s(871929),P=s(371952),L=s(894210),O=s(664320),R=s(681801),F=s(488748);let D=(0,f.Tn)();function K(e){let t=n.useMemo(f.On,[]),{isDefReferencedBySelection:s,visibilityIsBoundToComponentProp:i}=(0,o.R)(e=>({isDefReferencedBySelection:!!t(e,"VISIBLE"),visibilityIsBoundToComponentProp:D(e,(0,m.Sh)(e),"VISIBLE")})),{consumedVariable:l}=(0,O.u3)(["VISIBLE"]),a=n.useRef(null),[u,p]=(0,R.ND)("binding-icon"),h=(0,R.$V)(),g=(0,P.u)(h),x=!!l&&!!g||i||s,_=n.useCallback(()=>p(a.current),[p]),y=d.rf(d.Pt(e,"visibilityVariableBindingControl"),"mousedown",e=>{e&&!x&&1&e.buttons&&(_(),e.preventDefault(),e.stopPropagation())});return(0,r.jsx)("div",{className:F.RK,children:(0,r.jsx)(A.d,{ref:a,recordingKey:d.Pt(e,"visibilityVariableBindingControl"),"aria-expanded":u,"aria-label":(0,c.t)("proto.apply_assignment_property"),disabled:x,htmlAttributes:{"data-testid":"visibility-variable-binding-control","data-tooltip-type":L.Ib.TEXT,"data-tooltip":(0,c.t)("proto.apply_assignment_property"),onMouseDown:y},children:(0,r.jsx)(M.N,{})})})}var B=s(465157),G=s(642315),H=s(258816),z=s(744715),V=s(420680),U=s(240803),W=s(307829),$=s(812714),X=s(674524),Y=s(883765),q=s(241421),J=s(489175),Z=s(506192),Q=s(179863),ee=s(899413),et=s(763268),es=s(879018),er=s(954741),en=s(167151);let ei=new q.SU;class el extends er.c${}function ea(e){return(0,r.jsx)(er.l6,{...e,renderInput:({onMouseDown:e,props:t})=>(0,r.jsx)(V.K,{recordingKey:(0,X.Pt)(t.recordingKey,"blendMode"),"aria-label":(0,c.t)("properties.dropdown.apply_blend_mode"),onClick:e,actionOnPointerDown:!0,htmlAttributes:{"data-tooltip":(0,c.t)("properties.dropdown.apply_blend_mode"),"data-tooltip-type":L.Ib.TEXT},children:(0,r.jsx)(es.MK,{value:t.property,defaultBlendMode:"PASS_THROUGH"})})})}function eo(e){return(0,$.kc)().eu_fpl_migration_menu?(0,r.jsx)(ep,{recordingKey:d.Pt(e.recordingKey,"blendMode"),id:e.id}):(0,r.jsx)(ed,{...e})}function ed({blendModeRowId:e,id:t,recordingKey:s}){let[n,l]=(0,et.sL)(),a=(0,i.wA)(),o=(0,Z.Um)(),u=(0,en.cJ)(),p=!(0,et.qg)(n,"PASS_THROUGH"),h=et.j4.map((e,t)=>{let n="LINEAR_BURN"===e&&u;return"SELECT_DIVIDER"===e?(0,r.jsx)(er.sK,{},t):(0,r.jsx)(el,{value:e,disabled:n,recordingKey:d.Pt(s,"blendMode",e)},t)});return p&&o?.type!==t||o?.type===(0,Q.J)(e)?(0,r.jsx)(A.d,{"aria-label":(0,c.t)("properties.dropdown.remove_blend_mode"),"aria-expanded":!0,actionOnPointerDown:!0,onClick:()=>l("PASS_THROUGH"),htmlAttributes:{"data-tooltip":(0,c.t)("properties.dropdown.remove_blend_mode"),"data-tooltip-type":L.Ib.TEXT},children:(0,r.jsx)(es.MK,{value:n,defaultBlendMode:"PASS_THROUGH"})}):(0,r.jsx)(ea,{ariaLabel:(0,c.t)("properties.dropdown.blend_mode"),className:"selection_blend_mode_icon_button--container--Wv9Hd",disableSelectFocus:!0,dispatch:a,dropdownAlignment:"right",dropdownClassName:"selection_blend_mode_icon_button--blendModeSelectDropdown--WcwN1 blend_mode_select--blendModeSelectDropdown--jlg6p",dropdownShown:o,enablePreview:!0,formatter:ei,id:t,minTop:6,onChange:l,onMouseDown:J.dG,property:n,recordingKey:d.Pt(s,"blendMode"),willShowDropdown:()=>((0,Y.sx)("editor-blend-mode-dropdown-show"),Promise.resolve()),children:h})}let ec=(0,et.GZ)(et.j4),eu="PASS_THROUGH";function ep({recordingKey:e,id:t}){let[s,n]=(0,et.sL)(),{getTriggerProps:i,manager:l,updatePreview:a,onSubmit:o,valueBeforePreview:d}=(0,ee.Z)({id:t,blendMode:s,onChange:n}),{onClick:u,...p}=i();return(0,et.qg)(s,eu)||l.isOpen?(0,r.jsx)(U.o,{eventListeners:["onWheel"],children:(0,r.jsxs)(W.bL,{manager:l,children:[(0,r.jsx)(A.d,{recordingKey:e,"aria-label":(0,c.t)("properties.dropdown.apply_blend_mode"),htmlAttributes:{"data-tooltip":(0,c.t)("properties.dropdown.apply_blend_mode"),"data-tooltip-type":L.Ib.TEXT},onClick:e=>{(0,Y.sx)("editor-blend-mode-dropdown-show"),u(e)},...p,children:(0,r.jsx)(es.MK,{value:s,defaultBlendMode:eu})}),(0,r.jsx)(W.mc,{children:(0,r.jsx)(ee.m,{selectedItem:d??s,options:ec,onChange:o,recordingKey:e,onFocus:a})})]})}):(0,r.jsx)(V.K,{"aria-label":(0,c.t)("properties.dropdown.remove_blend_mode"),htmlAttributes:{"data-tooltip":(0,c.t)("properties.dropdown.remove_blend_mode"),"data-tooltip-type":L.Ib.TEXT},onClick:()=>n(eu),children:(0,r.jsx)(es.MK,{value:s,defaultBlendMode:eu})})}var eh=s(959607);let em="layer-blend-mode",eg="layer-blend-mode-select",ex=["OPACITY"];function ef(){let e=(0,v.Jo)(),t=(0,v.Df)(),s=(0,h.kl)("visible"),r=(0,R.$H)(),i=n.useMemo(f.On,[]),{isDefReferencedBySelection:l,selectedGUIDs:a}=(0,o.R)(e=>({isDefReferencedBySelection:!!i(e,"VISIBLE"),selectedGUIDs:(0,m.Sh)(e)})),d=!(0,g.Yc)("VISIBLE",a)||l,[c]=(0,h.lJ)("opacity"),p=n.useRef(null),x=n.useCallback((e,t)=>{u.Y5.updateSelectionProperties({opacity:e},{shouldCommit:t}),e>0&&!l&&u.Y5.updateSelectionProperties({visible:!0},{shouldCommit:t})},[l]),_=(0,R.AP)();return{shown:t,enabled:e,visible:s,visibilityIsBoundToVariable:r,shouldShowVisibilityBindingIcon:d,shouldShowPropPill:!r,opacity:c,opacityInputRef:p,onOpacityChange:x,handleMirroring:(0,h.kl)("handleMirroring"),isVectorEditMode:_,selectedGUIDs:a}}let e_=n.memo(function(e){let t=(0,n.useRef)(null),{shown:s,enabled:o,visible:u,visibilityIsBoundToVariable:h,shouldShowVisibilityBindingIcon:m,shouldShowPropPill:f,opacity:v,opacityInputRef:A,onOpacityChange:M,handleMirroring:P,isVectorEditMode:L,selectedGUIDs:O}=ef(),{cornerRadiusEnabled:R,cornerControlIconButton:F,independentCornerControlEnabled:D,hideCornerSmoothing:z,cornerSmoothingPicker:V}=(0,b.ei)({recordingKey:e.recordingKey,rowRef:t}),U=(0,i.wA)(),W=P&&L&&(0,r.jsx)(w.Cs,{handleMirroring:P,recordingKey:d.Pt(e,"mirroring")});return(0,r.jsxs)(j.Zk,{"data-testid":"appearance-panel",children:[(0,r.jsxs)(T.Wv,{titleTx:(0,c.tx)("fullscreen.appearance_panel.appearance"),children:[!h&&!m&&(0,r.jsx)(g.yQ,{parameterField:"VISIBLE",defaultValue:u,guids:O}),(0,r.jsx)(I.M,{showLibrarySets:!1,recordingKey:"frameLevel"}),(0,r.jsx)(B.C,{recordingKey:e.recordingKey}),m&&(0,r.jsx)(K,{recordingKey:e.recordingKey}),(0,r.jsx)(eo,{id:eg,blendModeRowId:em,recordingKey:e.recordingKey})]}),(0,r.jsx)(E.fn,{ref:t,leftInput:(0,r.jsx)(y.sA,{recordingKey:d.Pt(e,"layerOpacityInputWrapper"),fields:ex,disabled:!1,resolvedType:a.rXF.FLOAT,currentFieldValue:(0,p.hS)(v)?v:void 0,inputRef:A,hasBindingContextMenu:!0,children:(0,r.jsx)(_.Pd,{dispatch:U,forwardedRef:A,inputClassName:eh.h,isTokenizable:!0,mixedMathHandler:ey,noBorderOnHover:!0,onValueChange:M,recordingKey:d.Pt(e,"opacity"),ui3RightJustifyPercentSign:!1,value:v,children:(0,r.jsx)("div",{className:eh.s,children:(0,r.jsx)(l.N,{})})})}),rightInput:(0,r.jsx)(C.C,{recordingKey:e.recordingKey,disabled:!R}),icon:F,leftLabel:(0,c.tx)("fullscreen.properties_panel.section_appearance.label_opacity"),rightLabel:(0,c.tx)("fullscreen.properties_panel.transform_panel.corner_radius")}),W&&(0,r.jsx)(E.DE,{label:(0,c.tx)("fullscreen.properties_panel.section_vector.label_mirroring"),input:W,icon:null}),D&&(0,r.jsx)(S.j,{recordingKey:d.Pt(e,"independentCornerRadius")}),(s.count||s.starInnerScale)&&(0,r.jsx)(w.cU,{countShown:s.count,countDisabled:!o.count,starInnerScaleShown:s.starInnerScale,starInnerScaleDisabled:!o.starInnerScale,recordingKey:e.recordingKey}),s.arcData&&(0,r.jsx)(w.Je,{arcDataDisabled:!o.arcData,recordingKey:e.recordingKey}),(0,r.jsx)(G.r,{id:em,blendModeSelectId:eg,recordingKey:e.recordingKey}),f&&(0,r.jsx)(x.L,{parameterField:"VISIBLE",label:null}),(0,r.jsx)(N.wu,{showExplicitOnly:!0,recordingKey:"layerPanel-variableModeEntries"}),(0,r.jsx)(H.m,{}),V.showing&&(0,r.jsx)(k.K,{defaultPosition:V.initialPosition,onClose:z,recordingKey:d.Pt(e,"advanced")})]})}),ey=new z.b},465157:(e,t,s)=>{s.d(t,{C:()=>v});var r=s(104076),n=s(716976),i=s(4921),l=s(236901),a=s(699474),o=s(437540),d=s(641518),c=s(192075),u=s(354114),p=s(553065),h=s(754446),m=s(371952),g=s(76365),x=s(894210),f=s(717206),_=s(217062),y=s(664320),b=s(681801),j=s(488748);let C=(0,f.Tn)();function v(e){let t=n.useCallback(e=>{u.Y5.updateSelectionProperties({visible:e})},[]),s=n.useMemo(f.On,[]),{isDefReferencedBySelection:v,visibilityIsBoundToComponentProp:k}=(0,o.R)(e=>({isDefReferencedBySelection:!!s(e,"VISIBLE"),visibilityIsBoundToComponentProp:C(e,(0,g.Sh)(e),"VISIBLE")})),S=(0,m.SG)(["VISIBLE"]).data??[],[w]=(0,h.lJ)("visible"),{consumedVariable:T}=(0,y.u3)(["VISIBLE"]),N=n.useRef(null),[I,E]=(0,b.ND)("visibility-icon"),A=(0,b.$V)(),M=(0,m.u)(A),P=!!T&&!!M,L=P||k||v,O=!P&&!k&&S.length>0,R=w?(0,c.t)("fullscreen.properties_panel.tooltip_hide"):(0,c.t)("fullscreen.properties_panel.tooltip_show");return(0,r.jsx)("div",{className:j.RK,children:(0,r.jsx)(_.JQ,{ref:N,currentFieldValue:!!(0,p.gl)(w)||w,isActive:I,disabled:e.disabled||!O,onPickerOpen:()=>E(N.current),recordingKey:d.Pt(e,"visibilityVariableControl"),dataTestId:"visibility-variable-control",openOnRightClick:!0,children:(0,r.jsx)(i.f,{"aria-label":R,checked:!L&&!w,disabled:L,htmlAttributes:{"data-test-id":"visibility-variable-control","data-tooltip":R,"data-tooltip-type":x.Ib.TEXT},mixed:!L&&(0,p.gl)(w),offIcon:(0,r.jsx)(l.T,{}),onChange:()=>t(w===p.oV||!w),onIcon:(0,r.jsx)(a.A,{}),recordingKey:d.Pt(e,"visibleToggle"),variant:"highlighted"})})})}},642315:(e,t,s)=>{s.d(t,{r:()=>x});var r=s(104076),n=s(903927),i=s(420680),l=s(92652),a=s(883765),o=s(437540),d=s(641518),c=s(192075),u=s(894210),p=s(179863),h=s(763268),m=s(694915),g=s(488748);function x({blendModeSelectId:e,id:t,recordingKey:s,showDefault:x}){let f=(0,n.wA)(),[_,y]=(0,h.sL)(),b=(0,o.R)(e=>e.dropdownShown),j=!x&&(0,h.qg)(_,"PASS_THROUGH");return(b?.type===e||j)&&b?.type!==(0,p.J)(t)?null:(0,r.jsx)(m.DE,{label:(0,c.t)("fullscreen.properties_panel.appearance_panel.blend_mode"),input:(0,r.jsx)(p.N,{chevronClassName:g.ai,className:g.jK,dispatch:f,dropdownShown:b,id:t,includePassThrough:!0,inputClassName:g.Df,isUI3:!0,onChange:y,property:_,recordingKey:d.Pt(s,"blendMode"),willShowDropdown:()=>((0,a.sx)("editor-blend-mode-dropdown-show"),Promise.resolve())}),icon:x&&(0,h.qg)(_,"PASS_THROUGH")?null:(0,r.jsx)(i.K,{htmlAttributes:{"data-tooltip":(0,c.t)("general.remove"),"data-tooltip-type":u.Ib.TEXT},"aria-label":(0,c.t)("general.remove"),onClick:()=>y("PASS_THROUGH"),actionOnPointerDown:!0,children:(0,r.jsx)(l.O,{})})})}},258816:(e,t,s)=>{s.d(t,{m:()=>m});var r=s(104076),n=s(420680),i=s(191165),l=s(192075),a=s(371952),o=s(894210),d=s(664320),c=s(13073),u=s(691415),p=s(694915),h=s(681801);function m(){let{consumedVariable:e,clearVariableConsumption:t}=(0,d.u3)(["VISIBLE"]),s=(0,h.$V)(),m=(0,a.u)(s),g=m?.name,x=!!e&&!!m,f=(0,a.BQ)(s);return x?(0,r.jsx)(p.DE,{appendedClassName:"component_bound_vibisility_row--row--Pss97",input:(0,r.jsx)(u.P,{value:g||(0,l.t)("fullscreen.mixed"),variableId:s,isStandalone:!0,classNameOverride:"component_bound_vibisility_row--pillCover--q5iKl",styleOverride:{width:"auto"},isDeleted:!!m&&(0,c.eF)(m),fullWidth:!0,variablePillContainerClassName:"component_bound_vibisility_row--ui3RowVariablePillContainer--ocnP8",thumbnailValue:"MIXED"!==f?f:void 0}),icon:(0,r.jsx)("div",{className:"component_bound_vibisility_row--detachVisibilityIcon--FcjEN",children:(0,r.jsx)(n.K,{onClick:()=>t(),"aria-label":(0,l.t)("variables.binding_ui.detach_variable_tooltip"),recordingKey:"detachVisibilityVariable",htmlAttributes:{"data-tooltip-type":o.Ib.TEXT,"data-tooltip":(0,l.t)("variables.binding_ui.detach_variable_tooltip")},children:(0,r.jsx)(i.P,{})})}),label:null}):null}},304812:(e,t,s)=>{s.d(t,{E:()=>h});var r=s(104076),n=s(716976),i=s(454851),l=s(101441),a=s(812714),o=s(883765),d=s(192075),c=s(746005),u=s(894210),p=s(386958);let h=n.memo(function({rowRef:e,recordingKey:t}){let s=(0,c.kG)("corner-smoothing");return(0,r.jsx)(i.d,{actionOnPointerDown:!0,recordingKey:t,"aria-label":(0,d.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),"aria-expanded":!!s.showing,onClick:t=>{t.stopPropagation(),(0,a.kc)().ce_properties_panel_tracking&&(0,o.sx)("editor-transform-panel-change",{key:"cornerSmoothing",value:s.showing}),s.toggle(()=>(0,p.cn)(e.current))},htmlAttributes:{"data-tooltip":(0,d.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),"data-tooltip-type":u.Ib.TEXT,"data-testid":"cornerSmoothingToggle"},children:(0,r.jsx)(l.P,{})})})},744715:(e,t,s)=>{s.d(t,{b:()=>i}),s(104076),s(716976),s(903927),s(266808);var r=s(170627);s(511570),s(883765),s(437540),s(641518),s(836982),s(192075),s(911990),s(354114),s(772523),s(553065);var n=s(567862);s(754446),s(371952),s(448711),s(76365),s(294570),s(894210),s(754788),s(183570),s(717206),s(294745),s(950241),s(217062),s(179863),s(128579),s(501883),s(737139),s(421166),s(664320),s(13073),s(691415),s(7087),s(465157),s(681801),s(83792),s(818642),s(488748);class i extends n.M{getValueForNode(e){return e.opacity}setValueForNode(e,t){r.l7.user("set-opacity",()=>{e.opacity=t})}}new i},400059:(e,t,s)=>{s.d(t,{B:()=>_});var r=s(104076),n=s(716976),i=s(99723),l=s(816299),a=s(623411),o=s(641518),d=s(836982),c=s(192075),u=s(354114),p=s(553065),h=s(294570),m=s(501883),g=s(737139),x=s(746023),f=s(694915);function _(e){let{maskType:t}=e,s=n.useId();return(0,r.jsx)(d.k,{name:"mask_panel",children:(0,r.jsxs)(g.Zk,{children:[(0,r.jsx)(g.fI,{children:(0,r.jsx)(m.xw,{id:s,children:(0,c.tx)("fullscreen.mask_panel.mask")})}),(0,r.jsx)(f.Ad,{input:(0,r.jsx)(C,{maskType:t,recordingKey:e.recordingKey}),label:null})]})})}function y(e,t=h.zk.YES){u.Y5.updateSelectionProperties({maskType:e},{shouldCommit:t})}let b="Mixed",j={format:e=>{switch(e){case"ALPHA":return(0,c.t)("fullscreen.mask_panel.alpha");case"OUTLINE":return(0,c.t)("fullscreen.mask_panel.vector");case"LUMINANCE":return(0,c.t)("fullscreen.mask_panel.luminance");case"Mixed":return(0,c.t)("fullscreen.mixed")}},formatExtended:e=>{switch(e){case"ALPHA":return{text:(0,c.t)("fullscreen.mask_panel.alpha_extended")};case"OUTLINE":return{text:(0,c.t)("fullscreen.mask_panel.vector_extended")};case"LUMINANCE":return{text:(0,c.t)("fullscreen.mask_panel.luminance_extended")};case"Mixed":return{text:(0,c.t)("fullscreen.mixed")}}}};function C({maskType:e,recordingKey:t}){let{valueBeforePreview:s,updatePreview:n,onSubmit:d,clearPreview:u}=(0,x.g)({id:"mask-type-dropdown",property:e,onChange:y}),h=(0,p.gl)(e)||(0,p.gl)(s),m=h?b:s??e,g=(0,i.s)(e=>{if(e!==b){if(!e&&s&&!(0,p.gl)(s)){n(s);return}n(e)}},50);return(0,r.jsxs)(l.bL,{value:m,onChange:e=>{e!==b&&d(e)},onSelectionChange:g,onOpenChange:e=>{s&&!e&&u()},recordingKey:o.Pt(t,"maskType"),children:[(0,r.jsx)(l.l9,{width:"fill",label:(0,r.jsx)(a.h,{children:(0,c.tx)("fullscreen.mask_panel.mask")}),children:j.format(m)}),(0,r.jsxs)(l.mc,{children:[h&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.c$,{value:b,disabled:!0,children:(0,c.tx)("fullscreen.mixed")}),(0,r.jsx)(l.wv,{})]}),(0,r.jsx)(l.c$,{value:"ALPHA",children:j.formatExtended("ALPHA")?.text}),(0,r.jsx)(l.c$,{value:"OUTLINE",children:j.formatExtended("OUTLINE")?.text}),(0,r.jsx)(l.c$,{value:"LUMINANCE",children:j.formatExtended("LUMINANCE")?.text})]})]})}},455516:(e,t,s)=>{s.d(t,{C:()=>c});var r=s(104076),n=s(266808),i=s(641518),l=s(836982),a=s(192075),o=s(737139),d=s(900701);class c extends i.uA{constructor(){super(...arguments),this.noop=()=>{}}render(){return(0,r.jsx)(l.k,{name:"remove_group_fill_and_stroke_panel",children:(0,r.jsx)(o.Zk,{children:(0,r.jsx)(d.u,{title:"Background",addProperty:this.noop,removeProperty:n.glU.clearFillAndStrokePaintsOnSelectedGroups,contentsVisibleOrMixed:!0,children:(0,r.jsx)(o.fI,{className:"remove_group_fill_and_stroke_panel--labelContainer--ngqjq",children:(0,r.jsx)(o.nV,{className:"remove_group_fill_and_stroke_panel--label--orOpK",children:(0,a.tx)("fullscreen.remove_group_fill_and_stroke.background_color_group_unsupported")})})})})})}}},834573:(e,t,s)=>{s.d(t,{j:()=>e2});var r=s(104076),n=s(716976),i=s(903927),l=s(746175),a=s(547115),o=s(88314),d=s(266808),c=s(387092),u=s(264993),p=s(812714),h=s(795033),m=s(385446);s(120440);var g=s(132760),x=s(674524),f=s(583134);let _=(0,n.memo)(function({activeTab:e,recordingKey:t,tabs:s,tabInfo:i,onSetTab:l,endChildren:a}){let o=n.useMemo(()=>s.find(t=>t===e)?e.toString():s[0]?.toString()||"",[s,e]),d=n.useMemo(()=>s.reduce((e,t)=>(e[t]=!0,e),{}),[s]),c=n.useCallback(e=>{l(parseInt(e))},[l]),[u,,p]=g.t.useManagedTabs(d,o,c,{recordingKey:(0,x.Pt)(t,"tabs")});return s.length?(0,r.jsxs)("div",{className:"x78zum5 xuk3077 x10w6t97 xso031l x1q0q8m5 xertd99 x1qughib xdnwjd9 x1n2onr6","data-testid":"property-panel-tab-header",children:[(0,r.jsx)("div",{className:"x78zum5 x6s0dn4 x2lah0s x1vqgdyp x8rdmch x1nfngrj x1nhvcw1 xdnwjd9",children:(0,r.jsx)(g.t.TabStrip,{manager:p,children:s.map(e=>{let t=u[e];return t?(0,r.jsx)(g.t.Tab,{...t,htmlAttributes:{"data-onboarding-key":i[e].onboardingKey},children:i[e].label},`props-panel-tab-${e}`):null})})}),(0,r.jsx)("div",{className:"x78zum5 x1qughib xdnwjd9 x6s0dn4 xctkrei xb3r6kr x1vqgdyp",children:a})]}):null},({tabInfo:e,tabs:t,...s},{tabInfo:r,tabs:n,...i})=>m(e,r)&&m(t,n)&&(0,f.A)(s,i));var y=s(930508),b=s(511570),j=s.n(b),C=s(883765),v=s(983500),k=s(221586),S=s(218465),w=s(641518),T=s(836982),N=s(876621),I=s(192075),E=s(205084),A=s(816622),M=s(607804),P=s(693035),L=s(511295),O=s(197055),R=s(797715),F=s(278491),D=s(819851),K=s(968169),B=s(83202),G=s(772523),H=s(553065),z=s(328835),V=s(74620),U=s(211862),W=s(490499),$=s(530299),X=s(331497),Y=s(122010),q=s(443208),J=s(837500),Z=s(289050),Q=s(25870),ee=s(343933),et=s(406310),es=s(375e3),er=s(825911),en=s(72138),ei=s(467111),el=s(64004),ea=s(7718),eo=s(361170),ed=s(258709),ec=s(624155),eu=s(390669),ep=s(293422),eh=s(878604),em=s(268389),eg=s(980852),ex=s(298836),ef=s(555013),e_=s(850701),ey=s(292658),eb=s(913014),ej=s(382827),eC=s(29335),ev=s(255004),ek=s(694896),eS=s(643330),ew=s(691201);function eT({initialPosition:e,styleNameInputPrefix:t,styleType:s,inheritStyleKeyField:l,onCreate:a,recordingKey:o}){let c=(0,i.wA)(),u=(0,i.d4)(e=>e.mirror.selectedStyleProperties),h=(0,i.d4)(e=>e.mirror.sceneGraphSelection),m=1===Object.keys(h).length?Object.keys(h)[0]:null,g=m?eg.UN().get(m)?.type==="CMS_RICH_TEXT":null,x=n.useRef(!g&&Object.keys(h).length>0),[f,_]=n.useState(!x.current&&void 0),y=(0,ej.sO)(),[b,j]=n.useState((0,eC.s1)()),C=y&&(0,ev.Rc)(s),{styleRef:v,createStyle:k}=(0,ey.u)({inheritStyleKeyField:l,isCreatingFromSelection:x.current,trackingOptions:{styleType:s},shouldUseEyedropperStyleCreationFlow:!1}),S=n.createRef();n.useEffect(()=>{f&&S.current?.focus()},[f,S]);let T=w.of(o,"submit",()=>{let e=k();C&&d.Ez5?.slideThemeLibBindings().addStyleToLocalTheme(e||"",b),c(e_.XE()),g||c(e_.Uv()),c(O.sw()),a&&a(e||"")}),N=(0,i.d4)(e=>{let t=e.mirror.selectedStyleProperties;switch(s){case"FILL":return t.fillPaints&&"length"in t.fillPaints&&t.fillPaints.length>0;case"GRID":return t.layoutGrids&&t.layoutGrids.length>0;case"EFFECT":return t.effects&&t.effects.length>0;default:return!0}}),E=e=>{switch(e){case"FILL":return(0,I.t)("design_systems.create_style.color");case"TEXT":return(0,I.t)("design_systems.create_style.text");case"EFFECT":return(0,I.t)("design_systems.create_style.effect");case"EXPORT":return(0,I.t)("design_systems.create_style.export");case"GRID":return(0,I.t)("design_systems.create_style.guide");default:return(0,I.t)("design_systems.create_style.create_new_style_generic")}};if(!u.styleType)return null;let A=(0,r.jsxs)("div",{className:ew.FY,children:[(0,r.jsx)(eb.O8,{isInspectPanel:!1,onEnterPressed:T,recordingKey:"createStyleModal",selectedStyleProperties:u,setSlideThemeId:j,showMoreOptionsFocusRef:S,showProperties:f,showSlideThemeField:C,slideThemeId:b,styleNameInputPrefix:t,type:u.styleType}),!v&&(0,r.jsx)("div",{className:"create_style_modal--errorMessage--8ZpFE",children:(0,I.tx)("design_systems.create_style.an_error_occurred_while_creating_the_style")}),(0,r.jsxs)(ex.AutoLayout,{horizontalAlignItems:x.current?void 0:"end",verticalAlignItems:"center",spacing:x.current?"auto":void 0,padding:8,children:[x.current&&(0,r.jsx)(ep.$n,{variant:"link",onClick:()=>_(!f),recordingKey:w.Pt("createStyleModal","moreOptions"),children:f?(0,I.tx)("design_systems.create_style.hide_options"):(0,I.tx)("design_systems.create_style.show_more_options")}),(0,p.kc)().ce_tv_fpl_create_style_modal?(0,r.jsx)(ep.$n,{onClick:T,disabled:!N||!v,children:(0,I.tx)("design_systems.create_style.create_style")}):(0,r.jsx)(ef.$$,{style:{justifySelf:"right"},onClick:T,disabled:!N||!v,tabIndex:0,children:(0,I.tx)("design_systems.create_style.create_style")})]})]});return(0,p.kc)().ce_tv_fpl_create_style_modal?(0,r.jsx)(er.zK.Provider,{value:er.zM.CREATE_STYLE,children:(0,r.jsx)(eh.bL,{onClose:({source:e})=>{"outside"!==e&&c(O.sw())},width:ek.tA,defaultPosition:e,draggable:"header",recordingKey:w.Pt("createStyleModal"),children:(0,r.jsxs)(em.vo,{children:[(0,r.jsx)(em.Y9,{children:(0,r.jsx)(em.hE,{children:E(u.styleType)})}),(0,r.jsx)(em.nB,{padding:0,children:A})]})})}):(0,r.jsx)(er.zK.Provider,{value:er.zM.CREATE_STYLE,children:(0,r.jsx)(eS.Ao,{title:E(u.styleType),headerSize:"small",initialWidth:ek.tA,initialPosition:e,onClose:()=>{c(O.sw())},recordingKey:w.Pt("createStyleModal"),dragHeaderOnly:!0,children:A})})}var eN=s(136192),eI=s(835307);function eE({canEdit:e,isInspectPanel:t,isRenaming:s,recordingKey:n,stylePreviewShown:l}){let a=(0,i.wA)(),o=(0,i.d4)(e=>e.mirror.selectedStyleProperties),d=(0,ec.IW)(l),c=(0,u.dI)(o.guid),p=(0,V.p8)("isReadOnly"),h=!!d||!e||p,m="",g="",[x,f]=(0,eI.Fk)((e,t)=>{if(d)return["",""];let s=e.get(t);return[s?.name||"",s?.description||""]},c);return d?(m=d.name||"",g=d.description_rt?(0,eN.At)(d.description_rt):d.description||""):(0,u.dI)(o.guid)&&(m=x,g=(0,eN.At)(f)),(0,r.jsx)(er.zK.Provider,{value:er.zM.EDIT_STYLE,children:(0,r.jsx)(eb.O8,{recordingKey:n,isInspectPanel:t,isRenaming:s,onEnterPressed:()=>a(O.sw()),selectedStyleProperties:o,styleDescription:g,styleName:m,type:o.styleType,viewOnly:h})})}var eA=s(475477),eM=s(140490),eP=s(805733),eL=s(737139);function eO(e){return(0,r.jsx)(eM.u,{label:"ExternalStyleLink",children:(0,r.jsx)(eR,{...e})})}function eR({stylePreviewShown:e}){let t=(0,ec.IW)(e),s=(0,eP.b)({libraryKey:t?.library_key,nodeId:t?.node_id}),i=n.useMemo(()=>s.data?.type==="team",[s.data]),l=n.useMemo(()=>s.data?.type==="team"?s.data.link:null,[s.data]);return l&&i?(0,r.jsx)(T.k,{name:"external_style_options",children:(0,r.jsx)(eL.Zk,{children:(0,r.jsx)(eL.fI,{children:(0,r.jsx)("div",{className:ew.lf,children:(0,r.jsx)(eA.N,{newTab:!0,href:l,trusted:!0,children:(0,I.tx)("fullscreen.properties_panel.go_to_style_definition_to_edit")})})})},"external-style-options")}):null}function eF({onCloseStylePreviewModal:e,recordingKey:t}){let s=(0,U.q5)(),n=(0,X.ut)((0,G.aY)(),d.FAf.DESIGN),l=(0,V.p8)("topLevelMode"),a=(0,i.d4)(e=>e.library),o=(0,i.d4)(e=>e.stylePreviewShown),c=(0,z.b)("guid"),p=(0,z.b)("styleType");if(!o.isShown||![d.FAf.DESIGN,d.FAf.SITE,d.FAf.INSPECT,d.FAf.ILLUSTRATION].includes(n))return null;let h=new eo.Mi(o.rowLeft-ek.tA,o.rowTop);if(o.isCreating){let{styleType:e,inheritStyleKeyField:t,styleNameInputPrefix:s}=o;return(0,r.jsx)(eT,{recordingKey:"createStyleModal",initialPosition:h,styleNameInputPrefix:s,styleType:e,inheritStyleKeyField:t})}let m=(0,H.E7)(c),g=(0,H._W)(p,ea.s4.NONE);if(null===m)return null;let x=!(0,ed.eE)(o.style,s),f=(0,u.dI)(m);if(!(a.local.styles[f]&&!a.local.styles[f]?.is_soft_deleted)&&!x)return null;let _=s?.canEdit??!1,y=x||!_||l===d.lyf.BRANCHING;return(0,r.jsx)(er.zK.Provider,{value:er.zM.EDIT_STYLE,children:(0,r.jsx)(eS.Ao,{title:function(e,t){if(t)switch(e){case"FILL":return(0,I.t)("design_systems.styles.view_color_style");case"TEXT":return(0,I.t)("design_systems.styles.view_text_style");case"EFFECT":return(0,I.t)("design_systems.styles.view_effect_style");case"GRID":return(0,I.t)("design_systems.styles.view_guide_style");default:return(0,I.t)("design_systems.styles.view_style")}switch(e){case"FILL":return(0,I.t)("design_systems.styles.edit_color_style");case"TEXT":return(0,I.t)("design_systems.styles.edit_text_style");case"EFFECT":return(0,I.t)("design_systems.styles.edit_effect_style");case"GRID":return(0,I.t)("design_systems.styles.edit_guide_style");default:return(0,I.t)("design_systems.styles.edit_style")}}(g,y),headerSize:"small",initialWidth:ek.tA,initialPosition:h,onClose:e,recordingKey:w.Pt(t,"modal"),dragHeaderOnly:!0,children:(0,r.jsxs)("div",{className:ew.FY,children:[(0,r.jsx)(eu.VF,{isVisible:!0,children:()=>(0,r.jsx)(eE,{recordingKey:w.Pt(t,"stylePreviewPanel"),canEdit:_,isInspectPanel:n===d.FAf.INSPECT,isRenaming:a.isRenamingSelectedStyle,stylePreviewShown:o},"style-preview-panel")}),(0,r.jsx)(eu.VF,{isVisible:x,children:()=>(0,r.jsx)(eO,{stylePreviewShown:o})})]})},(0,ec.Gj)(o.style))})}function eD({onCloseStylePreviewModal:e,onKeyDown:t,recordingKey:s,shouldAnimate:n}){return(0,r.jsx)(Q.vL,{name:"propertiesPanel",focusOnMount:!0,handleKeyDown:t,children:(0,r.jsxs)(N.V,{className:j()(ew.Lp,ew.Ph),children:[(0,r.jsx)(en.P,{hideScrollbar:!0,scrollingDisabled:!0,className:j()(ew.ux,ew.KE,F.Dm,ew.Ph,{[ew.eu]:n}),width:el.iP,children:(0,r.jsx)("div",{className:ew.eh,"data-non-interactive":!0,children:(0,r.jsx)(ei.B7,{})})}),(0,r.jsx)(eF,{onCloseStylePreviewModal:e,recordingKey:s})]})})}var eK=s(246144),eB=s(365120),eG=s(12606),eH=s(489175),ez=s(551037),eV=s(354114),eU=s(506192),eW=s(746005),e$=s(581660),eX=s(766317),eY=s(167151),eq=s(124233),eJ=s(510314),eZ=s(904946);function eQ({activeTab:e,children:t,isStyleEditMode:s,recordingKey:l,refMainScrollContainer:a}){var o;let c=(0,i.wA)(),u=(0,V.p8)("isReadOnly"),p=(0,V.p8)("topLevelMode"),m=(0,eU.Um)(),g=(0,eW.Xo)(),[x,f]=(0,h.fp)(eX.jM),_=(0,eY.cJ)(),y=!!(m||g?.modal),b=w.rf(l,"mousedown",()=>{eV.Y5.deselectProperty(),c(e_.XE()),c((0,eG.vq)()),c(O.sw()),c(e_.Uv()),_&&(f([]),d.glU?.setSelectedInteractions([]))}),C=(0,e$.se)(),v=(0,D.m0)(),k=u&&!v,S=e===d.FAf.COMMENT,T=(0,ej.sO)(),N=!s||!y,I=!S&&N,E=(0,eH.ft)(),A=(0,eJ.G$)();o={tab:d.FAf[e],topLevelMode:d.lyf[p],shouldRenderInspectTab:A},0===n.Children.toArray(t).length&&(0,eK.x1)("PropertiesPanel","Rendering empty properties panel",o);let M=(0,ez.k)(),P=S&&!k&&!T,L=(0,eq.xf)(),R=(0,r.jsx)(eB.S.div,{className:j()({[ew.By]:P,[ew.eh]:!P,[ew.w1]:M,[ew._W]:S&&k}),onMouseDown:E?void 0:b,onPointerDown:E?b:void 0,"data-non-interactive":!0,children:t});return S||L?R:(0,r.jsx)("div",{className:ew.gq,onFocus:C,children:(0,r.jsx)(en.P,{enableOverscroll:!0,ref:a,className:ew.jG,containerId:ek.rp,hideScrollbar:!I,onContextMenu:eZ.GY,scrollingDisabled:S||(s?y:!!m),children:R},e)})}eQ.displayName="PropertiesPanel";var e0=s(645842),e1=s(852415),e3=s(948311),e5=s(993767),e4=s(404343);function e2({activeTab:e,children:t,getPanelMode:s,recordingKey:l,refMainScrollContainer:a,trackingAlwaysEnabled:o=!1,shouldDeferCanvasUpdateOnPanelResize:h,tabs:m,tabInfo:g,onSetTabsHeader:x}){let f=(0,i.wA)(),_=(0,V.aV)(),y=(0,z.b)("guid"),b=(0,u.fn)((0,H.E7)(y)),j=(0,n.useCallback)(e=>{b&&(e.event.keyCode===k.Uz.ESCAPE?(e.accept(),d.glU?.selectStyle(c.n3.INVALID,c.IA.INVALID)):e.event.keyCode===k.Uz.F&&d.glU?.selectStyle(c.n3.INVALID,c.IA.INVALID))},[b]),C=(0,i.d4)(e=>e.loadingState),v=(0,$.VP)(C,"edit_button_upgrading_to_edit"),S=_||v,w=(0,n.useCallback)(()=>{d.glU?.selectStyle(c.n3.INVALID,c.IA.INVALID),f(O.sw()),f((0,R.B)())},[f]),N=e===d.FAf.COMMENT,E=(0,n.useCallback)(()=>void 0,[]),A=function(e){let t=(0,V.p8)("currentPage")||"0:1",s=(0,V.KH)(),r=e();return(0,n.useCallback)(()=>({pageId:t,selectedNodeIds:Object.keys(s),panelMode:r}),[t,s,r])}(s??E),M=(0,n.useCallback)(({styleType:e,inheritStyleKeyField:t,nodeId:s,rowLeft:r,rowTop:n})=>{f(O.sw()),f(O.Zs({rowLeft:r,rowTop:n,styleType:e,inheritStyleKeyField:t,nodeId:s}))},[f]);return S?(0,r.jsx)(eD,{onKeyDown:j,onCloseStylePreviewModal:w,shouldAnimate:_}):(0,r.jsx)(T.k,{name:"properties_panel",trackingEnabled:(0,p.kc)().trackable_properties||o,alsoTrack:A,trackImpressions:!1,children:(0,r.jsx)(Q.vL,{name:"propertiesPanel",focusOnMount:!N,handleKeyDown:j,children:(0,r.jsx)(Y.m,{role:"region","aria-label":(0,I.t)("fullscreen_actions.right_sidebar_label"),children:(0,r.jsx)(er.lk.Provider,{value:M,children:(0,r.jsx)(e6,{activeTab:e,recordingKey:l,refMainScrollContainer:a,onCloseStylePreviewModal:w,shouldDeferCanvasUpdateOnPanelResize:h,tabs:m,tabInfo:g,onSetTabsHeader:x,children:t})})})})})}function e6({activeTab:e,children:t,recordingKey:s,refMainScrollContainer:i,onCloseStylePreviewModal:l,shouldDeferCanvasUpdateOnPanelResize:c,tabs:m,tabInfo:g,onSetTabsHeader:x}){let f=(0,P.e)(),b=(0,W.o3)(W.nt.propertiesPanelViewTabsRefactor),v=(0,z.b)("guid"),k=(0,u.fn)((0,H.E7)(v)),T=e===d.FAf.COMMENT,I=(0,V.p8)("topLevelMode")===d.lyf.HISTORY,E=function(){let e=(0,K.qw)();return"number"!=typeof e||e<ts?((0,K.UK)().propertiesPanelSplitPosition.set(ts),ts):e}(),O=(0,X.ut)(d.Ez5?.uiState().inProductHelpSidePanelWidth,0),{inProductHelpViewType:R}=(0,Z.A5)(),{isRightPanelCollapsed:$}=(0,n.useContext)(q.t),Y=$,Q=(0,B.q)(),er=(0,M.to)(),en=(0,A.CA)();er&&T&&(Y=!1);let ei=(0,V.p8)("showUi"),el=(0,U.tS)(),ea=(0,L.fk)(el),eo=(0,W.o3)(W.nt.newResizablePanel),ed=(0,X.ut)((0,K.UK)().renderRulers,!1),ec=(0,B.T)(),eu=(0,p.kc)().properties_panel_resize_lag_fix,ep=(0,h.Xr)(ee.At),[eh,em]=n.useState(null),[eg,ex]=n.useState(0),ef=(0,D.lg)(),{setRulerVisibilityOnInitialSizeChange:e_,setRulerVisibilityOnDragEnd:ey,shouldShowGhostRulers:eb}=(0,et.M)({shouldDeferCanvasUpdateOnPanelResize:!!c}),ej=n.useCallback(e=>{let t=g[e]?.analyticsName;(0,C.sx)("properties-panel-select-tab",{tab:t}),(0,G.NT)(e),x&&x(e)},[x,g]),eC=(0,n.useMemo)(()=>(0,r.jsx)(es.H,{recordingKey:w.Pt(s,"zoomMenu")}),[s]),ev=(0,r.jsxs)(eZ._w,{showRightSidebarPill:Y,children:[(0,r.jsx)(e3.v2,{recordingKey:s}),I&&(0,r.jsx)(J.yU,{recordingKey:"versionHistoryView",fileHasCMSData:ea}),!Y&&!I&&(0,r.jsxs)(r.Fragment,{children:[m.length>0&&b?(0,r.jsx)(_,{recordingKey:s,activeTab:e,tabs:m,tabInfo:g,onSetTab:ej,endChildren:eC}):(0,r.jsx)(e0.A,{recordingKey:s,activeTab:e}),(0,r.jsx)(eQ,{recordingKey:s,activeTab:e,isStyleEditMode:k,refMainScrollContainer:i,children:t})]}),(0,r.jsx)(eF,{onCloseStylePreviewModal:l,recordingKey:s})]});return eo?(0,r.jsx)(N.V,{children:(0,r.jsx)(y.G,{className:j()(ew.Lp,{[ew.R]:!ei,[ew.dn]:Y,[ew.Ph]:!Q&&!f||en,[ew.Fo]:"side_panel"===R,[ew.Ar]:(0,p.kc)().properties_panel_isolate,[ew.K8]:eb}),"data-cancel-insertable-resource-drag-and-drop":!0,"data-onboarding-key":"properties-panel","data-testid":"properties-panel",defaultSize:E,maxSize:tt,minSize:ts,onContextMenu:eZ.GY,onDragEnd:e=>{if(c&&(tr(e),ey()),ep(!1),eh){let t=(0,o.qE)(e,ts,tt);eh.addContext({distanceResized:Math.abs(t-eg)}),eh.stop(),em(null)}},onDragStart:()=>{let e=S.J.createVital("PropertiesPanelContainer.NewResizablePanel.ResizePanel",{level:a.$b.INFO,trackFps:!0});e.start(),e.addContext({editorType:ef}),em(e),ex((0,o.qE)(E,ts,tt))},onInitialSizeChange:()=>{c&&(tr(ts),e_()),ep(!0)},onSizeChange__SLOW:e=>{c||tr(e)},recordingKey:"propertiesPanelContainer.resizablePanel",shouldDeferCanvasUpdateOnPanelResize:c,side:"left",style:{"--inProductHelpSidePanelWidth":`${O}px`},children:(0,r.jsx)(e7,{disabled:T,children:(0,r.jsx)("div",{className:j()(ew.ux,F.Dm,{[ew.ew]:ed,[ew.Ph]:!Q&&!f||en,[ew.Jq]:!ec}),children:ev})})})}):(0,r.jsx)(N.V,{className:j()(ew.Lp,{[ew.IV]:eu,[ew.R]:!ei,[ew.dn]:Y,[ew.Ph]:!Q&&!f||en,[ew.Fo]:"side_panel"===R,[ew.Ar]:(0,p.kc)().properties_panel_isolate}),style:{width:eu?void 0:E,"--inProductHelpSidePanelWidth":`${O}px`},children:(0,r.jsx)(e7,{disabled:T,children:(0,r.jsx)(e9,{isCollapsed:$,isUIMinimized:Q,width:E,children:ev})})})}function e7({children:e,disabled:t}){return t?(0,r.jsx)(r.Fragment,{children:e}):(0,r.jsx)(e5.b,{children:e})}let e8=e=>{tr(e)};function e9({children:e,isUIMinimized:t,width:s}){let i=(0,P.e)(),l=(0,A.CA)(),d=(0,X.ut)((0,K.UK)().renderRulers,!1),c=(0,B.T)(),u=n.useRef(null),[p,h]=n.useState(0),m=(0,D.lg)();return(0,r.jsx)(e1.w,{className:j()(ew.ux,F.Dm,{[ew.ew]:d,[ew.Ph]:!t&&!i||l,[ew.Jq]:!c}),"data-cancel-insertable-resource-drag-and-drop":!0,"data-onboarding-key":"properties-panel","data-testid":"properties-panel",max:tt,min:ts,onContextMenu:eZ.GY,onDragEnd:()=>{if(u.current){let e=(0,o.qE)(s,ts,tt);u.current.addContext({distanceResized:Math.abs(e-p)}),u.current.stop(),u.current=null}},onDragStart:()=>{let e=S.J.createVital("PropertiesPanelContainer.OldResizablePanel.ResizePanel",{level:a.$b.INFO,trackFps:!0});e.start(),e.addContext({editorType:m}),u.current=e,h((0,o.qE)(s,ts,tt))},onResize:e8,recordingKey:"propertiesPanelContainer.resizablePanel",side:"left",size:s,children:e})}let te={aaa:1,aal:1.3,en:1,"es-es":1,"es-la":1,"ko-kr":1,ja:1,"pt-br":1,fr:1,de:1,"du-ds":1},tt=500,ts=function(e){let t=(0,v.jz)(e)+1;if(!(0,p.kc)().ui3p_locale_aware_properties_panel)return t;let s=[...l.EO,...l.iJ],r=(0,E.Gq)().getPrimaryLocale(!0);for(let e of s)if(r===e)return Math.min(Math.ceil(t*te[e]),tt);return t}(e4.uj0);function tr(e){let t=(0,o.qE)(e,ts,tt);(0,K.UK)().propertiesPanelSplitPosition.set(t),(0,p.kc)().properties_panel_resize_lag_fix&&document.documentElement.style.setProperty("--properties-panel-width",`${t}px`)}},665891:(e,t,s)=>{s.d(t,{$_:()=>u,DB:()=>p,Eo:()=>a,Ex:()=>d,NK:()=>c,Sd:()=>m,UM:()=>l,a2:()=>o,wL:()=>h,yR:()=>g});var r=s(716976),n=s(266808),i=s(192075);function l(){return r.useMemo(()=>({label:(0,i.t)("fullscreen.properties_panel.design"),tab:n.FAf.DESIGN,analyticsName:"design"}),[])}function a(){return r.useMemo(()=>({label:(0,i.t)("fullscreen.properties_panel.prototype"),tab:n.FAf.PROTOTYPE,analyticsName:"prototype"}),[])}function o(){return r.useMemo(()=>({label:(0,i.t)("fullscreen.properties_panel.interactive"),tab:n.FAf.PROTOTYPE,analyticsName:"interactions"}),[])}function d(){return r.useMemo(()=>({label:(0,i.t)("fullscreen.properties_panel.properties"),tab:n.FAf.INSPECT,analyticsName:"inspect"}),[])}function c(){return r.useMemo(()=>({label:(0,i.t)("fullscreen.properties_panel.comments"),tab:n.FAf.COMMENT,analyticsName:"comment"}),[])}function u(){return r.useMemo(()=>({label:(0,i.t)("fullscreen.properties_panel.design"),tab:n.FAf.SLIDE,analyticsName:"design"}),[])}function p(){return r.useMemo(()=>({label:(0,i.t)("slides.properties_panel.animate"),tab:n.FAf.SLIDE_ANIMATION,analyticsName:"animate"}),[])}function h(){return r.useMemo(()=>({label:(0,i.t)("fullscreen.properties_panel.design"),tab:n.FAf.SITE,analyticsName:"sites"}),[])}function m(){return r.useMemo(()=>({label:(0,i.t)("dakota.properties_panel.dakota_panel.tab_title"),tab:n.FAf.DAKOTA,analyticsName:"dakota"}),[])}function g(){return r.useMemo(()=>({label:(0,i.t)("fullscreen.properties_panel.draw"),tab:n.FAf.ILLUSTRATION,analyticsName:"illustration"}),[])}},645842:(e,t,s)=>{s.d(t,{A:()=>P,m:()=>A});var r=s(104076),n=s(716976),i=s(903927),l=s(132760),a=s(266808),o=s(812714),d=s(795033),c=s(883765),u=s(641518),p=s(11395),h=s(192075),m=s(607804),g=s(693035),x=s(361915),f=s(819851),_=s(551037),y=s(259936),b=s(354114),j=s(772523),C=s(74620),v=s(331497),k=s(59975),S=s(375e3),w=s(176203),T=s(167151),N=s(382827),I=s(510314),E=s(691201);let A=(0,d.eU)(void 0);function M(e,t){return({[a.FAf.DESIGN]:{label:(0,h.t)("fullscreen.properties_panel.design"),tab:a.FAf.DESIGN,className:E.Mf,recordingKey:"designTab",analyticsName:"design"},[a.FAf.PROTOTYPE]:{label:t?(0,h.t)("fullscreen.properties_panel.interactive"):(0,h.t)("fullscreen.properties_panel.prototype"),tab:a.FAf.PROTOTYPE,className:E.Mf,recordingKey:t?"interactionsTab":"prototypeTab",analyticsName:t?"interactions":"prototype"},[a.FAf.INSPECT]:{label:(0,h.t)("fullscreen.properties_panel.properties"),tab:a.FAf.INSPECT,className:E.Mf,recordingKey:"inspectTab",analyticsName:"inspect"},[a.FAf.COMMENT]:{label:(0,h.t)("fullscreen.properties_panel.comments"),tab:a.FAf.COMMENT,className:E.Mf,recordingKey:"commentTab",analyticsName:"comment"},[a.FAf.EXPORT]:{label:(0,h.t)("fullscreen.properties_panel.export"),tab:a.FAf.EXPORT,className:E.Mf,recordingKey:"exportTab",analyticsName:"export"},[a.FAf.SLIDE]:{label:(0,h.t)("fullscreen.properties_panel.design"),tab:a.FAf.SLIDE,className:E.Mf,recordingKey:"designTab",analyticsName:"design"},[a.FAf.SLIDE_ANIMATION]:{label:(0,h.t)("slides.properties_panel.animate"),tab:a.FAf.SLIDE_ANIMATION,className:E.Mf,recordingKey:"animateTab",analyticsName:"animate"},[a.FAf.SITE]:{label:(0,h.t)("fullscreen.properties_panel.design"),tab:a.FAf.SITE,className:E.Mf,recordingKey:"sitesTab",analyticsName:"sites"},[a.FAf.DAKOTA]:{label:(0,h.t)("dakota.properties_panel.dakota_panel.tab_title"),tab:a.FAf.DAKOTA,className:E.Mf,recordingKey:"dakotaTab",analyticsName:"dakota"},[a.FAf.ILLUSTRATION]:{label:(0,h.t)("fullscreen.properties_panel.draw"),tab:a.FAf.ILLUSTRATION,className:E.Mf,recordingKey:"illustrationTab",analyticsName:"illustration"},[a.FAf.COOPER]:{label:(0,h.t)("fullscreen.properties_panel.design"),tab:a.FAf.COOPER,className:E.Mf,recordingKey:"designTab",analyticsName:"design"}})[e]}function P({activeTab:e,recordingKey:t}){let s=(0,g.e)(),l=(0,I.G$)(),c=(0,i.d4)(e=>e.mirror.appModel.topLevelMode),u=(0,C.dH)(),p=(0,C.p8)("isReadOnly"),h=(0,f.m0)(),_=p&&!h,b=(0,N.sO)(),k=(0,T.cJ)(),S=(0,m.to)(),P=(0,i.d4)(e=>{var t;return t=e.selectedView,!!(0,o.kc)().ce_il_root&&"fullscreen"===t.view&&t.editorType===w.nT.Illustration}),{status:O,result:R}=(0,x.Kj)(),F=!!(0,o.kc)().ui3p_properties_panel_view_tab_logging,D=(0,d.md)(A),K=n.useMemo(()=>{if(F)return h?"dev_mode":b?"slides":k?"sites":S?"buzz":P?"draw":"design"},[F,h,b,k,S,P]);n.useEffect(()=>{R||"loading"===O||e!==a.FAf.DAKOTA||(0,j.NT)(a.FAf.SITE)},[R,e,O]);let B=(0,v.ut)(a.Ez5?.interopToolMode(),a.nQ7.SELF)===a.nQ7.DESIGN,G=(()=>{let t=b||k?[a.FAf.COMMENT]:[a.FAf.COMMENT,a.FAf.INSPECT];switch(c){case a.lyf.LAYOUT:if(_)return t;if(e===a.FAf.COMMENT)return[a.FAf.COMMENT];if(P)return[a.FAf.ILLUSTRATION];if(k){if(s)return[a.FAf.DAKOTA];return R?[a.FAf.SITE,a.FAf.PROTOTYPE,a.FAf.DAKOTA]:[a.FAf.SITE,a.FAf.PROTOTYPE]}if(b)return[a.FAf.SLIDE,a.FAf.SLIDE_ANIMATION];if(S)return[a.FAf.DESIGN];return l?[a.FAf.DESIGN,a.FAf.PROTOTYPE,a.FAf.INSPECT]:[a.FAf.DESIGN,a.FAf.PROTOTYPE];case a.lyf.PREVIEW:case a.lyf.DEV_HANDOFF:return t;case a.lyf.BRANCHING:return[a.FAf.INSPECT];default:return[a.FAf.DESIGN,a.FAf.PROTOTYPE,a.FAf.INSPECT]}})();(0,y.u8)({label:y.A5.PropertiesPanelTabsHeader.tabsArray,enableShadowRead:F,oldValue:G,newValue:D,contextArgs:{editorType:K,topLevelMode:c,isReadOnlyEditor:_,activeTab:e,isInCmsBindingMode:s,selectingCMSItem:R}});let H=G.find(t=>t===e),z=G.map((t,s)=>{let r=M(t,k),n=r.tab===e||0===s&&void 0===H,i=r.className;return n&&(i=G.length>1?E.yR:E.iV),{...r,className:i,active:n,topLevelMode:c,currentTool:u}});return G.length&&(!S||B)?(0,r.jsx)(L,{recordingKey:t,tabInfo:z,editorTypeForLogging:K}):null}function L({tabInfo:e,recordingKey:t,editorTypeForLogging:s}){let n=!!(0,o.kc)().ui3p_properties_panel_view_tab_logging,d=(0,_.k)(),h=(0,p.Om)(),m=e=>{n&&c.az.trackDefinedEvent("ui3_platform.properties_panel_view_tabs_on_set_tab",{editorType:s,triggerCondition:e})},g=e.reduce((e,t)=>(e[t.tab]=!0,e),{}),x=e.find(e=>e.active),[f,,y]=l.t.useManagedTabs(g,x?.tab.toString()??"",e=>{let t=parseInt(e),s=M(t,v).analyticsName;if((0,c.sx)("properties-panel-select-tab",{tab:s}),w===a.NLJ.SCALE&&t===a.FAf.PROTOTYPE&&(b.Y5.triggerAction("set-tool-default"),m("exit scale tool when entering prototype mode")),t===a.FAf.INSPECT&&d){h(a.rcl.ENTER_INSPECT_MODE),m("logged out comment user inspecting");return}(0,j.NT)(t),N===a.lyf.PREVIEW&&(t===a.FAf.COMMENT?(b.Y5.triggerAction("set-tool-comments"),m("preview top level mode and comment tab set")):(b.Y5.triggerAction("set-tool-default"),m("preview top level mode and non comment tab set")))},{recordingKey:u.Pt(t,"tabs")}),v=(0,T.cJ)(),w=(0,C.dH)(),N=(0,i.d4)(e=>e.mirror.appModel.topLevelMode);return(0,r.jsxs)("div",{className:E.A7,children:[(0,r.jsx)("div",{className:E.tq,children:(0,r.jsx)(l.t.TabStrip,{manager:y,children:e.map((e,t)=>(0,r.jsx)(l.t.Tab,{...f[e.tab],children:e.label},`props-panel-tab-${t}`))})}),(0,r.jsx)("div",{className:E.wR,children:(0,r.jsx)(S.H,{recordingKey:u.Pt(t,"zoomMenu")})}),(0,r.jsx)("div",{"data-onboarding-key":k.D9,className:E.qq})]})}},904946:(e,t,s)=>{s.d(t,{GY:()=>f,_w:()=>_,qh:()=>y});var r=s(104076),n=s(492737),i=s(266808),l=s(812714),a=s(824570),o=s(511570),d=s.n(o),c=s(816622),u=s(693035),p=s(83202),h=s(754446),m=s(490499),g=s(901465),x=s(691201);function f(e){let t=e.target;if(t){let s=t.tagName,r=t.type;s&&"INPUT"===s.toUpperCase()&&r&&"TEXT"===r.toUpperCase()||t.isContentEditable||e.preventDefault()}}function _({children:e,showRightSidebarPill:t}){let s=(0,u.e)(),i=(0,n.U1)(),a=(0,p.q)(),o=(0,c.CA)(),h=(0,m.o3)(m.nt.newResizablePanel);return(0,r.jsx)("div",{ref:i,className:d()(x.KE,{[x.IV]:(0,l.kc)().properties_panel_resize_lag_fix&&!h,[x.tM]:t,[x.Ph]:!a&&!s||o}),children:e})}function y(){let e=(0,h.Gt)("numSelectedByType");return(0,a.k9)(()=>(function(e){if(e)return(0,g.aZ)(i.rrT.FILL,e)})(e),[e])}},492978:(e,t,s)=>{s.d(t,{U:()=>x,x:()=>f});var r=s(104076),n=s(716976),i=s(903927),l=s(293422),a=s(192075),o=s(366535),d=s(624155),c=s(76365),u=s(564914),p=s(949052),h=s(309112),m=s(170907);function g(){let e=(0,i.d4)(e=>e.library.local),t=(0,i.d4)(c.Sh),s=n.useMemo(()=>{let s=new Set;for(let r of t){let t=(0,d.n5)(r,e);t&&(t.type===u.PW.COMPONENT||t.type===u.PW.STATE_GROUP)&&!(0,d.zE)(t)?s.add(t.node_id):t&&t.type===u.PW.MODULE&&s.add(t.node_id)}return s},[e,t]),r=(0,i.wA)(),l=n.useCallback(()=>{r(o.to({type:p.dD,data:{initiallyCheckedItemIDs:s,entrypoint:h.RR.PROPERTIES_PANEL}}))},[r,s]);return{validNodeIds:s,onClick:l}}function x(){let{validNodeIds:e,onClick:t}=g(),s=(0,i.d4)(e=>e.library.local),n=(0,i.d4)(c.Sh).some(e=>{let t=(0,d.n5)(e,s);return t&&!(0,d.HF)(t.status)});return e.size?(0,r.jsx)(l.$n,{variant:"secondary",onClick:t,children:n?(0,a.t)("design_systems.updates.publish"):(0,a.t)("design_systems.component_panel.publish_new_changes")}):null}function f(){let{validNodeIds:e,onClick:t}=g();return e.size?(0,r.jsx)(m.z,{onClick:t,children:(0,a.t)("design_systems.component_panel.publish_new_changes")}):null}},418204:(e,t,s)=>{s.d(t,{Y:()=>m});var r=s(104076),n=s(716976),i=s(120440),l=s(192075),a=s(978526),o=s(328996),d=s(881754),c=s(894210),u=s(691201);function p({nodeTypeString:e}){let t=n.useRef(null),[s,i]=n.useState(!1),l=n.useCallback(()=>{t.current&&i(t.current.offsetWidth<t.current.scrollWidth)},[]);return n.useLayoutEffect(()=>{l();let e=new ResizeObserver(l);return t.current&&e.observe(t.current),()=>{e.disconnect()}},[e,l]),(0,r.jsx)("h1",{ref:t,className:u.aj,"data-tooltip-type":s?c.Ib.TEXT:void 0,"data-tooltip":s?e:void 0,"data-testid":"node-type-display",children:e})}var h=s(250828);let m=n.memo(e=>{let{nodeCount:t,nodeType:s,nodeTypeString:n}=e,c=(0,d.g)();return s?(0,r.jsx)("div",{ref:c,...i.xk(h.R.selectionName),children:(()=>{switch(s){case"MIXED":return(0,r.jsx)("div",{className:u.Zp,children:(0,r.jsx)("h1",{children:(0,l.t)("fullscreen.properties_panel.layer_header.node_type_multiple_selected",{count:t})})});case"SYMBOL":return(0,r.jsx)(a.R,{alwaysShowParentComponent:!0,shouldHideComponentIcon:!0,unfocusedInputOverridesClassName:u.XS,focusedInputOverridesClassName:u.sE});case"INSTANCE":return(0,r.jsx)(o.W,{isInSelectionActionsPanel:!0});default:return(0,r.jsx)(p,{nodeTypeString:n})}})()}):null});m.displayName="SelectionName"},900701:(e,t,s)=>{s.d(t,{u:()=>g});var r=s(104076),n=s(716976),i=s(420680),l=s(180),a=s(140458),o=s(641518),d=s(192075),c=s(489175),u=s(553065),p=s(737139),h=s(85471),m=s(818642);function g({addProperty:e,children:t,contentsVisibleOrMixed:s,minusDisabled:g,plusDisabled:x,recordingKey:f,removeProperty:_,showButton:y,title:b,dataTestId:j,dataOnboardingKey:C,shouldHideButton:v,plusButtonLabel:k,minusButtonLabel:S}){let w=(0,n.useCallback)(()=>{!1!==s||x||e()},[e,s,x]),T=s===u.oV,N=!T&&!s;null==y&&(y=!0===s?"-":"+");let I="+"===y?(0,r.jsx)(i.K,{recordingKey:o.Pt(f,"addButton"),onClick:e,disabled:x,"aria-label":k??(0,d.t)("fullscreen.properties_panel.add"),htmlAttributes:{onMouseDown:c.dG,"data-testid":j??"","data-tooltip-type":"text","data-tooltip":k??""},children:(0,r.jsx)(l.$,{})}):(0,r.jsx)(i.K,{recordingKey:o.Pt(f,"removeButton"),onClick:_,disabled:g,"aria-label":S??(0,d.t)("fullscreen.properties_panel.remove"),htmlAttributes:{onMouseDown:c.dG,"data-testid":j??"","data-tooltip-type":"text","data-tooltip":S??""},children:(0,r.jsx)(a.r,{})});return(0,r.jsxs)(r.Fragment,{children:[b&&(0,r.jsx)(h.n,{onMouseDown:w,faded:N,isEmpty:N,titleTx:(0,r.jsx)("span",{children:b}),icon:v?void 0:I,dataOnboardingKey:C}),T&&(0,r.jsx)(p.fI,{children:(0,r.jsx)(p.nV,{className:m.Pf,children:(0,d.tx)("fullscreen.properties_panel.click_plus_to_replace_mixed_content")})}),!T&&!N&&t]})}},734294:(e,t,s)=>{s.d(t,{tL:()=>eb,pq:()=>ef});var r=s(104076),n=s(716976),i=s(903927),l=s(276800),a=s(261024),o=s(817694),d=s(266808),c=s(170627),u=s(980852),p=s(812714),h=s(641518),m=s(652539),g=s(222932),x=s(914184),f=s(192075),_=s(354114),y=s(968169),b=s(553065),j=s(754446),C=s(835307),v=s(76365),k=s(894210),S=s(950241),w=s(217062),T=s(478208),N=s(694915),I=s(88314),E=s(17933),A=s(684742),M=s(498349),P=s(649154),L=s(286138),O=s(902892),R=s(511570),F=s.n(R),D=s(567862),K=s(331497),B=s(294570);let G="grid_picker--cellVisual--SAtJ1",H="grid_picker--textSecondary--cfg-p",z="grid_picker--textDisabled--Yzb8u",V="grid_picker--gridBoxesContainer--SS1Yv",U="grid_picker--gridBoxes--WuMui",W="grid_picker--gridCell--UWlY2",$="grid_picker--selected--WcfBm",X="grid_picker--initialSize--QDKhm",Y="grid_picker--gridCellWrapper--zGP-7",q="grid_picker--gridCellButton--g7VBU";var J=s(489587),Z=s(904889),Q=s(452687);let ee=(e=!1)=>F()(G,{"grid_picker--cellVisualMixedSpan--VIczc":e});function et({recordingKey:e,disabled:t}){let[s,i]=(0,n.useState)(!1),[l,a]=(0,j.lJ)("gridColumnCount"),[o,u]=(0,j.lJ)("gridRowCount"),m=l&&(0,b.hS)(l)?l:null,g=o&&(0,b.hS)(o)?o:null,x=(0,n.useRef)(null),_=(0,C.Fk)(e=>{let t=e.getDirectlySelectedNodes();return 0!==t.length&&t.every(e=>{if(!e)return!1;let t="GRID"===e.stackMode,s=0===e.childrenNodes.length;return t&&s})}),[v,k]=(0,n.useState)(null),S=(0,K.J2)((0,y.UK)().showPropertyLabels),{getTriggerProps:w,getContainerProps:T}=E.fP({isOpen:s,onOpenChange(e){i(e),e?(d.Egt&&d.Egt.clearGridTrackOrCellSelection(),k({mode:"hover",hoveredIndex:null}),m&&g?x.current={cols:m,rows:g}:x.current=null):(k(null),x.current=null)},type:"dialog",placement:"bottom-start",offset:{mainAxis:S?-114:-96,crossAxis:-12},softDismiss:!0}),N=(e,t)=>{if(!_||null===e||null===t)return;let s=t>=1&&t<=100;if(!(e>=1&&e<=100)||!s)return;let r=e!==m,n=t!==g;(r||n)&&c.l7.user("grid-panel-empty-grid-immediate-resize",()=>{r&&a(e,B.zk.NO),n&&u(t,B.zk.NO)})},P=!l||!o||(0,b.gl)(l)||(0,b.gl)(o),L=0,O=0;!P&&m&&g?(L=m>10?10:m,O=g>8?8:g):P&&(L=2);let R=(e,t)=>{k(s=>{if(!s)return null;if("hover"===s.mode){let s={mode:"input",intermediateCols:"cols"===e?t:m,intermediateRows:"rows"===e?t:g};return N(s.intermediateCols,s.intermediateRows),s}if("input"===s.mode){let r="cols"===e?{...s,intermediateCols:t}:{...s,intermediateRows:t};return N(r.intermediateCols,r.intermediateRows),r}return s})},F=(e,t)=>{let s=null!==e&&e>=1&&e<=100&&e!==m,r=null!==t&&t>=1&&t<=100&&t!==g;s||r?c.l7.user("grid-panel-commit",()=>{let n=s&&!r?B.zk.YES:B.zk.NO;(0,p.kc)().ce_tv_grid_reflow&&v?.mode==="hover"?d.HV5?.setDimensions(t,e):(s&&a(e,n),r&&u(t,B.zk.YES))}):c.l7.user("grid-panel-commit",()=>{u(t,B.zk.YES)})},D=(e,t)=>{let s="cols"===e?g:m;v?.mode==="input"&&(s="cols"===e?v.intermediateRows:v.intermediateCols),F("cols"===e?t:s,"rows"===e?t:s)},V=()=>{v?.mode==="hover"&&k({intermediateCols:m,intermediateRows:g,mode:"input"})};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(A.E,{actionOnPointerDown:!0,...w({className:"grid_picker--gridWidget--e47iU",style:{"--cols":L}}),"aria-label":(0,f.t)("fullscreen.properties_panel.grid.open_grid_picker",{cols:null!==m?m:(0,f.t)("common.mixed"),rows:null!==g?g:(0,f.t)("common.mixed")}),recordingKey:h.Pt(e,"button"),disabled:t,children:[(0,r.jsx)("div",{className:"grid_picker--gridWidgetLabel--ceNc2",children:P?(0,f.t)("common.mixed"):(0,r.jsxs)("span",{className:t?z:"",children:[String(m),(0,r.jsxs)("span",{className:t?z:H,children:[" ","\xd7"," "]}),String(g)]})}),P?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:ee()}),(0,r.jsx)("div",{className:ee(!0)}),(0,r.jsx)("div",{className:ee()})]}):(0,I.M9)(L*O,e=>(0,r.jsx)("div",{className:G},e))]}),s&&(0,r.jsx)(E.mc,{...T({className:"grid_picker--gridWidgetPopover--U5ykN",style:{"--cols":12,"--rows":8}}),onKeyDown:e=>{if("Escape"===e.key){if(e.stopPropagation(),e.preventDefault(),_&&x.current){let e=x.current.cols,t=x.current.rows,s=m!==e,r=g!==t;(s||r)&&c.l7.user("grid-panel-revert-on-escape",()=>{s&&a(e,B.zk.NO),r&&u(t,B.zk.NO)})}k(null),i(!1)}"Enter"===e.key&&(k(null),i(!1))},children:(0,r.jsxs)(M.i,{children:[(0,r.jsx)(ea,{recordingKey:e,value:l,onIntermediateChange:e=>R("cols",e),onCommit:e=>D("cols",e),onClick:V}),(0,r.jsx)("span",{className:H,children:"\xd7"}),(0,r.jsx)(eo,{recordingKey:e,value:o,onIntermediateChange:e=>R("rows",e),onCommit:e=>D("rows",e),onClick:V}),(0,r.jsx)(ec,{gridState:v,setGridState:k,onReEnableHover:e=>{k({mode:"hover",hoveredIndex:e})},handleGridSelectionResizeAndCommit:({cols:e,rows:t})=>{v?.mode!=="input"&&(F(e,t),i(!1))},recordingKey:h.Pt(e,"gridBoxes"),initialGridSize:x.current})]})})]})}function es(e){return(0,r.jsx)(et,{...e})}function er(e,t){setTimeout(()=>{let s=e.target;if(s instanceof HTMLInputElement){let e=s.value,r=null;if(""===e)r=null;else{let t=parseInt(e,10);r=isNaN(t)?null:t}t(r)}},0)}class en extends D.M{constructor(e){super(),this.nodeField=e}getValueForNode(e){return e[this.nodeField]??0}setValueForNode(e,t){c.l7.user("set-grid-track-count",()=>{"gridRowCount"===this.nodeField?e.setGridRowCount(t,!0):"gridColumnCount"===this.nodeField&&e.setGridColumnCount(t,!0)})}}let ei=new en("gridRowCount"),el=new en("gridColumnCount"),ea=n.memo(function({recordingKey:e,value:t,onIntermediateChange:s,onCommit:n,onClick:i}){return(0,r.jsx)(S.Ht,{className:J.hF,"data-tooltip":(0,f.t)("fullscreen.properties_panel.grid.number_of_columns"),"data-tooltip-type":k.Ib.TEXT,dataTestId:"grid-columns",dispatch:l.lQ,id:"grid-columns",inputClassName:J.qE,max:100,min:1,mixedMathHandler:el,onClick:i,onKeyDown:e=>{er(e,s)},onValueChange:(e,t)=>{t?n(e):s(e)},recordingKey:h.Pt(e,"colInput"),value:t,children:(0,r.jsx)(m.B,{svg:Z.A,className:J.QK})})}),eo=n.memo(function({recordingKey:e,value:t,onIntermediateChange:s,onCommit:n,onClick:i}){return(0,r.jsx)(S.Ht,{className:J.hF,"data-tooltip":(0,f.t)("fullscreen.properties_panel.grid.number_of_rows"),"data-tooltip-type":k.Ib.TEXT,dataTestId:"grid-rows",dispatch:l.lQ,id:"grid-rows",inputClassName:J.qE,max:100,min:1,mixedMathHandler:ei,onClick:i,onKeyDown:e=>{er(e,s)},onValueChange:(e,t)=>{t?n(e):s(e)},recordingKey:h.Pt(e,"rowInput"),value:t,children:(0,r.jsx)(m.B,{svg:Q.A,className:J.QK})})});function ed({recordingKey:e,index:t,cellRow:s,cellCol:n,isHighlighted:i,isChecked:l,isInitialSize:a,mode:o,onReEnableHover:d,onCommit:c}){let u=(0,f.t)("fullscreen.properties_panel.grid.columns_and_rows",{cellCol:n,cellRow:s}),m=(0,f.t)("fullscreen.properties_panel.grid.columns_x_rows",{cellCol:n,cellRow:s}),g=h.rf(e,"click",()=>{"input"===o?d(t):"hover"===o&&c({cols:n,rows:s})});return(0,p.kc)().tv_grid_picker_radio?(0,r.jsx)(P.c$,{"aria-label":m,className:q,"data-idx":t,"data-tooltip":m,"data-tooltip-hide-immediately":!0,"data-tooltip-offset-y":4,"data-tooltip-timeout-delay":300,"data-tooltip-type":k.Ib.TEXT,htmlAttributes:{onClick:g,checked:l},value:`${n}x${s}`,children:(0,r.jsx)("div",{className:F()(Y,{"grid_picker--cellWrapperPadding--IcT51":(0,p.kc)().tv_grid_picker_radio}),children:(0,r.jsx)("div",{className:F()(W,{[$]:i,[X]:a})})})}):(0,r.jsxs)(A.E,{className:q,"data-idx":t,onClick:g,"data-tooltip":m,"data-tooltip-type":k.Ib.TEXT,"data-tooltip-offset-y":4,"data-tooltip-timeout-delay":300,"aria-pressed":l,children:[(0,r.jsx)("div",{className:Y,children:(0,r.jsx)("div",{className:F()(W,{[$]:i,[X]:a})})}),(0,r.jsx)(L.E,{children:u})]})}let ec=n.memo(function({gridState:e,setGridState:t,onReEnableHover:s,handleGridSelectionResizeAndCommit:n,recordingKey:i,initialGridSize:a}){let o=(0,j.kl)("gridColumnCount"),d=(0,j.kl)("gridRowCount"),c=void 0!==o&&(0,b.hS)(o)?o:null,u=void 0!==d&&(0,b.hS)(d)?d:null,m=e?.mode==="hover"&&null!==e.hoveredIndex?e.hoveredIndex%12:-1,g=e?.mode==="hover"&&null!==e.hoveredIndex?Math.floor(e.hoveredIndex/12):-1,x=s=>{if(e?.mode!=="hover")return;let r=s.target,n=(0,p.kc)().tv_grid_picker_radio?r.closest("input[data-idx]"):r.closest("button[data-idx]");if(n){let s=n.getAttribute("data-idx");if(null!==s){let r=parseInt(s);isNaN(r)||r===e.hoveredIndex||t(e=>e?.mode==="hover"?{...e,hoveredIndex:r}:e)}}},_=t=>{e?.mode==="hover"&&x(t)},y=()=>{e?.mode==="hover"&&setTimeout(()=>{let e=null!==u?Math.min(u,8):null,s=null!==c?Math.min(c,12):null;t({mode:"hover",hoveredIndex:null!==e&&null!==s?(e-1)*12+s-1:null})},200)},C=e=>{let s=e.target;if(s.hasAttribute("data-idx")){let e=s.getAttribute("data-idx");if(null!==e){let s=parseInt(e);isNaN(s)||t(e=>e?"hover"===e.mode&&e.hoveredIndex!==s?{...e,hoveredIndex:s}:e:null)}}},v=s=>{let r=s.target.getAttribute("data-idx");if(!r)return;let i=parseInt(r),l=i%12,a=Math.floor(i/12),o=a,d=l;switch(s.code){case"KeyK":case"ArrowUp":o=Math.max(a-1,0);break;case"KeyJ":case"ArrowDown":o=Math.min(a+1,7);break;case"KeyH":case"ArrowLeft":d=Math.max(l-1,0);break;case"KeyL":case"ArrowRight":d=Math.min(l+1,11);break;case"Home":d=0;break;case"End":d=11;break;case"PageUp":o=0;break;case"PageDown":o=7;break;case"KeyX":{let e=o;o=d,d=e;break}case"Enter":if(e?.mode==="hover"){let e=Math.floor(i/12);n({cols:i%12+1,rows:e+1})}s.preventDefault(),s.stopPropagation();return;default:return}s.stopPropagation(),s.preventDefault();let c=12*o+d;t(e=>e?"hover"===e.mode?{...e,hoveredIndex:c}:"input"===e.mode?{mode:"hover",hoveredIndex:c}:e:null);let u=s.currentTarget.querySelector(`[data-idx='${c}']`);u?.focus()},k=(0,I.M9)(96,t=>{let l;let c=t%12,u=Math.floor(t/12),p=c===o&&u===d;if(e?.mode==="input"){let{intermediateCols:t,intermediateRows:s}=e;l="number"==typeof t&&t>0&&"number"==typeof s&&s>0&&c<t&&u<s}else l=e?.hoveredIndex!==null&&c<=m&&u<=g;let x=null!==a&&c<a.cols&&u<a.rows;return(0,r.jsx)(ed,{cellCol:c+1,cellRow:u+1,index:t,isChecked:p,isHighlighted:l,isInitialSize:x,mode:e?.mode||"hover",onCommit:n,onReEnableHover:s,recordingKey:h.Pt(i,u+1,c+1)},t)}),S=void 0!==o&&void 0!==d?`${o}x${d}`:void 0;return(0,p.kc)().tv_grid_picker_radio?(0,r.jsx)(P.bL,{value:S,className:V,legend:(0,r.jsx)(O.q,{children:(0,f.t)("fullscreen.properties_panel.grid.grid_dimensions")}),htmlAttributes:{onPointerOver:_,onPointerLeave:y,onKeyDown:v,onFocusCapture:C},onChange:l.lQ,children:(0,r.jsx)("div",{className:U,children:k})}):(0,r.jsx)("div",{className:F()(U,V),onPointerOver:_,onPointerLeave:y,onKeyDown:v,onFocusCapture:C,children:k})});var eu=s(942429),ep=s(425045),eh=s(532224),em=s(217820),eg=s(278200),ex=s(504621);function ef(e){let t=(0,i.d4)(v.Sh),s=1===t.length&&t[0]?t[0]:"";return(0,C.Fk)((t,s)=>{let r=t.get(s);return r?"PARENT"===e&&r.isGrid?s:"CHILD"===e&&r.isGridChild?s:null:null},s)}function e_({recordingKey:e}){let t=ef("CHILD"),s=(0,C.Fk)((e,t)=>{if(!t)return null;let s=e.get(t);return s&&s.isGridChild?{rowAnchorIndex:s.gridRowAnchorIndex,columnAnchorIndex:s.gridColumnAnchorIndex,rowSpan:s.gridRowSpan,columnSpan:s.gridColumnSpan}:null},t),i=(0,n.useCallback)((e,t)=>{c.l7.user("grid-panel",()=>{d.HV5&&t>=0&&d.HV5.setTrackAnchor(e,t)})},[]),a=(0,n.useCallback)((e,s)=>{null!==t&&c.l7.user("grid-panel",()=>{let r=(0,u.UN)(),n=r.get(t),i=n&&n.parentGuid&&r.get(n.parentGuid);n&&i&&s>=1&&(e===d.CXS.ROW?n.gridRowAnchorIndex+s<=i.gridRowCount&&(n.gridRowSpan=s):n.gridColumnAnchorIndex+s<=i.gridColumnCount&&(n.gridColumnSpan=s))})},[t]);return(0,ep.wx)()?null:t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N.fn,{leftLabel:"Rows",rightLabel:"Columns",leftInput:(0,r.jsx)(S.Ht,{value:s?.rowAnchorIndex??void 0,onValueChange:e=>i(d.CXS.ROW,e),recordingKey:h.Pt(e,"grid-rows"),id:"grid-rows",dispatch:l.lQ,"data-tooltip-type":k.Ib.TEXT,"data-tooltip":(0,f.t)("fullscreen.properties_panel.grid.row_index"),children:(0,r.jsx)("span",{className:`${J.QK} svg`,children:(0,f.t)("fullscreen.properties_panel.grid_panel.r")})}),rightInput:(0,r.jsx)(S.Ht,{value:s?.columnAnchorIndex??void 0,onValueChange:e=>i(d.CXS.COLUMN,e),recordingKey:h.Pt(e,"grid-columns"),id:"grid-columns",dispatch:l.lQ,"data-tooltip-type":k.Ib.TEXT,"data-tooltip":(0,f.t)("fullscreen.properties_panel.grid.column_index"),children:(0,r.jsx)("span",{className:`${J.QK} svg`,children:(0,f.t)("fullscreen.properties_panel.grid_panel.c")})}),icon:null}),(0,r.jsx)(N.fn,{leftLabel:"Rows",rightLabel:"Columns",leftInput:(0,r.jsx)(S.Ht,{value:s?.rowSpan,onValueChange:e=>a(d.CXS.ROW,e),recordingKey:h.Pt(e,"grid-rows"),id:"grid-rows",dispatch:l.lQ,"data-tooltip-type":k.Ib.TEXT,"data-tooltip":(0,f.t)("fullscreen.properties_panel.grid.vertical_span"),children:(0,r.jsx)(m.B,{svg:ex.A,className:J.QK})}),rightInput:(0,r.jsx)(S.Ht,{value:s?.columnSpan,onValueChange:e=>a(d.CXS.COLUMN,e),recordingKey:h.Pt(e,"grid-columns"),id:"grid-columns",dispatch:l.lQ,"data-tooltip-type":k.Ib.TEXT,"data-tooltip":(0,f.t)("fullscreen.properties_panel.grid.horizontal_span"),children:(0,r.jsx)(m.B,{svg:eg.A,className:J.QK})}),icon:null})]}):null}function ey({recordingKey:e}){let t=(0,C.Fk)(e=>{let t=e.getDirectlySelectedNodes();if(1!==t.length)return null;let s=t[0];if(!s||!s.isGridChild||"ABSOLUTE"===s.stackPositioning)return null;let r=s.parentNode;if(!r||!r.isGrid)return null;let n=r.gridRowSizesInOrder[s.gridRowAnchorIndex],i=r.gridColumnSizesInOrder[s.gridColumnAnchorIndex];return n&&i?{gridChildId:s.guid,rowSpan:s.gridRowSpan,columnSpan:s.gridColumnSpan,maxRowSpan:r.gridRowCount-s.gridRowAnchorIndex,maxColumnSpan:r.gridColumnCount-s.gridColumnAnchorIndex}:null}),s=(0,g.S)({min:1,max:t?.maxColumnSpan}),i=(0,g.S)({min:1,max:t?.maxRowSpan}),l=(0,n.useCallback)((e,s,r)=>{null!==t&&null!==t.gridChildId&&c.l7.user("grid-panel",()=>{let n=(0,u.UN)().get(t.gridChildId),i=n&&n.parentNode;n&&i&&(n.setSpanAndUpdateChildPositions(e,s),r&&_.Y5.triggerAction("commit"))})},[t]);return t?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(N.fn,{leftLabel:(0,f.t)("fullscreen.properties_panel.grid.column_span"),rightLabel:(0,f.t)("fullscreen.properties_panel.grid.row_span"),leftInput:(0,r.jsx)(x.N,{"aria-label":(0,f.t)("fullscreen.properties_panel.grid.column_span"),formatter:s,value:t.columnSpan,onChange:(e,{commit:t})=>{l(d._0v.X,e,t)},icon:(0,r.jsx)(m.B,{svg:eh.A,className:J.QK}),recordingKey:h.Pt(e,"gridColumnSpan"),"data-testid":"grid-column-span-input"}),rightInput:(0,r.jsx)(x.N,{"aria-label":(0,f.t)("fullscreen.properties_panel.grid.row_span"),formatter:i,value:t.rowSpan,onChange:(e,{commit:t})=>{l(d._0v.Y,e,t)},icon:(0,r.jsx)(m.B,{svg:em.A,className:J.QK}),recordingKey:h.Pt(e,"gridRowSpan"),"data-testid":"grid-row-span-input"}),icon:null})}):null}function eb({recordingKey:e,isSelectionStackOrGrid:t}){return(0,r.jsxs)(r.Fragment,{children:[(0,p.kc)().ce_tv_grid_ga&&(0,r.jsx)(ey,{recordingKey:e}),t&&(0,r.jsx)(ej,{recordingKey:e}),(0,p.kc)().ce_tv_grid_experimental&&(0,r.jsx)(e_,{recordingKey:e})]})}function ej({recordingKey:e}){let t=(0,j.kl)("isInstanceSelected"),s=(0,j.kl)("isNonEditableInstanceSublayerSelected");return"GRID"!==(0,j.kl)("stackMode")?null:(0,r.jsx)(T.iZ,{leftLabel:(0,f.t)("fullscreen.properties_panel.stack_panel.grid"),rightLabel:(0,f.t)("fullscreen.properties_panel.section_autoLayout.label_gap"),leftInput:(0,r.jsx)(es,{recordingKey:h.Pt(e,"gridPicker"),disabled:!!(t||s)}),topRightInput:(0,r.jsx)(ev,{recordingKey:h.Pt(e,"gridColumnSpacingControl")}),bottomRightInput:(0,r.jsx)(eS,{recordingKey:h.Pt(e,"gridRowSpacingControl")}),topIcon:(0,r.jsx)(eu.o,{recordingKey:h.Pt(e,"stackLayoutDetails")}),bottomIcon:null})}let eC=["GRID_COLUMN_GAP"];function ev({recordingKey:e}){let t=(0,ep.Wx)(),s=(0,ep.Y9)(),{bigNudgeAmount:i,smallNudgeAmount:o}=(0,y.sT)(),[u,h]=(0,j.lJ)("gridColumnGap"),m=n.useCallback((e,t)=>{c.l7.user("grid-panel",()=>{(0,b.SX)(e)||h(e,t)})},[h]),g=(0,r.jsx)(S.$j,{bigNudgeAmount:i,"data-tooltip":(0,f.t)("fullscreen.properties_panel.grid.gap_between_columns"),"data-tooltip-type":k.Ib.TEXT,dataTestId:"grid-col-spacing-control",dispatch:l.lQ,inputClassName:J.hF,isTokenizable:!0,noBorderOnHover:!0,onBlur:()=>t(d.RN9.SPACING,!1),onFocus:()=>t(d.RN9.SPACING,!0),onMouseEnter:()=>s(d.RN9.SPACING,!0),onMouseLeave:()=>s(d.RN9.SPACING,!1),onScrubBegin:()=>t(d.RN9.SPACING,!0),onScrubEnd:()=>t(d.RN9.SPACING,!1),onValueChange:m,recordingKey:e,smallNudgeAmount:o,value:u??0,children:(0,r.jsx)(a.E,{className:J.QK})});return(0,p.kc)().grid_gap_vars?(0,r.jsx)(w.sA,{fields:eC,resolvedType:d.rXF.FLOAT,currentFieldValue:(0,b.hS)(u)?u:void 0,children:g}):g}let ek=["GRID_ROW_GAP"];function eS({recordingKey:e}){let t=(0,ep.Wx)(),s=(0,ep.Y9)(),{bigNudgeAmount:i,smallNudgeAmount:a}=(0,y.sT)(),[u,h]=(0,j.lJ)("gridRowGap"),m=n.useCallback((e,t)=>{c.l7.user("grid-panel",()=>{(0,b.SX)(e)||h(e,t)})},[h]),g=(0,r.jsx)(S.$j,{bigNudgeAmount:i,"data-tooltip":(0,f.t)("fullscreen.properties_panel.grid.gap_between_rows"),"data-tooltip-type":k.Ib.TEXT,dataTestId:"grid-row-spacing-control",dispatch:l.lQ,inputClassName:J.hF,isTokenizable:!0,noBorderOnHover:!0,onBlur:()=>t(d.RN9.COUNTER_SPACING,!1),onFocus:()=>t(d.RN9.COUNTER_SPACING,!0),onMouseEnter:()=>s(d.RN9.COUNTER_SPACING,!0),onMouseLeave:()=>s(d.RN9.COUNTER_SPACING,!1),onScrubBegin:()=>t(d.RN9.COUNTER_SPACING,!0),onScrubEnd:()=>t(d.RN9.COUNTER_SPACING,!1),onValueChange:m,recordingKey:e,smallNudgeAmount:a,value:u??0,children:(0,r.jsx)(o.W,{className:J.QK})});return(0,p.kc)().grid_gap_vars?(0,r.jsx)(w.sA,{fields:ek,resolvedType:d.rXF.FLOAT,currentFieldValue:(0,b.hS)(u)?u:void 0,children:g}):g}},936774:(e,t,s)=>{s.d(t,{q:()=>A});var r=s(104076),n=s(716976),i=s(903927),l=s(649621),a=s(817694),o=s(266808),d=s(511570),c=s.n(d),u=s(166887),p=s(652539),h=s(192075),m=s(968169),g=s(553065),x=s(754446),f=s(294570),_=s(894210),y=s(950241),b=s(217062),j=s(777807),C=s(954741),v=s(387271),k=s(211264),S=s(425045),w=s(259595),T=s(489587),N=s(962815);let I="STACK_COUNTER_SPACING",E=[I];function A({focusOnMount:e,source:t,onCanvasUI:s,...d}){let A=(0,i.wA)(),{smallNudgeAmount:M,bigNudgeAmount:P}=(0,m.sT)(),[L,O]=(0,x.lJ)("stackCounterSpacing"),R=(0,x.kl)("stackCounterSpacingSynced"),[F,D]=(0,x.lJ)("stackCounterAlignContent"),K=(0,u.am)(),B=(0,n.useRef)(!1),G=(0,g.gl)(F)?g.oV:"SPACE_BETWEEN"===F?g.Q8:L,H=(0,n.useRef)(null);n.useEffect(()=>{e&&(H.current?.focus(),H.current?.select())},[e]);let{boundVariable:z,consumedVariable:V}=(0,k.O)(I,o.rXF.FLOAT);(0,n.useEffect)(()=>{z&&"SPACE_BETWEEN"===F&&D("AUTO",f.zk.NO)},[z,F,D]);let{clearVariableConsumption:U}=(0,k.O)(I,o.rXF.FLOAT),W=(0,S.lW)({smallNudgeAmount:M,bigNudgeAmount:P,min:0,allowEmpty:!0}),$=(e,s)=>{s&&(K("autolayout_counter_spacing_changed",{source:t,input:B.current?"scrub":"textfield",value:(0,g.SX)(e)?"Auto":e}),o.glU.temporarilyHideOverlay(o.hJs.SELECTION)),"number"==typeof e||null===e?(D("AUTO",f.zk.NO),O(e,s)):(U(),D("SPACE_BETWEEN",s))},X=(0,h.t)("fullscreen.properties_panel.stack_panel.gap_rows_vertical"),Y="spacing-rows-vertical-icon",q=[(0,r.jsx)(C.c$,{value:(0,l.Et)(L)?L:P},"value"),(0,r.jsx)(C.c$,{value:g.Q8},"auto")],J=R&&"SPACE_BETWEEN"!==F;if(!s){let e=(0,r.jsx)(a.W,{});return(0,r.jsx)(j.ow,{value:{select:w.pW,inputComponent:w.gm},children:(0,r.jsx)(C.tV,{value:{chevron:v.t},children:(0,r.jsx)(k.S,{allowEmpty:!0,dropdownAlignment:"right",dropdownWidth:140,formatter:W,icon:e,iconId:Y,id:"stackCounterSpacing",inputClassName:d.inputClassName,inputRef:H,inputTestId:d.inputTestId,mixedMathHandler:S.lL,noBorderOnFocus:d.noBorderOnFocus,noLeftBorder:d.noLeftBorder,onBlur:d.onBlur,onChange:$,onFocus:d.onFocus,onKeyDown:d.onKeyDown,onMouseEnter:d.onMouseEnter,onMouseLeave:d.onMouseLeave,onNudge:d.onNudge,onPaste:d.onPaste,onScrubBegin:d.onScrubBegin,onScrubEnd:d.onScrubEnd,options:q,outerClassName:c()(d.outerClassName,T.Sz),placeholder:J&&(0,g.hS)(G)?W.format(G):void 0,recordingKey:d.recordingKey,scrubStartValue:J?G:void 0,shiftVariableOptionToAlign:!0,source:t,squareRightBorder:d.squareRightBorder,tooltipText:X,value:J?void 0:G,variableField:I})})})}return(0,r.jsx)(b.sA,{recordingKey:d.recordingKey,inputClassName:d.outerClassName,fields:E,currentFieldValue:(0,g.hS)(L)?L:void 0,resolvedType:o.rXF.FLOAT,disableEntryPoint:s,children:(0,r.jsx)(y.Se,{allowEmpty:!0,bigNudgeAmount:P,"data-tooltip":X,"data-tooltip-proxy-element-id":V?Y:void 0,"data-tooltip-type":_.Ib.TEXT,dataTestId:d.inputTestId,dispatch:A,forwardedRef:H,inputClassName:c()(T.hF,d.inputClassName),isTokenizable:!0,min:0,mixedMathHandler:S.bd,noBorderOnFocus:d.noBorderOnFocus,noBorderOnHover:!0,noLeftBorder:d.noLeftBorder,onBlur:d.onBlur,onFocus:d.onFocus,onKeyDown:d.onKeyDown,onMouseEnter:d.onMouseEnter,onMouseLeave:d.onMouseLeave,onNudge:d.onNudge,onPaste:d.onPaste,onScrubBegin:e=>{B.current=!0,d.onScrubBegin?.(e)},onScrubEnd:e=>{B.current=!1,d.onScrubEnd?.(e)},onValueChange:$,placeholder:J&&(0,g.hS)(G)?W.format(G):void 0,recordingKey:d.recordingKey,scrubMultiplier:M,scrubStartValue:J?G:void 0,smallNudgeAmount:M,squareRightBorder:d.squareRightBorder,value:J?void 0:G,wheelMultiplier:M,children:(0,r.jsx)(p.B,{className:c()(T.QK,d.svgClassName),svg:N.A,"data-tooltip-type":V?_.Ib.TEXT:void 0,"data-tooltip":V?X:void 0,id:Y})})})}},942429:(e,t,s)=>{s.d(t,{o:()=>J});var r=s(104076),n=s(716976),i=s(903927),l=s(746175),a=s(268389),o=s(816299),d=s(101441),c=s(812714),u=s(166887),p=s(641518),h=s(933688),m=s(809125),g=s(192075),x=s(205084),f=s(553065),_=s(754446),y=s(506192),b=s(76365),j=s(894210),C=s(721719),v=s(954741),k=s(454851),S=s(878604),w=s(328341),T=s(836982),N=s(850701),I=s(675477),E=s(354114),A=s(746005),M=s(386958),P=s(852415);function L({id:e,onClose:t,...s}){let l=(0,i.wA)(),a=(0,A.kG)(e),o=(0,w.ZC)(a.showing),d=(0,P.p)(),c=(0,n.useRef)(t);c.current=t,(0,n.useEffect)(()=>{o&&!a.showing&&c.current?.()},[a.showing,o]),(0,n.useEffect)(()=>()=>c.current?.(),[]);let u=()=>{a.showing&&(a.hide(),E.Y5.deselectProperty())},h=p.Pt(s,"trigger"),{x:m,y:g}=a.initialPosition;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(O,{name:s.buttonInteractableName,children:(0,r.jsx)(k.d,{actionOnPointerDown:!0,onClick:t=>{if(t.stopPropagation(),a.showing){u();return}let{top:s}=t.currentTarget.getBoundingClientRect(),r=M.qo,n=d();n&&(r=window.innerWidth-n.getBoundingClientRect().left),l(N.u1({id:e,initialX:r,initialY:s}))},"aria-expanded":!!a.showing,"aria-label":s.tooltip,recordingKey:h,htmlAttributes:{onPointerMove:()=>{a.showing&&l(I.jD())},"data-testid":h},children:s.icon})}),a.showing?(0,r.jsx)(R,{name:s.windowTrackableName,children:(0,r.jsx)(S.bL,{width:s.width,onClose:u,defaultPosition:{top:g,right:m},recordingKey:p.Pt(s,"window"),children:s.children})}):null]})}function O({children:e,name:t}){return t?(0,r.jsx)(h.E,{name:t,children:e}):(0,r.jsx)(r.Fragment,{children:e})}function R({children:e,name:t}){return t?(0,r.jsx)(T.k,{name:t,children:e}):(0,r.jsx)(r.Fragment,{children:e})}var F=s(511570),D=s.n(F);let K="stack_layout_details_preview--stroke--tWkNh",B="stack_layout_details_preview--strokeLight--RsPk7",G="stack_layout_details_preview--fill--V74cf",H="stack_layout_details_preview--fillWhite--uTjlG",z="stack_layout_details_preview--fillTertiary--xuwqQ",V={reverseStackingOrder:function({enabled:e}){let t=[(0,r.jsxs)("g",{filter:"url(#reverse-stacking-order-filter)",children:[(0,r.jsx)("rect",{className:H,x:"67",y:"40",width:"40",height:"40",rx:"20"}),(0,r.jsx)("path",{className:G,d:"M88.4893 53.9091V67H87.294V55.1619H87.2173L84.1491 57.201V55.9609L87.2429 53.9091H88.4893Z"}),(0,r.jsx)("rect",{className:K,x:"66.5",y:"39.5",width:"41",height:"41",rx:"20.5"})]},"1"),(0,r.jsxs)("g",{filter:"url(#reverse-stacking-order-filter)",children:[(0,r.jsx)("rect",{className:H,x:"99",y:"40",width:"40",height:"40",rx:"20"}),(0,r.jsx)("path",{className:G,d:"M114.964 67V66.1243L119.241 61.3175C119.799 60.6868 120.248 60.1477 120.589 59.7003C120.93 59.2528 121.177 58.8395 121.331 58.4602C121.488 58.081 121.567 57.6868 121.567 57.2777C121.567 56.7791 121.45 56.3445 121.216 55.9737C120.986 55.5987 120.668 55.3068 120.263 55.098C119.858 54.8892 119.402 54.7848 118.895 54.7848C118.358 54.7848 117.888 54.8999 117.483 55.13C117.082 55.3601 116.771 55.6754 116.549 56.076C116.328 56.4766 116.217 56.9368 116.217 57.4567H115.073C115.073 56.7322 115.239 56.0909 115.571 55.5327C115.908 54.9702 116.366 54.5291 116.946 54.2095C117.53 53.8899 118.19 53.7301 118.927 53.7301C119.656 53.7301 120.304 53.8878 120.87 54.2031C121.437 54.5142 121.883 54.9382 122.206 55.4751C122.53 56.0121 122.692 56.6129 122.692 57.2777C122.692 57.7592 122.607 58.2259 122.437 58.6776C122.27 59.1293 121.983 59.6321 121.574 60.1861C121.165 60.7401 120.598 61.4176 119.873 62.2188L116.626 65.843V65.9261H123.101V67H114.964Z"}),(0,r.jsx)("rect",{className:K,x:"98.5",y:"39.5",width:"41",height:"41",rx:"20.5"})]},"2"),(0,r.jsxs)("g",{filter:"url(#reverse-stacking-order-filter)",children:[(0,r.jsx)("rect",{className:H,x:"131",y:"40",width:"40",height:"40",rx:"20"}),(0,r.jsx)("path",{className:G,d:"M151.048 67.179C150.243 67.179 149.522 67.0341 148.887 66.7443C148.252 66.4503 147.75 66.0433 147.379 65.5234C147.008 65.0036 146.812 64.4048 146.791 63.7273H147.999C148.02 64.2045 148.167 64.6222 148.44 64.9801C148.713 65.3338 149.075 65.6108 149.527 65.8111C149.978 66.0071 150.481 66.1051 151.035 66.1051C151.64 66.1051 152.173 65.9922 152.633 65.7663C153.098 65.5405 153.46 65.2315 153.72 64.8395C153.984 64.4432 154.116 63.9957 154.116 63.4972C154.116 62.9687 153.982 62.5021 153.713 62.0973C153.445 61.6925 153.059 61.3771 152.556 61.1513C152.058 60.9254 151.461 60.8125 150.767 60.8125H150V59.7386H150.767C151.333 59.7386 151.834 59.6364 152.269 59.4318C152.708 59.223 153.053 58.9311 153.304 58.5561C153.556 58.1811 153.681 57.7401 153.681 57.233C153.681 56.7514 153.573 56.3274 153.355 55.9609C153.138 55.5945 152.831 55.3068 152.435 55.098C152.043 54.8892 151.585 54.7848 151.061 54.7848C150.554 54.7848 150.089 54.8828 149.667 55.0788C149.245 55.2749 148.904 55.5518 148.645 55.9098C148.389 56.2678 148.252 56.6918 148.235 57.1818H147.078C147.096 56.5 147.283 55.9013 147.641 55.3857C148.003 54.8658 148.483 54.4609 149.079 54.1712C149.68 53.8771 150.345 53.7301 151.074 53.7301C151.845 53.7301 152.512 53.8878 153.074 54.2031C153.637 54.5185 154.071 54.9382 154.378 55.4624C154.689 55.9822 154.845 56.5554 154.845 57.1818C154.845 57.9276 154.642 58.5668 154.238 59.0994C153.833 59.6278 153.287 59.9943 152.601 60.1989V60.282C153.436 60.4482 154.093 60.8189 154.57 61.3942C155.051 61.9652 155.292 62.6662 155.292 63.4972C155.292 64.196 155.109 64.8246 154.743 65.3828C154.376 65.9368 153.873 66.3757 153.234 66.6996C152.599 67.0192 151.87 67.179 151.048 67.179Z"}),(0,r.jsx)("rect",{className:K,x:"130.5",y:"39.5",width:"41",height:"41",rx:"20.5"})]},"3")];return e&&t.reverse(),(0,r.jsxs)("svg",{width:"240",height:"120",fill:"none",children:[t,(0,r.jsx)("rect",{className:B,x:"58.5",y:"28.5",width:"123",height:"63",rx:"3.5",strokeDasharray:"4 2"}),(0,r.jsx)("defs",{children:(0,r.jsxs)("filter",{id:"reverse-stacking-order-filter",x:"-1px",y:"-1px",width:"44",height:"42",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feOffset",{dx:"2"}),(0,r.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,r.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,r.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1112_23748"}),(0,r.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1112_23748",result:"shape"})]})})]})},alignToBaseline:function(){return(0,r.jsxs)("svg",{width:240,height:120,fill:"none",children:[(0,r.jsx)("path",{className:D()("stack_layout_details_preview--alignToBaselineLine--Erw5t","stack_layout_details_preview--strokeAssistive--GgFOd"),d:"M38 60.5h164"}),(0,r.jsxs)("g",{className:"stack_layout_details_preview--alignToBaselineA--kQYyh",children:[(0,r.jsx)("path",{className:G,d:"M63.8516 67L65.2514 63.0561H70.7486L72.1484 67H73.4013L68.6392 53.9091H67.3608L62.5987 67H63.8516ZM65.6349 61.9822L67.9553 55.4624H68.0447L70.3651 61.9822H65.6349Z"}),(0,r.jsx)("rect",{className:K,x:46.5,y:38.5,width:43,height:43,rx:1.5})]}),(0,r.jsx)("rect",{className:D()("stack_layout_details_preview--alignToBaselineEmpty--Z-l7O",K),x:98.5,y:38.5,width:43,height:43,rx:1.5}),(0,r.jsxs)("g",{className:"stack_layout_details_preview--alignToBaselineG--YayQ-",children:[(0,r.jsx)("path",{className:G,d:"M171.843 68.8864C174.169 68.8864 175.895 67.7486 175.895 65.2557V55.1818H174.783V57.0547H174.668C174.265 56.1726 173.453 55.0476 171.651 55.0476C169.222 55.0476 167.592 57.0803 167.592 60.0653C167.592 63.076 169.279 64.8977 171.632 64.8977C173.396 64.8977 174.259 63.875 174.649 62.9737H174.751V65.1854C174.751 67.0135 173.581 67.8636 171.843 67.8636C170.161 67.8636 169.356 67.0518 168.941 66.304L168.007 66.9176C168.583 68.0426 169.835 68.8864 171.843 68.8864ZM171.766 63.8558C169.816 63.8558 168.736 62.2962 168.736 60.0462C168.736 57.8345 169.797 56.0831 171.766 56.0831C173.69 56.0831 174.77 57.745 174.77 60.0462C174.77 62.4176 173.658 63.8558 171.766 63.8558Z"}),(0,r.jsx)("rect",{className:K,x:150.5,y:38.5,width:43,height:43,rx:1.5})]}),(0,r.jsx)("rect",{className:D()("stack_layout_details_preview--alignToBaselineOutline--YlRIY",B),x:38.5,y:30.5,width:163,height:59,rx:3.5,strokeDasharray:"4 2",vectorEffect:"non-scaling-stroke"})]})},bordersTakeSpace:function(){return(0,r.jsxs)("svg",{width:240,height:120,fill:"none",children:[(0,r.jsxs)("g",{className:"stack_layout_details_preview--bordersTakeSpaceLeft--WTfPZ",children:[(0,r.jsx)("rect",{className:z,x:"43",y:"37",width:"48",height:"48",rx:"2"}),(0,r.jsx)("rect",{className:H,x:"49",y:"43",width:"36",height:"36",rx:"2"})]}),(0,r.jsxs)("g",{className:"stack_layout_details_preview--bordersTakeSpaceRight--QCBF1",children:[(0,r.jsx)("rect",{className:z,x:"98",y:"37",width:"99",height:"48",rx:"2"}),(0,r.jsx)("rect",{className:H,x:"104",y:"43",width:"87",height:"36",rx:"2"})]}),(0,r.jsx)("rect",{className:D()("stack_layout_details_preview--bordersTakeSpaceOutline--Xq42w",B),x:"48.5",y:"42.5",width:"143",height:"37",rx:"1.5",strokeDasharray:"4 2",vectorEffect:"non-scaling-stroke"})]})}};function U({setting:e,enabled:t}){let s=e?V[e]:null;return(0,r.jsx)("div",{className:D()("stack_layout_details_preview--preview---r9k-",{"stack_layout_details_preview--active--yCMB3":t}),"data-non-interactive":!0,children:s?(0,r.jsx)(s,{enabled:t}):(0,r.jsx)("div",{className:"stack_layout_details_preview--previewText--0NBYb",children:(0,g.tx)("fullscreen.properties_panel.stack_panel.preview")})})}var W=s(734182);let $="stack_layout_details_modal--dropdownControl--PRPD5",X="stack_layout_details_modal--input--h2Yc7",Y="stack_layout_details_modal--chevron--tW9wo";var q=s(489587);function J(e){let[t,s]=(0,n.useState)({enabled:!1}),i=(0,g.t)("fullscreen.properties_panel.section_autoLayout.settings");return(0,r.jsx)("span",{className:q.Sj,children:(0,r.jsx)(L,{id:"LAYOUT_DETAILS_PICKER",tooltip:i,buttonInteractableName:"open_stack_layout_details_modal_button",windowTrackableName:"stack_layout_details_modal",icon:(0,r.jsx)(d.P,{}),recordingKey:e.recordingKey,children:(0,r.jsxs)(a.vo,{children:[(0,r.jsx)(a.Y9,{children:(0,r.jsx)(a.hE,{children:i})}),(0,r.jsx)(a.nB,{padding:0,children:(0,r.jsx)(Z,{hoveredSetting:t,setHoveredSetting:s,recordingKey:e.recordingKey})})]})})})}function Z({hoveredSetting:e,setHoveredSetting:t,recordingKey:s}){let n=(0,_.kl)("stackMode");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(U,{setting:e.setting,enabled:e.enabled}),(0,r.jsxs)("div",{className:"stack_layout_details_modal--controls--SFjhS",children:[(0,r.jsx)(et,{updatePreview:t,recordingKey:s}),("HORIZONTAL"===n||"VERTICAL"===n||(0,f.gl)(n))&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Q,{updatePreview:t,recordingKey:s}),(0,r.jsx)(ee,{updatePreview:t,recordingKey:s})]})]})]})}function Q({updatePreview:e,recordingKey:t}){let s=(0,i.wA)(),a=(0,y.Um)(),[d,m]=(0,_.lJ)("stackReverseZIndex"),j=(0,u.am)(),k=(0,i.d4)(b.Sh),S=x.Gq()?.getPrimaryLocale(!0)===l.hT.EN?120:180,w=(0,f.gl)(d),T=!0===d,N=n.useId();return(0,r.jsx)(h.E,{name:"stacking_order_control",children:(0,r.jsx)(C.L,{label:(0,g.t)("fullscreen.properties_panel.stack_panel.canvas_stacking_order"),labelId:N,onMouseEnter:()=>e({setting:"reverseStackingOrder",enabled:T}),onMouseLeave:()=>e({enabled:!1}),children:(0,c.kc)().ce_tv_fpl_select?(0,r.jsx)("span",{className:$,children:(0,r.jsxs)(o.bL,{value:w?"Mixed":d?"TRUE":"FALSE",onChange:e=>{m("TRUE"===e),j(T?"Enable reverse zIndex":"Disable reverse zIndex",{nodeIds:k})},onSelectionChange:t=>e({setting:null!=t?"reverseStackingOrder":void 0,enabled:"TRUE"===t}),recordingKey:p.Pt(t,"reverseStackingOrder"),children:[(0,r.jsx)(o.DZ,{id:N,width:"fill"}),(0,r.jsxs)(o.mc,{children:[w&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.c$,{value:"Mixed",disabled:!0,children:(0,g.t)("fullscreen.mixed")}),(0,r.jsx)(o.wv,{})]}),(0,r.jsx)(o.c$,{value:"TRUE",children:es.format(!0)}),(0,r.jsx)(o.c$,{value:"FALSE",children:es.format(!1)})]})]})}):(0,r.jsxs)(v.l6,{ariaLabelledBy:N,chevronClassName:Y,className:$,dispatch:s,dropdownAlignment:"right",dropdownShown:a,dropdownWidth:S,formatter:es,id:"reverse-stacking-order-select",inputClassName:X,onChange:e=>{m(e),j(e?"Enable reverse zIndex":"Disable reverse zIndex",{nodeIds:k})},onOptionFocus:t=>e({setting:null!=t?"reverseStackingOrder":void 0,enabled:!!t}),property:d,recordingKey:p.Pt(t,"reverseStackingOrder"),children:[(0,r.jsx)(v.c$,{value:!0}),(0,r.jsx)(v.c$,{value:!1})]})})})}function ee({updatePreview:e,recordingKey:t}){let s=(0,_.kl)("stackMode"),n="BASELINE"===(0,_.kl)("stackCounterAlignItems"),i="HORIZONTAL"!==s,l=(0,W.sR)();return(0,r.jsx)(h.E,{name:"baseline_alignment_control",children:(0,r.jsx)(m.k,{label:(0,g.t)("fullscreen.properties_panel.stack_panel.align_text_baseline"),recordingKey:p.Pt(t,"alignToBaseline"),property:n,disabled:i,onChange:t=>{l(t,"modal"),e({setting:"alignToBaseline",enabled:t})},onFocus:t=>{e({setting:"alignToBaseline",enabled:n})},onHover:(t,s)=>{e({setting:"ENTER"===s?"alignToBaseline":void 0,enabled:t})},"data-tooltip":i?(0,g.t)("fullscreen.properties_panel.stack_panel.only_applicable_for_horizontal_layout"):void 0,"data-tooltip-type":j.Ib.TEXT})})}function et({updatePreview:e,recordingKey:t}){let s=(0,i.wA)(),l=(0,y.Um)(),[a,d]=(0,_.lJ)("bordersTakeSpace"),m=(0,u.am)(),x=(0,i.d4)(b.Sh),j=(0,f.gl)(a),k=!0===a,S=n.useId();return(0,r.jsx)(h.E,{name:"borders_take_space_control",children:(0,r.jsx)(C.L,{label:(0,g.t)("fullscreen.properties_panel.stack_panel.borders_take_space"),labelId:S,onMouseEnter:()=>e({setting:"bordersTakeSpace",enabled:k}),onMouseLeave:()=>e({enabled:!1}),children:(0,c.kc)().ce_tv_fpl_select?(0,r.jsx)("span",{className:$,children:(0,r.jsxs)(o.bL,{value:j?"Mixed":k?"TRUE":"FALSE",onChange:e=>{d("TRUE"===e),m("change_borders_take_space",{enabled:"TRUE"===e,source:"modal",nodeIds:x})},onSelectionChange:t=>e({setting:null!=t?"bordersTakeSpace":void 0,enabled:"TRUE"===t}),recordingKey:p.Pt(t,"bordersTakeSpace"),children:[(0,r.jsx)(o.DZ,{id:S,width:"fill"}),(0,r.jsxs)(o.mc,{children:[j&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.c$,{value:"Mixed",disabled:!0,children:(0,g.t)("fullscreen.mixed")}),(0,r.jsx)(o.wv,{})]}),(0,r.jsx)(o.c$,{value:"TRUE",children:er.format(!0)}),(0,r.jsx)(o.c$,{value:"FALSE",children:er.format(!1)})]})]})}):(0,r.jsxs)(v.l6,{ariaLabelledBy:S,chevronClassName:Y,className:$,dispatch:s,dropdownShown:l,dropdownWidth:168,formatter:er,id:"borders-take-space-select",inputClassName:X,onChange:e=>{d(e),m("change_borders_take_space",{enabled:e,source:"modal",nodeIds:x})},onOptionFocus:t=>e({setting:null!=t?"bordersTakeSpace":void 0,enabled:!!t}),property:k,recordingKey:p.Pt(t,"bordersTakeSpace"),children:[(0,r.jsx)(v.c$,{value:!0}),(0,r.jsx)(v.c$,{value:!1})]})})})}let es={format:e=>e?(0,g.t)("fullscreen.properties_panel.stack_panel.first_on_top"):(0,g.t)("fullscreen.properties_panel.stack_panel.last_on_top")},er={format:e=>e?(0,g.t)("fullscreen.properties_panel.stack_panel.included"):(0,g.t)("fullscreen.properties_panel.stack_panel.excluded"),formatExtended:e=>({text:e?(0,g.t)("fullscreen.properties_panel.stack_panel.included_in_layout"):(0,g.t)("fullscreen.properties_panel.stack_panel.excluded_from_layout")})}},34246:(e,t,s)=>{s.d(t,{s:()=>C,U:()=>v});var r=s(104076),n=s(716976),i=s(903927),l=s(999083),a=s(266808),o=s(511570),d=s.n(o),c=s(968169),u=s(553065),p=s(294570),h=s(894210),m=s(950241),g=s(217062),x=s(664320),f=s(328341),_=s(758735);function y({setShowSinglePaddingControl:e,containsFocus:t}){let s=(0,n.useContext)(_.p),r=s?.isShowingBindingUI,i=(0,f.ZC)(r),l=(0,f.ZC)(t);return(0,n.useEffect)(()=>{i&&!r&&e?.(!1)},[r,e,i]),(0,n.useEffect)(()=>{t||!l||r||e?.(!1)},[t,l,r,e]),null}var b=s(425045),j=s(489587);function C({paddingSelection:e,focusOnMount:t,source:s,disableVariablesEntryPoint:o,setShowSinglePaddingControl:f,..._}){let C=(0,i.wA)(),[v,S]=(0,b.HF)(e),{smallNudgeAmount:w,bigNudgeAmount:T}=(0,c.sT)(),N=(0,n.useRef)(!1),I=b.C8[e],E=`stack-padding-input-icon-${e}`,A=(0,b.wH)(e),M=(0,n.useRef)(null);n.useEffect(()=>{t&&(M.current?.focus(),M.current?.select())},[e,t]);let P=n.useMemo(()=>(0,b.Jj)(e),[e]),L=n.useMemo(()=>k(e),[e]),{consumedVariable:O}=(0,x.u3)(L),R=d()(j.QK,_.svgClassName),[F,D]=n.useState(!1),K=n.useCallback(()=>{D(!0)},[D]),B=n.useCallback(e=>{e.relatedTarget&&e.currentTarget.contains(e.relatedTarget)||D(!1)},[D]),G=(0,n.useCallback)(()=>{f?.(!1)},[f]),{inputClassName:H,noBorderOnFocus:z,noLeftBorder:V,squareRightBorder:U,onFocus:W,onBlur:$,onNudge:X,onMouseEnter:Y,onMouseLeave:q,onClick:J,onKeyDown:Z,onPaste:Q,inputTestId:ee,onScrubBegin:et,recordingKey:es,onScrubEnd:er}=_,en=n.useMemo(()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y,{setShowSinglePaddingControl:f,containsFocus:F}),(0,r.jsx)(m.ig,{bigNudgeAmount:T,"data-tooltip":A,"data-tooltip-proxy-element-id":O?E:void 0,"data-tooltip-show-on-target-only":!0,"data-tooltip-type":h.Ib.TEXT,dataTestId:ee,dispatch:C,forwardedRef:M,inputClassName:d()(j.hF,H),isTokenizable:!0,mixedMathHandler:P,noBorderOnFocus:z,noBorderOnHover:!0,noLeftBorder:V,onBlur:$,onClick:J,onFocus:W,onKeyDown:Z,onMouseEnter:Y,onMouseLeave:q,onNudge:X,onPaste:Q,onScrubBegin:e=>{N.current=!0,et?.(e)},onScrubEnd:e=>{N.current=!1,er?.(e)},onValueChange:(e,t)=>{t===p.zk.YES&&a.glU.temporarilyHideOverlay(a.hJs.SELECTION),S(e,t,{source:s,input:N.current?"scrub":"textfield"})},recordingKey:es,scrubMultiplier:w,smallNudgeAmount:w,squareRightBorder:U,value:v,wheelMultiplier:w,children:(0,r.jsx)("div",{className:R,"data-tooltip-type":O?h.Ib.TEXT:void 0,"data-tooltip":O?A:void 0,id:E,"aria-hidden":!0,children:(0,r.jsx)(I,{})})})]}),[f,F,H,v,w,T,P,C,z,V,U,A,O,E,W,$,X,Y,q,J,Z,Q,es,ee,R,I,S,s,et,er]);return(0,r.jsx)(g.sA,{recordingKey:_.recordingKey,fields:L,disableEntryPoint:o,resolvedType:a.rXF.FLOAT,inputClassName:_.outerClassName,currentFieldValue:(0,u.hS)(v)&&(0,l.Ef)(v)?v[0]:void 0,onClickDetachButton:G,onFocus:K,onBlur:B,children:en})}function v(){let e=k(b.mx.HORIZONTAL),{consumedVariable:t}=(0,x.u3)(e),s=k(b.mx.VERTICAL),{consumedVariable:r}=(0,x.u3)(s);return!(0,u.hS)(t)||!(0,u.hS)(r)}function k(e){switch(e){case b.mx.TOP:return["STACK_PADDING_TOP"];case b.mx.RIGHT:return["STACK_PADDING_RIGHT"];case b.mx.BOTTOM:return["STACK_PADDING_BOTTOM"];case b.mx.LEFT:return["STACK_PADDING_LEFT"];case b.mx.HORIZONTAL:return["STACK_PADDING_LEFT","STACK_PADDING_RIGHT"];case b.mx.VERTICAL:return["STACK_PADDING_TOP","STACK_PADDING_BOTTOM"];case b.mx.ALL:return["STACK_PADDING_BOTTOM","STACK_PADDING_LEFT","STACK_PADDING_RIGHT","STACK_PADDING_TOP"]}}},729591:(e,t,s)=>{s.d(t,{K:()=>f});var r=s(104076),n=s(716976),i=s(878604),l=s(268389),a=s(177833),o=s(641518),d=s(192075),c=s(435049),u=s(354114),p=s(553065),h=s(754446),m=s(294570),g=s(813371),x=s(737139);function f(e){return(0,r.jsx)(i.bL,{...e,children:(0,r.jsxs)(l.vo,{children:[(0,r.jsx)(l.Y9,{children:(0,r.jsx)(l.hE,{children:(0,d.tx)("fullscreen.properties_panel.transform_panel.corner_smoothing")})}),(0,r.jsx)(l.nB,{padding:0,children:(0,r.jsx)(x.Id,{children:(0,r.jsx)("div",{className:"corner_smoothing--modalControl--AXovi",children:(0,r.jsx)(_,{recordingKey:e.recordingKey})})})})]})})}function _({recordingKey:e}){let t=(0,n.useMemo)(()=>new c.LN,[]),s=(0,p._W)((0,h.kl)("cornerSmoothing"),0);return(0,r.jsxs)("div",{className:"corner_smoothing--root--tqWdN",children:[(0,r.jsx)("div",{className:"corner_smoothing--sliderWrapper--j9nGR",children:(0,r.jsx)(a.A,{"aria-label":(0,d.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),bigStep:.1,defaultValue:0,hints:[.6],max:1,min:0,onChange:(e,{commit:t})=>y(e,t),rangeAnchor:0,recordingKey:o.Pt(e,"slider"),step:.01,value:s})}),(0,r.jsx)(g.Q7,{recordingKey:o.Pt(e,"modal"),className:"corner_smoothing--cornerSmoothingInput--diqdz",formatter:t,property:s,onChange:e=>void y(e,!0)}),(0,r.jsx)("div",{className:"corner_smoothing--labelWrapper--4qKuC",children:(0,r.jsx)(x.nV,{className:"corner_smoothing--label--WzFGN",onClick:()=>{y(.6,!0)},children:(0,d.tx)("fullscreen.properties_panel.transform_panel.i_os")})})]})}function y(e,t){e=Math.round(100*e)/100,u.Y5.updateSelectionProperties({cornerSmoothing:e},{shouldCommit:t?m.zk.YES:m.zk.NO})}},569527:(e,t,s)=>{s.d(t,{j:()=>T});var r=s(104076),n=s(716976),i=s(903927),l=s(266808),a=s(140490),o=s(641518),d=s(285626),c=s(553065),u=s(371952),p=s(894210),h=s(386958),m=s(950241),g=s(217062),x=s(304812),f=s(414941),_=s(623891),y=s(758735),b=s(664320),j=s(13073),C=s(699290),v=s(831330),k=s(694915),S=s(567253),w=s(770574);function T(e){return(0,r.jsx)(a.u,{label:"IndependentCornerRadiusView",children:(0,r.jsx)(N,{...e})})}function N({hideVariableIcon:e,recordingKey:t}){let s=(0,f.GI)(),i=s(f.OK.TOP_LEFT).value,l=s(f.OK.TOP_RIGHT).value,a=s(f.OK.BOTTOM_LEFT).value,d=s(f.OK.BOTTOM_RIGHT).value,p=s(f.OK.TOP_LEFT).setter,m=s(f.OK.TOP_RIGHT).setter,g=s(f.OK.BOTTOM_LEFT).setter,_=s(f.OK.BOTTOM_RIGHT).setter,y=n.useMemo(()=>[(0,f.cv)(f.OK.TOP_LEFT)],[]),b=n.useMemo(()=>[(0,f.cv)(f.OK.TOP_RIGHT)],[]),j=n.useMemo(()=>[(0,f.cv)(f.OK.BOTTOM_LEFT)],[]),v=n.useMemo(()=>[(0,f.cv)(f.OK.BOTTOM_RIGHT)],[]),S=(0,u.SG)(y).data??[],w=(0,u.SG)(b).data??[],T=(0,u.SG)(j).data??[],N=(0,u.SG)(v).data??[],M=n.useRef(null),P=n.useRef(null),L=n.useRef(null),O=n.useRef(null),R=n.useRef(null),[F,D]=n.useState(null),K=n.useCallback((e,t)=>{t&&D({corner:e,initialPosition:(0,h.VZ)(t,C.d9)})},[]),B=n.useCallback(()=>{D(null)},[]);function G(e){switch(e){case f.OK.TOP_LEFT:return{value:i,variableFields:y,variablesForField:S,inputRef:M,onChange:p,mixedMathHandler:f.dB};case f.OK.TOP_RIGHT:return{value:l,variableFields:b,variablesForField:w,inputRef:P,onChange:m,mixedMathHandler:f.c5};case f.OK.BOTTOM_LEFT:return{value:a,variableFields:j,variablesForField:T,inputRef:L,onChange:g,mixedMathHandler:f.fN};case f.OK.BOTTOM_RIGHT:return{value:d,variableFields:v,variablesForField:N,inputRef:O,onChange:_,mixedMathHandler:f.ih}}}function H({corner:t,recordingKey:s}){let n=G(t);return(0,r.jsx)(E,{variableFields:n.variableFields,isPickerOpen:F?.corner===t,onPickerOpen:()=>K(t,n.inputRef.current),children:(0,r.jsx)(I,{ref:n.inputRef,disableEntryPoint:0===n.variablesForField.length,hideVariableIcon:e,mixedMathHandler:n.mixedMathHandler,onChange:n.onChange,recordingKey:s,tooltip:(0,f.gP)(t),ui3Icon:(0,f.ve)(t),value:n.value,variableFields:n.variableFields})})}return(0,r.jsxs)("div",{children:[(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(k.fn,{leftInput:H({corner:f.OK.TOP_LEFT,recordingKey:o.Pt(t,"rectangleTopLeftCornerRadiusInput")}),rightInput:H({corner:f.OK.TOP_RIGHT,recordingKey:o.Pt(t,"rectangleTopRightCornerRadiusInput")}),rightLabel:null,leftLabel:null,icon:null}),(0,r.jsx)(k.fn,{ref:R,leftInput:H({corner:f.OK.BOTTOM_LEFT,recordingKey:o.Pt(t,"rectangleBottomLeftCornerRadiusInput")}),rightInput:H({corner:f.OK.BOTTOM_RIGHT,recordingKey:o.Pt(t,"rectangleBottomRightCornerRadiusInput")}),rightLabel:null,leftLabel:null,icon:(0,r.jsx)(x.E,{recordingKey:o.Pt(t,"cornerSmoothingToggle"),rowRef:R})})]}),function(){if(!F)return null;let{corner:e,initialPosition:t}=F,s=G(e),n=(0,c._W)(s.value,0);return(0,r.jsx)(A,{corner:e,initialPosition:t,currentFieldValue:n,variableFields:s.variableFields,onClose:B})}()]})}let I=n.forwardRef(({variableFields:e,value:t,tooltip:s,recordingKey:l,disableEntryPoint:a,onChange:o,ui3Icon:d,hideVariableIcon:u,mixedMathHandler:h},x)=>{let f=(0,i.wA)(),{smallNudgeAmount:_,bigNudgeAmount:y,wheelMultiplier:j,scrubMultiplier:C}=(0,S.Xs)(),{consumedVariable:v}=(0,b.u3)(e),k=n.useId();return(0,r.jsx)(g.sJ,{ref:x,currentFieldValue:(0,c._W)(t,0),disableEntryPoint:a,hideIcon:u,children:(0,r.jsx)(m.$j,{bigNudgeAmount:y,"data-tooltip":s,"data-tooltip-proxy-element-id":v?k:void 0,"data-tooltip-type":p.Ib.TEXT,dispatch:f,inputClassName:w.h,isTokenizable:!0,mixedMathHandler:h,noBorderOnHover:!0,onValueChange:o,recordingKey:l,scrubMultiplier:.1*C,smallNudgeAmount:_,value:(0,c.gl)(t)?t:t??0,wheelMultiplier:j,children:(0,r.jsx)("div",{className:w.k,"data-tooltip-type":v?p.Ib.TEXT:void 0,"data-tooltip":v?s:void 0,id:k,children:d})})})});function E({variableFields:e,isPickerOpen:t,onPickerOpen:s,children:n}){let{consumedVariable:i}=(0,b.u3)(e),a=(0,j.MH)(i),o=(0,u.u)(a??void 0),d=!!o&&(0,j.eF)(o),[c,p,h]=(0,_.JV)(e,l.rXF.FLOAT);return(0,r.jsx)(y.p.Provider,{value:{boundVariableId:a,isBoundVariableDeleted:d,isShowingBindingUI:t,showBindingUI:s,onVariableSelected:h},children:n})}function A({corner:e,initialPosition:t,currentFieldValue:s,variableFields:a,onClose:o}){let c=(0,i.wA)(),{updateVariableConsumption:u,clearVariableConsumption:p}=(0,b.u3)(a),h=n.useCallback(e=>{e?c((0,d.Yi)({item:e,callback:e=>{u((0,b.y$)(l.rXF.FLOAT,e))}})):p()},[c,u,p]);return(0,r.jsx)(v.jp,{fields:[(0,f.cv)(e)],resolvedType:l.rXF.FLOAT,initialPosition:t,currentFieldValue:s,onVariableSelected:h,onClose:o})}},85471:(e,t,s)=>{s.d(t,{I:()=>u,n:()=>c});var r=s(104076),n=s(716976),i=s(511570),l=s.n(i),a=s(231828),o=s(82991),d=s(388332);let c=n.forwardRef(function({titleTx:e,icon:t,faded:s,isEmpty:n,appendedClassName:i,onClick:c,onMouseDown:u},p){return(0,r.jsx)(o.pG,{ref:p,onClick:c,onMouseDown:u,appendedClassName:l()(d.En,d.VJ,{[d.yf]:s,[d.ry]:n},i),input:(0,r.jsx)(a.Mw,{children:e}),label:null,icon:t})}),u=n.forwardRef(function({titleTx:e,faded:t,isEmpty:s,children:n,...i},c){return(0,r.jsx)(o.SP,{dataOnboardingKey:i.dataOnboardingKey,onClick:i.onClick,ref:c,appendedClassName:l()(d.En,{[d.yf]:t,[d.ry]:s}),input:(0,r.jsx)(a.Mw,{children:e}),children:n})})},644033:(e,t,s)=>{s.d(t,{p:()=>l});var r=s(716976),n=s(568156);let i=["aria-activedescendant","aria-controls","aria-expanded","role"];function l(e){return!function(e){let{ariaControls:t,ariaActivedescendant:s,accessibilityRole:l}=e,a=e.ariaExpanded??!0,[o]=r.useState(()=>{let e={};for(let t of i)e[t]=n.IM.customFocusElementReadWrite?.getAttribute(t);return e});r.useEffect(()=>()=>{for(let e of i){let t=o[e];t?n.IM.customFocusElementReadWrite?.setAttribute(e,t):n.IM.customFocusElementReadWrite?.removeAttribute(e)}},[o]),r.useEffect(()=>{let e=n.IM.customFocusElementReadWrite;e&&(e.getAttribute("aria-controls")!==t&&e.setAttribute("aria-controls",t),e.getAttribute("aria-activedescendant")!==s&&e.setAttribute("aria-activedescendant",s),e.getAttribute("aria-expanded")!==a.toString()&&e.setAttribute("aria-expanded",a.toString()),e.getAttribute("role")!==l&&e.setAttribute("role",l))},[s,t,a,l])}({ariaControls:e.ariaControls,ariaActivedescendant:e.ariaActivedescendant,ariaExpanded:e.ariaExpanded,accessibilityRole:e.accessibilityRole}),null}},170462:(e,t,s)=>{s.d(t,{N:()=>j,w:()=>b});var r=s(104076),n=s(684742),i=s(227601),l=s(29611),a=s(686546),o=s(938965),d=s(865870),c=s(356931),u=s(790009),p=s(120440),h=s(816565),m=s(284467),g=s(192075),x=s(373547),f=s(311272),_=s(211862),y=s(835307);let b=["TEXT","SECTION","SLICE","STICKY","CONNECTOR","STAMP"];function j(e){let t;let s=(0,y.Fk)((e,t)=>e.get(t)?.visible,e.guid),b=(0,y.Fk)((e,t)=>e.get(t)?.type,e.guid),j=(0,_.tS)(),v=(0,x.DP)(),k=(0,f.ic)(e.guid);if(!b)return null;switch(b){case"TEXT":t=(0,r.jsx)(i.B,{className:"xmauxvm"});break;case"SECTION":t=(0,r.jsx)(l.P,{className:"xmauxvm"});break;case"SLICE":t=(0,r.jsx)(a.C,{className:"xmauxvm"});break;case"STICKY":t=(0,r.jsx)(o.V,{className:"xmauxvm"});break;case"CONNECTOR":t=(0,r.jsx)(d.y,{className:"xmauxvm"});break;case"STAMP":t=(0,r.jsx)(c.b,{className:"xmauxvm"});break;default:t=k&&j?(0,r.jsx)(h.oW,{className:"x5yr21d xh8yej3 x4ouu4z",style:{objectFit:"contain",opacity:s?1:.5},src:k,alt:(0,g.t)("layer_icon.thumbnail.alt_text")}):(0,r.jsx)(m.Qp,{className:"x5yr21d xh8yej3 x4ouu4z",animationType:m.JR.LIGHT_SHIMMER})}return(0,r.jsx)(n.E,{"aria-label":(0,g.t)("layer_icon.button.pan_to_node"),htmlAttributes:{onDoubleClick:t=>{e.navigateAndPanTo&&(t.currentTarget?.blur(),e.navigateAndPanTo(e.guid))}},className:"x11g6tue",children:(0,r.jsx)("span",{...p.Ay.props(C.iconHeight(e.size),C.iconWidth(e.size),C.iconContainer,"light"===v?C.lightBackground:C.darkBackground,e.rowSelected&&C.selected),children:(0,r.jsx)(u.J,{mode:"light",children:t})})})}let C={iconHeight:e=>[{kZKoxP:null!=e?"x16ye13r":e,$$css:!0},{"--x-height":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(e)}],iconWidth:e=>[{kzqmXN:null!=e?"x5lhr3w":e,$$css:!0},{"--x-width":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(e)}],darkBackground:{kC7eKd:"x14ju1db",ku1ltF:null,kHypHr:null,kWkggS:null,kKwaWg:null,kl9DO0:null,k1YJky:null,kDwdnV:null,kAiEkY:null,kz484i:null,kgSjnq:null,$$css:!0},lightBackground:{kC7eKd:"x1usue9s",ku1ltF:null,kHypHr:null,kWkggS:null,kKwaWg:null,kl9DO0:null,k1YJky:null,kDwdnV:null,kAiEkY:null,kz484i:null,kgSjnq:null,$$css:!0},iconContainer:{kjVXCG:"xeutv01",kaIpWk:"x19y5rnk",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,kmVPX3:"x1i3ajwb",kg3NbH:null,kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,k8WAf4:null,kLKAdn:null,kGO01o:null,kB7OPa:"x9f619",k1xSpc:"x78zum5",kGNEyG:"x6s0dn4",kjj79g:"xl56j7k",$$css:!0},selected:{kmVPX3:"xyf9f8g",kg3NbH:null,kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,k8WAf4:null,kLKAdn:null,kGO01o:null,kMzoRj:"xmkeg23",kjGldf:null,k2ei4v:null,kZ1KPB:null,ke9TFa:null,kWqL5O:null,kLoX6v:null,kEafiO:null,kt9PQ7:null,ksu8eU:"x1y0btm7",kJRH4f:null,kVhnKS:null,k4WBpm:null,k8ry5P:null,kSWEuD:null,kDUl1X:null,kPef9Z:null,kfdmCh:null,kVAM5u:"x2mq3v4",kzOINU:null,kGJrpR:null,kaZRDh:null,kBCPoo:null,k26BEO:null,k5QoK5:null,kLZC3w:null,kL6WhQ:null,$$css:!0}}},903152:(e,t,s)=>{s.d(t,{YD:()=>o,ZN:()=>a,ZP:()=>d,fM:()=>c,tk:()=>u});var r=s(716976),n=s(414318);let i=()=>Math.random().toString(36).substring(2,15);function l(e){return(0,r.useMemo)(()=>{let t=new Map,s=new Map;return Object.entries(e).forEach(([e,r])=>{if(e.startsWith("row-")){let s=e.substring(4);t.set(s,parseFloat(r))}else if(e.startsWith("column-")){let t=e.substring(7);s.set(t,parseFloat(r))}}),{sortedRowGuids:Array.from(t.entries()).sort((e,t)=>e[1]-t[1]).map(e=>e[0]),sortedColumnGuids:Array.from(s.entries()).sort((e,t)=>e[1]-t[1]).map(e=>e[0])}},[e])}function a(e,t=i){let s={},r=e.split("\n").map(e=>e.split(",").map(e=>e.trim())),n=new Map,l=new Map;for(let e=0;e<r.length;e++){let r=t();n.set(e,r),s[`row-${r}`]=((e+1)*.1).toString()}let o=Math.max(0,...r.map(e=>e.length));for(let e=0;e<o;e++){let r=t();l.set(e,r),s[`column-${r}`]=((e+1)*.1).toString()}for(let e=0;e<r.length;e++){let t=r[e];if(!t)continue;let i=n.get(e);for(let e=0;e<t.length;e++){let r=t[e],n=l.get(e);r&&(s[`${i}:${n}`]=r)}}return s}function o(e){let{sortedRowGuids:t,sortedColumnGuids:s}=l(e);return(0,r.useMemo)(()=>{if(0===t.length)return{columnDefs:[],rowData:[]};let r=t[0],n=s.map(t=>e[`${r}:${t}`]||""),i=t.slice(1),l=s.length>0&&i.some(t=>{let r=s[s.length-1],n=e[`${t}:${r}`];return n&&""!==n.trim()}),a=[...n];l&&(a=[...n,""]);let o=a.map(e=>({headerName:e,field:e,editable:!0})),d=i.map(t=>{let r={};return a.forEach((i,l)=>{if(l<n.length){let n=s[l];i&&n&&(r[i]=e[`${t}:${n}`]||"")}else r[i]=""}),r}),c=d[d.length-1];return d.length>0&&c&&Object.values(c).some(e=>""!==e)&&d.push(a.reduce((e,t)=>({...e,[t]:""}),{})),{columnDefs:o,rowData:d}},[e,t,s])}function d(e){let{sortedRowGuids:t,sortedColumnGuids:s}=l(e);return(0,r.useMemo)(()=>{if(0===Object.keys(e).length||t.length<2)return{data:[],keys:[]};let r=t[0],n=t.slice(1),i=s[0],l=s.slice(1),a=n.map(t=>e[`${t}:${i}`]).filter(e=>!!e);return{data:l.map(t=>{let s=e[`${r}:${t}`];if(!s)return null;let l={date:s};return n.forEach(s=>{let r=e[`${s}:${i}`];if(!r)return;let n=e[`${s}:${t}`],a=n?parseFloat(n):0;l[r]=isNaN(a)?0:a}),l}).filter(e=>null!==e),keys:a}},[e,t,s])}function c(e){let t=function(e){let{sortedRowGuids:t,sortedColumnGuids:s}=l(e);return t.slice(1).map(t=>e[`${t}:${s[0]}`])}(e),{color1:s,color2:n,color3:i,color4:a,color5:o}=e;return(0,r.useMemo)(()=>{let e=[s,n,i,a,o],r=["color1","color2","color3","color4","color5"];return e.map((s,n)=>({color:s,key:r[n]||"",drillDownKeys:t.filter((t,s)=>s%e.length===n).map(e=>`bar-${e}`)}))},[s,n,i,a,o,t])}function u(e,t=i){let{sortedRowGuids:s,sortedColumnGuids:a}=l(e);return(0,r.useCallback)((r,i,l,o)=>{let d={...e},c=s[l],u=a[i],p=!c&&l===s.length,h=!u&&i===a.length;if(p){c=t();let r=s[s.length-1],n=r?parseFloat(e[`row-${r}`]):0,i=`row-${c}`,l=(n+.1).toPrecision(15);d[i]=l}if(h){u=t();let r=a[a.length-1],n=r?parseFloat(e[`column-${r}`]):0,l=`column-${u}`,o=(n+.1).toPrecision(15);if(d[l]=o,s.length>0){let e=s[0];d[`${e}:${u}`]=`Column ${i+1}`}}c&&u&&(d[`${c}:${u}`]=o,(0,n.$H)(r,d))},[e,s,a,t])}},729940:(e,t,s)=>{s.d(t,{nh:()=>I,oH:()=>T,tA:()=>N});var r=s(104076),n=s(716976),i=s(903927),l=s(293422),a=s(684742),o=s(419822),d=s(878604),c=s(268389),u=s(266808),p=s(170627),h=s(980852),m=s(120440),g=s(755444),x=s(9109),f=s(816565),_=s(192075),y=s(203679),b=s(76365),j=s(414318),C=s(903152),v=s(91340),k=s.n(v),S=s(246758);function w({fileInputRef:e,onChange:t}){return(0,r.jsx)("input",{type:"file",ref:e,onChange:t,accept:".csv,.xlsx,.xls,.json",style:{display:"none"}})}let T=170,N=460;function I({defaultPosition:e,nodeId:t,isOpen:s,onClose:x}){let v=n.useRef(null),[I,M]=n.useState(null),[P,L]=n.useState(null),O=(0,i.d4)(b.Sh),{importFile:R,isLoading:F}=function(){let[e,t]=(0,n.useState)(null),[s,r]=(0,n.useState)(!1),i=(0,n.useCallback)(e=>new Promise((t,s)=>{k().parse(e,{header:!0,dynamicTyping:!1,complete:async s=>{t({csv:await e.text(),type:"csv"})},error:e=>{console.error("Error parsing CSV file:",e),s(e)}})}),[]);return{error:e,isLoading:s,importFile:(0,n.useCallback)(async e=>{r(!0),t(null);try{let t=e.name.split(".").pop()?.toLowerCase();if("csv"===t)return await i(e);throw Error(`Unsupported file type: ${t}`)}catch(e){t({message:"Failed to import file",details:e instanceof Error?e:Error(String(e))})}finally{r(!1)}},[i])}}(),[D,K]=n.useState(null),B=t||D,G=(0,j.Cd)(B??"");n.useEffect(()=>{s||(K(null),L(null),M(null))},[s]);let H=()=>{v.current?.click()},z=(e,t,s,r)=>{p.l7.user("chart-createChartOnSlide",()=>{let n=e.createNode("JSX");n.resizeWithConstraints(800,480);let i=t.size,l=n.size;n.x=(i.x-l.x)/2,n.y=(i.y-l.y)/2,t.appendChild(n),(0,j.$H)(n.id,{...(0,C.ZN)(s),chartType:r}),K(n.guid)})},V=(e,t)=>{if(t){let s=e.get(t);if(s&&"SLIDE"===s.type)return s}let s=u.Ez5?.canvasGrid();if(s){let t=(0,y.zR)(),r=s.getClosestGridCoord(t,null),n=s.canvasGridArray.getCopy(),i=n[r.row]?.[r.col];if(i)return e.get(i)}return null},U=async e=>{let t=e.target.files?.[0];if(!t)return;L(t.name);let{csv:s}=await R(t)||{};if(s){if(B){if((0,h.UN)().get(B)){let e=G?.chartType||I;e&&p.l7.user("chart-updateExistingChart",()=>{(0,j.$H)(B,{...(0,C.ZN)(s),chartType:e})})}}else{let e=(0,h.UN)(),t=V(e,O[0]);t&&I&&z(e,t,s,I)}}},W=[{type:S.N.BAR_GROUPED,icon:"e3bae6898ed50d51dc6ca312b486d7d4eb64883f",title:(0,_.t)("slides.charts.bar")}],$=(0,r.jsx)("div",{className:"x78zum5 x1jnr06f",children:B?(0,r.jsx)(l.$n,{variant:"secondary",onClick:H,children:(0,_.t)("slides.charts.reupload_file")}):I?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.$n,{variant:"secondary",onClick:()=>{if(!I)return;let e=(0,h.UN)(),t=V(e,O[0]);t&&z(e,t,"City,2011-10-01,2011-10-02,2011-10-03,2011-10-04,2011-10-05,2011-10-06,2011-10-07,2011-10-08,2011-10-09,2011-10-10,2011-10-11,2011-10-12\nNew York,63.4,58.0,53.3,55.7,64.2,58.8,57.9,61.8,69.3,71.2,68.7,61.8\nSan Francisco,53.4,48.0,43.3,45.7,54.2,48.8,47.9,51.8,59.3,61.2,58.7,51.8",I)},children:(0,_.t)("slides.charts.start_from_scratch")}),(0,r.jsx)(l.$n,{variant:"primary",onClick:H,children:(0,_.t)("slides.charts.upload_csv")})]}):null});return s?(0,r.jsx)(d._L,{onClose:x,defaultPosition:e,defaultWidth:N,defaultHeight:T,children:(0,r.jsxs)(c.vo,{children:[(0,r.jsx)(c.Y9,{children:(0,r.jsxs)("div",{className:"x78zum5 x1qughib x6s0dn4 xh8yej3 xmzs88n",children:[(0,r.jsx)(c.hE,{children:P||(0,_.t)("slides.charts.charts")}),$]})}),(0,r.jsx)(c.nB,{children:B?(0,r.jsx)(function(){return B?(0,r.jsxs)("div",{className:"x78zum5",children:[(0,r.jsx)(A,{jsxProps:G,nodeId:B,fallback:null}),(0,r.jsx)(w,{fileInputRef:v,onChange:U})]}):null},{}):F?(0,r.jsx)(function(){return(0,r.jsxs)("div",{className:"x78zum5 xl56j7k x6s0dn4 x5yr21d x167g77z",children:[(0,r.jsx)(o.k,{}),(0,r.jsx)("div",{className:"x1n0bwc9",children:(0,_.t)("slides.charts.import_data_modal.loading")})]})},{}):(0,r.jsx)(function(){return(0,r.jsxs)("div",{className:"x78zum5",children:[W.map(e=>(0,r.jsxs)("div",{children:[(0,r.jsx)(a.E,{className:"x78zum5 xdt5ytf x167g77z",onClick:()=>M(e.type),children:(0,r.jsx)(f.oW,{src:(0,g.ck)(e.icon),alt:e.title,className:m.Ay.classNames(E.image,I===e.type&&E.selectedImage)})}),(0,r.jsx)("div",{children:e.title})]},e.type)),(0,r.jsx)(w,{fileInputRef:v,onChange:U})]})},{})})]})}):null}let E={image:{kMzoRj:"xmkeg23",kjGldf:null,k2ei4v:null,kZ1KPB:null,ke9TFa:null,kWqL5O:null,kLoX6v:null,kEafiO:null,kt9PQ7:null,ksu8eU:"x1y0btm7",kJRH4f:null,kVhnKS:null,k4WBpm:null,k8ry5P:null,kSWEuD:null,kDUl1X:null,kPef9Z:null,kfdmCh:null,kVAM5u:"x9r1u3d",kzOINU:null,kGJrpR:null,kaZRDh:null,kBCPoo:null,k26BEO:null,k5QoK5:null,kLZC3w:null,kL6WhQ:null,kaIpWk:"xur7f20",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,kkrTdU:"x1ypdohk",$$css:!0},selectedImage:{kVAM5u:"x1fa9rx7",kzOINU:null,kGJrpR:null,kaZRDh:null,kBCPoo:null,k26BEO:null,k5QoK5:null,kLZC3w:null,kL6WhQ:null,$$css:!0}},A=(0,x.s_)("LazyTable",()=>Promise.all([s.e(9641),s.e(4963)]).then(s.bind(s,804963)).then(e=>e.DataTable),{componentName:"LazyTable",error:x.H4.NONE})},246758:(e,t,s)=>{s.d(t,{N:()=>n,c:()=>g});var r=s(441513),n=(e=>(e.BAR_GROUPED="bar-grouped",e.BAR_STACKED="bar-stacked",e))(n||{});let i=r.z.string().startsWith("row-"),l=r.z.string().startsWith("column-"),a=r.z.string().includes(":"),o=r.z.literal("chartType"),d=r.z.string(),c=r.z.nativeEnum(n),u=r.z.union([r.z.literal("color1"),r.z.literal("color2"),r.z.literal("color3"),r.z.literal("color4"),r.z.literal("color5")]),p=r.z.string(),h=r.z.union([i,l,a,o,u]),m=r.z.union([d,c,p]),g=r.z.record(h,m).refine(e=>Object.entries(e).every(([e,t])=>e.startsWith("row-")||e.startsWith("column-")||e.includes(":")?d.safeParse(t).success:"chartType"===e?c.safeParse(t).success:("color1"===e||"color2"===e||"color3"===e||"color4"===e||"color5"===e)&&p.safeParse(t).success)).transform(e=>({...e,chartType:e.chartType??"bar-grouped",color1:e.color1??"#6c5efb",color2:e.color2??"#c998ff",color3:e.color3??"#a44afe",color4:e.color4??"#7a28fb",color5:e.color5??"#9f87ff"}))},540570:(e,t,s)=>{s.d(t,{_:()=>v,f:()=>S});var r=s(104076),n=s(382629),i=s(264993),l=s(74620),a=s(835307),o=s(716976),d=s(293422),c=s(816299),u=s(623411),p=s(170627),h=s(498520),m=s(192075),g=s(737139),x=s(414318),f=s(961482),_=s(903152),y=s(729940),b=s(246758);function j({nodeId:e,jsxProps:t,drillDownKey:s}){let[n,i]=(0,o.useState)(!1),l=t.chartType??b.N.BAR_GROUPED,a=s=>{p.l7.user("chart-setChartType",()=>{(0,x.$H)(e,{...t,chartType:s})})},h=(0,x.mn)(e);return(0,r.jsxs)(g.Zk,{children:[(0,r.jsx)(d.$n,{onClick:()=>i(!0),children:(0,m.t)("react-scenegraph.chart.edit_data")}),h&&(0,r.jsx)(d.$n,{onClick:()=>p.l7.user("chart-clearOverrides",()=>(0,x.od)(e)),children:(0,m.t)("react-scenegraph.chart.clear_overrides")}),(0,r.jsxs)(c.bL,{value:l,onChange:e=>a(e),children:[(0,r.jsx)(c.l9,{label:(0,r.jsx)(u.J,{children:(0,m.t)("react-scenegraph.chart.chart_type")})}),(0,r.jsxs)(c.mc,{children:[(0,r.jsx)(c.c$,{value:b.N.BAR_GROUPED,children:(0,m.t)("react-scenegraph.chart.bar_grouped")}),(0,r.jsx)(c.c$,{value:b.N.BAR_STACKED,children:(0,m.t)("react-scenegraph.chart.bar_stacked")})]})]}),(0,r.jsx)(C,{nodeId:e,jsxProps:t,drillDownKey:s}),(0,r.jsx)(y.nh,{nodeId:e,isOpen:n,onClose:()=>i(!1)})]})}function C({nodeId:e,jsxProps:t,drillDownKey:s}){let n=(0,_.fM)(t);return(0,r.jsx)(r.Fragment,{children:n.filter(e=>!s||e.drillDownKeys.includes(s)).map(s=>(0,r.jsx)(f.u,{pickerId:`chart-color-picker-${s.key}`,inheritStyleKeyField:"inheritFillStyleKey",inheritStyleKey:void 0,inheritStyleName:void 0,inheritStyleId:void 0,hideCustomColorPickerFillTypeToggle:!1,paint:function(e){let t=(0,h.H0)(e);return t?{type:"SOLID",color:{r:t.r,g:t.g,b:t.b,a:1},opacity:t.a,blendMode:"NORMAL",visible:!0}:{type:"SOLID",color:{r:1,g:1,b:1,a:1},opacity:1,blendMode:"NORMAL",visible:!0}}(s.color),onChange:r=>{p.l7.user("chart-setColor",()=>{(0,x.$H)(e,{...t,[s.key]:function(e){if(!e.color||"SOLID"!==e.type)return"#FFFFFF";let t={...e.color};return void 0!==e.opacity&&1!==e.opacity&&(t.a=e.opacity),(0,h.F_)(t)}(r)})})}},s.key))})}function v(){let{jsxNodeId:e,jsxDrillDownKey:t}=S();return e?(0,r.jsx)(k,{jsxNodeId:e,jsxDrillDownKey:t}):null}function k({jsxNodeId:e,jsxDrillDownKey:t}){let s=(0,x.Cd)(e);return s?(0,r.jsx)(j,{nodeId:e,jsxProps:s,drillDownKey:t}):null}function S(){let e=(0,l.KH)();return(0,a.wA)((e,t)=>{let s=Object.keys(t);if(1===s.length){let t=s[0];if(!t)return{jsxNodeId:null,jsxDrillDownKey:null};if(e.get(t)?.isJSX)return{jsxNodeId:t,jsxDrillDownKey:null}}if(s.length>1){let t=s.map(t=>e.get(t)).filter(e=>e?.isJsxSublayer).filter(n.Vq);if(t.length!==s.length)return{jsxNodeId:null,jsxDrillDownKey:null};let r=t[0]?.containingJSXGuid,l=t[0]?.jsxDrillDownKey;if(!r||!l||r===i.AD)return{jsxNodeId:null,jsxDrillDownKey:null};if(t.every(e=>e.containingJSXGuid===r&&e.jsxDrillDownKey===l))return{jsxNodeId:r,jsxDrillDownKey:l}}return{jsxNodeId:null,jsxDrillDownKey:null}},e)}},414318:(e,t,s)=>{s.d(t,{$H:()=>c,Cd:()=>o,mn:()=>p,od:()=>u});var r=s(716976),n=s(980852),i=s(246144),l=s(835307),a=s(246758);function o(e){let t=(0,l.wA)((e,t)=>e.get(t)?.jsxProps||{},e);return(0,r.useMemo)(()=>d(e,t),[e,t])}function d(e,t){if(!(0,n.UN)().get(e))return null;let s=a.c.safeParse(t);return s.success?s.data:(s.error&&(0,i.x1)("onJSXPropsChange","Invalid props",s.error.flatten(),{reportAsSentryError:!0}),null)}function c(e,t){let s=(0,n.UN)().get(e);if(!s)return;let r=d(e,t);r&&s.setJSXProps(r)}function u(e){let t=(0,n.UN)().get(e);t&&t.clearJSXOverrides()}function p(e){return(0,l.Fk)((e,t)=>Object.keys(e.get(t)?.jsxOverrides||{}).length>0,e)}},766317:(e,t,s)=>{s.d(t,{Cw:()=>i,jM:()=>n,uW:()=>l});var r=s(795033);let n=(0,r.eU)([]),i=(0,r.eU)(e=>new Set(e(n).map(e=>"object"==typeof e?e.componentId:e)).size),l=(0,r.eU)(null)},961482:(e,t,s)=>{s.d(t,{u:()=>D});var r=s(104076),n=s(716976),i=s(903927),l=s(240803);let a=(0,n.memo)(function(e){return(0,r.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:(0,r.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M2.486 5.143a1 1 0 0 0 0 1.715L4.39 8 2.486 9.143a1 1 0 0 0 0 1.715l4.485 2.69a2 2 0 0 0 2.058 0l4.486-2.69a1 1 0 0 0 0-1.715L11.61 8l1.905-1.142a1 1 0 0 0 0-1.715L9.029 2.45a2 2 0 0 0-2.058 0zM9.666 8l.973-.583 1.39-.834L13 6l-.972-.583-3.514-2.108a1 1 0 0 0-1.028 0L3.972 5.417 3 6l.972.583 1.39.834.971.583 1.152.691a1 1 0 0 0 1.03 0zm-4.304.583 1.609.966a2 2 0 0 0 2.058 0l1.61-.966 1.39.834L13 10l-.972.583-3.514 2.108a1 1 0 0 1-1.028 0l-3.514-2.108L3 10l.972-.583z",clipRule:"evenodd"})})});var o=s(266808),d=s(767446),c=s(933688),u=s(361170),p=s(36767),h=s(270112),m=s(236631),g=s(192075),x=s(850701),f=s(41076),_=s(354114),y=s(553065),b=s(176836),j=s(371952),C=s(386958),v=s(645249),k=s(547029),S=s(460434),w=s(26423),T=s(486935),N=s(276800),I=s(684742),E=s(390579),A=s(511570),M=s.n(A),P=s(641518),L=s(721145),O=s(744626);function R({paint:e,onColorChange:t,openColorPicker:s,closeColorPicker:i,isPickerOpen:l,icon:a,recordingKey:o}){let[d,c]=n.useState(!1),u=n.useRef(null),p=()=>{l?(i(),u.current?.blur()):(s(),u.current?.focus(),u.current?.select())};return(0,r.jsxs)("div",{className:M()(O.oE,{[O.in]:d}),children:[(0,r.jsx)(F,{onClick:p,recordingKey:P.Pt(o,"chit"),"aria-label":(0,g.t)("slides.properties_panel.color_picker.open.aria_label"),children:a}),(0,r.jsx)(L.S,{focusableRef:u,noBorderOnFocus:!0,onBlur:()=>c(!1),onColorChange:e=>{t(e),i()},onFocus:()=>{c(!0)},onMouseDown:e=>{e.stopPropagation(),d&&i()},onTypeMouseDown:N.lQ,paint:e,recordingKey:o,visible:!0}),(0,r.jsx)(F,{onClick:p,recordingKey:P.Pt(o,"chevron"),children:(0,r.jsx)(E.O,{})})]})}function F({onClick:e,recordingKey:t,children:s,...n}){return(0,r.jsx)(I.E,{className:m.s.hFull.px4.bgTransparent.$,onClick:t=>{t.stopPropagation(),t.preventDefault(),e()},actionOnPointerDown:!0,recordingKey:t,"aria-label":n["aria-label"],children:s})}function D({paint:e,onChange:t,inheritStyleKey:s,inheritStyleName:l,inheritStyleId:a,pickerId:d,inheritStyleKeyField:c,hideCustomColorPickerFillTypeToggle:p,recordingKey:h}){let m=(0,i.d4)(e=>e.pickerShown&&e.pickerShown.id===d?e.pickerShown:null),g=(0,n.useRef)(null),f=!!e&&(0,y.hS)(e)&&(0,b.bn)(e.type),{openColorPicker:j,closeColorPicker:v}=function(e,t,s,r,l){let a=(0,i.wA)(),d=(0,i.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),c=(0,S.jj)(e);return{openColorPicker:n.useCallback(()=>{if(!s){if(r.current){let{x:e,y:s}=(0,C.cn)(r.current,l?T.jP:w.pg);a(x.u1({id:t,initialX:e-16,initialY:s})),c()}else console.error("rowRef.current is null")}},[t,s,a,r,l,c]),closeColorPicker:n.useCallback(()=>{d===o.m1T.GRADIENT&&_.Y5.triggerAction("leave-edit-mode"),a(x.XE())},[a,d])}}(e,d,m,g,f);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{ref:g,children:(0,r.jsx)(K,{paint:e,onChange:t,inheritStyleKey:s,inheritStyleName:l,inheritStyleId:a,isPickerOpen:!!m,openColorPicker:j,closeColorPicker:v,recordingKey:h})}),m&&e&&(f?(0,r.jsx)(T.Ph,{paint:e,onChange:t,onClose:v,initialPosition:new u.Mi(m.initialX,m.initialY),enableGradients:!0,hideCustomColorPickerFillTypeToggle:p,inheritStyleKeyField:c}):(0,r.jsx)(w.GY,{paint:e,onChange:t,onClose:v,pickerShown:m,hideCustomColorPickerFillTypeToggle:p,inheritStyleKeyField:c}))]})}function K({paint:e,onChange:t,inheritStyleKey:s,inheritStyleName:i,inheritStyleId:o,isPickerOpen:u,openColorPicker:x,closeColorPicker:_,recordingKey:j}){let C=(0,S.Gc)(),w=!!e&&(0,y.hS)(e)&&(0,b.bn)(e.type),T=!!e&&(0,y.hS)(e)&&(0,b.sb)(e.type),N=(0,S.Mg)("FILL",s,o),I=(0,p.e)(e),E=(()=>{if((0,y.gl)(e))return null;let t=e?.colorVar?.value?.alias;return t?d.dI(t):null})(),A=()=>(0,y.gl)(e)||(0,y.gl)(i)?(0,g.t)("fullscreen.mixed"):i||(C?(0,g.t)("slides.properties_panel.color_picker.multiple"):w?(0,g.t)("slides.properties_panel.fill.fill_type_gradient"):f.TI.format(I[0])),M=n.useMemo(()=>C?(0,r.jsx)(a,{}):N?(0,r.jsx)(v.zi,{dsStyle:N,disableTooltip:!0}):(0,r.jsx)(p.v,{colors:I,paint:e,forceNonInteractive:!0}),[C,N,I,e]),P=n.useCallback(()=>{u?_():x()},[u,_,x]),L=!C&&T&&!e.colorVar&&!N;return(0,r.jsx)(c.E,{name:"slides_color_input",children:L?(0,r.jsx)(R,{paint:e,onColorChange:e=>t((0,S.NQ)(e)),openColorPicker:x,closeColorPicker:_,isPickerOpen:u,icon:M,recordingKey:j}):(0,r.jsx)(l.o,{eventListeners:["onMouseDown"],children:(0,r.jsx)(k.C,{isOpen:u,onClick:P,recordingKey:j,"aria-label":(0,g.t)("slides.properties_panel.color_picker.open.aria_label"),children:(0,r.jsxs)("span",{className:m.s.pl4.inlineFlex.gap6.overflowHidden.$,children:[M,!i&&E?(0,r.jsx)(B,{variableId:E,fallbackText:A()}):(0,r.jsx)(h.o,{text:A()})]})})})})}function B({variableId:e,fallbackText:t}){let s=(0,j.u)(e);return(0,r.jsx)(h.o,{lastClassName:m.s.overflowHidden.noWrap.ellipsis.$,text:s?.name??t})}},547029:(e,t,s)=>{s.d(t,{C:()=>u});var r=s(104076),n=s(716976),i=s(684742),l=s(390579),a=s(511570),o=s.n(a),d=s(236631),c=s(467633);let u=n.forwardRef(function({isOpen:e,onClick:t,children:s,recordingKey:n,...a},u){return(0,r.jsxs)(i.E,{actionOnPointerDown:!0,ref:u,className:o()("slides_flyout_input--input--cM6kp ellipsis--ellipsis--Tjyfa",c.t,{"slides_flyout_input--selected--CgFEs":e}),onClick:t,recordingKey:n,"aria-label":a["aria-label"],"aria-expanded":e,"aria-describedby":"slides-flyout-input-label",children:[(0,r.jsx)("span",{className:"slides_flyout_input--content--hygOt",id:"slides-flyout-input-label",children:s}),(0,r.jsx)("div",{className:d.s.flexShrink0.$,"aria-hidden":!0,children:(0,r.jsx)(l.O,{})})]})})}}]);

//# debugId=5d8d8b8b-815f-59ae-a8d2-f5c3db3e6d5f

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/2ae8661d2be8a9b7f9ab63bf84a66deb8806c087/643-72382128349d17c3.min.js.map