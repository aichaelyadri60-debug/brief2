"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="50c1b1e5-7648-5543-810f-823c777c6afb")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[9862],{132539:(e,t,n)=>{n.d(t,{A:()=>o});let o=new(n(722458)).b({name:"FigmaScope",dependencies:[],exports:[],routeHints:[],enforce:!1,friendFiles:[],eslint:{rules:{"react/no-array-index-key":"off","@typescript-eslint/no-explicit-any":"off"}}})},371237:(e,t,n)=>{n.d(t,{Pf:()=>s,kL:()=>o,zN:()=>i});let o="code_connect_debug_modal--container--DUec7",i="code_connect_debug_modal--controlGroup--wmsoE",s="code_connect_debug_modal--label--cAs9P"},878965:(e,t,n)=>{n.d(t,{Pf:()=>s,hF:()=>i,kL:()=>o});let o="comment_debug_settings_modal--container--NLPWv",i="comment_debug_settings_modal--input--wSHX-",s="comment_debug_settings_modal--label--Gf3r8"},604347:(e,t,n)=>{n.d(t,{M:()=>o,W:()=>i});let o="viewport_overlay--overflowContainer--mmnLC",i="viewport_overlay--innerContainer--ogzA0"},43607:(e,t,n)=>{n.d(t,{Fd:()=>r,GE:()=>i,KM:()=>o,Sj:()=>s,Y$:()=>a});let o="multiplayer_viewport_overlay--viewportFrame--QsDIw",i="multiplayer_viewport_overlay--multiplayerBellOuterContainer--nFGro",s="multiplayer_viewport_overlay--multiplayerBellOuterContainerZIndex--us-sW",a="multiplayer_viewport_overlay--prototypeView---d4-5",r="multiplayer_viewport_overlay--delayTransition--YaWi4"},317096:(e,t,n)=>{n.d(t,{k:()=>o});let o="ml_export_modal--container--Yt5uZ"},31863:(e,t,n)=>{n.d(t,{M:()=>i,h:()=>o});let o="reconnecting_modal--reconnectingModal--zB52E",i="reconnecting_modal--reconnectingModalAnimate--OCvjJ"},895528:(e,t,n)=>{n.d(t,{C0:()=>l,D9:()=>b,EA:()=>A,O8:()=>C,QE:()=>u,Qf:()=>g,SD:()=>p,TK:()=>a,UD:()=>o,W0:()=>c,WK:()=>x,_v:()=>w,cG:()=>r,fK:()=>f,hQ:()=>m,iG:()=>v,nT:()=>h,sI:()=>d,wx:()=>s,yM:()=>i});let o="vote_pins--votePinRoot--zOOjP",i="vote_pins--votePin--5E3rC",s="vote_pins--header--pfexD",a="vote_pins--headerText--O9EJ7 text--fontPos14--OL9Hp text--_fontBase--QdLsd",r="vote_pins--closeButtonContainer--WZCu2",l="vote_pins--medal--hNcNQ",d="vote_pins--expandingSection--wKym-",c="vote_pins--voterListSeparator--k0aO1",m="vote_pins--voterList--6fCBS",u="vote_pins--voterListItem--wa-M9",h="vote_pins--userName---6RMO text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",p="vote_pins--loadingAvatar--hq0Fh",f="vote_pins--loadingUserName--80x3W",g="vote_pins--voterListOverflowItem--V2jcD vote_pins--voterListItem--wa-M9",A="vote_pins--voterListOverflowIcon--xyXs6",v="vote_pins--voterListOverflowText--48DhR vote_pins--userName---6RMO text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",x="vote_pins--stampPreviewList--qlQDN",C="vote_pins--stampPreview--XkjWz",w="vote_pins--stampPreviewOverflow--QoTgf text--fontPos12--YsUAh text--_fontBase--QdLsd",b="vote_pins--offscreenMeasurementContainer--QYGnX"},252112:(e,t,n)=>{n.d(t,{j:()=>o});let o={library:new(n(821359)).MH}},992753:(e,t,n)=>{n.d(t,{$5:()=>f,E6:()=>h,d9:()=>m});var o=n(795033),i=n(719097),s=n(211862),a=n(140948),r=n(381643),l=n(235711);let d=(0,a.bt)(e=>e.multiplayer.allUsers);(0,o.eU)(e=>{let t=e(i.p9),n=e(d);if(t&&0!==n.length)return n.filter(e=>e.userID!==t.id)});let c=(0,a.bt)(e=>e.multiplayer.deviceNameFilter),m=(0,o.eU)(e=>{let t=e(d),n=e(c);return null!=e(s.yV)&&null!=n&&new Set(t.filter(e=>e.deviceName===n).map(e=>e.userID)).size>1}),u=(0,l.r1)("seen_spotlight_hint"),h=(0,r.Z1)(u,(e,t)=>{let n=t(d),o=t(c);if(t(p))return!1;let i=n.filter(e=>e.deviceName===o),s=Math.max(...Object.values(i).map(e=>e.joinedAtS))-300,a=new Set;for(let e of i)e.joinedAtS>=s&&a.add(e.userID);return!(a.size<5)&&!e}),p=(0,a.bt)(e=>{let t="fullscreen"===e.selectedView.view&&!e.mirror.appModel.showUi,n="prototype"===e.selectedView.view&&e.selectedView.hideUI;return t||n}),f=(0,a.bt)(e=>{let t="fullscreen"===e.selectedView.view&&e.mirror.appModel.showUi,n="prototype"===e.selectedView.view&&!e.selectedView.hideUI;return t||n})},374618:(e,t,n)=>{n.d(t,{NE:()=>r});var o=n(266808),i=n(795033),s=n(337059);let a=(0,n(637599).vv)(()=>o.Ez5?.prototypingEditorState()?.activePrototypeDevice,null),r=(0,i.mg)(a,e=>!!e&&(0,s.ln)(e.presetIdentifier))},265926:(e,t,n)=>{n.d(t,{C:()=>x});var o=n(980852),i=n(795033),s=n(725837),a=n(192075),r=n(58212),l=n(668242),d=n(172996),c=n(249586),m=n(764973),u=n(944350),h=n(266808),p=n(997477),f=n(178623),g=n(299640);let A={FULLSCREEN_UNAVAILABLE:"fullscreen-unavailable",SINGLE_FRAME_REQUIRED:"single-frame-required",SOMETHING_WENT_WRONG:"something-went-wrong"};function v(e,t,n,o){let i=(0,m.Kl)(t);o((0,l.zE)({state:i,from:n,editorType:u._Y.FIGMAKE,team:void 0,openNewFileIn:g.ai.NEW_TAB,newFileDataLocalStorageKey:e}))}function x(e){var t,n;let l=s.D.getState(),m=l.openFile,u=l.fileVersion,g=l.user?.id??null;switch(e.type){case"send-to-make-from-design":(t={...e,openFile:m,fileVersion:u,userId:g},new Promise((e,n)=>{let s=(0,o.UN)(),a=s.getCurrentPage()?.guid,r=s.getDirectlySelectedNodes(),l=r?.[0]?.guid,c={entryPoint:t.entryPoint,userId:t.userId,fileKey:t.openFile?.key,fileVersion:t.fileVersion,pageGuid:a,selectedNodeId:l};if(!l||!t.openFile||null===t.fileVersion||!a){n({key:A.SOMETHING_WENT_WRONG,trackingProperties:c});return}if(1!==r.length){n({key:A.SINGLE_FRAME_REQUIRED,trackingProperties:c});return}let m=function(){let e=(0,p.gP)("make_large_paste_threshold").get("sizeBytes",25e4);return h.glU?.isActiveCanvasSelectionWithinThreshold(e)??null}();if(null===m){n({key:A.FULLSCREEN_UNAVAILABLE,trackingProperties:c});return}e({localStorageKey:i.zl.set(d.DM,{type:"send-to-make-from-design",fileKey:t.openFile.key,fileVersion:t.fileVersion,source:t.entryPoint,exceedsMakePasteThreshold:!m,selectedNodeId:l,pageGuid:a}),trackingProperties:{pageId:a,nodeId:l,userId:t.userId,fileKey:t.openFile.key,fileVersion:t.fileVersion,exceedsMakePasteThreshold:!m}})})).then(t=>{(0,c.Cu)({...t.trackingProperties,trackingContext:`${e.entryPoint} > SendToMakeFromDesign`,status:"success"}),v(t.localStorageKey,l,e.newFileFrom,e.dispatch)}).catch(t=>{(0,c.Cu)({...t.trackingProperties,trackingContext:`${e.entryPoint} > SendToMakeFromDesign`,status:"error",error:t.key}),e.dispatch(r.F.enqueue({message:(0,a.t)("figmake.send_to_make_from_design.error.something-went-wrong"),type:"send-to-make-from-design-error",error:!0}))});break;case"send-comments-to-make":(n={...e,openFile:m,fileVersion:u,userId:g},new Promise(async(e,t)=>{let s=(0,o.UN)(),a=s.getCurrentPage()?.guid,r={entryPoint:n.entryPoint,userId:n.userId,fileKey:n.openFile?.key,fileVersion:n.fileVersion,pageGuid:a};if(!n.openFile||null===n.fileVersion||!a){t({key:A.SOMETHING_WENT_WRONG,trackingProperties:r});return}let l=n.thread.comments.map(e=>e.message_meta.map(e=>e.t??"").join("\n")),c=function(e){let t=(0,o.UN)();if(!t)return null;let n=e.comments?.[0]?.client_meta?.node_id??null;if(!n)return null;let i=t.get(n);return i&&i.isTopLevelFrame()?n:null}(n.thread),m={type:"send-comments-to-make",fileKey:n.openFile.key,fileVersion:n.fileVersion,source:n.entryPoint,selectedNodeId:c??void 0,pageGuid:a};try{var u;let t=(await (u="comments",f.Ay.internal.textToPrompt({contents:l,options:{from:u}}))).prompt,o=i.zl.set(d.DM,{...m,prompt:t}),s={pageId:a,userId:n.userId,fileKey:m.fileKey,fileVersion:n.fileVersion,selectedNodeId:c??void 0};e({localStorageKey:o,trackingProperties:s})}catch{t({key:A.SOMETHING_WENT_WRONG,trackingProperties:r})}})).then(t=>{(0,c.Cu)({...t.trackingProperties,trackingContext:`${e.entryPoint} > SendToMakeFromDesign`,status:"success"}),v(t.localStorageKey,l,e.newFileFrom,e.dispatch)}).catch(t=>{(0,c.Cu)({...t.trackingProperties,trackingContext:`${e.entryPoint} > SendToMakeFromDesign`,status:"error",error:t.key}),e.dispatch(r.F.enqueue({message:(0,a.t)("figmake.send_to_make_from_design.error.something-went-wrong"),type:"send-to-make-from-design-error",error:!0}))})}}},228439:(e,t,n)=>{n.d(t,{Q:()=>O});var o=n(104076),i=n(903927),s=n(307829),a=n(438557),r=n(936031),l=n(853943),d=n(812714),c=n(511570),m=n.n(c),u=n(983500),h=n(264830),p=n(115989),f=n(192075),g=n(142914),A=n(147046),v=n(675477),x=n(226377),C=n(565854),w=n(211862),b=n(592726),y=n(894210),I=n(737139),E=n(286911),M=n(828127),k=n(826160),P=n(699745),j=n(560823),B=n(623355),D=n(404343);let T=(0,u.jz)(D.m52),F=(0,u.jz)(D.Ko3);function S(e){let t=(0,i.d4)(e=>e.multiplayer);return"sessionID"in e&&t.observingSessionID===e.sessionID}var N=(e=>(e.CURRENT_USER="current_user",e.FILE_CREATOR="file_creator",e))(N||{});function R(e){let{user:t,onClick:n,volumeIcon:c,containsCursor:u,secondaryActions:h,disableSpotlightAnimation:A}=e,v=(0,w.q5)(),x=(0,i.d4)(e=>e.multiplayer),M=(0,b.iZ)(),B=S(t),{getTriggerProps:D,manager:T}=s.b(),F=x.allUsers.length>1,N=M?.id===t.userID,R="prototype"===(0,i.d4)(e=>e.selectedView).view,U=(0,o.jsx)(k.Ro,{entity:{...t,id:t.userID},className:j.Fp,size:24},t.userID),O=(0,C.Py)(t);(0,C.AD)(t)?U=(0,o.jsx)("span",{className:j.LH,children:(0,o.jsx)(E.vQ,{sessionID:t.sessionID,observingSessionID:x.observingSessionID,presenterSessionID:x.presenterSessionID??null,nominatedSessionID:x.sessionsNominatingCurrentUser.length>0?x.sessionID:null,user:t,showColorIndicators:F,horizontal:!0,disableSpotlightAnimation:A})}):O&&(U=(0,o.jsx)("span",{className:j.LH,children:(0,o.jsx)("div",{className:P._L,children:(0,o.jsx)(g.H8,{user:{...t,id:t.userID}})})}));let _=m()({[j.MO]:!0,[j.Cu]:e.isCurrentUserHeaderRow,[j.BI]:e.isInListbox&&!O,[j.yH]:u&&!O,[j.UD]:O}),L=()=>N?"current_user":t.userID===v?.creatorId?"file_creator":null,Q=()=>{let e=L();return"current_user"===e?(0,o.jsxs)("span",{children:[" ",(0,f.tx)("collaboration.voice.you_lower_cased")]}):"file_creator"===e?(0,o.jsxs)("span",{children:[" ",(0,d.kc)().multiplayer_avatar_show_creator_label?(0,f.tx)("collaboration.voice.creator"):(0,f.tx)("collaboration.voice.owner")]}):""},H=()=>O?(0,o.jsx)("span",{className:j.FH,children:(0,o.jsx)(p.h1,{date:t.viewedAt})}):null,V=()=>{let e=h?.map(e=>o.jsx(s.q7,{onClick:t=>{t.stopPropagation(),t.preventDefault(),e.onClick(t)},disabled:e.disabled,children:e.text},e.key));return(0,o.jsx)(s.mc,{children:e})},Y=()=>(0,o.jsxs)(s.bL,{manager:T,children:[(0,o.jsx)("div",{className:j.G7,children:(0,o.jsx)(a.u,{className:j.Xg,"aria-label":(0,f.t)("fullscreen.toolbar.multiplayer.more_options"),"data-tooltip-type":y.Ib.TEXT,"data-tooltip":(0,f.t)("fullscreen.toolbar.multiplayer.more_options"),...D(),children:(0,o.jsx)(l.J,{})})}),V()]}),z=(0,o.jsxs)(I.fI,{className:m()(j.Hl,{[j.Sh]:(0,d.kc)().fix_overflow_menu_display&&R}),children:[U,(0,o.jsxs)("span",{className:j.nP,children:[(0,o.jsxs)("span",{className:j.ko,children:[(0,o.jsx)("span",{className:j.j7,children:(0,C.Py)(t)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:j.TV,children:t.name}),H()]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("span",{className:j.DL,children:[t.name,Q()]}),u&&(0,o.jsx)("span",{className:j.FH,children:B?(0,f.tx)("collaboration.voice.click_to_unfollow"):(0,f.tx)("collaboration.voice.click_to_follow")})]})}),c&&(0,o.jsx)("span",{className:j.e6,children:c})]}),(0,o.jsx)("span",{className:j.vO,children:h&&h.length>0&&Y()})]})]});return n?(0,o.jsxs)(r.bL,{className:m()(_,{[j.Lk]:!O&&!T.isOpen,[j.tE]:!O&&T.isOpen}),children:[(0,o.jsx)(r.O6,{onClick:n,className:j.L8,"aria-label":B?(0,f.t)("collaboration.voice.click_to_unfollow_user",{username:t.name}):(0,f.t)("collaboration.voice.click_to_follow_user",{username:t.name})},t.userID),(0,o.jsxs)(I.fI,{className:m()(j.Hl,{[j.Sh]:(0,d.kc)().fix_overflow_menu_display&&R}),children:[U,(0,o.jsxs)("span",{className:j.nP,children:[(0,o.jsxs)("span",{className:j.ko,children:[(0,o.jsx)("span",{className:j.j7,children:(0,C.Py)(t)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:j.TV,children:t.name}),H()]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("span",{className:j.DL,children:[t.name,Q()]}),(0,o.jsx)("span",{className:j.zO,children:B?(0,f.tx)("collaboration.voice.click_to_unfollow"):(0,f.tx)("collaboration.voice.click_to_follow")})]})}),c&&(0,o.jsx)("span",{className:j.e6,children:c})]}),(0,o.jsx)(r.HG,{className:j.vO,children:h&&h.length>0&&Y()})]})]})]}):n?(0,o.jsx)("button",{className:_,onClick:n,children:z},t.userID):(0,o.jsx)("div",{className:m()(_,{[j.fJ]:T.isOpen}),children:z},t.userID)}function U(e){let t=(0,i.d4)(e=>e.multiplayer),n=(0,i.d4)(e=>"prototype"===e.selectedView.view?e.prototype.showProgressBar:(0,x.T)(e?.progressBarState?.mode)),s=t.allUsers.length>1;(0,h.Av)();let{user:a,onClick:r,volumeIcon:l,disableSpotlightAnimation:d}=e,c=S(a),u=n?P.K$:"";if(!(0,C.AD)(a))return(0,o.jsxs)("div",{className:m()(P.C7,u),children:[(0,o.jsx)(g.H8,{user:{...a,id:a.userID}}),l&&(0,o.jsx)("span",{className:B.Wh,children:l})]});{let n=`voice-avatar-session-${a.sessionID}`;return(0,o.jsxs)("span",{"data-onboarding-key":e.onboardingKey,className:m()(B.R3,u),children:[r&&(0,o.jsx)("button",{className:B.XF,onClick:r,"data-tooltip-proxy-element-id":n,"aria-label":c?(0,f.t)("fullscreen.toolbar.multiplayer.unfollow_name",{name:a.name}):(0,f.t)("fullscreen.toolbar.multiplayer.follow_a_name",{name:a.name}),"data-fullscreen-intercept":!0}),(0,o.jsx)(E.vQ,{disableSpotlightAnimation:d,hasBorder:e.hasBorder,nominatedSessionID:t.sessionsNominatingCurrentUser.length>0?t.sessionID:null,observingSessionID:t.observingSessionID,presenterSessionID:t.presenterSessionID??null,sessionID:a.sessionID,showColorIndicators:s,tooltipOffsetY:(F-T)/2,tooltipProxyId:n,user:a}),l&&(0,o.jsx)("span",{className:B.Wh,children:l})]})}}function O(e){let{user:t,onboardingKey:n,callMetadata:s,isOverflow:a,isCurrentUserHeaderRow:r,onUserClick:l,containsCursor:d,secondaryActions:c,disableSpotlightAnimation:m,hasBorder:u,hidePopover:h}=e,p=(0,i.wA)(),f=s&&(0,o.jsx)(M.i,{userId:t.userID,userName:t.name,microphoneStyle:s.microphoneStyle,call:s.call,alwaysShowVoiceBars:a,volumeIconMutedState:a?M.S.DEFAULT:M.S.MINI}),g=l&&(e=>{e.stopPropagation(),e.preventDefault(),(0,C.AD)(t)&&(l(t),a?(p(A.oB()),h&&h()):p(v.jD()))});return a||r?(0,o.jsx)(R,{user:t,volumeIcon:f,onClick:g,containsCursor:d,secondaryActions:c,disableSpotlightAnimation:m,isCurrentUserHeaderRow:r}):(0,o.jsx)(U,{user:t,onboardingKey:n,volumeIcon:f,onClick:g,disableSpotlightAnimation:m,hasBorder:u})}},70177:(e,t,n)=>{n.d(t,{w:()=>j});var o=n(104076),i=n(716976),s=n(795033),a=n(190028),r=n(653899),l=n(90844),d=n(422872),c=n(992753),m=n(863154),u=n(235711),h=n(592726),p=n(299640),f=n(143277),g=n(739801),A=n(10411),v=n(441030),x=n(883765),C=n(686549),w=n(555013),b=n(192075);let y={SPOTLIGHT_GUIDE:"https://help.figma.com/hc/articles/5025214483351-Facilitate-meetings-with-spotlight",FOLLOW_GUIDE:"https://help.figma.com/hc/articles/360040322673-Follow-collaborators-in-a-file"};function I(e){return(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"multiplayer_nux_modals--title--N0NZG text--fontPos13--xW8hS text--_fontBase--QdLsd",children:e.title}),(0,o.jsx)("div",{className:"multiplayer_nux_modals--content--mROkG",children:e.content}),(0,o.jsxs)("div",{className:"multiplayer_nux_modals--footerContainer--I-MS-",children:[(0,o.jsx)(w.vd,{className:"multiplayer_nux_modals--footerButton--TJL3G",onClick:e.primaryCTAOnClick,children:e.primaryCTA}),(0,o.jsx)(w.tM,{onClick:e.secondaryCTAOnClick,children:e.secondaryCTA})]})]})}function E({onDismissModal:e}){let t=(0,b.tx)("collaboration.spotlight.2_0.onboarding_spotlight.description_with_spotlight_arg",{spotlightMeButtonText:(0,o.jsx)("b",{children:(0,b.tx)("collaboration.spotlight.tooltip.spotlight_me")})});return(0,o.jsx)(I,{title:(0,b.tx)("collaboration.spotlight.onboarding_spotlight.title"),content:t,secondaryCTA:(0,b.tx)("collaboration.voice.learn_more"),secondaryCTAOnClick:()=>(0,C.FJ)(y.SPOTLIGHT_GUIDE,"_blank","noopener"),primaryCTA:(0,b.tx)("collaboration.spotlight.onboarding.next"),primaryCTAOnClick:()=>{e(),(0,x.sx)("Context Viewed",{name:"should-close-open-spotlight-nux"})}})}function M({onDismissModal:e}){return(0,o.jsx)(I,{title:(0,b.tx)("collaboration.spotlight.onboarding_observation.title"),content:(0,b.tx)("collaboration.spotlight.onboarding_observation.description"),secondaryCTA:(0,b.tx)("collaboration.voice.learn_more"),secondaryCTAOnClick:()=>(0,C.FJ)(y.FOLLOW_GUIDE,"_blank","noopener"),primaryCTA:(0,b.tx)("collaboration.spotlight.onboarding.done"),primaryCTAOnClick:()=>{e()}})}let k="seen_synchronous_collaboration_onboarding",P=(0,u.r1)(k);function j(){let e=(0,s.md)(c.d9),t=(0,s.md)(m.PD),n=(0,s.md)(c.$5),u=(0,s.md)(P),x=(0,h.J$)(),C=(0,a.A)().subtract(7,"day").isBefore((0,a.A)(x)),w=(0,d.e)({overlay:v.aI5,priority:f.N.DEFAULT_MODAL},[t,u]),b=(0,d.e)({overlay:v.ar0,priority:f.N.DEFAULT_MODAL}),y=(0,i.useCallback)(()=>{e&&n&&!C&&w.show({canShow:(e,t)=>!e&&!t})},[e,n,C,w]),I=(0,i.useCallback)(()=>{b.show()},[b]),j=(0,i.useCallback)(()=>{w.complete(),I()},[w,I]);return(0,r.h)(y),(0,l.E)(w.uniqueId,p.M8,y),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(g.h,{element:({onClickPrimaryCta:e})=>(0,o.jsx)(E,{onDismissModal:e}),isShowing:w.isShowing,modalType:A.q3.WALK_THROUGH,onClickPrimaryCta:j,onClose:w.complete,onManualDismiss:w.complete,onboardingKey:"multiplayer-spotlight-nux-key",shouldDismissWhenLostDOMTarget:!0,trackingContextName:"multiplayer_onboarding",userFlagOnShow:k,width:268}),(0,o.jsx)(g.h,{element:({dismissModal:e})=>(0,o.jsx)(M,{onDismissModal:e}),isShowing:b.isShowing,modalType:A.q3.WALK_THROUGH,onClickPrimaryCta:b.complete,onClose:b.complete,onManualDismiss:b.complete,onboardingKey:"multiplayer-observation-nux-key",shouldDismissWhenLostDOMTarget:!0,trackingContextName:"multiplayer_observation_onboarding",userFlagOnShow:k,width:268})]})}},700795:(e,t,n)=>{n.d(t,{b:()=>w});var o=n(104076),i=n(716976),s=n(795033),a=n(653899),r=n(192075),l=n(549571),d=n(819851),c=n(90844),m=n(422872),u=n(992753),h=n(863154),p=n(15061),f=n(299640),g=n(143277),A=n(739801),v=n(10411),x=n(441030);let C=()=>(0,r.t)("collaboration.spotlight.nudge_spotlight.title");function w(){let e=(0,s.md)(h.PD),t=(0,s.md)(u.E6),n=(0,d.m0)(),r=(0,l._I)(),w=n&&!r,b=(0,m.e)({overlay:x.hPP,priority:g.N.SECONDARY_MODAL},[e,t]),y=(0,i.useCallback)(()=>{w||b.show({canShow:(e,t)=>!e&&t})},[w,b]);(0,a.h)(()=>{y()});let I=(0,i.useCallback)(()=>{b.isShowing||y()},[b.isShowing,y]);return(0,c.E)(b.uniqueId,f.M8,I),(0,o.jsx)(A.h,{element:p._,isShowing:b.isShowing,modalType:v.q3.ANNOUNCEMENT_POINTER,onClickPrimaryCta:b.complete,onClose:b.complete,onManualDismiss:b.complete,onboardingKey:"multiplayer-spotlight-nux-key",title:C,trackingContextName:"multiplayer_spotlight_nudge",userFlagOnShow:"seen_spotlight_hint"})}},301452:(e,t,n)=>{n.d(t,{IN:()=>eh,xw:()=>ed,ez:()=>el});var o=n(104076),i=n(716976),s=n(903927),a=n(951002),r=n(638004),l=n(171704),d=n(266808),c=n(795033),m=n(155545),u=n.n(m),h=n(851824),p=n(166887),f=n(328341),g=n(550209),A=n(361170),v=n(11395),x=n(814082),C=n(147046),w=n(646767),b=n(278491),y=n(495896),I=n(551037),E=n(229150),M=n(208045),k=n(692042),P=n(521255),j=n(592726),B=n(331497),D=n(728977),T=n(977899),F=n(198444),S=n(621087),N=n(483824),R=n(643330),U=n(247259),O=n(417439),_=n(277770),L=n(437540),Q=n(192075),H=n(662771),V=n(968169),Y=n(568590),z=n(122010),G=n(513785),X=n(531034),J=n(902141);function K({clusteredThreads:e,hasActivePin:t,pageId:n,setClientMeta:s,isCommentsMode:a,setPinRendererRef:r,onCommentInsertionButtonFocusToggle:l}){let d=i.useCallback(()=>{let t=J.iZ?.getFocusedClusterId();return t?e.getById(t):null},[e]),c=(0,V.sT)(),m=i.useRef([]),u=function(e,t){let n=W(),o=(0,G.D)(),s=function(e,t){0===t.current.length&&(t.current=e.all().map(e=>e.id));let n=t.current,o=i.useRef(e),s=o.current,a=e.all().map(e=>e.id),r=J.iZ?.getFocusedClusterId(),l=i.useRef(!!r),d=l.current;if(l.current=!!r,s===e||d&&(!r||!a.includes(r)))return n;let c=Array.from(e.leafNodes).reduce((t,n)=>{let o=s?.getParentOf(n)?.id,i=e.getParentOf(n)?.id;return i&&t.set(i,o),t},new Map),m=e=>n.indexOf(c.get(e)??""),u=[...a].sort((e,t)=>{let n=m(e),o=m(t),i=-1===n?Number.MAX_SAFE_INTEGER:n,s=-1===o?Number.MAX_SAFE_INTEGER:o;if(i!==s)return i-s;if(r){if(e===r&&t!==r)return -1;if(t===r&&e!==r)return 1}return 0});if(r&&!n.includes(r)){let e=u.indexOf(r);if(e>0){let t=u.splice(0,e);u.push(...t)}}return o.current=e,t.current=u,u}(e,t),a=i.useCallback(e=>{let t=J.iZ?.getPinElementByClusterId(e);if(!t)return!1;let n=document.querySelector('[data-testid="properties-panel"]');if(!n)return!1;let o=t.getBoundingClientRect(),i=n.getBoundingClientRect();return o.right>i.left},[]);return i.useCallback((t,i=J.iZ?.getFocusedClusterId())=>{if(!i){let o=1===t?s.length-1:0,i=s[o],r=i?e.getById(i):null;r&&i&&n(r.cluster,a(i))?.then(()=>J.iZ?.focusPinById(i));return}let r=s.findIndex(e=>e===i)+(1===t?-1:1);if(r>=s.length||r<0){o();return}let l=s[r],d=e.getById(l);d&&n(d.cluster,a(l))?.then(()=>J.iZ?.focusPinById(l))},[s,e,n,a,o])}(e,m),h=(0,X.vB)(d,n,s),[p,f]=i.useState(!1),g=i.useCallback(e=>"Tab"===e.key&&(u(e.shiftKey?1:0),e.preventDefault(),e.stopPropagation(),!0),[u]);i.useEffect(()=>{if(!p)return;let e=e=>{if(g(e))return;let t=(()=>{switch(e.key){case"ArrowDown":return{x:0,y:1};case"ArrowUp":return{x:0,y:-1};case"ArrowLeft":return{x:-1,y:0};case"ArrowRight":return{x:1,y:0};default:return null}})();t&&h(A.Mi.scale(e.shiftKey?c.bigNudgeAmount:c.smallNudgeAmount,t))&&(e.preventDefault(),e.stopPropagation())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[p,u,t,h,c,g]),i.useEffect(()=>{if(a)return(0,H.lg)(e=>{u(0,e)}),()=>{(0,H.lg)(null)}},[a,u]);let v=i.useCallback(t=>{t&&(m.current=function(e){let t=e.all(),n=t.length;if(n<=1||n>100)return t.map(e=>e.id);let o=(e,n)=>Math.hypot(t[e].x-t[n].x,t[e].y-t[n].y),i=new Set(t.map((e,t)=>t)),s=[...i].reduce((e,n)=>t[n].x+t[n].y<t[e].x+t[e].y?n:e,0),a=[s];for(i.delete(s);i.size;){let e=a[a.length-1],t=[...i].reduce((t,n)=>o(e,n)<o(e,t)?n:t);a.push(t),i.delete(t)}return a.map(e=>t[e].id)}(e)),l?.(t)},[e,l]);return(0,o.jsxs)(z.v,{isAccessible:a,role:"region","aria-label":(0,Q.t)("comments.accessibility_pin_region_name"),children:[(0,o.jsx)(G.J,{onNativeEventKeyDown:g,onFocusToggle:v}),(0,o.jsx)("clustered-pins",{"data-fullscreen-intercept":!0,onFocus:()=>f(!0),onBlur:()=>f(!1),ref:r})]})}var Z=(e=>(e[e.Forward=0]="Forward",e[e.Backward=1]="Backward",e))(Z||{});let W=()=>{let e=(0,Y.Z)(),t=i.useContext(D.kw),n=(0,L.R)(e=>e.selectedView);return i.useCallback((o,i=!1)=>{let s=o.threads[0];return e((0,H.E1)(s,t,n,i,!0))},[e,t,n])};var q=n(142462),$=n(292423),ee=n(469756),et=n(681947),en=n(88819),eo=n(766812),ei=(e=>(e[e.Gradual=0]="Gradual",e[e.Jump=1]="Jump",e))(ei||{});let es=$.XC.getPinSize(3),ea=Math.max(q.u5,es.width,es.height),er=e=>10*Math.round(100*e/10);function el(e,t,n){let o=n,i=t*n,s=ea+(0,N.H)(e,n);return i<3*s&&(o=3*s*n/i),o}function ed({config:e,clusterLocation:t,pins:n,currentViewport:o}){let i=u()(n,e=>Math.max(Math.abs(e.x-t.x),Math.abs(e.y-t.y))),s=Math.abs(i.x-t.x),a=Math.abs(i.y-t.y),r=s>a?"width":"height",l=Math.max(s,a),d=e.clusterClickResultViewportPercentage/100,c=o[r]*d/(2*l),m=el(e,l,c);return m/o.zoomScale<1.5&&(m*=1.5),Math.min(m,e.minZoomPercentage/100+.5)}let ec=[d.NLJ.COMMENTS,d.NLJ.SELECT,d.NLJ.SCALE,d.NLJ.HAND,d.NLJ.TYPE],em=(e,t,n,o,i,s)=>{let{threads:a}=e,r=a.map(e=>o(e)),l=a.map(e=>{let t=e.comments[0].client_meta;return t?.in_frame?t.node_id:void 0}),d=new Map;for(let e of r)for(let t of e.avatars)d.has(t.avatar_user_id)?(d.get(t.avatar_user_id).num_unread_comments+=t.num_unread_comments,d.get(t.avatar_user_id).num_comments+=t.num_comments):d.set(t.avatar_user_id,t);let c=1===a.length;return{id:c?a[0].id:(0,en.Ao)(e,a.length),x:e.x,y:e.y,pins:r,isUnread:r.some(e=>e.isUnread),avatarMap:d,onClick:i(e,r),anchoredNode:l.every(e=>e===l[0])?l[0]:void 0,isPinnedToFile:r.some(e=>e.isPinnedToFile),isSinglePin:c,cluster:e,onKeyDown:s(e,r)}};"customElements"in window&&customElements.define(J.Zb.desiredElementName,J.Zb);let eu=i.memo(function(e){let t=!!e.activeThread||e.threads.length>0,n=(0,j.iZ)(),m=(0,F.s)(),u=(0,et.Z5)(),L=(0,s.wA)(),Q=i.useContext(D.kw),H=i.useRef(null),V=(0,s.d4)(e=>e.mirror.appModel.currentTool),Y=(0,B.ut)(d.Ez5?.editorState().handToolTemporarilyEnabled,!1),z=(0,P.BI)(),G=e.activeThread?.id===T.hm,Z=G?null:e.activeThread?.id||null,W=(0,s.d4)(e=>e.comments.emphasizedPinIds),{zoomScale:q,deltaOffsetX:ei,deltaOffsetY:es,deltaZoomScale:ea}=(0,k.PD)({subscribeToUpdates_expensive:t}),{requestToDeselectCommentPin:el}=e,[eu,eh]=i.useState(!1),ep=(0,w.qN)(),ef=(0,I.k)(),eg=(0,v.Om)(),[eA,ev]=i.useState(void 0),[ex,eC]=i.useState(!1),ew=(0,c.md)(J.ux),eb=i.useRef(null),ey=(0,c.md)(S.R),eI=(0,s.d4)(e=>![d.m1T.DESIGN_LAYOUT,d.m1T.WHITEBOARD_LAYOUT,d.m1T.HISTORY,d.m1T.PREVIEW,d.m1T.COMMENTS,d.m1T.DEV_HANDOFF,d.m1T.SLIDE_LAYOUT,d.m1T.SITES_LAYOUT].includes(e.mirror.appModel.activeCanvasEditModeType)||e.mirror.appModel.activeUserAction!==d.QOV.DEFAULT),eE=(0,M.f$)(),eM=eI&&(!z||z?.shouldOptimizeForIpadApp&&z?.shouldFadeCommentsDuringEdit),[ek,eP]=i.useState(!1),ej=eM||V===d.NLJ.MULTISELECT||ek,[eB,eD]=i.useState({viewport:Q.getViewportInfo(),hasJumped:!1}),eT=i.useRef(e.threads);i.useEffect(()=>{eT.current=e.threads},[e.threads]);let eF=i.useCallback(e=>eT.current?.find(t=>t.id===e)||null,[eT]),eS=(0,s.d4)(e=>e.mirror.appModel.activeUserAction);i.useEffect(()=>{let e=H.current;e&&(e.shouldDisablePointerEvents=!ef&&m?.disableCommentsWhenHandToolEnabled&&V===d.NLJ.HAND||Y||void 0!==eS&&eS!==d.QOV.DEFAULT||V===d.NLJ.MULTISELECT)},[H,V,Y,eS,m?.disableCommentsWhenHandToolEnabled,ef]);let eN=e.dragDisabledOverride||!ec.includes(V),eR=(0,X.BK)(eF,e.pageId,e.setClientMeta,eN,e.requestToSelectCommentPin,ey),eU=(0,X.x5)(eN),eO=i.useMemo(()=>new Set(e.threads.filter(e=>eU(e)).map(e=>e.id)),[eU,e.threads]),e_=i.useCallback(e=>{L(x.wg({threadId:e}));let t=eF(e);t&&Q.setHovering(t.canvasPosition)},[Q,L,eF]),eL=i.useCallback(e=>{L(x.RP({threadId:e})),Q.setHovering(null)},[Q,L]),eQ=(0,M.$m)(),eH=(0,p.am)(),eV=i.useRef(!1);eV.current=eQ&&eE;let eY=i.useCallback((e,t)=>ef?()=>Promise.resolve(eg("COMMENT_PIN_CLICK")):async n=>{let o=n||"screen-reader"===l.F.device,i=t.map(e=>e.id);eH("Comment Cluster Clicked",{clusterSize:t.length,commentThreadIds:i});let s=ed({config:u,clusterLocation:e,pins:t,currentViewport:Q.getViewportInfo()}),a=Q.navigateTo(e,s);el&&el(),await a,eV.current&&o&&H.current?.setSelectedFocusThreadIds(new Set(i))},[u,Q,eH,el,ef,eg]),ez=i.useCallback((e,t)=>{t.preventDefault(),t.stopPropagation();let n=eF(e);if(!n)return;let o=Q.getViewportInfo(),i=H.current.getPinViewportRect(n.id),s=(0,k.Z0)(o,i),a={x:s.x+i.height/2,y:s.y-i.width/2,height:0,width:0},r=(0,k.HD)(a,o);L(C.j7({type:b.Z7,data:{thread:n,pinClientRect:r}}))},[L,Q,eF]),eG=H.current,eX=(0,k.ni)(),eJ=i.useCallback(e=>{if(eG){if("function"!=typeof eG.onViewportUpdate){(0,g.$D)(r.e.WAYFINDING,Error("pinRenderer.onViewportUpdate is not a function"),{extra:{pinRendererProperties:Object.getOwnPropertyNames(eG)}});return}eG.onViewportUpdate(e)}},[eG]);i.useEffect(()=>{t&&eJ(Q.getViewportInfo())},[eJ,t,Q]),(0,k.D6)({subscribeToUpdates_expensive:t},eJ),i.useEffect(()=>{eG&&(eG.bounds={min:{x:eX.x,y:eX.y},max:{x:eX.x+eX.width,y:eX.y+eX.height}},eG.onElementClicked=eR.onPinClicked,eG.onElementDragEnd=eR.onDragEnd,eG.onElementDragMove=eR.onDragUpdate,eG.onElementDragStart=eR.onDragStart,eG.onElementContextMenu=ez)},[ez,eG,eR,eX]);let eK=i.useCallback(e=>{let t;let o=(0,en.c4)(e.comments),i=e.comments.slice(1).reduce((e,t)=>t.isUnread?e+1:e,0);if(e.boundingBoxAnchorCanvasPosition)t=e.boundingBoxAnchorCanvasPosition;else if(e.comments[0].client_meta?.selection_box_anchor&&(t=e.comments[0].client_meta.selection_box_anchor,e.comments[0].client_meta?.in_frame)){let n=e.comments[0].client_meta,o=A.Mi.subtract(t,n);t=A.Mi.add(e.canvasPosition,o)}let s=!!e.isPendingFromSinatra,r={id:e.id,x:e.canvasPosition.x,y:e.canvasPosition.y,isOurs:e.comments[0].user_id===n?.id,pending:s,avatars:o,createdAt:new Date(Date.parse(e.comments[0].created_at)),onMouseEnter:()=>e_(e.id),onMouseLeave:()=>eL(e.id),previewMessageMeta:e.comments[0].message_meta,isUnread:e.comments[0].isUnread||i>0,numUnreadReplies:i,isDraggable:eO.has(e.id)&&!e.boundingBoxAnchorCanvasPosition,isResolved:!!e.comments[0].resolved_at,label:e.comments[0].order_id||"",updatedAt:e.comments[e.comments.length-1].created_at,selectionBoxAnchor:t,otherBoundingBoxes:e.otherBoundingBoxes,numAttachments:e.comments.map(e=>e.attachments?.length||0).reduce((e,t)=>e+t,0),isPinnedToFile:(0,y.U6)()?!!e.commentPin:void 0};return e.sidebarItemType===T.kT.COMMENT_THREAD?{...r,type:T.kT.COMMENT_THREAD}:e.sidebarItemType===T.kT.FEED_POST?{...r,type:T.kT.FEED_POST,feedPostTitle:e.feedPostTitle,pinVerticalStagger:e.pinVerticalStagger}:e.sidebarItemType===T.kT.LITMUS_COMMENT_THREAD?{...r,type:T.kT.LITMUS_COMMENT_THREAD}:void(0,a.xb)(e)},[n,eO,e_,eL]),eZ=i.useMemo(()=>e.threads.reduce((e,t)=>{let{canvasPosition:n}=t;return n&&e.push({...t,canvasPosition:n}),e},[]),[e.threads]),[eW,eq]=i.useState(new Map),e$=i.useCallback((e,t)=>{eq(n=>new Map(n.set(e,t)))},[]),e0=H.current?.getFocusedClusterId()??null;i.useEffect(()=>{eQ&&eq(new Map)},[eQ,e0]);let e1=(0,f.ZC)(eZ),e4=eZ!==e1&&void 0!==e1;i.useEffect(()=>{e4&&eq(new Map)},[e4,eZ]);let e2=(0,f.ZC)(ep),[e7,e5]=i.useState(()=>{if(ep)return(0,E.Zz)(e.threads)});i.useEffect(()=>{void 0===e7&&!e2&&ep&&(0,E.Zz)(e.threads)&&e5(!0)},[e2,ep,e.threads,e7]),i.useEffect(()=>{e4&&e7&&(e.threads.some(e=>null!=e.commentPin&&e.comments.some(e=>e.isUnread))||e5(!1))},[e7,e4,e.threads]);let e3=(()=>{let e=(0,M.$m)();return i.useCallback((t,n)=>o=>{e&&"Enter"===o.key&&eY(t,n)(!0)},[e])})(),e8=i.useCallback((e,t)=>{let n=new Set(e.map(e=>e.id)),o=er(t.zoomScale),i=eW.get(o);if(i){let e=i.map(e=>em(e,t,m,eK,eY,e3));return new ee.n(e,n,t.zoomScale,e7)}{e$(o,i=(0,N.g)(e,t,u,eQ?H.current?.getFocusedClusterId()??null:null));let s=i.map(e=>em(e,t,m,eK,eY,e3));return new ee.n(s,n,t.zoomScale,e7)}},[eQ,eW,e7,m,eK,eY,e3,u,e$]),e9=i.useCallback(e=>{eD({viewport:Q.getViewportInfo(),hasJumped:1===e})},[Q]),e6=(0,h.A)(e9,u.rebuildClustersZoomDelay),te=i.useMemo(()=>{let e=e8(eZ,eB.viewport);return e.applyInstant=eB.hasJumped,e},[eZ,eB,e8]);i.useEffect(()=>{let e=eB.viewport.zoomScale;if(q===e)return;let t=H.current;e>q&&t&&(t.isZoomingOut=!0);let{width:n,height:o}=Q.getViewportInfo();Math.abs(ea)/q>.45||Math.abs(ei)/n>.95||Math.abs(es)/o>.95?e9(1):e6(0)},[Q,ea,ei,es,u.rebuildClustersZoomDelay,eB.viewport,q,eG,e6,e9]);let tt=i.useCallback(e=>{eh(null!=e),H.current=e},[]);i.useEffect(()=>{if(H.current){let e=H.current;if(eu)e.data={clusters:te,selectedPinId:Z,emphasizedPinIds:W,dimUnselectedPins:!!ej};else{e.wrapperOffsetFn=e=>Q.getCommentsWrapperOffset(e);let t=Q.getViewportInfo();e.initialViewport=t,e.data={clusters:te,selectedPinId:Z,emphasizedPinIds:W,dimUnselectedPins:!!ej},e.clientConfig=m}}},[Q,Z,W,eu,te,m,ej]);let tn=!!e.activeThread,to=e.activeThread?(0,en.c4)(e.activeThread.comments).length:1,{setActivePinSize:ti}=e;i.useEffect(()=>{if(!tn){ti(null);return}if(G){let e=$.XC.getPinSize(1);ti({height:e.height,width:e.width});return}ti({width:$.XC.getPinSize(to).width,height:0})},[ti,tn,G,to]);let ts=()=>{let e;if(!H.current)return;let t=H.current.shadowRoot,n=t?.querySelector(`[data-onboarding-key="${O.UU}"]`);if(!n)return;let o=eb?.current?.getBoundingClientRect(),i=o?.height,s=n.getBoundingClientRect(),a=O.V_/2,r=s.top<window.innerHeight/3,l=s.top-10,d=s.top+10;if(i){let t=s.top+10-i;e=r?l:t}else e=d;ev({top:e,left:s.left-O.V_-10,pointerOffset:a,pointerPosition:R.F_.RIGHT_BODY})};i.useEffect(()=>{ew&&ts()},[ew]),i.useEffect(()=>{ts()},[ex]),i.useEffect(()=>{ev(void 0)},[ei,es]);let ta=i.useMemo(()=>{if(eA)return{targetLocation:eA,innerRef:eb,setIsShowingOverlay:eC}},[eA,eb,eC]);return(0,o.jsxs)(eo.p,{children:[ew&&!!ta&&(0,o.jsx)(_.ue,{registrationOrigin:U.iX.NEW_COMMENT,fixedPositionProps:ta}),eQ?(0,o.jsx)(K,{clusteredThreads:te,hasActivePin:tn,isCommentsMode:eE,pageId:e.pageId,setClientMeta:e.setClientMeta,setPinRendererRef:tt,onCommentInsertionButtonFocusToggle:eP}):(0,o.jsx)("clustered-pins",{ref:tt})]})}),eh=i.memo(function(e){return(0,o.jsx)(eu,{activeThread:e.activeThread,dragDisabledOverride:e.dragDisabledOverride,isCommunity:e.isCommunity,pageId:e.pageId,requestToDeselectCommentPin:e.requestToDeselectCommentPin,requestToSelectCommentPin:e.requestToSelectCommentPin,setActivePinSize:e.setActivePinSize,setClientMeta:e.setClientMeta,threads:e.threads,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition},e.pageId)})},469756:(e,t,n)=>{n.d(t,{n:()=>o});class o{constructor(e,t,n,o){this._cached_all=null,this.applyInstant=!1,this.minimizeUnpinned=!1,this.clusters=e.reduce((e,t)=>(e[t.id]=t,e),{}),this.order=e.map(e=>e.id),this.leafNodes=t;let i={};o&&(this.minimizeUnpinned=!0),e.forEach(e=>{e.pins.forEach(t=>{i[t.id]=e.id})}),this.hierarchy=i,this.zoomScale=n}get length(){return this.order.length}all(){return this._cached_all||(this._cached_all=this.order.map(e=>this.clusters[e])),this._cached_all}getParentOf(e){let t=this.hierarchy[e];return t&&this.clusters[t]||null}getById(e){return this.clusters[e]||null}}},513785:(e,t,n)=>{n.d(t,{J:()=>u,D:()=>m});var o=n(104076),i=n(716976),s=n(266808),a=n(120440),r=n(192075),l=n(208045),d=n(687849),c=n(692042);function m(){let e=(0,l.f$)(),t=(0,l.$m)()&&e;return(0,i.useCallback)(()=>{if(!t)return;let e=document.querySelector("button[data-kb-comment-insertion-button]");e instanceof HTMLElement&&e.focus()},[t])}function u({onNativeEventKeyDown:e,onFocusToggle:t}){let n=i.useRef(null),[l,m]=(0,i.useState)(!1),u=(0,c.i$)(),h=i.useCallback(()=>{m(!0),t?.(!0),requestAnimationFrame(()=>{s.Ez5?.invalidateCanvas()});let e=!1,o=()=>{if(!e){e=!0;return}n.current?.blur()};window.addEventListener("mousemove",o),n.current?.addEventListener("blur",()=>{window.removeEventListener("mousemove",o),m(!1),t?.(!1),s.Ez5?.invalidateCanvas()},{once:!0})},[t]),f=(0,i.useCallback)(t=>{e(t.nativeEvent)},[e]);return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("button",{ref:n,"aria-label":(0,r.t)("comments.create-comment"),...a.xk(p.insertionButton,u&&p.insertionButtonPosition(u.x+9,u.y+25)),"data-fullscreen-intercept":!0,"data-kb-comment-insertion-button":!0,onClick:d.VU.get("create-comment","keyboard"),onFocus:h,onKeyDown:f,type:"button",children:l&&(0,o.jsx)("img",{src:"data:image/png;base64,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",alt:"",width:"30",height:"30"})})})}let h={kbCHJM:"xgq9j65",kLqNvP:"",kt4wiu:"",k87sOh:"xjbys53",$$css:!0},p={insertionButton:{kWkggS:"xjbqb8w",kVAEAm:"xixxii4",k3aq6I:"x11lhmoz",kY2c9j:"x1vjfegm",$$css:!0},insertionButtonPosition:(e,t)=>[h,{"--x-left":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`),"--x-top":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${t}px`)}]}},531034:(e,t,n)=>{n.d(t,{BK:()=>j,vB:()=>D,x5:()=>M});var o=n(716976),i=n(903927),s=n(466890),a=n(361170),r=n(11395),l=n(814082),d=n(646767),c=n(551037),m=n(229150),u=n(208045),h=n(657687),p=n(709615),f=n(568590),g=n(692042),A=n(211862),v=n(592726),x=n(728977),C=n(977899),w=n(198444),b=n(455401),y=n(292423),I=n(88819),E=n(902141);function M(e){let t=(0,v.TA)(),n=A.q5()?.canEdit;return o.useCallback(o=>!!(!0!==e&&(0,C.b7)(o.sidebarItemType))&&(!!n||o.comments[0].user_id===t),[e,t,n])}function k(e,t){let n=o.useContext(x.kw);return o.useCallback(o=>{let i=e(o.id);if(!i||!i.canvasPosition)return;let s=n.getViewportInfo(),r=(0,g.Z0)(s,i.canvasPosition),l=a.Mi.subtract(r,o.offset);t((0,g.$$)(s,l),i,s)},[e,t,n])}function P(){let e=o.useContext(x.kw);return o.useCallback(t=>{e.setHovering(t)},[e])}function j(e,t,n,a,m,h){let p=o.useContext(x.kw),A=(0,i.wA)(),v=p.getCommentDestinationForCanvasPosition,C=(0,b.fG)(),M=P(),j=k(e,M),D=(0,u.$m)(),T=k(e,o.useCallback((e,n)=>{if(n.comments[0]?.client_meta?.selection_box_anchor){let o=C(e,v(e,t)?.nodeId);if(o){let e=(0,s.pV)(n.comments[0].client_meta.selection_box_anchor,o);if(e.x!==n.comments[0].client_meta.selection_box_anchor.x||e.y!==n.comments[0].client_meta.selection_box_anchor.y){let t={...n.comments[0].client_meta};t.selection_box_anchor=e,A(l.hY({thread:n,clientMeta:t}))}}}M(e)},[t,C,v,A,M])),F=k(e,B(t,n)),S=o.useCallback((...e)=>{F(...e),D&&E.iZ?.blurFocusedPin()},[D,F]),N=function(e,t,n){let s=(0,i.wA)(),a=o.useContext(x.kw),m=(0,d.I_)(),u=(0,w.s)(),h=(0,f.Z)("comments_navigate"),p=(0,c.k)(),A=(0,r.Om)();return o.useCallback(o=>{if(p){A("COMMENT_PIN_CLICK");return}let i=e(o);if(i){if(t){if(!i.isPendingFromSinatra&&i.canvasPosition){let e=(0,g.Z0)(a.getViewportInfo(),i.canvasPosition),n=(0,I.c4)(i.comments).length,o=y.XC.getPinSize(n);t(i.id,{x:e.x,y:e.y,width:1.15*o.width,height:1.15*o.height})}}else s(l.bB({receiptsAPI:m.commentReceipts,viewport:a,thread:i,skipDeactivatingExistingActiveComment:n,config:u,navigate:h}))}},[m,s,e,a,t,n,u,h,p,A])}(e,m,h);return o.useMemo(()=>({onDragEnd:S,onPinClicked:N,onDragUpdate:T,onDragStart:j}),[j,S,N,T])}function B(e,t){let n=o.useContext(x.kw),r=(0,i.wA)(),d=n.getCommentDestinationForCanvasPosition,c=(0,b.fG)(),u=(0,b.pC)(),h=(0,b.gu)(),p=n.getValidCommentsRect,f=P();return o.useCallback((n,o,i)=>{let A;let v=(0,g.Z0)(i,n);if(!(0,m.rN)(v,p()))return;if(u(n)){r(l.UU()),h(),f(null);return}let x=d(n,e,!1),C={x:n.x,y:n.y,node_id:x?.nodeId,node_offset:x?.nodeOffset,viewport:i,page_id:e,in_frame:x?.inFrame,selection_box_anchor:o.comments[0].client_meta?.selection_box_anchor,stable_path:x?.stablePath};if(o.comments[0].client_meta?.selection_box_anchor){if(o.comments[0].client_meta.in_frame){let e=o.comments[0].client_meta,t=o.comments[0].client_meta.selection_box_anchor,i=a.Mi.subtract(t,e),s=o.canvasPosition;if(x?.inFrame){let e=a.Mi.subtract(s,n);A=a.Mi.add(a.Mi.add(n,i),e)}else A=a.Mi.add(i,s)}else A=o.comments[0].client_meta?.selection_box_anchor;let e=c(n,x?.nodeId);e&&(A=(0,s.pV)(A,e))}C.selection_box_anchor=A,t({thread:o,clientMeta:C}),f(null)},[e,t,r,d,c,u,h,p,f])}function D(e,t,n){let i=B(t,n),s=o.useContext(x.kw),r=(0,h.MP)();return o.useCallback(t=>{if(r)return!1;let n=e();if(!n?.isSinglePin)return!1;let o=n.cluster.threads[0];return!!o&&(i(a.Mi.add(n,t),o,s.getViewportInfo()),p.Lj.announceCommentPinMoved(t),!0)},[r,e,i,s])}},833536:(e,t,n)=>{n.d(t,{B:()=>tP});var o=n(104076),i=n(716976),s=n(903927),a=n(951002),r=n(689161),l=n(492737),d=n(917360),c=n(812714),m=n(140490),u=n(101880),h=n(236631),p=n(192075),f=n(814082),g=n(111297),A=n(30899),v=n(551037),x=n(373235),C=n(74620),w=n(563554),b=n(681947),y=n(455401),I=n(928693),E=n(546547),M=n(873289),k=n(78439),P=n(378820),j=n(72138),B=n(219910),D=n(936031),T=n(674524),F=n(328341),S=n(586398),N=n(750802),R=n(11395),U=n(211862),O=n(592726),_=n(977899),L=n(684742),Q=n(307829),H=n(454851),V=n(853943),Y=n(437481),z=n(877384),G=n(670114),X=n(511570),J=n.n(X),K=n(466890),Z=n(652539),W=n(894210),q=n(116553),$=n(826160),ee=n(882726);let et="comment_avatar_list--avatarListElement--7ghSl",en=i.memo(function(e){let{userId:t,imgUrl:n,handle:s}=e,a=i.useMemo(()=>({id:t,img_url:n,handle:s}),[t,n,s]);return(0,o.jsx)("div",{className:et,children:(0,o.jsx)($.Ro,{size:24,entity:a,className:"comment_avatar_list--commentAvatar--LwAuB"})})});function eo(e){let{avatars:t,maxAvatarsShown:n}=e,s=i.useMemo(()=>t.slice(0,n-1),[t,n]),a=t.length===n,r=t.length>e.maxAvatarsShown,l=t[e.maxAvatarsShown-1];return(0,o.jsxs)("div",{className:e.grayscale?"comment_avatar_list--avatarListGrayscale--TQPH8 comment_avatar_list--avatarList--ogW8K":"comment_avatar_list--avatarList--ogW8K",children:[s.map(e=>(0,o.jsx)(en,{userId:e.avatar_user_id,imgUrl:e.avatar_url,handle:e.avatar_user_handle},e.avatar_user_id)),a&&l&&(0,o.jsx)(en,{userId:l.avatar_user_id,imgUrl:l.avatar_url,handle:l.avatar_user_handle},l.avatar_user_id),r&&(0,o.jsx)("div",{className:et,children:(0,o.jsx)(ee.f,{size:24,className:"comment_avatar_list--overflowAvatar--6i3DO comment_avatar_list--commentAvatar--LwAuB",text:`${e.avatars.length-e.maxAvatarsShown+1}`})})]})}var ei=n(87535),es=n(115989),ea=n(657687);let er=i.memo(function(e){return(0,o.jsxs)("div",{className:"comment_metadata--commentMetadata---ku0T",children:[(e.orderId||e.parentName&&!e.hideParentName)&&(0,o.jsx)("span",{className:"comment_metadata--parentName--pO-hK text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,o.jsx)(ed,{parentName:e.parentName||null,orderId:e.orderId,hideParentName:e.hideParentName,thread:e.thread,hideOrphanedState:e.hideOrphanedState})}),(0,o.jsx)(el,{rootUser:e.rootUser,createdAt:e.createdAt,isPendingFromSinatra:e.isPendingFromSinatra,metaAddon:e.metaAddon})]})});function el(e){return(0,o.jsxs)("span",{className:"comment_metadata--authorTimeCreated--su-Jn",children:[(0,o.jsx)("div",{className:"comment_metadata--author--FqE-k text--fontPos11--2LvXf text--_fontBase--QdLsd",dir:"auto",children:e.rootUser}),"\xa0",(0,o.jsx)("div",{className:"comment_metadata--timeCreated---00vM text--fontPos11--2LvXf text--_fontBase--QdLsd",children:e.isPendingFromSinatra?(0,p.tx)("comments.in_a_moment"):(0,o.jsx)(es.h1,{date:e.createdAt,capitalize:!0})}),e.metaAddon]})}function ed(e){let t=(0,ea.Kq)(e.thread);if(!e.hideOrphanedState&&t){if(e.orderId){let t=(0,p.tx)("comments.unattached");return(0,p.tx)("comments.parent_name_and_number",{parentName:t,commentNumber:e.orderId})}return null}return e.hideParentName||!e.parentName?e.orderId?(0,p.tx)("comments.number_only",{commentNumber:e.orderId}):null:e.orderId?(0,p.tx)("comments.parent_name_and_number",{parentName:e.parentName,commentNumber:e.orderId}):(0,o.jsx)("span",{children:e.parentName})}var ec=n(256384),em=n(281684),eu=n(381640);let eh=(0,eu.nF)((e,t)=>{let{receiptsAPI:n,comment:o}=t;n.markAsUnread(o.uuid).catch(t=>{let n=(0,p.t)("whiteboard.an_error_occurred_while_marking_a_canvas_mention_as_unread");try{t=JSON.parse(t),e.dispatch(ec.s.error((0,em.J)(t,n)))}catch(t){e.dispatch(ec.s.error(n))}})}),ep=(0,eu.nF)((e,t)=>{let{receiptsAPI:n,thread:o}=t,i=o.comments.map(e=>e.uuid).filter(e=>!!e);n.markAsRead(i).catch(t=>{let n=(0,p.t)("whiteboard.an_error_occurred_while_marking_a_canvas_mention_as_read");try{t=JSON.parse(t),e.dispatch(ec.s.error((0,em.J)(t,n)))}catch(t){e.dispatch(ec.s.error(n))}})});var ef=n(366535),eg=n(584565),eA=n(646767),ev=n(210793);function ex(e){let{thread:t,isUnread:n,copyLink:a,onDeleteThread:r,onDeleteThreadComplete:l,onDeleteThreadCancel:d}=e,{commentReceipts:c}=(0,eA.I_)(),m=(0,eg.fr)(),u=(0,s.wA)(),h=(0,U.tS)(),g=(0,O.TA)(),A=i.useCallback(()=>{c&&(n?u(f.AY({receiptsAPI:c,thread:t})):u(f.QY({receiptsAPI:c,comment:t.comments[0]})))},[c,u,n,t]),v=i.useCallback(()=>{m&&(n?u(ep({receiptsAPI:m,thread:t})):u(eh({receiptsAPI:m,comment:t.comments[0]})))},[m,u,n,t]),x=i.useCallback(()=>{a(t.comments[0])},[a,t]),C=i.useCallback(()=>{u((0,ef.to)({type:ev.E,data:{onConfirm:()=>r(t),onConfirmComplete:l,onCancel:d}}))},[u,r,d,l,t]),w=i.useMemo(()=>{if(g===t.comments[0].user_id&&!t.isCanvasMention&&(0,_.MV)(t.sidebarItemType))return(0,o.jsx)(Q.q7,{onClick:C,children:(0,p.tx)("comments.delete_thread")},"deleteThread")},[t,g,C]),b=i.useMemo(()=>{let e=[];return m&&h&&t.isCanvasMention?e.push((0,o.jsx)(Q.q7,{onClick:v,children:n?(0,p.tx)("comments.mark_as_read"):(0,p.tx)("comments.mark_as_unread")},"toggleUnreadCanvasMention")):c&&h&&!t.isCanvasMention&&(0,_.m)(t.sidebarItemType)&&e.push((0,o.jsx)(Q.q7,{onClick:A,children:n?(0,p.tx)("comments.mark_as_read"):(0,p.tx)("comments.mark_as_unread")},"toggleUnreadComment")),e.push((0,o.jsx)(Q.q7,{onClick:x,children:(0,p.tx)("comments.copy_link")},"copyCommentLink")),w&&e.push(w),e},[c,m,h,x,w,t.isCanvasMention,t.sidebarItemType,v,A,n]);return(0,o.jsx)(Q.mc,{children:b})}let eC="comments_row_presentation--button--wBibN",ew="comments_row_presentation--headerElement--FStcl",eb="comments_row_presentation--countMetadata--xGPiX";var ey=n(255111),eI=n(452),eE=n(325876),eM=n(214487),ek=n(57544),eP=n(505e3);let ej=i.memo(function(e){return(0,o.jsxs)("div",{className:"comments_row_presentation--replyAndAttachmentCount--OrlJC",children:[0!==e.replyCount&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:eb,children:(0,p.tx)("comments.reply_count",{replyCount:e.replyCount})}),0!==e.attachmentCount&&(0,o.jsx)("div",{className:"comments_row_presentation--dot--9cR30 comments_row_presentation--countMetadata--xGPiX",children:"\xb7"})]}),0!==e.attachmentCount&&(0,o.jsx)("div",{className:eb,children:(0,p.tx)("comments.attachment_count",{attachmentCount:e.attachmentCount})})]})}),eB=i.memo(function(e){return(0,o.jsxs)(o.Fragment,{children:[e.postTitle&&(0,o.jsx)("div",{className:"comments_row_presentation--postTitle--9oNMe",children:e.postTitle}),!(0,K.I)(e.messageMeta)&&(0,o.jsx)(q.HH,{className:"comments_row_presentation--commentMessage--q-YaC text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k comment_message--commentMessage--kZCzD",messageMeta:e.messageMeta,commentId:e.commentId}),(0,o.jsx)(ej,{replyCount:e.replyCount,attachmentCount:e.attachmentCount})]})}),eD=e=>e.stopPropagation(),eT=i.memo(function(e){let{copyLink:t,isPendingFromSinatra:n,optionsMenuRef:i,onDeleteThread:a,onDeleteThreadComplete:r,onDeleteThreadCancel:l,isUnavailable:d,isResolved:c,isUnread:m,onChangeResolveState:u,thread:h,isFocusedThread:f,userCanResolveThread:g,openPostDetailModal:v}=e,x=(0,s.d4)(e=>e.comments.hoveredPinIds),C=e.thread.replyCount||e.thread.comments.length-1,w=e.thread.attachments?.length||e.thread.comments.map(e=>e.attachments?.length||0).reduce((e,t)=>e+t,0)||0,b=e.avatars[0].avatar_user_handle,y=e.hideResolve||!g||n,I=h.sidebarItemType===_.kT.FEED_POST&&!(0,A.y)(),E=(0,o.jsx)(D.HG,{children:(0,o.jsx)(L.E,{"aria-label":(0,p.t)("comments.unavailable_offline"),"data-tooltip-type":W.Ib.TEXT,"data-tooltip":(0,p.t)("comments.unavailable_offline"),"data-onboarding-key":"page-unavailable-offline",children:(0,o.jsx)("span",{"aria-hidden":"true",children:(0,o.jsx)(Z.B,{svg:ey.A})})})}),M=null!=h.commentPin,{manager:k,getTriggerProps:P}=Q.b(),j=(0,o.jsxs)(Q.bL,{manager:k,children:[(0,o.jsx)(H.d,{"aria-label":(0,p.t)("comments.more_actions"),...P(),children:(0,o.jsx)(V.J,{className:k.isOpen?void 0:eC})}),(0,o.jsx)(ex,{thread:h,isUnread:e.isUnread,copyLink:t,onDeleteThread:a,onDeleteThreadComplete:r,onDeleteThreadCancel:l})]}),B=(0,o.jsx)(ei.K0,{svg:c?eM.A:eE.A,className:J()(c?"comments_row_presentation--resolvedButton--EJTu4 comments_row_presentation--button--wBibN":!M&&eC,e.isUnread?"":"comments_row_presentation--buttonRead--zeH0O"),"data-tooltip-type":W.Ib.TEXT,"data-tooltip":M?(0,p.t)("comments.pinning.cannot_resolve"):c?(0,p.t)("comments.mark_as_unresolved"):(0,p.t)("comments.mark_as_resolved"),onClick:u,onMouseDown:eD,disabled:M,children:c?(0,o.jsx)(Y.g,{}):(0,o.jsx)(z.W,{})}),T=(0,o.jsx)(ei.K0,{svg:eP.A,className:eC,"data-tooltip-type":W.Ib.TEXT,"data-tooltip":(0,p.t)("fig_feed.view_post"),onClick:v,onMouseDown:eD}),F=(0,o.jsxs)(o.Fragment,{children:[!n&&!I&&(0,o.jsx)(D.HG,{className:ew,ref:i,children:j}),e.thread.sidebarItemType===_.kT.FEED_POST&&(0,o.jsx)(D.HG,{className:ew,ref:i,children:T}),!y&&(0,o.jsx)(D.HG,{className:ew,children:B})]});return(0,o.jsx)("div",{className:J()(h.isActive?"comments_row_presentation--commentSelected--whxrP comments_row_presentation--_comment--x7j04 text--fontPos11--2LvXf text--_fontBase--QdLsd":f||k.isOpen?"comments_row_presentation--commentFocused---7hfS comments_row_presentation--_comment--x7j04 text--fontPos11--2LvXf text--_fontBase--QdLsd":"comments_row_presentation--comment--wtdS- comments_row_presentation--_comment--x7j04 text--fontPos11--2LvXf text--_fontBase--QdLsd",{"comments_row_presentation--unread--xgn7e":m,"comments_row_presentation--pinHovered--k1OJV":x.includes(h.id)}),children:(0,o.jsxs)("div",{className:"comments_row_presentation--commentInner--Eu0xM",children:[(0,o.jsx)("div",{className:"comments_row_presentation--blueDot--n7bLI",children:(0,o.jsx)(G.H,{})}),(0,o.jsxs)("span",{className:"comments_row_presentation--commentHeader---8DED",children:[e.thread.sidebarItemType===_.kT.FEED_POST&&(0,o.jsx)(Z.B,{svg:ek.A,className:"comments_row_presentation--postIcon--VsaAl"}),(0,o.jsx)(eo,{maxAvatarsShown:4,avatars:e.avatars,grayscale:!e.isUnread&&e.thread.sidebarItemType!==_.kT.LITMUS_COMMENT_THREAD}),(0,o.jsx)("div",{className:k.isOpen?"comments_row_presentation--buttonsVisible--m7qED comments_row_presentation--buttons--qc-Yn":"comments_row_presentation--buttons--qc-Yn",children:d?E:F})]}),(0,o.jsx)(er,{rootUser:b,createdAt:e.thread.comments[0].created_at,isPendingFromSinatra:n,orderId:e.orderId,parentName:e.parentName,hideParentName:e.hideParentName,thread:e.thread,hideOrphanedState:e.hideOrphanedState,metaAddon:e.metaAddon?.(e.thread)}),e.thread.sidebarItemType===_.kT.FEED_POST&&(0,o.jsxs)("div",{className:"comments_row_presentation--postThumbnailContainer--NjgZy",children:[(0,o.jsx)("img",{src:e.thread.feedPostThumbnail,alt:"placeholder",className:"comments_row_presentation--postThumbnail--SPSS3 feed_post_popover_modal--postThumbnail--jac1E",style:{backgroundColor:e.thread.feedPostThumbnailBackground,padding:e.thread.padFeedPostThumbnail?"8px":"0"}}),e.thread.feedPostNumContent>1&&(0,o.jsx)("div",{className:"comments_row_presentation--numContent--HmWiu comments_row_presentation--postThumbnailOverlay--pPIMf feed_post_popover_modal--postThumbnailOverlay--vDoKP",children:(0,o.jsx)(Z.B,{svg:eI.A,className:"comments_row_presentation--overlayIcon--91i3d"})})]}),(0,o.jsx)(eB,{commentId:e.thread.comments[0].id,messageMeta:e.thread.comments[0].message_meta,replyCount:C,attachmentCount:w,postTitle:e.thread.sidebarItemType===_.kT.FEED_POST?e.thread.feedPostTitle:void 0})]})})});var eF=n(266808),eS=n(264993),eN=n(886710),eR=n(76616),eU=n(361170),eO=n(58212),e_=n(50536),eL=n(147046),eQ=n(354114),eH=n(568590),eV=n(643077),eY=n(120074),ez=n(248043),eG=n(944350),eX=n(728977),eJ=n(301452),eK=n(198444),eZ=n(844182),eW=n(569565),eq=n(220812),e$=n(281772);function e0(e){let t=(0,s.d4)(e=>e.mirror.appModel.pagesList);return null===e.page||(0,eY.Fy)(t,e.page)===eF.xal.LOADED}let e1=i.memo(function(e){let{element:t}=e,{comments:n}=t,{getClosestThread:a,onResolveComment:r}=e.extras,l=i.useMemo(()=>{let e=new Map,t=[];return n.forEach(n=>{if(e.has(n.user.id)){let o=e.get(n.user.id);t[o].num_unread_comments+=n.isUnread?1:0,t[o].num_comments+=1}else t.push({avatar_url:n.user.img_url,avatar_user_id:n.user.id,avatar_user_handle:n.user.handle,num_unread_comments:n.isUnread?1:0,num_comments:1}),e.set(n.user.id,t.length-1)}),t},[n]),d=!!n[0].resolved_at,c=n.some(e=>e.isUnread),m=!!t.isPendingFromSinatra,u=i.useRef(null),h=i.useRef(null),g=(0,F.ZC)(t.isActive),A=i.useRef(!1),x=(0,O.iZ)(),C=(0,U.q5)(),w=(0,S.yZ)(),I=e0(t),E=i.useMemo(()=>!w&&!I,[w,I]),M=(0,y.hB)(),k=i.useMemo(()=>M(t),[M,t]),P=t.id,{isFocusedThread:j,onCanvasMentionSelect:L,onCommentFocus:Q,onCommentBlur:H,onCommentMouseEnter:V,onCommentMouseLeave:Y,onCommentSelect:z,onChangeResolveState:G,onCanvasMentionCopyLink:X,openPostDetailModal:J}=function(e,t,n){let o=(0,s.wA)(),{comments:a}=e,r=!!a[0]?.resolved_at,l=i.useRef(!1),[d,c]=i.useState(!1),m=e.id,u=!U.q5()?.canEdit,h=(0,s.d4)(e=>e.mirror.appModel.showComments),g=(0,S.yZ)(),A=e0(e),v=i.useContext(eX.kw),x=(0,eK.s)(),C=(0,ea.Kq)(e),w=(0,eH.Z)("comments_navigate"),I=!!e.isPendingFromSinatra,E=(0,eA.I_)(),M=(0,eg.fr)(),k=(0,s.Pj)(),P=(0,eZ.n0)(),j=(0,eW.VS)({pagesList:P,isComparingChanges:!1,enabled:!!e.isCanvasMention}),B=(0,eV.dh)(!!e.isCanvasMention),D=i.useCallback(()=>{let t=k.getState().openFile;if(t){let n=(0,ez.jN)({file:t,nodeId:e.nodeId,isFigJam:t.editorType===eG._Y.WHITEBOARD});o(e_.S({url:n}))}},[o,e.nodeId,k]),T=i.useCallback(()=>g||A?(o(eO.F.dequeue({matchType:"offline-comment-navigation"})),!1):(o(eO.F.enqueue({type:"offline-comment-navigation",message:(0,p.t)("comments.unavailable_offline")})),!0),[g,A,o]),F=i.useCallback(async()=>{if(!T()&&(l.current=!0,o(f.Fm({threadId:m,source:void 0})),e.nodeId||e.stablePath)){let t;let n=k.getState().mirror.sceneGraph;e.isCanvasMention&&M&&o(ep({thread:e,receiptsAPI:M}));let i=eS.x7;e.stablePath?i=`[${e.stablePath.join(",")}]`:e.nodeId&&(i=`[${e.nodeId}]`),e.isCanvasMention&&e.page&&e.page!==B&&(await j(e.page),await (0,eN.yQ)()),eF.glU?.setActiveCommentAnchorData({stablePath:i}),eF.fp8?.markMentionsAsReadFromStablePath(i),e.stablePath?t=n.getFromStablePath(e.stablePath):e.nodeId&&(t=n.get(e.nodeId)),t&&w((0,e$.e)(t,v,"canvas-mentions"),{additionalTrackEventParams:{text_node_id_path:e.nodeId,mention_id:e.uuid}})}},[T,o,m,e,k,M,w,v,j,B]),N=(0,y.Ue)(),R=i.useMemo(()=>{if(N)return N(e)},[N,e]),O=i.useCallback(()=>{if(T())return;l.current=!0,u&&!h&&eQ.Y5.triggerAction("toggle-show-comments",{source:"comment_sidebar_list"}),R&&R(),eR.sn.start("view_comment_thread");let n=v.getViewportInfo(),i={thread:e,viewport:v,config:x,navigate:w,isOrphanedComment:C};if(o(I?f.l5(i):f.bB({...i,receiptsAPI:E.commentReceipts})),!C&&!x.disableZoomViewportOnCommentSelection){let o=t(e.id);if(o){let t=eU.Mi.distance(e.canvasPosition,o?.canvasPosition),i=(0,eJ.ez)(b.i$,t,n.zoomScale);i>n.zoomScale&&(v.setZoomScale(n.zoomScale,i),v.setCanvasSpaceCenter(e.canvasPosition,n,i))}}},[E.commentReceipts,x,h,o,t,C,I,w,R,T,e,u,v]),L=i.useCallback(()=>{c(!0),o(f.NJ({threadId:m}))},[o,m]),Q=i.useCallback(()=>{requestAnimationFrame(()=>{c(!1)}),o(f.Oo({threadId:m}))},[o,m]),H=i.useCallback(()=>{o(f.NJ({threadId:m}))},[o,m]);return{isFocusedThread:d,onCanvasMentionSelect:F,onCommentFocus:L,onCommentBlur:Q,onCommentMouseEnter:H,onCommentMouseLeave:i.useCallback(()=>{l.current=!1,o(f.Oo({threadId:m}))},[o,m]),onCommentSelect:O,onChangeResolveState:i.useCallback(e=>{e.stopPropagation(),o(eL.oB()),n&&n(m,!r)},[m,o,n,r]),onCanvasMentionCopyLink:D,openPostDetailModal:i.useCallback(()=>{e.sidebarItemType===_.kT.FEED_POST&&o((0,ef.to)({type:eq.K,data:{postUuid:e.feedPostPublicUuid,inFileView:!0}}))},[o,e])}}(t,a,r),{scrollableRef:K}=e,{isActive:Z}=t;i.useEffect(()=>{A.current||!Z||g||K.current?.scrollToRow(P)},[Z,P,g,K]);let W=x?.id,q=i.useMemo(()=>!!(0,_.Vk)(t.sidebarItemType)&&(!(0,_.m)(t.sidebarItemType)||(C&&W?(0,B.To)(t,C,W):null)),[C,W,t]),$=(0,T.rf)(`comment-sidebar-comment-${t.id}`,"click",z),ee=(0,v.k)(),et=(0,R.Om)();ee&&($=()=>et("SELECT_COMMENT_SIDEBAR")),t.isCanvasMention&&($=L);let en=t.comments.length-1,eo=c?(0,p.t)("comments.aria_label_select_comment_descriptive_unread",{authorString:l[0].avatar_user_handle,contentString:(0,N.F)(t.comments[0].message_meta[0]?.t)??"",replyString:(0,p.t)("comments.reply_count",{replyCount:en})}):(0,p.t)("comments.aria_label_select_comment_descriptive",{authorString:l[0].avatar_user_handle,contentString:(0,N.F)(t.comments[0].message_meta[0]?.t)??"",replyString:(0,p.t)("comments.reply_count",{replyCount:en})}),ei=t.isCanvasMention?X:e.extras.copyLink,es=i.useCallback(()=>{requestAnimationFrame(()=>h.current?.focus())},[]),er=(0,o.jsx)(eT,{avatars:l,copyLink:ei,hideOrphanedState:e.extras.hideOrphanedState,hideParentName:e.extras.hidePageName,hideResolve:e.extras.hideResolve||!!t.isCanvasMention,isFocusedThread:j,isPendingFromSinatra:m,isResolved:d,isUnavailable:E,isUnread:c,metaAddon:e.extras.metaAddon,onChangeResolveState:G,onDeleteThread:e.extras.onDeleteThread,onDeleteThreadCancel:es,onDeleteThreadComplete:e.extras.onDeleteThreadComplete,openPostDetailModal:J,optionsMenuRef:u,orderId:t.comments[0].order_id||null,parentName:k,thread:t,userCanResolveThread:q});return(0,o.jsxs)(D.bL,{className:"comments_row_presentation--cardRoot--PjGzu",children:[(0,o.jsx)(D.O6,{ref:h,htmlAttributes:{onBlur:H,onFocus:Q,onMouseEnter:V,onMouseLeave:Y},className:"comments_row_presentation--cardButton--5hUiX",onClick:$,"aria-label":eo,"aria-expanded":t.isActive}),er]})}),e4=i.memo(function(e){let{index:t,start:n,measureRef:s}=e.virtualItem,{setSize:a}=e,r=i.useRef(t);i.useEffect(()=>{r.current=t},[t,r]);let l=i.useCallback(e=>{let t=e?.getBoundingClientRect().height;t&&a(r.current,t),s(e)},[r,s,a]);return(0,o.jsx)("div",{ref:l,style:{position:"absolute",top:n,left:0,width:"100%"},children:e.children})});function e2(e){let t=i.useRef(null),{elements:n}=e,s=(0,y.Lc)(),a=i.useRef(n);i.useEffect(()=>{a.current=n},[n]);let r=(0,P.wY)(t),{estimatedSize:l}=e,d=i.useRef(null),c=i.useRef(new Map),m=i.useCallback(e=>0===n.length?0:c.current.get(e)||l,[n,l]),u=i.useCallback((e,t)=>{c.current.set(e,t)},[]),h=(0,k.z)({size:n.length,parentRef:d,estimateSize:m,overscan:10,paddingEnd:s}),p=h.scrollToIndex,f=i.useRef({scrollToRow:t=>{p(n.findIndex(n=>n[e.elementKey]===t))}});return i.useEffect(()=>{f.current={scrollToRow:t=>{p(n.findIndex(n=>n[e.elementKey]===t))}}},[n,p,e.elementKey]),(0,o.jsx)("div",{ref:t,className:"comments_sidebar_list--container--VBa2a",children:(0,o.jsx)(j.P,{className:"comments_sidebar_list--scrollContainer--MKu6f",scrollContainerRef:d,height:r?.height||0,children:(0,o.jsx)("div",{style:{height:`${h.totalSize}px`,width:"100%",position:"relative",marginTop:"var(--spacer-1)"},children:h.virtualItems.map(t=>{let n=e.elements[t.index],i=n[e.elementKey],s=e.row;return(0,o.jsx)(e4,{virtualItem:t,setSize:u,children:(0,o.jsx)(s,{element:n,dataset:a,scrollableRef:f,extras:e.extras})},i)})})})})}let e7=i.memo(function(e){let{onResolveComment:t,hideResolve:n,copyLink:s,hidePageName:a,hideOrphanedState:r,onDeleteThread:l,onDeleteThreadComplete:d,metaAddon:c}=e,m=(0,B.$I)(e.items),u=i.useMemo(()=>({onResolveComment:t,getClosestThread:m,hideResolve:n,copyLink:s,hidePageName:a,hideOrphanedState:r,onDeleteThread:l,onDeleteThreadComplete:d,metaAddon:c}),[t,m,n,s,a,r,l,d,c]);return(0,o.jsx)(e2,{elements:e.items,elementKey:"id",row:e1,estimatedSize:133,extras:u})});var e5=n(446385),e3=n(420680),e8=n(225654),e9=n(80969),e6=n(285466),te=n(662376),tt=n(697157),tn=n(915459);let to=i.forwardRef((e,t)=>{let{searchInputRef:n,onMouseDown:s,onMouseUp:a,onClearSearchClick:r,onClearSearchKeyDown:l,onBlur:d,onSearchKeyDown:m,onSearchChange:u}=(0,tn.ne)(e,t),h=i.useCallback(e=>{e.stopPropagation(),m(e)},[m]),f=i.useCallback(e=>{"Enter"===e.key&&l(e),e.stopPropagation()},[l]);return(0,o.jsx)("div",{className:"sidebar_search--searchContainer--eU94N",children:(0,c.kc)().a11y_comments_search?(0,o.jsx)(e9.D,{ref:n,"aria-description":(0,p.t)("general.search_will_update"),"aria-label":(0,p.t)("comments.search"),disabled:e.disabled,onChange:e.onChange,onKeyDown:m,placeholder:e.placeholder||(0,p.t)("general.search"),recordingKey:e.recordingKey,spellCheck:!1,value:e.query}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e6.W,{}),(0,o.jsx)(tt.L,{ref:n,className:"sidebar_search--searchInput--ySEJ2 text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",onBlur:d,onChange:u,onKeyDown:h,onMouseDown:s,onMouseUp:a,placeholder:e.placeholder||(0,p.t)("search.sidebar_search_placeholder"),spellCheck:!1,value:e.query}),!!e.query&&(0,o.jsx)("button",{className:"sidebar_search--xIcon--1xoiw",onClick:r,onKeyDown:f,"aria-label":(0,p.t)("search.sidebar_search_clear"),children:(0,o.jsx)(te.A,{})})]})})});to.displayName="sidebarSearchBar";var ti=n(276800),ts=n(129011),ta=n(166887),tr=n(437540),tl=n(70492),td=n(432099);let tc=(0,eu.nF)((e,t)=>{let n=td.Ay.put(`/api/file/${t.key}/file_followers`,{notification_preference:t.notification_preference}).catch(t=>{let n=t.data?.message||"An error occurred while updating notification preference.";e.dispatch(ec.s.flash(n)),console.error(t)}),o=e.getState().user?.id;t.id?tl.WB()?.optimisticallyUpdate({FileFollower:{[t.id]:{notificationPreference:t.notification_preference}}},n):o&&tl.WB()?.optimisticallyCreate({FileFollower:{[`optimistic-id-${t.key}`]:{key:t.key,userId:o,notificationPreference:t.notification_preference,unreadComments:null,statusChangeNotifs:!1}}},n)});var tm=n(819851),tu=(e=>(e.ALL="all",e.PARTICIPATING="participating",e.NONE="none",e))(tu||{}),th=n(564941),tp=n(315515);function tf(){let e=(0,s.d4)(U.sS),t=(0,O.iZ)(),n=(0,eA.jp)(),a=(0,eA.I_)(),r=(0,eg.fr)(),l=(0,eA.n6)(),d=(0,tm.m0)(),c=(0,s.wA)(),m=(0,s.d4)(e=>e.mirror.appModel.showComments),u=i.useCallback(()=>{eQ.Y5.triggerAction("toggle-show-comments",{source:"comments_sidebar_setting"})},[]),h=(0,tr.R)(e=>e.mirror.appModel.keyboardShortcuts),g=(0,th.c1)(h,"toggle-show-comments"),A=(0,ta.am)();if(i.useEffect(()=>{A("Properties Panel Comments Tab Settings Opened")},[A]),!e||!t)return null;if("loaded"!==n.status)return(0,o.jsx)(Q.mc,{children:(0,o.jsx)(Q.q7,{disabled:!0,onClick:ti.lQ,children:(0,p.tx)("comments.error_loading_notification_preferences")})});let v=n?.data?.notificationPreference||tu.NONE,x=n?.data?.statusChangeNotifs??!1,C=t=>{t!==v&&(c(tc({id:n?.data?.id,key:e,notification_preference:t})),A("Comments Notification Preference Changed",{newPreference:t,fileKey:e}))},w=o=>{if(o===x)return;let i=tp.sr.updateStatusChangePreferences({fileKey:e,optIn:o}).catch(e=>{let t=e.data?.message||"An error occurred while updating status change preference.";c(ec.s.flash(t)),console.error(e)});n?.data?.id?tl.WB()?.optimisticallyUpdate({FileFollower:{[n?.data?.id]:{statusChangeNotifs:o}}},i):t?.id&&tl.WB()?.optimisticallyCreate({FileFollower:{[`optimistic-id-${e}`]:{key:e,userId:t.id,notificationPreference:null,unreadComments:null,statusChangeNotifs:o}}},i),A("Dev Mode Notification Preference Changed",{newPreference:o,fileKey:e})};return(0,o.jsxs)(Q.mc,{children:[(0,o.jsxs)(ts.H_,{checked:!m,onChange:u,children:[(0,p.tx)("comments.hide_comments"),g&&(0,o.jsx)(Q.Ov,{children:(0,o.jsx)(Q.ME,{children:(0,o.jsx)(Q.rm,{children:g})})})]},"preference"),(0,o.jsx)(Q.wv,{}),(0,o.jsxs)(ts.z6,{onChange:e=>C(e),title:(0,o.jsx)(Q.hE,{children:(0,p.tx)("comments.comment_notifications")}),value:v,children:[(0,o.jsx)(ts.CU,{value:tu.ALL,children:(0,p.tx)("comments.everything_option")},"notification-all"),(0,o.jsx)(ts.CU,{value:tu.PARTICIPATING,children:(0,p.tx)("comments.just_mentions_and_replies_option")},"notification-participating"),(0,o.jsx)(ts.CU,{value:tu.NONE,children:(0,p.tx)("comments.nothing_option")},"notification-none")]},"comment-notification-title"),d&&(0,o.jsxs)(ts.z6,{title:(0,o.jsx)(Q.hE,{children:(0,p.tx)("comments.dev_mode_notifications")}),onChange:e=>w("true"===e),value:x?"true":"false",children:[(0,o.jsx)(ts.CU,{value:"true",children:(0,p.tx)("comments.status_changes")},"notification-dm-status-changes"),(0,o.jsx)(ts.CU,{value:"false",children:(0,p.tx)("comments.nothing_option")},"notification-dm-none")]},"dev-mode-notification-title"),(0,o.jsx)(Q.q7,{onClick:()=>{let e=a.commentReceipts;e&&r&&c(f.Tb({commentReceiptsAPI:e,canvasMentionReceiptsAPI:r}))},disabled:0===l,children:(0,p.tx)("comments.mark_all_as_read")},"mark_all_read")]})}var tg=n(104725);let tA="comments_sidebar_header--headerIconButtonSel--3-zXH";function tv(e){let t=(0,s.wA)(),{getTriggerProps:n,manager:a}=Q.b(),r=(0,v.k)(),l=(0,R.Om)();(0,tg.Z)(a);let d=(0,F.ZC)(a.isOpen);return(i.useEffect(()=>{if(d!==a.isOpen){if(r)return l("SELECT_COMMENT_SIDEBAR");t(f.UU())}},[t,r,a.isOpen,d,l]),e.hideSettingsDropdown)?null:(0,o.jsxs)(Q.bL,{manager:a,children:[(0,o.jsx)(H.d,{...n(),"aria-label":(0,p.t)("comments.settings"),children:(0,o.jsx)(V.J,{className:J()(a.isOpen&&tA)})}),(0,o.jsx)(tf,{})]})}var tx=n(343167),tC=n(383262);function tw({activeFilters:e,...t}){let n=(0,s.wA)(),{getTriggerProps:a,manager:r}=Q.b(),l=(0,i.useMemo)(()=>{let t=new Set(e);return e.has(e5.mW.RESOLVED)?t.delete(e5.mW.RESOLVED):t.add(e5.mW.RESOLVED),t},[e]),d=t.filters.some(e=>l.has(e)),c="all"!==t.activeMode,m=(d||c)&&!r.isOpen,u=i.useMemo(()=>{let e=[];return t.sorts.length>0&&e.push((0,o.jsx)(ts.z6,{title:(0,o.jsx)(Q.r1,{children:(0,p.t)("comments.sort")}),onChange:t.threadManager.setSort,value:t.activeSort,children:t.sorts.map(e=>(0,o.jsx)(ts.CU,{value:e,children:(0,M.L9)(e)},`sort-option-${e}`))},"sort-group")),t.filters.length>0&&e.push((0,o.jsx)(Q.YJ,{title:(0,o.jsx)(Q.r1,{children:(0,p.t)("comments.filter")}),children:t.filters.map(e=>(0,o.jsx)(ts.H_,{checked:l.has(e),onChange:()=>t.threadManager.toggleFilter(e),disabled:M.vO[t.activeMode].includes(e),children:(0,M.T4)(e)},`filter-option-${e}`))},"filter-group")),t.modes&&t.modes.length>0&&e.push((0,o.jsx)(ts.z6,{title:(0,o.jsx)(Q.r1,{children:(0,p.t)("comments.mode")}),onChange:t.threadManager.setMode,value:t.activeMode,children:t.modes.map(e=>(0,o.jsx)(ts.CU,{value:e,children:(0,M.ek)(e)},`mode-option-${e}`))},"mode-group")),e},[t.sorts,t.filters,t.modes,t.activeSort,t.threadManager,t.activeMode,l]),h=(0,F.ZC)(r.isOpen)??!1;return i.useEffect(()=>{h!==r.isOpen&&n(f.UU())},[n,r.isOpen,h]),(0,o.jsxs)(Q.bL,{manager:r,children:[(0,o.jsx)(H.d,{...a(),"aria-label":(0,p.t)("comments.sort_filter"),children:(0,o.jsx)(Z.B,{className:J()(m?"comments_sidebar_header--sortButtonActive--sPnuw":"comments_sidebar_header--headerIconButton--JiHD6",r.isOpen&&tA),svg:m?tC.A:tx.A})}),(0,o.jsx)(Q.mc,{children:u})]})}function tb(e){let t=(0,s.wA)(),n=i.useCallback(()=>{t(f.UU()),e.threadManager.setQuery("")},[t,e.threadManager]),a=i.useCallback(n=>{t(f.UU()),e.threadManager.setQuery(n)},[t,e.threadManager]);return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:e.stackHeader?"comments_sidebar_header--sidebarHeaderStacked--qkQGM comments_sidebar_header--sidebarHeader--BwT0H text--fontPos11--2LvXf text--_fontBase--QdLsd":"comments_sidebar_header--sidebarHeader--BwT0H text--fontPos11--2LvXf text--_fontBase--QdLsd",children:[(0,o.jsx)(to,{focusOnMount:!1,query:e.activeQuery||"",clearSearch:n,onChange:a}),(0,o.jsxs)("div",{className:"comments_sidebar_header--sidebarHeaderButtons--XMkx3",children:[(0,o.jsx)(tw,{activeFilters:e.activeFilters,activeMode:e.activeMode,activeSort:e.activeSort,filters:e.filters,modes:e.modes,sorts:e.sorts,threadManager:e.threadManager}),(0,o.jsx)(tv,{hideSettingsDropdown:e.hideSettingsDropdown}),e.onCloseButton&&(0,o.jsx)(e3.K,{"aria-label":(0,p.t)("common.close"),onClick:e.onCloseButton,recordingKey:"threadHeader",children:(0,o.jsx)(e8.X,{})})]})]})})}var ty=n(890611);function tI(e){return(0,o.jsx)("div",{className:"empty_state_message_view--emptyStateWrapper--QSOXE",children:(0,o.jsxs)("div",{className:"empty_state_message_view--emptyStateInner--XVxQ0",children:[(0,o.jsx)(Z.B,{className:"empty_state_message_view--commentTool--lg4bm",svg:ty.A}),(0,o.jsx)("div",{className:"empty_state_message_view--emptyStateMessage--3q4Qh",children:e.message})]})})}function tE(e){return e.hasActiveQuery?(0,o.jsx)(tI,{message:(0,c.kc)().a11y_comments_search?(0,o.jsx)(r.T,{role:"alert",children:(0,p.tx)("comments.no_comments_matched_your_search")}):(0,p.tx)("comments.no_comments_matched_your_search")}):({filters:e.filters}).filters.has("yours")?(0,o.jsx)(tI,{message:(0,p.tx)("comments.when_you_leave_a_comment_or_get_mentioned_in_one_it_ll_show_up_here")}):(0,o.jsx)(tI,{message:(0,p.tx)("comments.give_feedback_ask_a_question_or_just_leave_a_note_of_appreciation_click_anywhere_in_the_file_to_leave_a_comment")})}function tM({loadedSidebarItems:e,...t}){let n=(0,C.dH)(),{activeQuery:s,activeFilters:a}=i.useContext(M.hh),r=!s||s&&!e.length,l=e.length,d=(0,x.q)(),c=(0,v.k)();return(0,g.T8)((0,o.jsxs)(o.Fragment,{children:[d&&(0,o.jsx)(E.Mw,{panelName:E.ON.COMMENTS}),r&&!l&&!c&&(0,o.jsx)(tE,{hasActiveQuery:!!s,filters:a,empty:!e.length}),(0,o.jsx)(e7,{items:e,onResolveComment:t.onResolveComment,hideResolve:t.hideResolve,copyLink:t.copyLink,onDeleteThread:t.onDeleteThread,onDeleteThreadComplete:t.onDeleteThreadComplete,hidePageName:t.hidePageName,hideOrphanedState:t.hideOrphanedState})]}),w.e0.COMMENTS_TOOL,{currentTool:n})}let tk=[e5.hJ.COMMENTS_ONLY,e5.hJ.POSTS_ONLY];function tP(e){return(0,o.jsx)(m.u,{label:"CommentsSidebarPanel",children:(0,o.jsx)(tj,{...e})})}function tj(e){let t=(0,s.wA)(),{activeQuery:n,activeSort:r,activeMode:c,activeFilters:m,filteredSidebarItems:g,threadManager:v}=i.useContext(M.hh),x=(0,y.Qj)(),C=(0,y.Yo)(),w=(0,y.lM)(),E=i.useMemo(()=>e.sorts&&Array.from(e.sorts)||x,[e.sorts,x]),k=i.useMemo(()=>e.filters&&Array.from(e.filters)||C,[e.filters,C]),P=i.useMemo(()=>(0,A.y)()&&!w?tk:void 0,[w]),j=i.useMemo(()=>"loaded"===g.status&&g.data||[],[g]),B=i.useRef(j);i.useEffect(()=>{B.current=j},[j,B]);let D=i.useCallback((e,n)=>{let o=B.current.find(t=>t.id===e);o&&t(f.hx({thread:o,resolved:n}));let i=(0,M.oS)(m,e5.mW.RESOLVED);n&&!i&&S.current?.focus()},[B,t,m]),T=i.useCallback(e=>{(0,a.B1)(e.comments[0],"thread.comments[0] is null"),t(f.Mv({comment:e.comments[0]}))},[t]),F=i.useCallback(()=>{requestAnimationFrame(()=>S.current?.focus())},[]),S=i.useRef(null),N=e.isShown??!0;i.useEffect(()=>{if(!N)return;let e=S.current;if(!e)return;let t=()=>(e?.focus(),document.activeElement===e);requestAnimationFrame(()=>{t()||setTimeout(t,100)})},[N]);let{disableSidebar:R}=(0,b.Z5)(),U=i.useCallback(()=>{(0,b.uw)({disableSidebar:!1})},[]),O=(0,I.v)(),_=e.copyLinkOverride??O,L=(0,l.U1)(S);return R?(0,o.jsxs)("div",{className:h.s.flex.flexColumn.justifyStart.alignCenter.m8.mt18.$,children:[(0,p.tx)("comments.you_have_disabled_the_comments_sidebar_via_the_debug_menu"),(0,o.jsx)("div",{className:h.s.flex.flexRow.justifyCenter.alignCenter.$,children:(0,o.jsx)("button",{className:h.s.p10.w100.m8.$,style:{backgroundColor:"green",color:"white"},onClick:U,children:(0,p.tx)("comments.re_enable")})})]}):(0,o.jsxs)(d.b,{"aria-label":(0,p.t)("fullscreen.accessibility.comments_sidebar"),className:"comments_sidebar--container--g86FO","data-comments-sidebar":!0,"data-fullscreen-intercept":!0,ref:L,children:[(0,o.jsx)(tb,{activeFilters:m,activeMode:c,activeQuery:n,activeSort:r,filters:k,hideSettingsDropdown:e.hideSettingsDropdown,modes:P,onCloseButton:e.onCloseButton,sorts:E,stackHeader:e.stackHeader,threadManager:v}),(0,o.jsx)(u.x,{className:"comments_sidebar--loading--7fXvY",isLoading:"loading"===g.status,children:()=>(0,o.jsx)(tM,{hidePageName:e.hidePageName,hideOrphanedState:e.hideOrphanedState,onResolveComment:D,copyLink:_,onDeleteThread:T,onDeleteThreadComplete:F,hideResolve:e.hideResolve,loadedSidebarItems:j})})]})}},219910:(e,t,n)=>{n.d(t,{$2:()=>oc,To:()=>or,$I:()=>oa});var o=n(104076),i=n(716976),s=n(903927),a=n(638004),r=n(812714),l=n(795033),d=n(166887),c=n(361170),m=n(1188),u=n(967782),h=n(693035),p=n(228227),f=n(814082),g=n(850701),A=n(646767),v=n(229150),x=n(74620),C=n(120074),w=n(521255),b=n(743484),y=n(211862),I=n(458325),E=n(592726),M=n(209740),k=n(728977),P=n(977899),j=n(299117),B=n(301452),D=n(198444),T=n(873289),F=n(266808),S=n(851824),N=n(147046),R=n(278491),U=n(551037),O=n(692042),_=n(331497),L=n(469756),Q=n(681947),H=n(88819),V=n(531034),Y=n(766812),z=n(621087),G=n(483824),X=n(754245),J=n(511570),K=n.n(J),Z=n(328341),W=n(755444),q=n(957501),$=n.n(q);class ee{constructor(e,t,n,o){if(e.pins.length>1&&(this.showClusterCount=!0),!n)return;let i=ei(e,n);if(!i){o||1!==e.pins.length||e.pins[0].isOurs||(this.expandPin=!0);return}let s=i.pins.length>1&&e.pins.length>1?eo(i,t):en(i,t);this.initialPosition=s}}class et{constructor(e,t,n){let o=n.pins.length>1&&e.pins.length>1?eo(n,t):en(n,t);this.finalPosition=o}}let en=(e,t)=>({x:e.x+e.x*(t-1),y:e.y+e.y*(t-1)}),eo=(e,t)=>({x:e.x+e.x*(t-1)-32,y:e.y+e.y*(t-1)-32}),ei=(e,t)=>{if(1===e.pins.length)return t.getParentOf(e.id);let n=t.getParentOf(e.pins[0].id)||null,o=n?new Set(n.pins.map(e=>e.id)):new Set;return e.pins.every(e=>o.has(e.id))||(n=null),n};var es=n(944338),ea=n(194423),er=n(826160),el=n(25080),ed=n(742521),ec=n(652648),em=n(535008);let eu=ed.ay-1,eh=i.memo(function({avatar:e,isInCluster:t,isGhost:n,initiallyHidden:s}){let{src:a,fallbackStyle:r}=(0,i.useMemo)(()=>{let t=(0,er.Sw)(e.avatar_url);if(t)return{src:t};let n=(0,el.$L)(e.avatar_user_id,el.us),o=(0,el.Xx)(n);return{src:t,fallbackStyle:{backgroundColor:n,color:o}}},[e.avatar_url,e.avatar_user_id]),l=e.avatar_user_handle[0];return(0,o.jsx)("div",{className:K()(em.H,{[ec.my]:t,[ec.v2]:n,[em.K_]:t}),children:a?(0,o.jsx)("img",{src:a,className:K()(em.my,!1===s?em.el:null),draggable:!1,alt:l}):(0,o.jsx)("span",{className:K()(em.e7,!1===s?em.el:null),style:r,children:l})})}),ep=i.memo(function({avatars:e,initiallyHidden:t}){let n=e.slice(0,eu),i=e.slice(eu+1),s=e[eu];return(0,o.jsx)("div",{className:em.dQ,children:(0,o.jsxs)("div",{className:em.u_,children:[i.length?(0,o.jsx)("div",{className:em.Ws,children:i.reverse().map(e=>(0,o.jsx)(eh,{avatar:e,initiallyHidden:t},e.avatar_user_id))}):null,s?(0,o.jsx)("div",{className:em.OF,children:(0,o.jsx)(eh,{avatar:s,initiallyHidden:t})}):null,n.length?(0,o.jsx)("div",{className:em.q_,children:n.reverse().map(e=>(0,o.jsx)(eh,{avatar:e,initiallyHidden:t},e.avatar_user_id))}):null]})})});function ef(e,t,n,o=!1){if(!t||!(0,es.x)())return Promise.resolve();let i=`translate3d(${t.x}px, ${t.y}px, 0px) scale(0.2)`;return new Promise((t,s)=>{let a=e.animate([{offset:n,transform:i}],{duration:200});a.onfinish=()=>{o&&(e.style.opacity="0"),t()},a.oncancel=()=>{s()}})}let eg=i.memo(function({cluster:e,selectedState:t,zoomScale:n,animationInfo:s}){let a=(0,i.useMemo)(()=>[...e.avatarMap.values()].sort((e,t)=>e.num_unread_comments>0&&t.num_unread_comments>0?e.num_comments>t.num_comments?-1:1:e.num_unread_comments>0?-1:t.num_unread_comments>0?1:e.num_comments>t.num_comments?-1:1).slice(0,5),[e.avatarMap]),r=1===a.length?a[0]:void 0,l=function(e,t){let n=(t-1)*e.x-32,o=(t-1)*e.y-32;return{x:e.x+n,y:e.y+o}}(e,n),d=(0,i.useRef)(null),c=(0,i.useRef)(null);return(0,i.useEffect)(()=>{if(d.current){if(s instanceof ee){let{initialPosition:t,showClusterCount:n}=s;if(d.current.style.opacity="1.0",n&&c.current){var e;(e=c.current)?(e.style.transition="none",e.style.opacity="1",(0,ea.G)(e,[],{duration:1e3}).then(()=>{e.style.removeProperty("opacity"),e.style.removeProperty("transition")})):Promise.resolve()}t&&ef(d.current,t,0,!1)}else if(s instanceof et){let{finalPosition:e}=s;ef(d.current,e,1,!0)}}},[s]),(0,o.jsx)("div",{ref:d,"data-testid":"figma-comment-cluster",role:"button",tabIndex:0,className:K()(ec.Di,{[ec.gy]:e.isUnread,[ec.rX]:t===H.LX.DIMMED}),style:{willChange:"transform",transform:`translate3d(${l.x}px, ${l.y}px, 0px) scale(var(--scale))`,opacity:s instanceof ee?0:1,zIndex:s instanceof et?-1:0},onClick:e.onClick,children:(0,o.jsxs)("div",{className:ec.IS,"data-testid":"avatar-cluster",children:[(0,o.jsxs)("div",{className:ec.u_,children:[r?(0,o.jsx)(eh,{avatar:r,isInCluster:!0,isGhost:!0}):null,a.map(e=>(0,o.jsx)(eh,{avatar:e,isInCluster:!0},e.avatar_user_id))]}),(0,o.jsx)("div",{ref:c,className:ec.A3,"display-thread-count":e.pins.length})]})})});var eA=n(78468),ev=n.n(eA),ex=n(76616),eC=n(466890),ew=n(641518),eb=n(115989),ey=n(192075),eI=n(354114);let eE=i.memo(function({absoluteBounds:e}){let{width:t,height:n,x:i,y:s}=e;return(0,o.jsx)("div",{className:"selection_box--selectionBox--FNRhk","data-testid":"figma-comment-selection-box",style:{width:t,height:n,left:i,top:s}})}),eM=e=>e.ctrlKey||e.altKey||e.shiftKey||e.metaKey;function ek(e,t){let n=(t-1)*e.x,o=(t-1)*e.y;return{x:e.x+n,y:e.y+o}}function eP(e,t,n,o=!1){if(!t||!(0,es.x)())return Promise.resolve();let i=`translate3d(${t.x}px, ${t.y}px, 0px) scale(0.2)`;return new Promise((t,s)=>{let a=e.animate([{offset:n,transform:i}],{duration:200});a.onfinish=()=>{o&&(e.style.opacity="0"),t()},a.oncancel=()=>{s()}})}let ej=i.memo(function({pin:e}){let t=(0,i.useMemo)(()=>ev().sanitize((0,eC.sP)(e.previewMessageMeta),{ALLOWED_TAGS:["img","span"],ALLOWED_ATTR:["src","class"],ALLOWED_URI_REGEXP:new RegExp((0,W.CZ)("emoji/*"))}),[e.previewMessageMeta]),n=(0,i.useMemo)(()=>{let t=e.avatars.reduce((e,t)=>e+t.num_comments,0)-1,n=e.numAttachments,o=!!e.numUnreadReplies&&e.numUnreadReplies!==t,i=t?(0,ey.t)("comments.preview_reply_count",{replyCount:o?e.numUnreadReplies:t,new:o?"true":"false"}):"",s=n?(0,ey.t)("comments.attachment_count",{attachmentCount:n}):"",a="";return""!==i?a=""!==s?`${i} \xb7 ${s}`:i:""!==s&&(a=s),a},[e.avatars,e.numUnreadReplies,e.numAttachments]),s=(0,i.useMemo)(()=>(0,eb.JD)(e.createdAt,"short"),[e.createdAt]);return(0,o.jsxs)("div",{className:em.$N,children:[(0,o.jsxs)("div",{className:em.Ud,children:[(0,o.jsx)("div",{className:em.T7,dir:"auto",children:e.avatars[0].avatar_user_handle}),(0,o.jsx)("div",{className:em.Zr,children:s})]}),(0,o.jsx)("div",{className:em.se,dir:"auto",children:t}),(0,o.jsx)("span",{className:em.V_,children:n})]})});function eB(){return(0,o.jsx)("div",{className:em.S})}let eD=i.memo(function({pin:e}){let{selectionBoxAnchor:t}=e,n=(0,O.Pl)({subscribeToUpdates_expensive:!!t});if(!t)return null;let i=ek(e,n),s=function(e,t,n){let o=ek(n,t),i=Math.min(e.x,o.x),s=Math.min(e.y,o.y);return{width:Math.max(e.x-i,o.x-i),height:Math.max(e.y-s,o.y-s),x:i,y:s}}(i,n,t);if(!s)return null;let a={x:s.x-i.x,y:s.y-i.y,width:s.width,height:s.height};return(0,o.jsx)(eE,{absoluteBounds:a})}),eT=i.memo(function({pin:e,selectedState:t,onPinClicked:n,onDragEnd:s,onDragUpdate:a,onDragStart:r,onContextMenu:l,animationInfo:d,recordingKey:m,avatarInitiallyHidden:u}){let h=(0,i.useRef)(null),[p,f]=(0,i.useState)(!1),[g,A]=(0,i.useState)(!1),v=ew.rf(m,"click",i.useCallback(()=>{ex.sn.start("view_comment_thread"),n(e.id)},[n,e.id])),{onPointerDown:x,dragOffset:C}=function({ref:e,canDrag:t,onDragStart:n,onDragEnd:o,onDragUpdate:s,onClick:a}){let[r,l]=(0,i.useState)("idle"),[d,m]=(0,i.useState)(!1),[u,h]=(0,i.useState)(null),[p,f]=(0,i.useState)({x:0,y:0}),g=(0,i.useCallback)(t=>{0!==t.button||eM(t)||"idle"!==r||(e.current?.setPointerCapture(t.pointerId),t.stopPropagation(),h({x:t.clientX,y:t.clientY}),l("ready"),m(!1))},[r,e]),A=(0,i.useCallback)(e=>{if(m(!0),"idle"===r||!u||!t)return;let o={x:e.clientX,y:e.clientY},i=c.Mi.subtract(u,o);f(i),"ready"===r?(l("dragging"),n(i)):s(i)},[r,n,s,u,t]),v=(0,i.useCallback)(t=>{"dragging"===r?(e.current?.releasePointerCapture(t.pointerId),t.stopPropagation(),o(p),f({x:0,y:0})):d||a(),l("idle")},[e,r,p,o,a,d]);return(0,i.useEffect)(()=>("idle"!==r&&(document.addEventListener("pointermove",A),document.addEventListener("pointerup",v)),()=>{document.removeEventListener("pointermove",A),document.removeEventListener("pointerup",v)}),[A,v,r]),(0,i.useMemo)(()=>({onPointerDown:g,dragOffset:p}),[g,p])}((0,i.useMemo)(()=>({ref:h,canDrag:e.isDraggable,onDragStart:t=>r({id:e.id,offset:t}),onDragEnd:t=>s({id:e.id,offset:t}),onDragUpdate:t=>a({id:e.id,offset:t}),onClick:v}),[e,r,s,a,v]));(0,i.useEffect)(()=>{let t;return e.pending?t=setTimeout(()=>{A(!0)},500):A(!1),()=>{t&&clearTimeout(t)}},[e.pending]),(0,i.useEffect)(()=>{if(h.current){if(d instanceof ee){let{initialPosition:t,expandPin:n}=d;if(t)h.current.style.opacity="1.0",eP(h.current,t,0,!1);else if(n){var e;f(!0),((e=h.current)?(requestAnimationFrame(()=>{e.style.setProperty("--expandAnimationTime","0.4s"),e.classList.add(em.sz)}),(0,ea.G)(e,[],{duration:400,endDelay:3500}).then(()=>{e.classList.remove(em.sz),e.style.removeProperty("--expandAnimationTime")})):Promise.resolve()).then(()=>{f(!1)})}}else if(d instanceof et){let{finalPosition:e}=d;eP(h.current,e,1,!0)}}},[d]);let w=ew.BV(m,"pointerover",()=>{f(!0)});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{"data-testid":`figma-comment-pin-${e.id}`,role:"button",tabIndex:0,className:K()(em.ij,em.C_,{[em.wH]:t===H.LX.ACTIVE,[em.rX]:t===H.LX.DIMMED,[em.Fm]:e.pending||t===H.LX.ACTIVE,[em.gy]:e.isUnread}),style:{opacity:d instanceof ee&&d.initialPosition?0:1,zIndex:d instanceof et?-1:void 0,transform:0!==C.x||0!==C.y?`translate3d(${-C.x}px, ${-C.y}px, 0px)`:void 0},onPointerDown:x,onContextMenu:t=>l(e.id,{x:e.x,y:e.y,width:23*Math.min(e.avatars.length,2)+32,height:-32},t.nativeEvent),onPointerOver:w,onPointerOut:()=>{f(!1)},children:(0,o.jsxs)("div",{className:K()(em.kW,{[em.tu]:e.avatars.length>1}),children:[g?(0,o.jsx)(eB,{}):(0,o.jsx)(ep,{avatars:e.avatars,initiallyHidden:u}),p&&(0,o.jsx)(ej,{pin:e})]})}),e.selectionBoxAnchor&&p&&(0,o.jsx)(eD,{pin:e})]})}),eF=i.memo(function({x:e,y:t,children:n}){let s=(0,i.useRef)(null),a=i.useContext(k.kw),r=i.useCallback(function(n){let o=s.current;if(o){let i=ek({x:e,y:t},n.zoomScale);o.style.transform=`translate3d(${i.x}px, ${i.y}px, 0px)`}},[e,t]);return(0,i.useLayoutEffect)(()=>(r(a.getViewportInfo()),eI.Y5&&eI.Y5.viewport.on("onSetViewport",r),()=>{eI.Y5&&eI.Y5.viewport.removeListener("onSetViewport",r)}),[r,a]),(0,o.jsx)("div",{style:{willChange:"transform"},ref:s,children:n})}),eS=i.memo(function({pin:e,selectedState:t,onPinClicked:n,onDragEnd:i,onDragUpdate:s,onDragStart:a,onContextMenu:r,animationInfo:l,recordingKey:d,avatarInitiallyHidden:c}){return(0,o.jsx)(eF,{x:e.x,y:e.y,children:(0,o.jsx)(eT,{animationInfo:l,avatarInitiallyHidden:c,onContextMenu:r,onDragEnd:i,onDragStart:a,onDragUpdate:s,onPinClicked:n,pin:e,recordingKey:d,selectedState:t})})});function eN(e){let{children:t}=e,n=(0,i.useRef)(null),[s,a]=(0,i.useState)(null);return(0,i.useEffect)(()=>{if(n.current){let e=n.current.attachShadow({mode:"open"}),t=document.createElement("style");t.nonce=(0,W.Ay)().csp_nonce,t.textContent=["/** @postcss-export-raw */\n.selection_box--selectionBox--FNRhk {\n  position: absolute;\n  box-sizing: border-box;\n  border: dashed 2px var(--color-border-selected);\n  pointer-events: none;\n}\n","/** @postcss-export-raw */\n",ec.Nz,em.Nz].join("\n"),e.append(t),a(e)}},[]),(0,o.jsx)("div",{ref:n,"data-testid":"pin-renderer-shadow-dom-container",children:s&&(0,X.createPortal)(t,s)})}function eR({selectedPinId:e,dimUnselectedPins:t,emphasizedPinIds:n,clusteredThreads:s,clientConfig:a,shouldDisablePointerEvents:r,haveCommentsToShow:l,onPinClicked:d,onDragEnd:m,onDragUpdate:u,onDragStart:h,onContextMenu:p,disableFilteringPinsOnViewportChanges:f}){let g=(0,i.useContext)(k.kw),A=(0,O._X)({subscribeToUpdates_expensive:l}),v=(0,i.useMemo)(()=>g.getCommentsWrapperOffset(A),[g,A]),[x,C]=(0,i.useState)(A);A===x||f||C(A);let w=(0,Z.ZC)(s),b=(0,i.useMemo)(()=>(function(e,t){let n=e.all();if(!t||0===t.all().length)return n.map(n=>n.pins.length>1?{cluster:n,animationInfo:new ee(n,e.zoomScale,t,e.applyInstant)}:{cluster:n,animationInfo:{}});let o=n.reduce((e,t)=>(e.set(t.id,t),e),new Map),i=t.all(),s=i.reduce((e,t)=>(e.set(t.id,t),e),new Map),a=n.map(n=>{let o=s.get(n.id);return o?((0,H.xN)(n,o),{cluster:n,animationInfo:{}}):{cluster:n,animationInfo:new ee(n,e.zoomScale,t,e.applyInstant)}}),r=i.filter(e=>!o.has(e.id)),l=$()(r,t=>{let n=ei(t,e);return n?[{cluster:t,animationInfo:new et(t,e.zoomScale,n)}]:[]});return l.length>100?a:l.concat(a)})(s,w),[s,w]),y=(0,i.useMemo)(()=>{let e=function(e,t){let n=(0,O.qc)(t),o=(0,O.kE)(78,t.zoomScale),i=(0,c.UI)(n,o);return e.filter(({cluster:e})=>!(e.x<i.x)&&!(e.x>i.x+i.width)&&!(e.y<i.y)&&!(e.y>i.y+i.height))}(b,x);return e.sort((e,t)=>e.cluster.id<t.cluster.id?-1:1),e},[b,x]),I=(0-A.offsetX)*A.zoomScale+v.x,E=(0-A.offsetY)*A.zoomScale+v.y,M={top:`${A.y+A.height/2}px`,left:`${A.x+A.width/2}px`,transform:`translate(${I}px, ${E}px)`};return(0,o.jsx)("div",{className:K()({"pin_renderer--overlay--oZ6wJ":!0,"pin_renderer--overlayPassthrough--IK1LV":A.isPanning||A.isZooming||r}),style:M,"data-testid":"clustered-comments-wrapper","aria-hidden":"true",children:(0,o.jsx)(eN,{children:(0,o.jsx)(o.Fragment,{children:y.map(({cluster:n,animationInfo:s})=>{let a;return a=e?n.pins.find(t=>t.id===e)?H.LX.ACTIVE:H.LX.DIMMED:n.pins.every(e=>e.isResolved)?H.LX.DIMMED:t?H.LX.DIMMED:H.LX.NORMAL,(0,o.jsx)(i.Fragment,{children:1===n.pins.length?(0,o.jsx)(eS,{pin:n.pins[0],recordingKey:`commentPin.${n.pins[0].id}`,selectedState:a,onPinClicked:d,onDragEnd:m,onDragUpdate:u,onDragStart:h,onContextMenu:p,animationInfo:s}):(0,o.jsx)(eg,{cluster:n,selectedState:a,zoomScale:A.zoomScale,animationInfo:s})},n.id)})})})})}var eU=(e=>(e[e.Gradual=0]="Gradual",e[e.Jump=1]="Jump",e))(eU||{});let eO=[F.NLJ.COMMENTS,F.NLJ.SELECT,F.NLJ.SCALE,F.NLJ.HAND,F.NLJ.TYPE],e_=(e,t,n,o)=>{let{threads:i}=e,s=i.map(e=>n(e)),a=i.map(e=>{let t=e.comments[0].client_meta;return t?.in_frame?t.node_id:void 0}),r=new Map;for(let e of s)for(let t of e.avatars)r.has(t.avatar_user_id)?(r.get(t.avatar_user_id).num_unread_comments+=t.num_unread_comments,r.get(t.avatar_user_id).num_comments+=t.num_comments):r.set(t.avatar_user_id,t);return{id:1===i.length?i[0].id:(0,H.Ao)(e,i.length),x:e.x,y:e.y,pins:s,isUnread:s.some(e=>e.isUnread),avatarMap:r,onClick:o(e,s),anchoredNode:a.every(e=>e===a[0])?a[0]:void 0,isPinnedToFile:s.some(e=>e.isPinnedToFile),isSinglePin:1===i.length,cluster:e,onKeyDown:()=>{}}};function eL(e){return{width:23*Math.min(e-1,2)+32,height:32}}let eQ=i.memo(function(e){let t=!!e.activeThread||e.threads.length>0,n=(0,E.iZ)(),a=(0,D.s)(),r=(0,Q.Z5)(),m=(0,s.wA)(),u=i.useContext(k.kw),h=(0,s.d4)(e=>e.mirror.appModel.currentTool),p=(0,_.ut)(F.Ez5?.editorState().handToolTemporarilyEnabled,!1),g=(0,l.md)(z.R),A=(0,w.BI)(),v=(0,s.d4)(e=>![F.m1T.DESIGN_LAYOUT,F.m1T.WHITEBOARD_LAYOUT,F.m1T.HISTORY,F.m1T.PREVIEW,F.m1T.COMMENTS,F.m1T.DEV_HANDOFF,F.m1T.SITES_LAYOUT].includes(e.mirror.appModel.activeCanvasEditModeType)||e.mirror.appModel.activeUserAction!==F.QOV.DEFAULT)&&(!A||A?.shouldOptimizeForIpadApp&&A?.shouldFadeCommentsDuringEdit),x=e.activeThread?.id===P.hm,C=x?null:e.activeThread?.id||null,b=(0,s.d4)(e=>e.comments.emphasizedPinIds),{zoomScale:y,deltaOffsetX:I,deltaOffsetY:M,deltaZoomScale:j}=(0,O.PD)({subscribeToUpdates_expensive:t}),{requestToDeselectCommentPin:T}=e,[X,J]=i.useState({viewport:u.getViewportInfo(),hasJumped:!1}),K=y<X.viewport.zoomScale,Z=i.useRef(e.threads);i.useEffect(()=>{Z.current=e.threads},[e.threads]);let W=i.useCallback(e=>Z.current?.find(t=>t.id===e)||null,[Z]),q=(0,s.d4)(e=>e.mirror.appModel.activeUserAction),$=e.dragDisabledOverride||!eO.includes(h),ee=(0,V.BK)(W,e.pageId,e.setClientMeta,$,e.requestToSelectCommentPin,g),et=(0,V.x5)($),en=i.useMemo(()=>new Set(e.threads.filter(e=>et(e)).map(e=>e.id)),[et,e.threads]),eo=i.useCallback(e=>{m(f.wg({threadId:e}));let t=W(e);t&&u.setHovering(t.canvasPosition)},[u,m,W]),ei=i.useCallback(e=>{m(f.RP({threadId:e})),u.setHovering(null)},[u,m]),es=(0,d.am)(),ea=i.useCallback((e,t)=>()=>{es("Comment Cluster Clicked",{clusterSize:t.length,commentThreadIds:t.map(e=>e.id)});let n=(0,B.xw)({config:r,clusterLocation:e,pins:t,currentViewport:u.getViewportInfo()});u.navigateTo(e,n),T&&T()},[r,u,es,T]),er=i.useCallback((e,t,n)=>{n.preventDefault(),n.stopPropagation();let o=W(e);if(!o)return;let i=u.getViewportInfo(),s=(0,O.Z0)(i,t),a={x:s.x+t.height/2,y:s.y-t.width/2,height:0,width:0},r=(0,O.HD)(a,i);m(N.j7({type:R.Z7,data:{thread:o,pinClientRect:r}}))},[m,u,W]),el=i.useCallback(e=>{let t=(0,H.c4)(e.comments),o=e.comments.slice(1).reduce((e,t)=>t.isUnread?e+1:e,0),i=e.comments[0].client_meta?.selection_box_anchor;if(i&&e.comments[0].client_meta?.in_frame){let t=e.comments[0].client_meta,n=c.Mi.subtract(i,t);i=c.Mi.add(e.canvasPosition,n)}let s=!!e.isPendingFromSinatra;return{id:e.id,x:e.canvasPosition.x,y:e.canvasPosition.y,isOurs:e.comments[0].user_id===n?.id,pending:s,avatars:t,createdAt:new Date(Date.parse(e.comments[0].created_at)),onMouseEnter:()=>eo(e.id),onMouseLeave:()=>ei(e.id),previewMessageMeta:e.comments[0].message_meta,isUnread:e.comments[0].isUnread||o>0,numUnreadReplies:o,isDraggable:en.has(e.id)&&!s,isResolved:!!e.comments[0].resolved_at,label:e.comments[0].order_id||"",updatedAt:e.comments[e.comments.length-1].created_at,selectionBoxAnchor:i,type:P.kT.COMMENT_THREAD,numAttachments:e.comments.map(e=>e.attachments?.length||0).reduce((e,t)=>e+t,0),isPinnedToFile:!!e.commentPin}},[n,en,eo,ei]),ed=i.useMemo(()=>e.threads.reduce((e,t)=>{let{canvasPosition:n}=t;return n&&e.push({...t,canvasPosition:n}),e},[]),[e.threads]),ec=i.useCallback(e=>{J({viewport:u.getViewportInfo(),hasJumped:1===e})},[u]),em=(0,S.A)(ec,r.rebuildClustersZoomDelay),eu=i.useMemo(()=>{let e=new Set(ed.map(e=>e.id)),t=X.viewport,n=(0,G.g)(ed,t,r,null).map(e=>e_(e,t,el,ea)),o=new L.n(n,e,t.zoomScale);return o.applyInstant=X.hasJumped,o},[ed,X.viewport,X.hasJumped,r,el,ea]);i.useEffect(()=>{if(y===X.viewport.zoomScale)return;let{width:e,height:t}=u.getViewportInfo();Math.abs(j)/y>.45||Math.abs(I)/e>.95||Math.abs(M)/t>.95?ec(1):em(0)},[u,j,I,M,r.rebuildClustersZoomDelay,X.viewport,y,em,ec]);let eh=!!e.activeThread,ep=e.activeThread?(0,H.c4)(e.activeThread.comments).length:1,{setActivePinSize:ef}=e;i.useEffect(()=>{if(!eh){ef(null);return}if(x){let e=eL(1);ef({height:e.height,width:e.width});return}ef({width:eL(ep).width,height:0})},[ef,eh,x,ep]);let eg=(0,U.k)();return(0,o.jsx)(Y.p,{children:(0,o.jsx)(eR,{clientConfig:a,clusteredThreads:eu,dimUnselectedPins:!!v,disableFilteringPinsOnViewportChanges:K,emphasizedPinIds:b,haveCommentsToShow:t,onContextMenu:er,onDragEnd:ee.onDragEnd,onDragStart:ee.onDragStart,onDragUpdate:ee.onDragUpdate,onPinClicked:ee.onPinClicked,selectedPinId:C,shouldDisablePointerEvents:!eg&&a?.disableCommentsWhenHandToolEnabled&&h===F.NLJ.HAND||p||void 0!==q&&q!==F.QOV.DEFAULT})})}),eH=i.memo(function(e){return(0,o.jsx)(eQ,{activeThread:e.activeThread,dragDisabledOverride:e.dragDisabledOverride,isCommunity:e.isCommunity,pageId:e.pageId,requestToDeselectCommentPin:e.requestToDeselectCommentPin,requestToSelectCommentPin:e.requestToSelectCommentPin,setActivePinSize:e.setActivePinSize,setClientMeta:e.setClientMeta,threads:e.threads,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition},e.pageId)});var eV=n(443940),eY=n(921996),ez=n(449572),eG=n(140490),eX=n(30899),eJ=n(252112),eK=n(76404),eZ=n(657878),eW=n(615782),eq=n(59849),e$=n(928162),e0=n(951002),e1=n(88314),e4=n(171704),e2=n(419822),e7=n(883765),e5=n(983500),e3=n(653899),e8=n(316862),e9=n(72138),e6=n(366535),te=n(208045),tt=n(657687),tn=n(662771),to=n(222195),ti=n(406954),ts=n(968169),ta=n(894210),tr=n(580868),tl=n(434155),td=n(902141),tc=n(455401),tm=n(899103),tu=n(928693),th=n(687253),tp=n(841986),tf=n(774583),tg=n(87535),tA=n(210793),tv=n(643330),tx=n(686549),tC=n(175100);function tw(e){let{editorRef:t,container:n,initialLocation:s,closeEditor:a}=e,[r,l]=i.useState(null),d=i.useCallback(e=>{l(e.target.value.trim())},[]),m=i.useCallback(()=>(a(),!0),[a]);(0,eK.O1)(m,eK.KD.LINK_TOOLTIP);let u=i.useCallback(e=>{"Enter"===e.key&&(e.preventDefault(),r?t.current?.onSubmitHyperlink(r):t.current?.onRemoveHyperlink(),t.current?.focus(),a())},[a,t,r]),h=i.useCallback(e=>{t.current?.onRemoveHyperlink(),t.current?.focus(),a(),e.stopPropagation()},[a,t]);i.useEffect(()=>{t.current&&l(t.current.getActiveHyperlinkForCurrentSelection())},[t]);let p=i.useMemo(()=>{if(n.current){let e=(0,tx.E)(n.current.getBoundingClientRect()),t=s.left-e.left,o=s.top-e.top;return new c.Mi(t+s.width/2,o)}return null},[n,s.left,s.top,s.width]);return p&&null!==r?(0,o.jsx)(tC.c,{url:r,location:p,onInputChange:d,onInputKeyDown:u,onBlur:()=>{a()},onClickTrash:h}):null}var tb=n(247259),ty=n(417439),tI=n(277770),tE=n(382827),tM=n(679359),tk=n(652539),tP=n(142914),tj=n(407644),tB=n(288747),tD=n(176203),tT=n(303369),tF=n(116553),tS=n(597318),tN=n(220812),tR=n(714843),tU=n(660587),tO=n(211498),t_=n(915516),tL=n(404343),tQ=n(691138);let tH="feed_post_popover_modal--overlayIcon--SjGSf";var tV=n(452),tY=n(505e3);let tz=(0,e5.jz)(tL.qoo),tG=(0,e5.jz)(tL.u24),tX=(0,e5.jz)(tL.IuL);function tJ(e){let t=(0,s.d4)(e=>e.comments.activeThread?.source),n=(0,s.d4)(e=>e.comments.activeThread?.id),a=(0,s.d4)(e=>e.comments.threads),r=n&&a[n]||null,l=r?.reply.messageMeta||[],d=(0,s.d4)(e=>e.comments.editingComment),c=(0,tB.sZ)(),{dispatch:m}=e,{threadPosition:u,comments:h}=e.feedPost,p=(0,A.GH)(),g=i.useMemo(()=>p&&"loaded"===p.status&&p.data&&p?.feedApi?.reactionsApi?p.feedApi.reactionsApi.getReactionsForPost(e.feedPost.feedPostPublicUuid):{postReactions:[],commentReactions:{}},[p,e.feedPost.feedPostPublicUuid]),[x,...C]=h,w=(0,s.d4)(e=>"fullscreen"===e.selectedView.view&&e.selectedView.editorType===tD.nT.Whiteboard),[b,y]=(0,tu.R)(),{feedPost:I}=e,E=I.id,M=i.useCallback(e=>{m(f.k7({threadId:E,messageMeta:e}))},[m,E]),k=i.useCallback(e=>{m(f.QD({threadId:E,attachmentId:e.id,attachment:e}))},[m,E]),j=i.useCallback((e,t)=>{m(f.QD({threadId:E,attachmentId:e,attachment:null})),t?t.then(()=>tT.J.delete(e)):tT.J.delete(e)},[m,E]),B=i.useCallback(()=>{r&&(m(tj.gX({postUuid:(0,tS.gk)(E),messageMeta:r.reply.messageMeta,attachmentIds:r.reply.attachments?Object.keys(r.reply.attachments):[]})),y(),M([]),m(f.q4({threadId:E,resetStatusOnly:!1})))},[m,E,r,y,M]),D=i.useRef(null),T=i.useCallback(()=>{D.current?.scrollToBottom(),M([])},[D,M]);i.useEffect(()=>{E&&D.current?.scrollToBottom()},[E,D]);let[F,S]=i.useState(!1),N=(0,v.t$)(),R=i.useCallback(()=>{m((0,e6.to)({type:tN.K,data:{postUuid:I.feedPostPublicUuid,inFileView:!0}})),m(f.UU({force:!0}))},[m,I.feedPostPublicUuid]),U=i.useRef(null),O=i.useRef(null),_=e.viewportInfo.height-2*tG;w&&(_-=tX);let L=_-tz,Q=!t&&!e.mountUnfocused,H=[...new Set(I.comments.map(e=>e.user.handle))];return c?(0,o.jsxs)(e9.P,{ref:D,maxHeight:L,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation(),width:N,scrollingDisabled:!!e.hyperlinkLocation,allowScrollAndZoomOver:!0,"data-not-draggable":!0,children:[(0,o.jsx)("div",{className:tQ.Q,role:"status","aria-live":"polite","aria-atomic":"true",children:b}),(0,o.jsxs)("div",{className:"feed_post_popover_modal--postColumn--2MySW",children:[(0,o.jsx)(tU.B,{date:x.created_at,user:x.user,size:tP.Pf.MEDIUM,shortDate:!1}),(0,o.jsxs)("div",{className:"feed_post_popover_modal--postThumbnailContainer--69nje",onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),onClick:R,role:"button",tabIndex:0,children:[(0,o.jsx)("img",{src:I.feedPostThumbnail,alt:"placeholder",className:"feed_post_popover_modal--postThumbnail--jac1E",style:{backgroundColor:I.feedPostThumbnailBackground,padding:I.padFeedPostThumbnail?"8px":"0"}}),I.feedPostNumContent>1&&(0,o.jsx)("div",{className:"feed_post_popover_modal--numContent--S8q68 feed_post_popover_modal--postThumbnailOverlay--vDoKP",children:(0,o.jsx)(tk.B,{svg:tV.A,className:tH})}),F&&(0,o.jsx)("div",{className:"feed_post_popover_modal--expand--cHMgw feed_post_popover_modal--postThumbnailOverlay--vDoKP",children:(0,o.jsx)(tk.B,{svg:tY.A,className:tH})})]}),(0,o.jsxs)("div",{className:"feed_post_popover_modal--subtitleRow--kW-8f",children:[(0,o.jsx)("div",{className:"feed_post_popover_modal--postedToFeed--mHMFC",children:(0,ey.t)("fig_feed.posted_to_feed")})," "]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"feed_post_popover_modal--postTitle--4GzeH",children:I.feedPostTitle}),(0,o.jsx)(tF.HH,{messageMeta:x.message_meta,commentId:e.feedPost.id,className:"feed_post_popover_modal--postDescription--j6YqM"})]}),(0,o.jsx)("div",{className:"feed_post_popover_modal--reactionSection--cxj-W",children:(0,o.jsx)(tO.Q$,{type:tO.Us.FULL,source:tO.zY.FILE_POPOVER,feedReactions:g.postReactions,postId:x.feed_id,postUuid:e.feedPost.feedPostPublicUuid})})]}),(0,o.jsx)("div",{className:"feed_post_popover_modal--postCommentlist--NUSo7",children:C.map(t=>(0,o.jsx)(tR.i,{attachments:t.attachments,commentId:t.feed_id,commentUser:t.user,commentUuid:t.uuid||"",createdAt:t.created_at,currentOrgId:c.id,mentionables:e.mentionables,messageMeta:t.message_meta,reactions:t.uuid&&g.commentReactions[t.feed_id]||[],user:e.user},t.id))}),e.isLoading&&(0,o.jsx)("div",{className:t_.wG,children:(0,o.jsx)(tM.kt,{size:"small"})}),(0,o.jsx)(tp.K,{allowAttachments:!0,attachments:r?.reply.attachments?Object.values(r.reply.attachments):[],authorNames:H,className:t_.MJ,deleteAttachment:j,dispatch:m,editingExistingComment:!1,editorOnClear:e.editorOnClear,editorOnInsert:e.editorOnInsert,editorRef:U,editorType:"comment-editor-reply",fileKey:e.feedPost.key,hideEmojiPicker:e.hideEmojiPicker,hyperlinkLocation:e.hyperlinkLocation,isDisabled:!!d,isEmojiPickerDisabled:!!e.comments.editingComment,mentionables:e.mentionables,messageMeta:l,mountInputFocused:Q,onCancel:e.onCloseEsc,onComposeFocus:e.onComposeFocus,onEditStart:T,onSubmit:B,placeholderText:(0,ey.t)("comments.reply"),recordingKey:P.Dw.feedPopover,replyContainerRef:O,setHyperlinkEditorRef:e.setHyperlinkEditorRef,setHyperlinkLocation:e.setHyperlinkLocation,setIsEditorFocused:e.setIsEditorFocused,submitText:(0,ey.t)("comments.reply"),threadId:E,threadPosition:u,typeahead:e.comments.typeahead,updateAttachment:k,updateMessage:M,user:e.user,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition})]}):null}var tK=n(330500),tZ=n(437481),tW=n(877384),tq=n(769109),t$=n(495896),t0=n(459494),t1=n(819851),t4=n(944350),t2=n(904017),t7=n(312073),t5=n(265926),t3=n(299640),t8=n(420680),t9=n(281684),t6=n(58212),ne=n(443192),nt=n(520899),nn=n(111297),no=n(863154),ni=n(719097),ns=n(796914),na=n(404778);function nr(e){let t=(0,l.md)(ni.p9),n=(0,l.md)(y.yV),i=(0,nt.kJ)();return(0,t$.yo)({user:t,file:n,numPinnedCommentThreads:i})?i>0?(0,o.jsx)(nd,{id:e.id,commentPin:e.commentPin,numPinnedCommentThreads:i}):(0,o.jsx)(nl,{children:(0,o.jsx)(nd,{id:e.id,commentPin:e.commentPin,numPinnedCommentThreads:i})}):null}function nl(e){return(0,t$.k3)()?e.children:null}function nd(e){let t=!(0,l.md)(no.wg),{pinApi:n}=(0,A.I_)(),i=(0,s.wA)(),a=!!e.commentPin,r=e.numPinnedCommentThreads>=10;async function d(){try{i(ne.b({has_toggled_comment_pin:!0})),a?await n?.removePin(e.id,e.commentPin.id):await n?.setPin(e.id)}catch(e){if(!e||e?.data?.status===422)return;e?.data?.i18n?i(t6.F.enqueue({message:(0,t9.J)(e,e.data.message),error:!0})):i(t6.F.enqueue({message:(0,ey.YD)("comments.pinning.err.fallback"),error:!0}))}}return(0,o.jsx)(nn.fu,{name:"Pin comment icon",properties:{isPinned:a},children:(0,o.jsx)(t8.K,{disabled:!a&&r||t,htmlAttributes:{"data-onboarding-key":a?"unpin-comment-icon":"pin-comment-icon","data-testId":"pin-comment-button-thread-header","data-tooltip-type":ta.Ib.TEXT,"data-tooltip":a?(0,ey.t)("comments.pinning.unpin_comment"):(0,ey.t)("comments.pinning.pin_comment")},"aria-label":(0,ey.t)("comments.pinning.pin_comment"),onClick:d,recordingKey:"threadHeader.pinCommentButton",children:(0,o.jsx)(tk.B,{svg:a?na.A:ns.A})})})}var nc=n(784962);function nm(e){let t=(0,s.wA)(),n=i.useRef(null),a=i.useRef(null),l=(0,s.d4)(e=>e.comments.activeThread?.source),d=function(e){let t=(0,t1.Em)(),n=(0,t0.De)(),o=(0,t7.u)(),i=(0,t2.No)().unwrapOr(null);return!!t&&!!i&&e.sidebarItemType===P.kT.COMMENT_THREAD&&(i.tier!==t4.Ag.STARTER||!!(0,r.kc)().bake_starter_limit)&&o&&n()}(e.thread);i.useEffect(()=>{if(l&&!e.mountUnfocused)switch(l){case P.Eq.prevButton:n.current?.focus();break;case P.Eq.nextButton:a.current?.focus();break;case P.Eq.accessibilityCommentPin:break;default:(0,e0.xb)(l)}},[e.mountUnfocused,l]);let c=(0,t$.U6)()&&!!e.thread.commentPin;return(0,o.jsxs)("div",{className:t_.F7,"data-testid":"thread-header-container",children:[(0,o.jsx)("div",{className:t_.xS,"data-onboarding-key":"thread-header-left-section","data-fullscreen-intercept":!0,children:(0,o.jsx)("h2",{children:(0,ey.tx)("comments.comment_n")})}),(0,o.jsxs)("div",{className:t_.eX,children:[e.thread.comments[0]&&d&&(0,o.jsx)(tg.K0,{"data-fullscreen-intercept":!0,"data-tooltip-type":ta.Ib.TEXT,"data-tooltip":(0,ey.t)("figmake.send_to_make_from_comments.button_tooltip"),onClick:()=>(0,t5.C)({type:"send-comments-to-make",entryPoint:"Comment Thread Header",newFileFrom:t3.f6.SEND_COMMENTS_TO_MAKE,thread:e.thread,dispatch:t}),recordingKey:"threadHeader.sendCommentsToMakeButton",onMouseDown:e=>e.stopPropagation(),children:(0,o.jsx)(tK.e,{})}),e.thread.comments[0]&&(0,o.jsx)(nc.V,{comment:e.thread.comments[0],isUnread:e.thread.comments.some(e=>e.isUnread),label:(0,ey.t)("comments.thread_actions"),recordingKey:"threadHeader.moreActionsButton",thread:e.thread,possibleActions:e.overflowMenuActions,onDelete:e.onDelete,onCopyLink:e.onCopyLink}),(0,o.jsx)(nr,{id:e.thread.id,commentPin:e.thread.commentPin}),!e.hideResolve&&(0,o.jsx)(tg.K0,{disabled:c,"data-fullscreen-intercept":!0,"data-tooltip-type":ta.Ib.TEXT,"data-tooltip":e.resolved?c?(0,ey.t)("comments.pinning.cannot_unresolve"):(0,ey.t)("comments.mark_as_unresolved"):c?(0,ey.t)("comments.pinning.cannot_resolve"):(0,ey.t)("comments.mark_as_resolved"),onClick:()=>{e.setResolved({thread:e.thread,resolved:!e.resolved})},recordingKey:"threadHeader.resolveButton",onMouseDown:e=>e.stopPropagation(),className:K()(e.resolved&&t_.aW,c&&t_.VM),children:e.resolved?(0,o.jsx)(tZ.g,{}):(0,o.jsx)(tW.W,{})}),e.customIcon,(0,o.jsx)(tq.Jn,{className:t_.UR,recordingKey:"threadHeader",onClick:e.onClose,innerText:(0,ey.t)("comments.close"),"aria-label":(0,ey.t)("comments.close"),"data-fullscreen-intercept":!0})]})]})}var nu=n(249455);let nh=(0,e5.hG)(tL.qoo),np=(0,e5.hG)(tL.u24),nf=(0,e5.jz)(tL.M$q),ng=e=>{e.stopPropagation()},nA=[],nv=[],nx=i.memo(e=>{let t=i.useContext(k.kw),n=(0,s.d4)(e=>e.comments.threads)[e.threadId],a=n?.discardAttempts||0,[r,l]=i.useState(0),{positionRef:d,disableCentering:c}=e;i.useEffect(()=>{a<=0||(async()=>{let e=d.current,n=t.getViewportInfo();e&&!c&&await t.navigateTo(e,n.zoomScale,{duration:600,ignoreVisibleTargets:!0}),l(a)})()},[l,d,c,a,t]);let{editorRef:m,editingCommentEditorRef:u}=e,h=i.useCallback(()=>{if(u.current){u.current.selectAll();return}m.current?.selectAll()},[m,u]);return(0,o.jsx)(tf.c,{wiggleCount:r,onWiggle:h,children:e.children})});function nC(e){return(0,o.jsx)(eG.u,{label:"ActiveThread",children:(0,o.jsx)(nw,{...e})})}function nw(e){let t=(0,eZ.z3)(),n=(0,s.d4)(e=>e.comments.activeThread?.source),a=(0,s.d4)(e=>e.comments.activeThread?.id),r=(0,s.d4)(e=>e.comments.threads),d=(0,s.d4)(e=>e.comments.showResolved),m=(0,tt.Kq)(e.thread),u=a&&r[a]||null,h=u?.discardAttempts||0,p=u?.reply.messageMeta||nA,g=u?.reply.attachments?Object.values(u?.reply.attachments):nv,A=(0,s.d4)(e=>e.comments.editingComment),[x,C]=i.useState(!1),w=(0,l.md)(z.R),[b,y]=i.useState((0,v.t$)()),[I,E]=i.useState(nh),M=function(e){let t=i.useRef(e);return i.useEffect(()=>{t.current=e},[t,e]),t}(e.thread.canvasPosition),k=i.useRef(null),{legalLeft:j,legalRight:B,legalBottom:D,useLegalBounds:T}=function(){let e=(0,tE.sO)(),t=(0,_.ut)(F.Ez5?.singleSlideView().isInFocusedNodeView,!1),n=(0,ts.dP)(),o=(0,_.ut)(F.Ez5?.editorPreferences().speakerNotesHeight,0),i=F.Ez5?.singleSlideView().bottomToolbeltHeightInViewport()??0;return e&&t?{legalLeft:n+nf,legalRight:nf,legalBottom:o+i,useLegalBounds:!0}:{legalLeft:0,legalRight:0,legalBottom:0,useLegalBounds:!1}}(),S=i.useRef(!1),N=i.useCallback(n=>{let{x:o,y:i,width:s,height:a}=e.viewportInfo;if("fullscreen"===t&&!n.page)return new c.Mi(o,i);if(!n.threadPosition)return;if(e.useAbsolutePositioning)return new c.Mi(n.threadPosition.x,n.threadPosition.y);let r=n.threadPosition.x+o,l=n.threadPosition.y+i;if(T){let t=j+nf,n=o+s-B-b-nf;r=(0,e1.qE)(r,t,n);let d=k.current?k.current.getBoundingClientRect().height:I,c=e.viewportInfo.y+nf,m=i+a-D-d-nf;!S.current&&k.current&&(S.current=!0,L(null)),l=c>m?c:(0,e1.qE)(l,c,m)}return new c.Mi(r,l)},[t,e.viewportInfo,e.useAbsolutePositioning,T,j,B,D,b,I,nf]),R=(0,tc.Rf)(),U=i.useMemo(()=>{let t=e.viewportInfo.x+nf+R.xDelta,n=e.viewportInfo.y+nf+R.yDelta;return new c.Mi(t,n)},[e.viewportInfo.x,e.viewportInfo.y,R.xDelta,R.yDelta,nf]),[O,L]=i.useState(null),Q=i.useMemo(()=>w?U:m?U:N(e.thread)||new c.Mi(0,0),[w,e.thread,m,U,N]),H=(0,Z.ZC)(Q);(0,i.useLayoutEffect)(()=>{if(O&&!w){let e=H?Q.subtract(H):new c.Mi(0,0);e.equals(new c.Mi(0,0))||L(O.add(e))}},[Q,O,H,w]);let V=(0,i.useMemo)(()=>O??Q,[Q,O]),{dispatch:Y,setIsPinned:G}=e,{threadPosition:X,comments:J}=e.thread;(0,e3.h)(()=>{let e=ex.sn.tryStop("view_comment_thread");e&&(0,e7.sx)("view_comment_thread",{elapsedMs:e},{forwardToDatadog:!0})});let K=(0,to.kc)(),[W,q]=i.useState(e.thread.comments.length),[$,ee]=i.useState(!1),et="communityHub"===t?K:e.user,[en,eo]=(0,tu.R)(),{submitReply:ei,thread:es}=e,ea=es.id,er=es.uuid,el=i.useCallback(()=>{let e=(0,e8.g)();ex.sn.start(`comment_reply_creation_${e}`),ei({threadId:ea,threadUuid:er??void 0,uuid:e}),eo()},[ei,ea,er,eo]);(0,e3.h)(()=>()=>{J.map(e=>{e.uuid&&e.isPendingFromSinatra&&ex.sn.tryStop(`comment_reply_creation_${e.uuid}`)})});let ed=i.useCallback(e=>{Y(f.k7({threadId:ea,messageMeta:e}))},[Y,ea]),ec=i.useRef(null),em=i.useRef(null),eu=i.useCallback(e=>{Y(f.QD({threadId:ea,attachmentId:e.id,attachment:e}))},[Y,ea]),eh=i.useCallback((t,n)=>{Y(f.QD({threadId:ea,attachmentId:t,attachment:null})),1===g.length&&ec.current?.focus(),n?n.then(()=>tl.l.delete(e.thread.key,t)):tl.l.delete(e.thread.key,t)},[e.thread.key,Y,ea,g.length]),ep=i.useRef(null),ef=i.useCallback(()=>{ep.current?.scrollToBottom(),ed([])},[ep,ed]),{updateCommentContent:eg}=e,eA=i.useCallback((e,t,n)=>{eg({comment:e,messageMeta:t,attachmentUpdates:n})},[eg]),ev=(0,te.$m)(),ew=(0,te.f$)(),eb=ev&&ew,eI=i.useCallback(()=>{eb?td.iZ?.focusPinById(ea):document.getElementById(`accessibility-comment-pin-${ea}`)?.focus()},[eb,ea]),{setResolved:eE}=e,eM=i.useCallback(e=>{eE(e),eb&&(d?td.iZ?.focusPinById(ea):(0,tn.MJ)(ea))},[eb,d,ea,eE]),ek=i.useCallback(e=>{let t="keyboard"===e4.F.device||"screen-reader"===e4.F.device,n=null===e.parent_id;Y((0,e6.to)({type:tA.E,data:{comment:e,onConfirm:()=>{Y(f.Mv({comment:e}))},onConfirmComplete:()=>{ev&&t&&requestAnimationFrame(()=>{n&&eb?(0,tn.MJ)(e.id):n||ec.current?.focus()})}}}))},[Y,ev,eb]),eP=i.useCallback(()=>{if(G(!1),eI(),!(0,eC.I)(p)){if(h&&ec.current?.isAllSelected()||(0,eC.Kx)(p)&&0===g.length){ed([]),Y(f.pD());return}return!1}},[eI,G,p,h,g.length,ed,Y]),ej=i.useCallback(()=>{G(!1),Y(f.UU({force:!0})),eI()},[Y,G,eI]),eB=(0,s.d4)(e=>e.universalInsertModal?.pinned===tr.t.PINNED_AND_DOCKED_LEFT),eD=(0,Z.ZC)(U),eT=eD&&eD!==U,eF=eD&&V.equals(eD);i.useEffect(()=>{eT&&eF&&(G(!0),L(U))},[U,eT,eF,G]);let eS=V.equals(U),eN=(0,tc.sj)();i.useEffect(()=>{eN&&eS&&eN()},[eS,eN,Y]),i.useEffect(()=>{ea&&ep.current?.scrollToBottom()},[ea,ep]);let[eR,eU]=i.useState(null),[eO,e_]=i.useState(i.useRef(null)),eL=i.useMemo(()=>function(e){return(0,o.jsx)(nx,{editorRef:ec,editingCommentEditorRef:em,positionRef:M,threadId:ea,disableCentering:"communityHub"===t||"prototype"===t,children:e.children})},[ea,M,ec,t]),[eQ,eH]=i.useState(!1),[eV,eY]=i.useState(!1),ez=i.useCallback(e=>{e?.stopPropagation(),G(!0),L(U),C(!0)},[G,U]),{modalRef:eG}=e;i.useEffect(()=>{eG&&(eG.current={popout:()=>ez()})},[eG,ez]),(0,ti.C_)(k),i.useEffect(()=>{if(n&&!e.mountUnfocused)switch(n){case P.Eq.accessibilityCommentPin:k.current?.focus();break;case P.Eq.prevButton:case P.Eq.nextButton:break;default:(0,e0.xb)(n)}},[k,e.mountUnfocused,n]);let eX=i.useRef(null);(0,tc.UR)(tm.b.DOCK_STYLE);let eJ=(0,tc.Y6)(),eK=(0,tc.eW)();return(()=>{if(!V||e.thread.isCanvasMention)return null;let t=(0,v.vl)(e.viewportInfo,e.thread,!0,eK.paddingRight),i={x:U.x-b,y:0,width:2*b+nf,height:window.innerHeight};eB&&(i.x-=b,i.width+=b);let s=(0,o.jsx)(tg.K0,{svg:nu.A,"data-tooltip-type":ta.Ib.TEXT,"data-tooltip":(0,ey.t)("comments.dock_to_side"),recordingKey:"activeThread.dockToSideButton",onClick:ez,onMouseDown:e=>e.stopPropagation(),"data-fullscreen-intercept":!0}),a=e.viewportInfo.height-2*np,r=window.innerHeight-e.viewportInfo.y-e.viewportInfo.height+np,l=e.viewportInfo.x+np,d=window.innerWidth-e.viewportInfo.x-e.viewportInfo.width+np;a+=eJ.maxHeightDelta,r+=eJ.minBottomMarginDelta,l+=eJ.minLeftMarginDelta,d+=eJ.minRightMarginDelta;let c=a-nh,m=e.useAbsolutePositioning?t_.wC:x?t_.xe:t_.wb,u=!n&&!e.mountUnfocused,h=[...new Set(es.comments.map(e=>e.user.handle))];return(0,o.jsxs)(o.Fragment,{children:[$&&(0,o.jsx)(tI.ue,{registrationOrigin:tb.iX.COMMENT_REPLY}),(0,o.jsxs)(tv.od,{allowWheelPassthrough:!0,alwaysEnsureModalOnScreen:!0,autoflowHeight:!0,bounds:i,container:eL,containerClassName:m,dataOnboardingKey:ty.ym,dataTestId:"comment-thread-draggable-modal",disableDragging:e.disableDragging,frameStyle:{boxShadow:"var(--elevation-400-menu-panel, 0px 2px 14px rgba(0, 0, 0, .15), 0 0 0 0.5px rgba(0, 0, 0, .2))",pointerEvents:"auto"},height:I,maxHeight:a,minBottomMargin:r,minLeftMargin:l,minRightMargin:d,minTopMargin:e.viewportInfo.y+np,onClose:ej,onDragEnd:e=>{eY(!1),G(!0);let t=tv.rk.CALL_ENSURE_MODAL_ON_SCREEN;return L(e),t},onDragStart:()=>{eY(!0),C(!1)},onEnterBound:()=>eH(!0),onLeaveBound:()=>eH(!1),position:V,recordingKey:"activeThreadDraggableModal",setHeight:E,setPosition:L,setWidth:y,shouldScrollToBottom:()=>{let t=W<e.thread.comments.length,n=e.thread.comments[e.thread.comments.length-1].user_id===e.user?.id,o=t&&n;return t&&q(e.thread.comments.length),o&&ee(!0),o},width:b,children:[eR&&eO&&(0,o.jsx)(tw,{editorRef:eO,container:k,initialLocation:eR,closeEditor:()=>{eU(null)}}),(0,o.jsxs)("div",{ref:k,className:t_.OM,tabIndex:-1,"aria-label":(0,ey.t)("fullscreen.accessibility.comment_thread_label"),role:"region","data-fullscreen-intercept":!0,children:[(0,o.jsx)(nm,{customIcon:!eS&&e.showDockToSideButton?s:void 0,hideResolve:e.hideResolve,mountUnfocused:e.mountUnfocused,nextThread:e.nextThread,onClose:ej,onDelete:ek,prevThread:e.prevThread,resolved:!!J[0].resolved_at,setResolved:eM,thread:t}),es.sidebarItemType===P.kT.COMMENT_THREAD?(0,o.jsxs)(e9.P,{ref:ep,maxHeight:c,onMouseDown:ng,onPointerDown:ng,width:b,scrollingDisabled:!!eR,allowScrollAndZoomOver:!0,"data-not-draggable":!0,children:[(0,o.jsx)("div",{className:tQ.Q,role:"status","aria-live":"polite","aria-atomic":"true",children:en}),J.map((n,i)=>(0,o.jsx)(th.I,{allowAttachments:!0,comment:n,dispatch:Y,editingComment:e.comments.editingComment,editorOnClear:e.editorOnClear,editorOnInsert:e.editorOnInsert,editorRef:em,editorType:"comment-editor-thread",hideEmojiPicker:e.hideEmojiPicker,hideReactions:e.hideReactions,hideResolve:e.hideResolve,hyperlinkLocation:eR,index:i,mentionables:e.mentionables,mountInputFocused:!0,onDelete:ek,prevAuthor:0===i?null:J[i-1].user_id,setHyperlinkEditorRef:e_,setHyperlinkLocation:eU,setIsEditorFocused:e.setIsEditorFocused,setResolved:eM,showEditedIndicator:!!(e.showEditedIndicators&&n.edited_at),submitEdit:eA,thread:t,threadPosition:t.threadPosition,typeahead:e.comments.typeahead,user:e.user,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition},`thread-comment-${n.id}`)),e.isLoading&&(0,o.jsx)("div",{className:t_.wG,children:(0,o.jsx)(e2.k,{size:"sm"})}),!e.commentCreationDisabled&&(0,o.jsx)(tp.K,{allowAttachments:!0,attachments:g,authorNames:h,className:t_.MJ,deleteAttachment:eh,dispatch:Y,editingExistingComment:!1,editorOnClear:e.editorOnClear,editorOnInsert:e.editorOnInsert,editorRef:ec,editorType:"comment-editor-reply",fileKey:e.thread.key,hideEmojiPicker:e.hideEmojiPicker,hyperlinkLocation:eR,isDisabled:!!A,isEmojiPickerDisabled:!!e.comments.editingComment,mentionables:e.mentionables,messageMeta:p,mountInputFocused:u,onCancel:eP,onComposeFocus:e.onComposeFocus,onEditStart:ef,onSubmit:el,placeholderText:(0,ey.t)("comments.reply"),recordingKey:P.Dw.reply,replyContainerRef:eX,setHyperlinkEditorRef:e_,setHyperlinkLocation:eU,setIsEditorFocused:e.setIsEditorFocused,submitText:(0,ey.t)("comments.reply"),threadId:ea,threadPosition:X,typeahead:e.comments.typeahead,updateAttachment:eu,updateMessage:ed,user:et,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition})]}):es.sidebarItemType===P.kT.FEED_POST?(0,o.jsx)(tJ,{comments:e.comments,dispatch:Y,editorOnClear:e.editorOnClear,editorOnInsert:e.editorOnInsert,feedPost:es,hideEmojiPicker:e.hideEmojiPicker,hyperlinkLocation:eR,isLoading:e.isLoading,mentionables:e.mentionables,mountUnfocused:e.mountUnfocused,onCloseEsc:eP,onComposeFocus:e.onComposeFocus,setHyperlinkEditorRef:e_,setHyperlinkLocation:eU,setIsEditorFocused:e.setIsEditorFocused,showEditedIndicators:e.showEditedIndicators,user:e.user,viewportInfo:e.viewportInfo,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition}):es.sidebarItemType===P.kT.LITMUS_COMMENT_THREAD?null:void(0,e0.xb)(es)]})]})]})})()}var nb=n(703630),ny=n(392260);function nI(e){return(0,o.jsxs)("svg",{className:"anchor--anchorIcon--e1LTz",viewBox:"0 0 34 41",fill:"none","data-testid":"svg-comment-pin",children:[(0,o.jsx)("path",{fill:e.bodyColor,d:"M17 1C25.8366 1 33 8.16344 33 17C33 23.6257 27.6611 28.9662 17 39.6274C6.33887 28.9663 1.00001 23.6257 1 17C1 8.16344 8.16344 1 17 1Z"}),(0,o.jsx)("path",{fill:e.outlineColor,opacity:"0.4",d:"M17 40.3345L16.6261 39.9606C11.3156 34.6501 7.29362 30.6281 4.60457 27.1037C1.90336 23.5633 0.500006 20.4662 0.5 17C0.5 7.8873 7.8873 0.5 17 0.5C26.1127 0.5 33.5 7.8873 33.5 17C33.5 20.4662 32.0967 23.5633 29.3954 27.1037C26.7064 30.6281 22.6845 34.65 17.374 39.9605L17 40.3345ZM33 17C33 8.16344 25.8366 1 17 1C8.16344 1 1 8.16344 1 17C1.00001 23.552 6.22083 28.8474 16.6464 39.2738C16.7174 39.3447 16.7885 39.4159 16.8599 39.4873C16.9065 39.5339 16.9532 39.5806 17 39.6274C17.1185 39.5089 17.2364 39.391 17.3536 39.2738C27.7792 28.8474 33 23.552 33 17Z"}),e.isNew&&(0,o.jsx)("circle",{cx:"16.5",cy:"16.5",r:"2.25",fill:e.labelColor})]})}let nE={x:0,y:0};function nM(e){let t=(0,s.d4)(e=>e.selectedView),n=(0,E.iZ)(),a=i.useContext(k.kw),r="communityHub"!==t.view||e.thread.comments[0]?.user_id===n?.id,l=(0,s.wA)(),[d,m]=i.useState(null),[u,h]=function(){let e=i.useRef(null),t=i.useCallback(t=>{if(null===t){e.current=null;return}let n=e.current||{};e.current={...n,...t}},[e]);return[e,t]}(),p=i.useRef(e);p.current=e;let{viewportPositionFromClientPosition:g,offset:A}=e,x=i.useCallback(e=>{let t=u.current;if(!t)return;let n=p.current,o=g(new c.Mi(e.clientX,e.clientY)),i=Math.max(t.maxDist,c.Mi.distance(o,t.startPosition));if(h({...t,maxDist:i}),i<v.wB)return;let s=n.computeDropLocation(o,t.mouseOffset);if(!n.isInViewport(s))return;let a=c.Mi.add(o,t.mouseOffset);if(n.thread.id===P.hm){let e=n.viewport.current;if(!e)return;l(f.vV({anchorPosition:(0,O.$$)(e,a)}))}else r&&(l(f.UU()),m(a))},[u,g,h,l,r]),C=i.useCallback(e=>{let t=u.current;if(!t)return;let n=p.current;m(null);let o=g(new c.Mi(e.clientX,e.clientY)),i=n.viewport.current;if(!i)return;if(!(t.maxDist>v.wB)||!r)return h(null);let s=n.computeDropLocation(o,t.mouseOffset);if(!n.isInViewport(s))return h(null);let l=a.getCommentDestinationForCanvasPosition(s,n.pageId);return n.thread.id===P.hm||n.setClientMeta({thread:n.thread,clientMeta:{x:s.x,y:s.y,node_id:l?.nodeId,node_offset:l?.nodeOffset||void 0,viewport:i,page_id:n.pageId,in_frame:l?.inFrame,stable_path:l?.stablePath}}),h(null)},[u,g,r,a,h]),w=i.useCallback(e=>{if(0!==e.button)return;e.stopPropagation();let t=g(new c.Mi(e.clientX,e.clientY));h({startPosition:t,mouseOffset:c.Mi.subtract(A||nE,t),maxDist:0})},[g,h,A]);i.useEffect(()=>(document.addEventListener("pointermove",x),document.addEventListener("pointerup",C),()=>{document.removeEventListener("pointermove",x),document.removeEventListener("pointerup",C)}),[x,C]);let{type:b,resolved:y,active:I}=e,M=i.useCallback(()=>{if("face"===b)return{anchorOutlineColor:"",anchorBodyColor:"",anchorLabelColor:"",anchorClass:"anchor--facePinAnchor--JxEdi"};let e="anchor--anchor--P9sAD";y&&(e="anchor--resolvedAnchor--iU0Ct anchor--anchor--P9sAD");let t=ny.R3,n=ny.Dr;I&&(n="#0d99ff");let o=ny.QQ;return I&&(o=ny.Vm,e+=" anchor--activeAnchor--464Qe anchor--anchor--P9sAD"),{anchorOutlineColor:t,anchorBodyColor:n,anchorLabelColor:o,anchorClass:e}},[b,y,I]),{x:j,y:B}=d||e.offset||nE,D=`translate(${j}px, ${B}px)`,T=M();return(0,o.jsx)("div",{"aria-hidden":!0,style:{transform:D,WebkitTransform:D},className:`${T.anchorClass} ${R.Dm}`,onPointerDown:w,children:"face"===e.type?(0,o.jsx)("div",{className:"anchor--commentPinIcon--6I08n"}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(nI,{isNew:e.isNew,bodyColor:T.anchorBodyColor,outlineColor:T.anchorOutlineColor,labelColor:T.anchorLabelColor}),(0,o.jsx)("span",{className:"anchor--anchorLabel--SUXKt",style:{color:T.anchorLabelColor},children:e.label})]})})}function nk(e){let t=(0,nb.H)(e.viewportInfo),n=e.thread,a=i.useContext(k.kw),r=i.useCallback((e,n)=>{let o=c.Mi.add(e,n);return(0,O.$$)(t.current,o)},[t]),l=i.useCallback(e=>{let n=a.getValidCommentsRect(),o=(0,O.Z0)(t.current,e);return(0,v.rN)(o,n)},[a,t]),d=(0,E.iZ)(),m=(0,to.kc)(),u="communityHub"===(0,s.d4)(e=>e.selectedView).view?m:d;return(0,o.jsx)(nM,{active:!0,computeDropLocation:r,entity:u,isInViewport:l,isNew:!0,offset:e.thread.anchorPosition||void 0,pageId:e.pageId,resolved:!1,setClientMeta:e.setClientMeta,thread:n,type:"face",viewport:t,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition})}var nP=n(276800),nj=n(436991),nB=n(498349),nD=n(268389),nT=n(513785),nF=n(633065),nS=n(497463);class nN extends i.PureComponent{constructor(e){super(e),this.onMouseUpPos=e=>{nS.AU("mouseup",this.onMouseUpPos),nS.AU("mousemove",this.onMouseMovePos);let{onDragEnd:t}=this.props,{drag:n}=this.state;if(!n){this.setState({drag:null});return}let o=performance.now()-n.startedAt;t&&t({start:n.start,duration:o,position:e}),this.setState({drag:null})},this.onMouseDownPos=e=>{nS.on("mouseup",this.onMouseUpPos),nS.on("mousemove",this.onMouseMovePos),this.setState({drag:{start:e,startedAt:performance.now()}});let{onDragStart:t}=this.props;t&&t({start:e,position:e,duration:0})},this.onMouseMovePos=e=>{let{onDragUpdate:t}=this.props,{drag:n}=this.state;if(n&&t){let o=performance.now()-n.startedAt;t({start:n.start,duration:o,position:e})}},this.state={drag:null}}componentWillUnmount(){nS.AU("mouseup",this.onMouseUpPos),nS.AU("mousemove",this.onMouseMovePos)}render(){let e=this.state.drag?{pointerEvents:"none"}:void 0;return(0,o.jsx)("div",{role:"button",tabIndex:-1,style:{...e,...this.props.bounds,...this.props.useAbsolute&&{position:"absolute"}},className:"viewport_draggable--container---XH8-","data-forward-events-to-fullscreen":"true",onMouseUp:this.props.onMouseUp,onMouseDown:this.props.onMouseDown,onMouseMove:this.props.onMouseMove,onContextMenu:e=>{nF.eD||(e.stopPropagation(),e.preventDefault())},children:this.props.children})}}let nR={onMouseDownPos:()=>{},onMouseMovePos:()=>{},onMouseUpPos:()=>{}};function nU(e){let t=i.useRef(null),n=function(e){let[t,n]=i.useState(nR);return i.useEffect(()=>{e.current&&n({onMouseDownPos:e.current.onMouseDownPos,onMouseMovePos:e.current.onMouseMovePos,onMouseUpPos:e.current.onMouseUpPos})},[e,n]),function(e){let{onMouseDownPos:t,onMouseMovePos:n,onMouseUpPos:o}=e,s=i.useContext(k.kw),a=i.useCallback((e,t)=>{let n=s.getViewportInfo();return c.Mi.subtract({x:e,y:t},new c.Mi(n.x,n.y))},[s]),r=i.useCallback(e=>a(e.clientX,e.clientY),[a]),l=i.useCallback((e,t)=>{let n=r(e);o&&o(n,t)},[o,r]),d=i.useCallback((e,n)=>{if(e.button&&0!==e.button)return;let o=r(e);t&&t(o,n)},[t,r]),m=i.useCallback((e,t)=>{let o=r(e);n&&n(o,t)},[n,r]);return i.useMemo(()=>({onMouseUp:l,onMouseDown:d,onMouseMove:m}),[l,d,m])}(t)}(t),a=(0,s.d4)(e=>e.selectedView);return(0,o.jsx)(nN,{children:e.children,ref:t,bounds:e.bounds,onDragEnd:e.onDragEnd,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onMouseDown:n.onMouseDown,onMouseMove:n.onMouseMove,onMouseUp:n.onMouseUp,useAbsolute:"communityHub"===a.view})}var nO=n(902257),n_=n(409757);let nL=(0,e5.hG)(tL.u24),nQ=new n_.Z(nL);function nH(e){return(0,o.jsx)(eG.u,{label:"NewCommentContainer",children:(0,o.jsx)(nV,{...e})})}function nV(e){let{thread:t,viewportBounds:n,onSubmit:a,discardAttempts:l,allowAttachments:d=!0}=e,m=(0,s.wA)(),u=i.useRef(null),h=i.useRef(!1),p=i.useCallback(()=>{u.current&&u.current.scrollIntoView({block:"end"})},[u]),{anchorPosition:g}=t,[A,x]=i.useState(null),[C,w]=i.useState({x:0,y:0}),b=nj.ox(),I=c.Mi.add(g,C,A),E=(0,s.d4)(e=>e.comments.activeDragTarget),M=(0,n_._)(u,I,n,nQ,v.hx,e.pinOffset);i.useEffect(()=>{p()},[p]);let k=t.id,j=e.thread.comments.length;i.useEffect(()=>{k!==P.hm&&p()},[p,k,j]);let[B,D]=i.useState(null),T=i.useCallback(e=>{m(f.Z5({messageMeta:e}))},[m]),F=i.useCallback(e=>{m(f.nb({attachmentId:e.id,attachment:e}))},[m]),S=(0,y.tS)(),N=(0,s.Pj)(),U=i.useCallback((t,n)=>{S&&(m(f.nb({attachmentId:t,attachment:null})),0===Object.keys(N.getState().comments.newComment.attachments||{}).length&&e.editorRef.current?.focus(),n?n.then(()=>tl.l.delete(S,t)):tl.l.delete(S,t))},[m,S,N,e.editorRef]),O=(0,nT.D)(),_=i.useCallback(()=>{a(e.thread),h.current&&requestAnimationFrame(()=>{O()})},[a,e.thread,O]),L=i.useCallback(()=>{let t=N.getState().comments.newComment;if((0,eC.I)(t.messageMeta)){h.current&&O();return}(l&&e.editorRef.current?.isAllSelected()||(0,eC.Kx)(t.messageMeta)&&0===Object.keys(t.attachments||{}).length)&&(m(f.Z5({messageMeta:[]})),h.current&&O())},[N,l,e.editorRef,m,O]),Q=(0,s.d4)(e=>e.comments.threads),H=Q[e.thread.id]?.state===P.EB.BUSY;if(!M)return null;let{x:V,y:Y}=M,z=`translate(${V}px, ${Y}px)`,G=`calc(${e.viewportBounds.height}px - (2 * ${nL}px))`,X=!0===e.disablePointerEvents?"new_comment_container--translatedThreadContainerNoPointerEvents--9z1L5 new_comment_container--translatedThreadContainer--2xkOH":`new_comment_container--translatedThreadContainer--2xkOH ${R.Dm}`,J=e.thread.id===P.hm?"new_comment_container--newCommentContainerNext--bCfo7 new_comment_container--threadContainer--XIsVX text--fontPos11--2LvXf text--_fontBase--QdLsd overflow--overflowYAuto--nfK38 overflow--momentumScroll--qtsu7":"new_comment_container--threadContainer--XIsVX text--fontPos11--2LvXf text--_fontBase--QdLsd overflow--overflowYAuto--nfK38 overflow--momentumScroll--qtsu7",K=(0,ey.t)("comments.add_a_comment"),Z=(0,o.jsxs)(o.Fragment,{children:[B&&(0,o.jsx)(tw,{editorRef:e.editorRef,container:u,initialLocation:B,closeEditor:()=>{D(null)}}),(0,o.jsx)("div",{className:`${J} ${E?"new_comment_container--highlighted--wsvS9":""}`,style:{maxHeight:G},ref:u,onFocus:e=>{e.relatedTarget instanceof HTMLElement&&e.relatedTarget.hasAttribute("data-kb-comment-insertion-button")?h.current=!0:h.current=!1},children:(0,o.jsx)(nB.i,{children:(0,o.jsx)(nO.C,{allowAttachments:d,attachments:e.thread.attachments,deleteAttachment:U,dispatch:m,editingExistingComment:!1,editorOnClear:e.editorOnClear,editorOnInsert:e.editorOnInsert,editorRef:e.editorRef,editorType:"comment-editor-new",errorFallback:(0,o.jsx)(nO.e,{type:"new"}),fallback:null,fileKey:S,hideEmojiPicker:e.hideEmojiPicker,hyperlinkLocation:B,isDisabled:H,maxCommentLength:e.maxCommentLength,mentionables:e.mentionables,messageMeta:e.thread.messageMeta,mountInputFocused:!e.mountUnfocused,mountWithButtons:!0,onCancel:L,onComposeFocus:e.onComposeFocus,onSubmit:_,placeholderText:K,recordingKey:P.Dw.new,scrollToBottom:p,setHyperlinkEditorRef:nP.lQ,setHyperlinkLocation:D,setIsEditorFocused:e.setIsEditorFocused,submitText:(0,ey.t)("comments.post"),threadId:P.hm,threadPosition:e.thread.threadPosition,typeahead:e.typeahead,updateAttachment:F,updateMessage:T,user:e.user,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition})})})]}),W={x:V+n.x,y:Y};return(0,r.kc)().a11y_new_comments_to_fpl?(b.setPosition({x:W.x,y:W.y}),(0,o.jsx)(nj.bL,{onClose:nP.lQ,className:X,manager:b,children:(0,o.jsx)(tf.c,{wiggleCount:e.discardAttempts||0,onWiggle:e.onDiscardAttempt,children:(0,o.jsx)(nD.vo,{children:Z})})})):(0,o.jsx)(nU,{onDragUpdate:e=>{x(c.Mi.subtract(e.position,e.start))},onDragEnd:e=>{A&&(w(c.Mi.add(A,C)),x(null))},bounds:n,children:(0,o.jsx)("div",{style:{transform:z,WebkitTransform:z},className:X,children:(0,o.jsx)(tf.c,{wiggleCount:e.discardAttempts||0,onWiggle:e.onDiscardAttempt,children:Z})})})}function nY(e){return(0,o.jsx)(eG.u,{label:"NewComment",children:(0,o.jsx)(nz,{...e})})}function nz(e){let t=(0,s.d4)(e=>e.comments.newComment.discardAttempt),n=i.useRef(null),a=i.useCallback(()=>{n.current?.selectAll()},[n]),r=(0,O.th)(e.viewportInfo);return(0,o.jsxs)("div",{children:[(0,o.jsx)(nk,{thread:e.thread,pageId:e.pageId,viewportInfo:e.viewportInfo,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition,setClientMeta:e.setClientMeta}),!e.hideComposer&&(0,o.jsx)(nH,{allowAttachments:e.allowAttachments,discardAttempts:t,editorOnClear:e.editorOnClear,editorOnInsert:e.editorOnInsert,editorRef:n,hideEmojiPicker:e.hideEmojiPicker,maxCommentLength:e.maxCommentLength,mentionables:e.mentionables,mountUnfocused:e.mountUnfocused,onComposeFocus:e.onComposeFocus,onDiscardAttempt:a,onSubmit:e.onSubmit,pageId:e.pageId,pinOffset:e.pinOffset,setClientMeta:e.setClientMeta,setIsEditorFocused:e.setIsEditorFocused,thread:e.thread,typeahead:e.typeahead,user:e.user,viewportBounds:r,viewportInfo:e.viewportInfo,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition})]})}var nG=n(788965),nX=n(543651),nJ=n(366815);let nK="comment_selection_box--selectionBox--bg--z";function nZ(e){let t=(0,O.Z0)(e.viewportInfo,e.pinCanvasPosition),n=(0,O.Z0)(e.viewportInfo,e.selectionBoxAnchorCanvasPosition),[s,a]=i.useState(void 0),[r,l]=i.useState(void 0),[d,c]=i.useState(n.x-10),[m,u]=i.useState(n.y-10),[h,p]=i.useState(0),[f,g]=i.useState(0),[A,v]=i.useState(""),x=(0,tc.fG)(),C=i.useCallback(()=>{a({mousePosition:e.selectionBoxAnchorCanvasPosition,startZoomScale:e.viewportInfo.zoomScale}),c(n.x-10-2500),u(n.y-10-2500),p(5e3),g(5e3),v("translate(2500px, 2500px"),l(x(e.pinCanvasPosition,e.nodeId)||void 0)},[e.nodeId,e.pinCanvasPosition,e.selectionBoxAnchorCanvasPosition,e.viewportInfo,n,a,l,c,u,p,g,v,x]),{onSetNewSelectionBoxAnchor:w,viewportPositionFromClientPosition:b}=e,y=i.useCallback(t=>{if(!s)return;let o=nW(t.clientX,t.clientY,b,e.viewportInfo,r);a({mousePosition:o,startZoomScale:s.startZoomScale});let i=(0,O.Z0)(e.viewportInfo,o),l=i.x-n.x+2500,d=i.y-n.y+2500;v(`translate(${l}px, ${d}px)`)},[s,a,v,r,n.x,n.y,b,e.viewportInfo]),I=i.useCallback((e,t)=>{let n=(0,O.Z0)(e,t);a(void 0),l(void 0),c(n.x-10),u(n.y-10),p(0),g(0),v("")},[a,l,c,u,p,g,v]),E=i.useCallback(t=>{if(!s)return;let n=nW(t.clientX,t.clientY,b,e.viewportInfo,r);w(n),I(e.viewportInfo,n)},[s,r,w,b,I,e.viewportInfo]);i.useEffect(()=>{s||(c(n.x-10),u(n.y-10))},[n,s]),i.useEffect(()=>{s&&s.startZoomScale!==e.viewportInfo.zoomScale&&I(e.viewportInfo,e.selectionBoxAnchorCanvasPosition)},[s,e.viewportInfo,e.selectionBoxAnchorCanvasPosition,I]);let M=s?(0,O.Z0)(e.viewportInfo,s.mousePosition):n,k=Math.min(t.x,M.x),P=Math.min(t.y,M.y),j=Math.max(t.x-k,M.x-k),B=Math.max(t.y-P,M.y-P);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:nK,style:{left:k,top:P,width:j,height:B}}),e.canUpdateSelectionBoxAnchor&&(0,o.jsx)(nJ.D8,{role:"button",tabIndex:-1,className:"comment_selection_box--selectionBoxAnchor--6twQJ",style:{left:d,top:m,width:h,height:f},onMouseDown:C,onMouseMove:y,onMouseUp:E,dataTestId:"comment-selection-box-anchor",recordingKey:"commentSelectionBox.anchor",children:(0,o.jsx)("div",{className:"comment_selection_box--selectionBoxAnchorIcon--iMwhF",style:{transform:A}})})]})}function nW(e,t,n,o,i){let s=n(new c.Mi(e,t)),a=(0,O.$$)(o,s);if(!i)return new c.Mi(a.x,a.y);let r=(0,eC.pV)(a,i);return new c.Mi(r.x,r.y)}var nq=n(454560);function n$(e){let t=(0,E.Pc)(),n=(0,s.wA)(),i=(0,s.d4)(e=>e.comments.typeahead);return(0,o.jsx)(nY,{dispatch:n,editorOnClear:e.editorOnClear,editorOnInsert:e.editorOnInsert,hideComposer:e.hideComposer,hideEmojiPicker:e.hideEmojiPicker,maxCommentLength:e.maxCommentLength,mentionables:e.mentionables,mountUnfocused:e.mountNewCommentUnfocused,onComposeFocus:e.onComposeFocus,onSubmit:e.submitNewComment,pageId:e.pageId,pinOffset:e.pinOffset,setClientMeta:e.setClientMeta,setIsEditorFocused:e.setIsEditorFocused,thread:e.thread,typeahead:i,user:t,viewportInfo:e.viewportInfo,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition})}function n0({viewportBounds:e,isCommunityMentions:t=!1,children:n,activeDragTarget:i}){return(0,o.jsx)("div",{"data-forward-events-to-fullscreen":!0,className:`${i||(0,r.kc)().a11y_new_comments_to_fpl?"comments_modal--detailsContainerToFront--mQO8y comments_modal--detailsContainer--zHNy9":"comments_modal--detailsContainer--zHNy9"} ${R.Uu}`,style:{...t&&{position:"absolute"},top:e.y,left:e.x,height:e.height,width:e.width},children:n})}function n1(e){let t=(0,s.wA)(),n=(0,O._X)({subscribeToUpdates_expensive:!0}),a=(0,nq._B)(),r=(0,tc.eW)(),l=i.useMemo(()=>(0,v.vl)(n,e.thread,!0,r.paddingRight),[e.thread,n,r.paddingRight]),d=(0,eZ._6)(),m="communityHub"===d.view,u=(0,v.eR)(e.thread.id),h=i.useRef(null),p=i.useRef(null),{onClear:g}=a,{submitReply:A,submitNewComment:x}=e,C=i.useCallback(e=>{A(e),g()},[A,g]),w=i.useCallback(()=>{x(),g()},[x,g]),b=(0,s.d4)(e=>e.comments.editingComment),y=(0,s.d4)(e=>e.comments.activeDragTarget),I=(0,nG.i)(),k=i.useCallback(()=>h.current?.visible?(h.current.clearDecorators(),!0):I?((0,nG.Dp)(),!0):!!b||(t(f.UU()),!0),[t,b,I]);(0,eK.O1)(k,eK.KD.MODAL);let{pinOffset:j}=e,B=i.useMemo(()=>{if(!j)return v.hx;let{width:e,height:t}=j;return{x:e+v.hx.x,y:v.hx.y-t}},[j]),D=(0,eX.y)()&&l.sidebarItemType===P.kT.FEED_POST,T=m?eJ.j:(0,M.zW)({feedPostUuid:D?l.feedPostPublicUuid:void 0,checkPermissions:e$.m1.VIEW_OR_PENDING}),F=i.useCallback(e=>{let t=e.comments[0].client_meta,n=e.comments[0].client_meta.selection_box_anchor,o=c.Mi.subtract(n,t);return c.Mi.add(e.canvasPosition,o)},[]),S=(0,s.d4)(e=>e.comments.newComment),N=i.useCallback(e=>{if(u)t(f.a$({selectionBoxAnchor:e}));else{if(!l.comments[0].client_meta?.selection_box_anchor)return;let n={...l.comments[0].client_meta};if(l.comments[0].client_meta.in_frame){let t=F(l),o=c.Mi.subtract(e,t);n.selection_box_anchor=c.Mi.add(n.selection_box_anchor,o)}else n.selection_box_anchor=e;t(f.hY({thread:l,clientMeta:n}))}},[t,l,u,F]),R="communityHub"===d.view,U=(0,E.TA)(),_=(0,E.Pc)(),L=(0,s.d4)(e=>e.comments),Q="communityHub"===d.view,H=i.useMemo(()=>"communityHub"===d.view&&"hubFile"===d.subView&&(0,eW.t0)(d.fullscreenState),[d]),V=null;u?V=S.selectionBoxAnchor:l.comments[0].client_meta?.selection_box_anchor&&(l.comments[0].client_meta?.in_frame,V=l.selectionAnchorCanvasPosition??l.boundingBoxAnchorCanvasPosition??null);let Y=!!(0,ez.bc)((0,eq.dDF)(u?null:{key:e.thread.key})).unwrapOr(!1),z=U===l.comments[0]?.user_id;return null===n?null:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:`comments_modal--overlay--1hWXV ${y?"comments_modal--dimBackground--Vyo3f":""}`}),(0,o.jsxs)(n0,{viewportBounds:n,isCommunityMentions:m,activeDragTarget:y,children:[l.canvasPosition&&V&&(0,o.jsx)(nZ,{nodeId:l.comments[0]?.client_meta?.node_id,selectionBoxAnchorCanvasPosition:V,pinCanvasPosition:l.canvasPosition,viewportInfo:n,onSetNewSelectionBoxAnchor:N,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition,canUpdateSelectionBoxAnchor:!l.boundingBoxAnchorCanvasPosition&&(u||z||Y)}),u?(0,o.jsx)(n$,{editorOnClear:a.editorOnClear,editorOnInsert:a.editorOnInsert,hideComposer:e.hideComposer,hideEmojiPicker:R,maxCommentLength:e.maxCommentLength,mentionables:T,mountNewCommentUnfocused:e.mountNewCommentUnfocused,onComposeFocus:e.onComposeFocus,pageId:e.pageId,pinOffset:B,setClientMeta:e.setClientMeta,setIsEditorFocused:a.setIsEditorFocused,submitNewComment:w,thread:l,viewportInfo:n,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition}):l.sidebarItemType===P.kT.COMMENT_THREAD||l.sidebarItemType===P.kT.FEED_POST&&(0,eX.y)()?(0,o.jsx)(nC,{commentCreationDisabled:e.commentCreationDisabled,comments:L,disableDragging:Q&&!H,dispatch:t,editorOnClear:a.editorOnClear,editorOnInsert:a.editorOnInsert,hideEmojiPicker:R,hideReactions:Q,hideResolve:e.hideResolve||!(0,P.m)(l.sidebarItemType),ignoreThreadContainerScrollOnLoad:Q,isLoading:e.isLoading,mentionables:T,modalRef:p,mountUnfocused:e.mountNewCommentUnfocused,nextThread:e.nextThread,onComposeFocus:e.onComposeFocus,prevThread:e.prevThread,setIsEditorFocused:a.setIsEditorFocused,setIsPinned:e.setIsPinned,setResolved:e.setResolved,showDockToSideButton:!1,showEditedIndicators:Q,submitReply:C,thread:l,updateCommentContent:e.updateCommentContent,useAbsolutePositioning:Q&&!H,user:_,viewportInfo:n,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition}):void 0,(0,o.jsx)(nX.wV,{decoratorsRef:h,onClear:a.onClear,onInsert:a.onInsert,position:l.threadPosition||void 0,isCommunityMentions:m})]})]})}function n4(e){return(0,o.jsx)(eG.u,{label:"CommentsDetailsView",children:(0,o.jsx)(n2,{...e})})}function n2({renderDetailContainerInPortal:e,detailContainerPortal:t,...n}){let i=(0,o.jsx)(n1,{...n});return e?t?(0,X.createPortal)(i,t):null:i}var n7=n(221586),n5=n(489302),n3=n(25870);class n8{constructor(e,t=15){this.eventProvider=e,this.dragMin=t,this.dragInfo=null,this._dragCallbacks={},this._onMouseDownOverride=null,this.canvasPositionClick=(e,t)=>this._onCanvasPositionClick?.(e,{replace:t}),this.viewportPositionClick=(e,t)=>this._onViewportPositionClick?.(e,{replace:t}),this.onDown=e=>{if(this.dragInfo={id:`drag-at-${performance.now()}`,start:e,position:e},this._onMouseDownOverride){this._onMouseDownOverride(e),this.dragInfo.interrupted=!0;return}this._dragCallbacks.onDragStart?.(this.dragInfo)},this.onUp=(e,t)=>{if(!this.dragInfo){this._onViewportPositionClick?.(e,t);return}if(this.dragInfo.interrupted)return;let n=this.dragInfo;if(this.dragInfo=null,!(c.Mi.distance(e,n.start)>this.dragMin)||this._dragCallbacks.canDrag&&!this._dragCallbacks.canDrag()){this._dragCallbacks.onDragCancel?.(n.id),this._onViewportPositionClick?.(e,t);return}this._dragCallbacks.onDragEnd?.(n)},this.onMove=e=>{this.dragInfo&&!this.dragInfo.interrupted&&(this.dragInfo={...this.dragInfo,position:e},this._dragCallbacks.onDragUpdate?.(this.dragInfo))}}set onCanvasPositionClick(e){this._onCanvasPositionClick=e}set onViewportPositionClick(e){this._onViewportPositionClick=e}set onMouseDown(e){this._onMouseDownOverride=e}set dragCallbacks(e){this._dragCallbacks=e}subscribe(){return this.eventProvider.on("down",this.onDown),this.eventProvider.on("up",this.onUp),this.eventProvider.on("move",this.onMove),()=>{this.eventProvider.off("down",this.onDown),this.eventProvider.off("up",this.onUp),this.eventProvider.off("move",this.onMove)}}cancel(){this.dragInfo&&(this.dragInfo.interrupted=!0,this._dragCallbacks.onDragCancel?.(this.dragInfo.id))}}function n9(e){return{on:(t,n)=>{let o=e[t];o&&nS.on(o,n)},off:(t,n)=>{let o=e[t];o&&nS.AU(o,n)}}}let n6=n9({down:"mousedown",up:"mouseup",move:"mousemove"}),oe=n9({}),ot={subscribe:!0,touchEvents:!1};function on(e){let t=i.useContext(k.kw),n=(0,tc.pC)(),a=(0,tc.gu)(),r=(0,tc.fG)(),l=(0,s.wA)(),d=(0,s.d4)(e=>e.selectedView.view),{dragEventHandler:c}=e,{canvasPositionClick:m}=c,[u,h]=i.useState(null),[p,g]=i.useState(null),[A,v]=i.useState(null),x=i.useMemo(()=>"communityHub"===d?{}:{canDrag:()=>l(f.UU()),onDragStart:e=>{let n=(0,O.$$)(t.getRawViewportInfo(),e.start);v(n),h((0,O.$$)(t.getRawViewportInfo(),e.position)),g(r(n))},onDragCancel:()=>{v(null),h(null),g(null)},onDragUpdate:e=>{if(!A||!u)return;let n=(0,O.$$)(t.getRawViewportInfo(),e.position);if(p){let e=(0,eC.pV)(n,p);(e.x!==u.x||e.y!==u.y)&&h(e);return}h(n)},onDragEnd:e=>{if(A&&u){if(n((0,O.$$)(t.getRawViewportInfo(),e.start))){a(),v(null),h(null),g(null);return}m(u,!0)&&l(f.a$({selectionBoxAnchor:(0,O.$$)(t.getRawViewportInfo(),e.start)})),v(null),h(null),g(null)}}},[t,n,r,a,l,m,d,u,h,p,g,A,v]);i.useEffect(()=>{c.dragCallbacks=x},[x,c]);let C=u?(0,O.Z0)(t.getRawViewportInfo(),u):null,w=A?(0,O.Z0)(t.getRawViewportInfo(),A):null;if(!C||!w)return null;let b=Math.min(w.x,C.x),y=Math.min(w.y,C.y),I=Math.max(w.x-b,C.x-b),E=Math.max(w.y-y,C.y-y);return(0,o.jsx)("div",{className:nK,style:{left:b,top:y,width:I,height:E}})}let oo={replace:!1};function oi(e){let{requestToDeselectCommentPin:t,requestToAddDraftCommentPin:n}=e,a=(0,O.ni)(),r=(0,s.d4)(e=>e.selectedView.view),d=(0,l.md)(z.R),c=void 0!==e.isActiveCommentPinned?e.isActiveCommentPinned:d,m=(0,s.d4)(e=>e.comments.editingComment),u=(0,s.d4)(e=>e.comments.emojiPicker),h=(0,s.wA)(),{activeId:p,commentCreationDisabled:g}=e,A=(0,s.d4)(e=>e.mirror.appModel.currentTool)===F.NLJ.COMMENTS&&"fullscreen"!==r,x=function(e,t,n,o,a){let{requestToDeselectCommentPin:r,eventPreferences:l,allowCompose:d,requestToAddDraftCommentPin:c}=o||{},m=i.useContext(k.kw),u=(0,tc.pC)(),h=(0,tc.gu)(),p=(0,s.wA)(),g=(0,_.ut)(F.Ez5?.singleSlideView().focusedNodeId,null),A=i.useRef(g);i.useEffect(()=>{g!==A.current&&(A.current=g,p(f.UU()))},[g,p]);let x=i.useCallback((o,i)=>{if(e&&(d||!t))return r?!0!==i&&(r(),!0):(n&&n(!1),!p(f.UU())||!0!==i)},[e,d,t,r,n,p]),{touchEvents:C}=l||{},w=i.useCallback((e,t)=>{let n=(0,O.Z0)(m.getViewportInfo(),e),{replace:o}=t||oo;if(!x(n,o)&&(!C||o)&&(0,v.rN)(n,m.getValidCommentsRect())){if(u(e)){h();return}return c?c?.({x:n.x,y:n.y,width:32*1.15,height:32*1.15}):(p(f.vV({anchorPosition:e})),p(f.CX())),e}},[x,c,C,m,u,h,p]),b=i.useCallback((e,t)=>w((0,O.$$)(m.getRawViewportInfo(),e),t),[m,w]);return function(e,t,n,o,s,a){let{touchEvents:r,subscribe:l}={...ot,...o||{}},d=i.useCallback(()=>new n8(r?oe:n6),[r]),[c,m]=i.useState(()=>d());return i.useEffect(()=>{m(d())},[d]),i.useEffect(()=>l?c.subscribe():()=>{},[c,l]),i.useEffect(()=>{r&&s&&a?.current?(s.updateTapGestureRecognizer(a.current,e=>{t(e)}),s.updateMultiTouchLongPressGestureRecognizer(a.current,e=>{t(e,{replace:!0})},1)):(c.onCanvasPositionClick=e,c.onViewportPositionClick=t)},[e,t,c,r,s,a]),i.useEffect(()=>{c.onMouseDown=n},[n,c]),c}(w,b,d?null:x,l,i.useContext(n5.W),a)}(p,c,e.setIsPinned,{requestToAddDraftCommentPin:n,eventPreferences:{touchEvents:e.preferTouchOverMouseForComments},allowCompose:!0!==g||A,requestToDeselectCommentPin:t},e.gestureCanvasRef),C=i.createRef(),w=i.useCallback(t=>{if(t.keyCode===n7.Uz.ESCAPE&&(x.cancel(),!m&&e.activeId)){u&&u.visible&&h(f.RI({visible:!1}));return}},[h,m,e.activeId,u,x]),b=ew.v_(e.recordingKey,"keydown",w),y=i.useCallback(e=>{b(e.event)},[b]),I=i.useRef();if(i.useEffect(()=>{if(I.current&&"details"===e.mode&&!e.activeId){I.current();return}},[e.mode,I,e.activeId]),!a)return null;let{x:E,y:M,width:P,height:j}=a,B={left:e.positionRelativeToCanvas?0:E,top:e.positionRelativeToCanvas?0:M,width:P,height:j};return(0,o.jsx)(n3.vL,{name:"comments-view-canvas",focusOnMount:!1,propagateKeyboardFocus:!0,handleKeyDown:y,ref:C,focusFunctionRef:I,style:{position:"absolute"},children:(0,o.jsx)("div",{"data-forward-events-to-fullscreen":!0,className:"comments_view--viewContainer--gpOsy comments_view--_container--bDxcy",children:(0,o.jsxs)("div",{"data-allow-component-drop":!0,"data-forward-events-to-fullscreen":!0,className:"comments_view--outerAnchorContainer--ppSFh comments_view--_container--bDxcy",ref:e.forwardedRef,style:B,children:[(0,o.jsx)(on,{dragEventHandler:x}),e.children]})})})}let os=i.forwardRef((e,t)=>(0,o.jsx)(oi,{...e,forwardedRef:t}));function oa(e){let t=i.useRef(e);return i.useEffect(()=>{t.current=e},[e]),i.useCallback(e=>{let n=t.current,o=n.find(t=>t.id===e);if(o)return function(e,t){let n;if(!e.canvasPosition)return;let o=1/0;return t.forEach(t=>{t.id!==e.id&&t.canvasPosition&&t.page===e.page&&c.Mi.distance(e.canvasPosition,t.canvasPosition)<o&&(n=t,o=c.Mi.distance(e.canvasPosition,t.canvasPosition))}),n}(o,n)},[t])}function or(e,t,n){if(0===e.comments.length)return!1;let o=e.comments[0]?.user_id===n,i=e.comments.some(e=>e.user_id===n||(0,v.F$)(e).includes(n));return t.canEdit||o||i}let ol=e=>{let t=(0,l.Xr)(z.R),n=(0,d.am)();return i.useCallback(o=>{t(o),o&&n("Comment Pinned",{parentCommentId:e})},[e,n,t])};function od(e){var t;let{activeId:n}=e,a=i.useContext(k.kw),l=(0,s.d4)(e=>"communityHub"===e.selectedView.view),d=(0,E.iZ)(),m=(0,y.q5)(),u=(0,s.d4)(e=>e.selectedView.commentThreadId),h=(0,s.wA)(),p=i.useContext(T.hh),f=p.filteredThreads,v=(0,nq.WM)(f,e.pageId,n,e.showOnlyParticipatingComments,e.hideInactiveComments);t=f.status,(0,I.t)(e=>{"loaded"===t&&e("comments_rendered")},[t]);let x=(0,nq.hC)(p.threads,[]),C="loaded"===p.threads.status,w=(0,A.Le)(),b=u&&C&&x.some(e=>e.id===u),M=!!u&&C&&!b&&w,j=(0,nq.nq)(u,C,n,x,a,e.requestToSelectCommentPin);i.useEffect(()=>{(j||M)&&h(g.ST())},[j,M,h]);let D=(0,nq.uB)(n,e.pageId),F=(0,nq.zf)(v,a.getViewportInfo()),[S,N]=i.useMemo(()=>{let e=F.findIndex(e=>e.id===n);return -1===e?[void 0,void 0]:[F[e-1],F[e+1]]},[F,n]),R=d?.id&&D&&m?or(D,m,d.id):null,U=e.hideResolve||!R,O=i.useRef(null),_=i.useCallback(e=>{if(O.current){let t=O.current.getBoundingClientRect();return e.subtract(new c.Mi(t.left,t.top))}return new c.Mi(0,0)},[]),[L,Q]=i.useState(null),H=!(e.requestToSelectCommentPin&&D?.id!==P.hm),V=ol(D?.id);return(0,o.jsxs)(o.Fragment,{children:[(0,r.kc)().comments_react?(0,o.jsx)(eH,{activeThread:D,dragDisabledOverride:e.dragDisabledOverride,isCommunity:l,pageId:e.pageId,requestToDeselectCommentPin:e.requestToDeselectCommentPin,requestToSelectCommentPin:e.requestToSelectCommentPin,setActivePinSize:Q,setClientMeta:e.setClientMeta,threads:v,viewportPositionFromClientPosition:_}):(0,o.jsx)(B.IN,{activeThread:D,dragDisabledOverride:e.dragDisabledOverride,isCommunity:l,pageId:e.pageId,requestToDeselectCommentPin:e.requestToDeselectCommentPin,requestToSelectCommentPin:e.requestToSelectCommentPin,setActivePinSize:Q,setClientMeta:e.setClientMeta,threads:v,viewportPositionFromClientPosition:_}),(0,o.jsx)(os,{ref:O,activeId:n,commentCreationDisabled:"pins"===e.mode||e.commentCreationDisabled,gestureCanvasRef:e.gestureCanvasRef,mode:e.mode,positionRelativeToCanvas:e.positionRelativeToCanvas,preferTouchOverMouseForComments:e.preferTouchOverMouseForComments,recordingKey:"commentsViewCanvas",requestToAddDraftCommentPin:e.requestToAddDraftCommentPin,requestToDeselectCommentPin:e.requestToDeselectCommentPin,setIsPinned:V,children:(0,o.jsx)(o.Fragment,{children:D&&H&&(0,o.jsx)(n4,{commentCreationDisabled:e.commentCreationDisabled,detailContainerPortal:e.detailContainerPortal,hideComposer:!!e.requestToAddDraftCommentPin,hideResolve:U,isLoading:e.isLoadingActiveThread,maxCommentLength:e.maxCommentLength,mountNewCommentUnfocused:e.mountNewCommentUnfocused,nextThread:N,onComposeFocus:e.onComposeFocus,pageId:e.pageId,pinOffset:L,prevThread:S,renderDetailContainerInPortal:e.renderDetailContainerInPortal,setClientMeta:e.setClientMeta,setIsPinned:V,setResolved:e.setResolved,submitNewComment:e.submitNewComment,submitReply:e.submitReply,thread:D,updateCommentContent:e.updateCommentContent,viewportPositionFromClientPosition:_})})})]})}function oc(e){let t=(0,M.Qt)(e.activeId);return(0,o.jsxs)(m.tH,{boundaryKey:"FileCommentsOverlay",team:a.e.WAYFINDING,fallback:m.H4.NONE_I_KNOW_WHAT_IM_DOING,children:[(0,o.jsx)(j.p,{children:(0,o.jsx)(eV.T,{})}),(0,o.jsx)(om,{...e,usersOnFile:t})]})}function om(e){let t=(0,A.wq)(),n=(0,D.s)(),a=(0,s.wA)(),r=function(){let e=(0,eY.Vi)(),t=(0,s.d4)(e=>e.mirror.appModel.showComments);return e?"details":!1===t?null:"pins"}(),{pageId:l,modeOverride:d}=e,c=i.useContext(k.kw),m=(0,nq.H6)(c,l),g=(0,A.I_)().writeAPI,v=i.useCallback(e=>{if(!g){console.error("Calling submitReply with no write API");return}"loaded"===t.status&&t.data.find(t=>t.id===e.threadId)&&(e.onCommentValidationFailure=(t,o,i,s)=>f.dB(g,a,t,o,i,s,e.uuid,n),a(f.lV({...e,commentsWriteApi:g,commentsConfiguration:n})),(0,u.YQ)({id:eV.w}))},[a,t,g,n]),y=i.useCallback(e=>{if(!g){console.error("Calling submitNewComment with no write API");return}e.onCommentValidationFailure=(e,t,n,o)=>f.C(a,e,t,n,o),a(f._v(e))},[a,g]),I=(0,s.d4)(e=>e.selectedView),E=(0,w.Yi)(I),M=(0,h.e)(),P=(0,s.d4)(e=>"fullscreen"===e.selectedView.view),j=(0,x.aV)(),{isLoading:B}=(0,C._Z)(),T=d||r,F=(0,nq.hC)(t,[]);(0,b.d0)(e.activeId,F,c,P,m),(0,b.$P)(e.activeId,F,c,d,T);let S=(0,w.sc)(),N=i.useCallback(e=>{a(f.hY(e))},[a]),R=i.useCallback(e=>{a(f.hx(e))},[a]);if((0,p.Kv)()||M||P&&(j||B)||null===T||E)return null;let U=!P&&!!S?.requestToSelectCommentPin&&!!S?.requestToDeselectCommentPin&&!!S?.requestToAddDraftCommentPin;return(0,o.jsx)(od,{activeId:e.activeId,detailContainerPortal:e.detailContainerPortal,dragDisabledOverride:S?.shouldDisableCommentDrag,gestureCanvasRef:e.gestureCanvasRef,hideInactiveComments:!1,mode:T,pageId:e.pageId,positionRelativeToCanvas:!1,preferTouchOverMouseForComments:U,renderDetailContainerInPortal:e.renderDetailContainerInPortal,requestToAddDraftCommentPin:S?.requestToAddDraftCommentPin,requestToDeselectCommentPin:S?.requestToDeselectCommentPin,requestToSelectCommentPin:S?.requestToSelectCommentPin,setClientMeta:N,setResolved:R,showOnlyParticipatingComments:e.showOnlyParticipatingComments,showResolvedComments:e.showResolvedComments,submitNewComment:()=>{m(),(0,u.YQ)({id:eV.w})},submitReply:v,updateCommentContent:y})}od.displayName="CommentsOverlay"},409757:(e,t,n)=>{n.d(t,{Z:()=>a,_:()=>r});var o=n(716976),i=n(361170),s=n(198444);class a{constructor(e,t){this.guide=null;let n=0;"number"==typeof e&&(n=e),this.inset={top:e.top||e.vertical||n,bottom:e.bottom||e.vertical||n,left:e.left||e.horizontal||n,right:e.right||e.horizontal||n},t&&(this.guide=document.createElement("div"),this.guide.id="inset-guide",this.guide.style.position="fixed",this.guide.style.zIndex="10",this.guide.style.display="none",this.guide.style.pointerEvents="none",document.firstElementChild.append(this.guide))}_computePositionWithinInsetBounds(e,t,n,o,i){let s=n.top,a=n.bottom-this.inset.bottom,r={};t.y<s?r.y=s:t.y+e.clientHeight>a&&(r.y=a-e.clientHeight);let l=n.left,d=n.right;if(t.x<l?r.x=l:t.x+e.clientWidth>d&&(r.x=d-e.clientWidth),r.x&&o&&r.x<t.x){let n=Math.min(o.x-(i?.x||0),d)-e.clientWidth;n>l?r.x=n:r.x=t.x}return r}computePositionWithinInsetBounds(e,t,n,o,i,s){let a={top:this.inset.top,left:this.inset.left,right:n.width-this.inset.right,bottom:n.y+n.height-this.inset.bottom-(s??0)},r=this._computePositionWithinInsetBounds(e,t,a,o,i);if(this.guide){let e={top:n.y+this.inset.top,left:n.x+this.inset.left,width:n.width-this.inset.right-this.inset.left,height:n.height-this.inset.bottom-this.inset.top};this.guide.style.top=`${e.top}px`,this.guide.style.left=`${e.left}px`,this.guide.style.height=`${e.height}px`,this.guide.style.width=`${e.width}px`,this.guide.style.display="block",r.y||r.x?this.guide.style.border="1px solid red":this.guide.style.border="1px solid green"}return r}}function r(e,t,n,a,r,l){let{newCommentAdditionalBottomInset:d}=(0,s.s)(),c=e.current,m=o.useMemo(()=>t?i.Mi.add(t,l):null,[l,t]);return o.useMemo(()=>{if(!m)return null;if(!c||!a)return m;let e=a.computePositionWithinInsetBounds(c,m,n,t,r,d);return{...m,...e}},[m,c,a,n,t,r,d])}},483824:(e,t,n)=>{n.d(t,{g:()=>c,H:()=>r});var o=n(142462),i=n(292423),s=n(361170);class a{constructor(e,t,n){this.cellSize=e,this.neighborThreshold=t,this.sizeFn=n,this.grid=new Map,this.NEIGHBORING_CELL_DELTAS=[[0,0],[-1,0],[0,-1],[0,1],[1,0],[1,-1],[1,1],[-1,-1],[-1,1]]}add(e){let{x:t,y:n}=this.getCoords(e),o=this.toCellIndex(n),i=this.toCellIndex(t);this.getCell(o,i).push(e)}findNeighbor(e){let t=this.sizeFn(e),{x:n,y:o}=this.getCoords(e),i=this.toCellIndex(o),a=this.toCellIndex(n);for(let[n,o]of this.NEIGHBORING_CELL_DELTAS)for(let r of this.getCell(i+n,a+o))if(r!==e){let e=this.sizeFn(r);if((0,s.gt)(t,e)<=this.neighborThreshold)return r}return null}getCoords(e){let t=this.sizeFn(e);return{x:t.x+t.width/2,y:t.y+t.height/2}}getCell(e,t){let n=this.grid.get(e);n||(n=new Map,this.grid.set(e,n));let o=n.get(t);return o||(o=[],n.set(t,o)),o}toCellIndex(e){return Math.floor(e/this.cellSize)}}function r(e,t){return Math.max(e.minZoomPercentage/100-t,0)*e.zoomScaleOverlap}let l=(e,t)=>{t.forEach(t=>{let n=e.threads.length,o=t.threads.length,i=n+o,s=e.x*n/i+t.x*o/i,a=e.y*n/i+t.y*o/i;e.x=s,e.y=a,e.threads=e.threads.concat(t.threads)})};class d{constructor(e,t,n){let s=r(t,e.zoomScale),l=i.XC.getPinSize(3),d=Math.ceil(Math.max(o.u5,l.width,l.height)+s);this.distanceGrid=new a(d,s,n)}getNearbyNeighbor(e){return this.distanceGrid.findNeighbor(e)||void 0}onAddToResultCluster(e){this.distanceGrid?.add(e)}}function c(e,t,n,i){let s=[],a=[];for(let t of e)t.isActive||t.id===i?a.push(t):s.push({x:t.canvasPosition.x,y:t.canvasPosition.y,threads:[t]});let r=e=>o.ip.getClusterViewportRect(e,t);if(t.zoomScale<=n.minZoomPercentage/100){let e=new Map;do{e.clear();let o=new d(t,n,r),i=[];for(let t of s){let n=o.getNearbyNeighbor(t);n?e.has(n)?e.get(n).push(t):e.set(n,[t]):(o.onAddToResultCluster(t),i.push(t))}e.forEach((e,t)=>{l(t,e)}),s=i}while(e.size>0)}return a.forEach(e=>{let{canvasPosition:t}=e;t&&s.push({x:t.x,y:t.y,threads:[e]})}),s}},854855:(e,t,n)=>{n.d(t,{m:()=>O});var o=n(104076),i=n(716976),s=n(684742),a=n(689161),r=n(812714),l=n(511570),d=n.n(l),c=n(428710),m=n(784220),u=n(858959),h=n(498520),p=n(983468),f=n(378820),g=n(681398),A=n(641518),v=n(366815),x=n(652539),C=n(192075),w=n(122010),b=n(951002),y=n(173272),I=n(925912),E=n(572988),M=n(25493),k=n(194200);function P(e){let t="left"===e.side?M.A:k.A,n="left"===e.side?`6px 0 0 ${e.color}`:`-6px 0 0 ${e.color}`;return(0,o.jsx)(u.P.div,{style:{opacity:e.opacity,position:"relative",top:e.offset,zIndex:1},"aria-hidden":(0,r.kc)().figjam_a11y_spotlight,children:(0,o.jsx)("div",{style:{boxShadow:n,transition:`box-shadow ${E.Bn}s linear`},children:(0,o.jsx)(x.B,{svg:t,style:{fill:e.color,transition:`fill ${E.Bn}s linear`}})})})}function j(e){let{opacity:t,offset:n,color:i,children:s}=e;return(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start"},children:[(0,o.jsx)(P,{side:"left",opacity:t,offset:n,color:i}),(0,o.jsx)("span",{style:{zIndex:2},children:s}),(0,o.jsx)(P,{side:"right",opacity:t,offset:n,color:i})]})}function B(e){return(0,o.jsx)("div",{style:{borderRadius:"6px",overflow:"hidden"},children:e.children})}function D(e){let{color:t,docked:n,dockedStyle:i,dockedOffset:s,children:a}=e,r=(0,y.d)(1),l=(0,y.d)(0),d=!0===n?r:!1===n?l:n,c=(0,I.G)(d,[0,1],[0,1]),m=(0,I.G)(d,[0,1],["0px",`${s}px`]),h=(0,I.G)(d,[0,1],["6px","0px"]);switch(i){case"straight":return(0,o.jsx)(u.P.div,{style:{borderTopLeftRadius:h,borderTopRightRadius:h,borderBottomLeftRadius:"6px",borderBottomRightRadius:"6px",backgroundColor:t,overflow:"hidden"},children:a});case"inverted":return(0,o.jsx)(j,{opacity:c,offset:m,color:t,children:(0,o.jsx)(B,{children:a})});default:(0,b.xb)(i)}}var T=n(704728),F=n(851824);let S=({enabled:e})=>{let[t,n]=i.useState(0),o=i.useCallback(()=>{n(Date.now())},[]);return i.useEffect(()=>(e&&document.addEventListener("mousemove",o),()=>{document.removeEventListener("mousemove",o)}),[o,e]),t};function N({enabled:e,children:t}){let n=S({enabled:e}),s=(0,T.E)(),a=i.useCallback(()=>{s.start({opacity:1,transition:{duration:0}})},[s]),r=i.useCallback(()=>{s.start({opacity:0,transition:{duration:.5}})},[s]),l=(0,F.A)(r,5e3);return i.useEffect(()=>{a(),e?l():l.isPending()&&l.cancel()},[e,n,l,a]),(0,o.jsx)(u.P.div,{animate:s,children:t})}let R="multiplayer_bell--buttonContainer--4rypl";var U=n(821527);function O(e){let{color:t,useSecondaryColor:n,message:l,renderKey:w,progressBar:b,progressBarDurationMs:y,autoHide:I,button:M,secondaryButton:k,showCloseButton:P,onCloseCallback:j,docked:B,dockedBorderInfo:T,isTabAccessible:F}=e,[S,O]=i.useState(!1),L=g.Xb?"multiplayer_bell--buttonMobile--Z5j0F multiplayer_bell--button--QWm4n multiplayer_bell--multiplayerText--b-7-0 text--fontPos11--2LvXf text--_fontBase--QdLsd multiplayer_bell--multiplayerTextMobile--4qVD- multiplayer_bell--multiplayerText--b-7-0 text--fontPos11--2LvXf text--_fontBase--QdLsd text--fontPos14--OL9Hp text--_fontBase--QdLsd":"multiplayer_bell--button--QWm4n multiplayer_bell--multiplayerText--b-7-0 text--fontPos11--2LvXf text--_fontBase--QdLsd",Q=g.Xb?"multiplayer_bell--messageMobile--Z1sCx multiplayer_bell--message--POM9v multiplayer_bell--multiplayerText--b-7-0 text--fontPos11--2LvXf text--_fontBase--QdLsd multiplayer_bell--multiplayerTextMobile--4qVD- multiplayer_bell--multiplayerText--b-7-0 text--fontPos11--2LvXf text--_fontBase--QdLsd text--fontPos14--OL9Hp text--_fontBase--QdLsd":"multiplayer_bell--message--POM9v multiplayer_bell--multiplayerText--b-7-0 text--fontPos11--2LvXf text--_fontBase--QdLsd",H=g.Xb?"multiplayer_bell--closeButtonMobile--s-kHx multiplayer_bell--closeButton--5Pbdu multiplayer_bell--multiplayerTextMobile--4qVD- multiplayer_bell--multiplayerText--b-7-0 text--fontPos11--2LvXf text--_fontBase--QdLsd text--fontPos14--OL9Hp text--_fontBase--QdLsd":"multiplayer_bell--closeButton--5Pbdu",V=t??h.ol.MULTIPLAYER_GRAY,Y=i.useMemo(()=>{if("brand"===t)return{"--multiplayerBellBackgroundColor":n?"var(--color-bg-brand-hover)":"var(--color-bg-brand)","--multiplayerBellTextColor":"var(--color-text-onbrand)","--multiplayerBellButtonBackgroundColor":"var(--color-bg-menu)","--multiplayerBellButtonTextColor":"var(--color-text-menu)","--multiplayerBellButtonHoverColor":"var(--color-bg-menu-secondary)","--multiplayerBellProgressBackgroundColor":"var(--color-bg-brand-hover)"};{let e=(0,h.H0)(V),t=(0,p.Hd)(e,-.15),o=(0,p.Hd)(e,-.55),i=(0,p.Hd)(e,-.8),s=e&&(0,h.GL)(e),a=o&&(0,h.GL)(o);return{"--multiplayerBellBackgroundColor":n&&t?(0,c.colorToString)(t):V,"--multiplayerBellTextColor":s,"--multiplayerBellButtonBackgroundColor":o?(0,c.colorToString)(o):void 0,"--multiplayerBellButtonTextColor":a,"--multiplayerBellButtonHoverColor":i?(0,c.colorToString)(i):void 0,"--multiplayerBellProgressBackgroundColor":t?(0,c.colorToString)(t):void 0}}},[V,t,n]),z=(0,i.useRef)(null),G=(0,i.useRef)(null),X=(0,f.wY)(z),J=(0,f.wY)(G),K=X&&J?X.width+J.width:"auto";if(S)return null;let Z=y>=E.BI?"multiplayer_bell--progressBarAnimationSlow--Rfp9s":"multiplayer_bell--progressBarAnimationQuick--aBXRY";return(0,o.jsx)(N,{enabled:I,children:(0,o.jsx)(D,{color:Y["--multiplayerBellBackgroundColor"],docked:B||!1,dockedStyle:0===(T?.width||0)?"straight":"inverted",dockedOffset:T?.width||0,children:(0,o.jsx)(_,{isTabAccessible:F,children:(0,o.jsx)(m.N,{initial:!1,children:(0,o.jsxs)("div",{className:"multiplayer_bell--multiplayerBell--MJNGX",style:{...Y,transition:`background-color ${E.Bn}s linear`},children:[b&&(0,o.jsx)("div",{className:"multiplayer_bell--progressBarContainer--6yfl6",children:(0,o.jsx)("div",{className:d()("multiplayer_bell--progressBarFill--McozJ",Z),style:{animationDuration:`${y}ms`}})}),(0,o.jsx)("div",{className:"multiplayer_bell--messageAndButtonsContainer--SRFq4",children:(0,o.jsxs)(u.P.div,{animate:{width:K},className:"multiplayer_bell--messageAndButtonsVariableWidthContainer--6tqVI",transition:{duration:E.Uj,type:"easeOut"},children:[(0,o.jsx)("div",{style:{width:"fit-content"},ref:z,"aria-live":"polite",children:l.onClick?(0,o.jsx)(s.E,{className:d()(Q),recordingKey:A.Pt(e,"message"),onClick:l.onClick,children:(0,o.jsx)(a.T,{children:l.text})}):(0,o.jsx)(a.T,{className:d()(Q),children:l.text})}),(0,o.jsx)("div",{style:{width:"fit-content"},ref:G,children:(0,o.jsxs)("div",{className:"multiplayer_bell--buttonsContainer--9CCwH",children:[(0,r.kc)().spotlight_zoom_override&&k&&(0,o.jsx)(u.P.div,{className:R,children:(0,o.jsx)(s.E,{className:d()(L),recordingKey:A.Pt(e,"button"),onClick:k.onClick,children:k.text})}),M&&(0,o.jsx)(u.P.div,{className:R,initial:{opacity:0},animate:{opacity:1},transition:{duration:E.Gy,delay:E.kS},children:(0,o.jsx)(s.E,{className:d()(L),recordingKey:A.Pt(e,"button"),onClick:M.onClick,children:M.text})}),P&&(0,o.jsx)("div",{className:R,children:(0,o.jsx)(v.GG,{className:d()(H),recordingKey:A.Pt(e,"closeButton"),onClick:()=>{j&&j(),O(!0)},"aria-label":(0,C.t)("collaboration.spotlight.bell.dismiss"),children:(0,o.jsx)(x.B,{svg:U.A})})})]})})]})})]},w)})})})})}function _({isTabAccessible:e,children:t}){return e?(0,o.jsx)(o.Fragment,{children:t}):(0,o.jsx)(w.m,{role:"region",children:t})}},844379:(e,t,n)=>{n.d(t,{s:()=>s});var o=n(104076),i=n(192075);function s({count:e}){let t;return t=e<10?60:e<100?68:72,(0,o.jsx)("div",{style:{minWidth:t,display:"flex",justifyContent:"center"},children:(0,i.tx)("collaboration.spotlight.bell.presenter.follower_count",{followerCount:e})})}},437595:(e,t,n)=>{n.d(t,{Y:()=>h});var o=n(104076),i=n(716976),s=n(511570),a=n.n(s),r=n(173272),l=n(925912),d=n(858959),c=n(854855),m=n(572988),u=n(424793);function h(e){let{borderInfo:t}=i.useContext(u.h),n=t.width,s=e.docked?0:8,h=(0,r.d)(s),p=(0,l.G)(h,[8,n,0],[0,0,1]),f=(0,l.G)(h,[8,0],[0,1]),g=0===t.width?f:p;return(0,o.jsx)(d.P.div,{className:a()({"positioned_multiplayer_bell--multiplayerBellContainer--Ad5kg":!0,"positioned_multiplayer_bell--ghost--vYS1y":e.ghost}),animate:{top:s},style:{top:h},initial:!1,transition:{type:"easeout",duration:m.lo},children:(0,o.jsx)(c.m,{...e,docked:!!e.docked&&g,dockedBorderInfo:t,recordingKey:"multiplayerBell",isTabAccessible:e.isTabAccessible})},e.renderKey)}},424793:(e,t,n)=>{n.d(t,{h:()=>o});let o=n(716976).createContext({borderInfo:{width:0,color:"transparent"},style:{}})},572988:(e,t,n)=>{n.d(t,{BI:()=>l,Bn:()=>r,Gy:()=>s,Uj:()=>i,kS:()=>a,lo:()=>o});let o=.2,i=.2,s=.05,a=.2-.05,r=.1,l=3e3},547829:(e,t,n)=>{n.d(t,{De:()=>i,JR:()=>s,p4:()=>o});let o="848484",i={"007BE5":"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","00B5CE":"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","0FA958":"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","14AE5C":"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","19A0FB":"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPEVycm9yPjxDb2RlPkFjY2Vzc0RlbmllZDwvQ29kZT48TWVzc2FnZT5BY2Nlc3MgRGVuaWVkPC9NZXNzYWdlPjxSZXF1ZXN0SWQ+OTNWUldYM0I5OUZSNTZBWjwvUmVxdWVzdElkPjxIb3N0SWQ+bzRwUThldDB3N0pWWTZWT2p2dkM3cUM3UlVkaTNTaVh0enZUVlpvUlo5WHFSR1BHMnBhMzVkWlRDWlY2cjJwUGczbmxFVFdYWjhnPTwvSG9zdElkPjwvRXJyb3I+","1BC47D":"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","5551FF":"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",667799:"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",848484:"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","907CFF":"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","9747FF":"iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAi6SURBVHgB7VpdbBTXFT7etdfr9a4dg42xhWMKThMRNS511Sp9IhJtkSrcVi1USG3DaxTxQkWlij7QhwoaUSHRVICEFCobGjCiEq6KVFcUVChRAnVxIhQECb82MRDA/7ve3bn5vjv3esfgBBvswWzmk45mZ3bX4/n2nO/83CsSIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAE8KSqkCHApkliMkPgBk2JcF5p76vps2bbLnBSTM87lZA19+QT48YO/3wD1BlPIclfnM7GNrhqC9xIRUIawonU5vP3v27PN4HYVFmpqaivjeqlWrwiDJepR8KeDRmjAsAosmk8k3cV2Njo62HD169EVcK12wYEEJjsViiJKnQJ+mC1Zn6CX0mNJbt269pgyy2eyV27dv/+YZAO/FYSXms2HPd/MXxoPCS5YsoffEYOUtLS3fUPeBRF24cOEXfB9WKsabxCPiko9exQczIcMH5oNXwGpASB+JObFTqf5PckQNDAy8feDAga/jM2WesCvy6pPkE6wHifugDKFKWB2IeIeEHPmdUju+r9R7LUolB3NE3blz5w/ikpkQN+zogZakvCOKD0SC+LBVsPrr16//RXvQDpcgWusvlfrwnzmSMpnM1e7u7teNPtmw0xmPRPkRdjMugOYh9Etz1A/V09PzIU8qF+c+O9Ar8u8/ihz+tfs6HA7X1dbWvnnt2rWdCLvnxBC0cOFCTRBqq5ApBwo895lW+JEhxgqaqqoqXQhGo1Hn4MGDp3mt9qUHv9DTJbL3VZH/7nSJisfjP4MGdSLsNm7durXq8uXL9CIdciRJcl407ST5FccFKAYLz5w5E0kkElHoD7NZAiH0Drwk8dZPRFJDE38xUS3yzZ+LPP9d9xzifu3GjRtv1NXVteI0YywLc0Q7rOKRlfu0VJq+9WIgRnsPyOEDaEPB2MP35y7+/O/asKNH2bBDdvtTKpU6sW/fPht29KbCZcuWMezCpq+Zlh/ftyLs2LFjAu0YIweWRYGow2zuood/n+SQJJLF15FI5MU1a9b8b3BwcMehQ4caKisrIxcvXtQCLrks99hE+VmlOoWFhdqLSktLNUn37t3r5huViyf/R853uCL+/t/cc/ytNc3Nze2dnZ2vwjuj0DlLEkuLkJkYPDJRvmmQMf7jDAfWNfHt27c3rVu3rs16x1RBfXrlVzmhpz7Bm5pXr159Scbrk50SaH2SKUwK/PIg+w+p6upq+49mjxw5cp0X+aDFpTJlkFh6kw076hOzHcLOWxbobCeuN4WmOiXwsxrVFTUEtqi/v78EI4/YyMhIAkL9r+Li4tq210U+/UgeGREQ/NKP3YxH0JtQFuycN2/en3GaRi+YOXfunNU/61EPhW8axF8OWUZQQSsQ5CDROCAmi4dw66GvyWNhFGXC6VY3VKlT9Cbo0e9BVNfVq1d/CHK84j1p+DpKsIUizBkeHs4iVTs3b97UFXVZtTwWGKJfeRle9KPxxWcoFHoWNdO+oaGhjQ0NDV6xnhRRheIj2traFFxdYR7k0HApi1/2fGNjo9Q0ypRBIrzmBTxnAN7ZAWLeP378ePv69esv4JwOkWVms2Peh8E3DTJzaa1DEOpIb28vM1npypUraw4fPnwqNSjy1k+/+G9QzBd+xw3H2sYHhR111f/R451Byn937dq1p3BpBJaCJWGjxu7PbF8I3zzIU/qroqIiK5TZ9vb2Pgj1jWg8WkMCmI0mAlsNpnQvEKa90Jf/dHR0nNy/f//5kydP3sPltLhE8Mj7ZCRXnCrooGLR6jgOw08eBl9DjEJtVjeIbCwW01p09+7d92pqapoZJhTYiWCzEwg5denSpc7du3efaG1t7UbxmSHEeAYq7DRm3Wk0xGkQMArL4AfJ4B66XwM5CuSoyZBD+CrS9CLEvoNM5syZM4fk6F8W4Xae71d+TstBcuhdKAs+qa+v/+3y5cv/CnI+xluD4GYAR9ogDQ/O4xC8chiZLIWaKAXStBehYdZhZciZXWme8M5sIJgKYwwt1MhkumCcqGm13TyxefPmjTgMg2j2/iRCEwNvseeaGHG1J4nWg9qTxg+gPQzTBGe6uvwZgSEoZAb4lNhKPFz9ihUrXuacIjmQmy5asxNGhNU/ECrfwneYr74Kq4fViDuhnFNeXl4BryxDKWFXRqLmPuMa2KkO1nwPMR6R2hU0R5WVlXHk4WBtrI9puTjueowFhZnG0NqyZcsuVN9JFJcjJSUl9BIaPSSJv5XEOCU5f/78JMqHUQgxBTqN+1B3slw0MXMimaoH+SrShHLzvcLQa6xohKhSqE9jZPGKV6htaHV1db29a9euy3g5guJSh4+YTAUvyYIwtWjRIk0AGlXlqXHceWwuMTwVy7W6FkJVy0ayHJmMYfLclStXWkhe16HcKgcB7+FQrQn2AqwOnsJVkYT5vh1rzNjw3vdVS9NNK2QWBY/RaR7nWTvEj1ePF+Zt27ZtkFyxl4Lwas9B02vHrJMu+p4KMMLM2hYFFIksXkWh3rBhw/esUFthhlf9HcLMRUSOLuhpXCeza2T5t4hIeNaymF04vJ8LWwB7ATVNv10TY2hhmPYDcUPrWYYWM5QJrbzf3GCni/QGLgrWwhr6+vretQShn3oD17jzg+XjfHHX7KOSS9m+4EntnLCaoSoqKnRPxtYAVe85volM1bN06dI9YnQHlkaDO9ZkKuXf5qEnvbXEMT1SFvVQBtX1B7y4d+/e11DvJJG+U9AoLcqohrMYpzqsZ2Z1NTyNCJmdZTF4UTnFGrXOt0FYG4ipEzfsWCUzBGPms/kpzBPBsyXP7vogEVV79uxpAlnzxBVvvVfItAzhmVp/n7Uw+4bGdp6JS8gz5sidIDFbED7KikQ+wO4dIkkkglktZsw2m75mrdkGu/vMkkRCij3E6PUsmcFWYrbDu/eQRIQ9FjIV9xOF7938fbCbxsXUNsp23sqz+zzAeASkBMgjfAapfoUG2irXuAAAAABJRU5ErkJggg==",D27C2C:"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",EBEBEB:"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",EE46D3:"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",EF5533:"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",F24822:"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",F24E1E:"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",FF24BD:"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",FFC700:"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",FFCD29:"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"},s={848484:"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"}},546547:(e,t,n)=>{n.d(t,{Mw:()=>ev,ON:()=>ec});var o=n(104076),i=n(716976),s=n(903927),a=n(293422),r=n(411631),l=n(790009),d=n(266808),c=n(812714),m=n(795033),u=n(190028),h=n(219199),p=n(755444),f=n(432099),g=n(11395),A=n(236631);n(967782);var v=n(221602),x=n(352630),C=n(192075),w=n(58212),b=n(475477),y=n(873289),I=n(369049),E=n(910223);let M="interacted_with_slack_and_teams_announcement";var k=n(549571),P=n(476008),j=n(915707),B=n(443192),D=n(244205),T=n(373547),F=n(551037),S=n(376165),N=n(107507),R=n(374618),U=n(484495),O=n(211862),_=n(592726),L=n(248043),Q=n(944350),H=n(331497),V=n(904017),Y=n(299640),z=n(532096),G=n(19877),X=n(225654),J=n(380494),K=n(511570),Z=n.n(K),W=n(836982),q=n(816565),$=n(101880),ee=n(259161),et=n(111297),en=n(501883),eo=n(737139);let ei="announcement--announcementAppImg--l9gG8",es="announcement--announcementBrandImg--H6L6b",ea="announcement--imageNoPaddingTop--YSxed";function er(e){return e.link?(0,o.jsx)("div",{children:(0,o.jsx)(ee.Ph,{trackingProperties:{text:e.mainButtonTitle},href:e.link,newTab:!0,children:e.children})}):(0,o.jsx)("div",{className:A.s.wFull.$,children:(0,o.jsx)(x.$z,{variant:"secondary",onClick:e.onClick,disabled:e.disabled,children:e.children})})}function el(e){let t=(0,_.iZ)(),n=(0,O.MY)(),i=(0,s.wA)(),a=(0,U.w)(),r=()=>{let t=e.asset.bg?{backgroundColor:e.asset.bg}:void 0;return"image"===e.asset.type?(0,o.jsx)(q.oW,{src:e.asset.src,className:Z()("brand"===e.layoutStyle?es:ei,{[ea]:e.asset.noPaddingTop}),alt:e.asset.alt,style:t}):(0,o.jsx)("video",{src:e.asset.src,className:Z()("brand"===e.layoutStyle?es:ei,{[ea]:e.asset.noPaddingTop}),"aria-label":e.asset.alt,style:t,autoPlay:!0,loop:!0,muted:!0})},l=J.Qw.useTransform(n,e=>t?.id===e?.creatorId?"owner":e?.canEdit?"editor":"viewer");return(0,o.jsx)(et.fu,{name:e.trackingContextName,properties:{userId:t?.id,jobTitle:a,userRole:l.unwrapOr("viewer")},enabled:e.trackingDisabled&&"loaded"===l.status,children:(0,o.jsx)(W.k,{name:"announcement_panel",children:(0,o.jsxs)(eo.Zk,{className:"announcement--announcementPanel--Ds9Bn",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"announcement--announcementTitleRow--bQu8l",children:[(0,o.jsx)(en.xw,{extended:!0,doNotReserveSpaceForChevron:!0,children:(0,o.jsx)("div",{className:A.s.with({ml8:!0}).$,children:e.title})}),(0,o.jsx)("div",{className:"announcement--announcementCloseButton--vgH6U",children:(0,o.jsx)(x.Me,{"aria-label":(0,C.t)("general.close"),onClick:e.onDismiss?e.onDismiss:()=>{i(B.b({[e.userFlagName]:!0}))},trackingProperties:{action:"close"},children:(0,o.jsx)(X.X,{})})})]}),"app"===e.layoutStyle&&e.description,"brand"===e.layoutStyle&&r()]}),"app"===e.layoutStyle&&r(),"brand"===e.layoutStyle&&e.description,e.mainButtonOverride,!e.mainButtonOverride&&e.mainButtonTitle&&(0,o.jsx)(er,{link:e.ctaHref,onClick:e.onCtaClick,disabled:e.isLoading,mainButtonTitle:e.mainButtonTitle,children:(0,o.jsx)($.x,{isLoading:e.isLoading,className:"announcement--loading--KRjaH",children:()=>(0,o.jsx)(o.Fragment,{children:e.mainButtonTitle})})})]})})})}(0,p.ck)("a553882986986c96fc7d298a674e9e0522d05b53");let ed=(0,N.ck)();var ec=(e=>(e.DESIGN="Design",e.PROTOTYPE="Prototype",e.INSPECT="Inspect",e.HANDOFF="Handoff",e.COMMENTS="Comments",e))(ec||{});let em={assetSrc:(0,p.ck)("828793d9a2d4cff784587a20da2cd458dceddfe9"),backgroundColor:"#F5F5F5",imageNoPaddingTop:!0},eu={assetSrc:(0,p.ck)("fb12393ac78bdda14d77f2be682d3f2e67fe7f6f"),backgroundColor:"#383838",imageNoPaddingTop:!0},eh=e=>{let t=e?.currentPlanUser?.draftsFolderId??void 0;return{folderId:t,isDraftsFolder:void 0!==t}},ep=(e,t)=>{let n=new Date(e);return n.setDate(n.getDate()+t),n},ef=new Date,eg=[{userFlagName:"dismissed_figma_make_prototype_announcement",AnnouncementComponent:function({userFlagName:e}){let t=(0,s.wA)(),n=(0,O.q5)(),i="dark"===(0,T.DP)(),{folderId:a,isDraftsFolder:r}=eh(n),d=(0,j.$)({folderId:a,isDraftsFolder:r,editorType:Q._Y.FIGMAKE,forceOpenNewTab:!0,newFileFrom:Y.f6.FIGMAKE_PROTOTYPE_ANNOUNCEMENT,contextClicked:"figmake_prototype_announcement_created"}),c={type:"video",src:i?(0,p.ck)("001c68beb7c3ebcc9c080f1104272404696c536b"):(0,p.ck)("8aa3d03397da517c320149f5e387c1030ceebe13"),alt:(0,C.t)("upsell.figma_make_prototype_announcement.image_alt"),bg:i?"#2D2E46":"#F7F6FF",noPaddingTop:!0};return(0,o.jsx)(el,{asset:c,description:(0,C.t)("upsell.figma_make_prototype_announcement.description"),layoutStyle:"brand",mainButtonOverride:(0,o.jsx)(l.J,{brand:"seascape",children:(0,o.jsx)(x.lR,{variant:"primary",onClick:d,trackingProperties:{trackingDescriptor:D.c.TRY_FIGMA_MAKE},children:(0,C.t)("upsell.figma_make_prototype_announcement.button_title")})}),onDismiss:()=>{t(B.b({[e]:!0}))},title:(0,C.t)("upsell.figma_make_prototype_announcement.title"),trackingContextName:"Figma Make Prototype Announcement",userFlagName:e})},panelName:"Prototype",additionalDisplayBlocker:({canCreateFigmakeFileInTargetFolder:e})=>!e},{userFlagName:"seen_mobile_proto_announcement",AnnouncementComponent:function(){let e=(0,s.wA)();return(0,m.md)(R.NE)?(0,o.jsx)(el,{asset:{type:"image",src:(0,p.ck)("b50fba0faeea245feed92fe60337297d827e4984"),alt:(0,C.t)("cross_sell.mobile_app_prompt.comment_image_alt_text")},description:(0,C.t)("mobile_download_prompts.play_mobile_prototypes"),isLoading:!1,layoutStyle:"app",mainButtonTitle:(0,C.t)("mobile_download_prompts.email_me"),onCtaClick:()=>{f.Ay.post("/api/send_mobile_download_email",{type:"prototype"}),e(w.F.enqueue({message:(0,C.t)("rcs.mobile_comment_reply_upsell.email_sent")})),e(B.b({seen_mobile_proto_announcement:!0}))},title:(0,C.t)("mobile_download_prompts.run_prototypes_from_your_phone"),trackingContextName:"Mobile App Prototype Announcement",trackingDisabled:!0,userFlagName:"seen_mobile_proto_announcement"}):(0,o.jsx)(o.Fragment,{})},panelName:"Prototype",additionalDisplayBlocker:({userAnalyticsData:e,userFlags:t,selectedView:n})=>!(0,c.kc)().mobile_download_proto_sidebar||e?.is_active_mobile_user||!!t.seen_mobile_proto_download_modal_prompt||(0,z.$A)(n)},{userFlagName:"seen_mobile_comment_announcement",AnnouncementComponent:function(){let e=(0,s.wA)();return(0,o.jsx)(el,{asset:{type:"image",src:(0,p.ck)("5b8af9ed88cb76b20858a7a8ac9fed784e5cbeb7"),alt:(0,C.t)("cross_sell.mobile_app_prompt.comment_image_alt_text")},description:(0,C.t)("mobile_download_prompts.join_team_conversations"),isLoading:!1,layoutStyle:"app",mainButtonTitle:(0,C.t)("mobile_download_prompts.email_me"),onCtaClick:()=>{f.Ay.post("/api/send_mobile_download_email",{type:"comment"}),e(w.F.enqueue({message:(0,C.t)("rcs.mobile_comment_reply_upsell.email_sent")})),e(B.b({seen_mobile_comment_announcement:!0}))},title:(0,C.t)("mobile_download_prompts.meet_your_team"),trackingContextName:"Mobile App Comments Announcement",trackingDisabled:!0,userFlagName:"seen_mobile_comment_announcement"})},panelName:"Comments",additionalDisplayBlocker:({userAnalyticsData:e,userFlags:t,selectedView:n})=>!(0,c.kc)().mobile_download_comment_sidebar||e?.is_active_mobile_user||!!t.seen_mobile_comment_download_modal_prompt||(0,z.$A)(n)},{userFlagName:"dev_mode_dismissed_properties_panel_announcement",AnnouncementComponent:function({userFlagName:e,lifecycle:t}){let n=(0,s.wA)(),i=(0,G.U)("announcement"),a="dark"===(0,T.DP)(),r=()=>{t?(0,S._Z)(t):n(B.b({[e]:!0}))},{assetSrc:d,backgroundColor:c,imageNoPaddingTop:m}=a?eu:em;return(0,o.jsx)(el,{asset:{type:"image",src:d,alt:(0,C.t)("inspect_panel.code.promo_image_alt"),bg:c,noPaddingTop:m},description:(0,C.t)("inspect_panel.properties.dev_mode_upsell_message"),layoutStyle:"brand",mainButtonOverride:(0,o.jsx)("div",{className:A.s.wFull.$,children:(0,o.jsx)(l.J,{brand:"dev-handoff",children:(0,o.jsx)(x.lR,{variant:"primary",onClick:()=>{r(),i("handoff")},children:(0,C.t)("dev_handoff.paywall.blocking_modal.button.request_access")})})}),onDismiss:r,title:(0,C.tx)("dev_handoff.paywall.banner.title"),trackingContextName:"Dev Mode announcement",userFlagName:e})},panelName:"Inspect",lifecycle:{userFlagName:"dev_mode_dismissed_properties_panel_announcement",maxTimes:3,cooldown:"MONTH_AND_A_HALF"},additionalDisplayBlocker:({selectedView:e,isRecovery:t,isReadOnly:n,canAccessDevMode:o})=>!function({isDevHandoffView:e,isRecovery:t,isReadOnly:n,canAccessDevMode:o}){return!t&&n&&!o&&!e}({isDevHandoffView:(0,z.$A)(e),isRecovery:t,isReadOnly:n,canAccessDevMode:o})},{userFlagName:M,AnnouncementComponent:function(){let{filteredSidebarItems:e}=i.useContext(y.hh);return 0===i.useMemo(()=>"loaded"===e.status&&e.data||[],[e]).length?null:(0,o.jsx)(I.u,{className:"dev_handoff_comments_panel_slack_teams_hint--hintPanel--cjNDL",idForTests:"hintFigmaForSlackTeams",userFlag:M,title:(0,C.t)("dev_handoff.comments_panel.slack_teams_hint.title"),icon_DEPRECATED:E.A,hintText:(0,C.tx)("dev_handoff.comments_panel.slack_teams_hint",{figmaForSlackLink:(0,o.jsx)(b.N,{href:"https://figma.slack.com/apps/A01N2QYSA81-figma-and-figjam?tab=more_info",newTab:!0,trusted:!0,children:(0,C.tx)("dev_handoff.comments_panel.slack_teams_hint.slack_link")}),figmaForTeamsLink:(0,o.jsx)(b.N,{href:"https://appsource.microsoft.com/en-us/product/office/WA200004521?exp=ubp8",newTab:!0,trusted:!0,children:(0,C.tx)("dev_handoff.comments_panel.slack_teams_hint.teams_link")})})})},panelName:"Comments",additionalDisplayBlocker:({selectedView:e})=>!(0,z.$A)(e)},{userFlagName:P.xb,AnnouncementComponent:P.FO,panelName:"Handoff",additionalDisplayBlocker:({userFlags:e})=>!e.dev_handoff_seen_config_wizard||ep(e.dev_handoff_seen_config_wizard.updatedAt,3)<ef},{userFlagName:"dev_mode_demo_file_props_panel_upsell_dismissed",AnnouncementComponent:function(){let e=(0,s.wA)(),t=(0,p.tl)().dev_mode_demo_file_key;return t?(0,o.jsx)(el,{asset:{type:"image",src:(0,p.ck)("0381fb8f01b5e71da6e1f3d65e2bab6be47de673"),alt:(0,C.t)("inspect_panel.code.promo_image_alt")},description:(0,C.t)("dev_mode_demo_file.check_out_our_interactive_test"),layoutStyle:"brand",mainButtonOverride:(0,o.jsx)(l.J,{brand:"dev-handoff",children:(0,o.jsx)(x.lR,{variant:"primary",onClick:()=>{t&&h.Ay.redirect((0,L.jN)({file:{key:t},isDevHandoff:!0}),"_blank"),e(B.b({dev_mode_demo_file_props_panel_upsell_dismissed:!0}))},children:(0,C.t)("dev_mode_playground_file.try_it_now")})}),title:(0,C.tx)("dev_mode_playground_file.want_to_try_dev_mode"),trackingContextName:"Dev Mode Demo Props Upsell",userFlagName:"dev_mode_demo_file_props_panel_upsell_dismissed"}):null},panelName:"Inspect",additionalDisplayBlocker:({userFlags:e,isEngineer:t,canAccessDevMode:n,plan:o})=>!e.dev_mode_dismissed_properties_panel_announcement||n||!t||o?.tier===Q.Ag.STARTER}],eA=(0,m.eU)(e=>{let t={};return eg.forEach(n=>{n.lifecycle&&(t[n.userFlagName]=e((0,S.eC)(n.lifecycle)))}),t});function ev(e){let t=(0,O.q5)(),n=t?.editorType,l=(0,V.S2)().unwrapOr(null),p=l?.figjamDisabledAt||null,f=(0,s.d4)(e=>e.userFlags),A=(0,m.md)(eA),x=(0,_.iZ)(),w=(0,s.d4)(e=>e.userAnalyticsData),b=(0,s.d4)(e=>e.selectedView),y=x?.created_at,I=(0,u.A)(y).add(14,"day").isSameOrAfter((0,u.A)()),E=(0,F.k)(),M=(0,g.Om)(),P=i.useMemo(()=>"prototype"===b.view?void 0:d.Ez5,[b.view]),j=(0,H.ut)(P?.uiState().isRecovery,!1),B="developer"===(0,U.w)(),D=(0,k._I)(),{folderId:T}=eh(t),{data:N,status:R}=(0,v.nt)(T),L=l?.tier===Q.Ag.STARTER&&!(0,c.kc)().bake_starter_limit,Y=null!==N&&(0,v.d6)(N,Q._Y.FIGMAKE)&&!L,z={Prototype:"loading"===R},G={};if(E)return(0,o.jsxs)("div",{className:"announcement--loggedOutSignupCta--qrt2V",children:[(0,o.jsx)(r.O,{}),(0,C.t)("auth.create_account_to_view_reply_comments"),(0,o.jsx)(a.$n,{variant:"link",onClick:()=>M("SIGN_UP_CTA_COMMENTS_PANEL"),children:(0,C.t)("auth.sign_up")})]});if(n===Q._Y.WHITEBOARD||n===Q._Y.SLIDES||"fullscreen"!==b.view||null!=p||I||"Comments"===e.panelName&&"fullscreen"===b.view&&n===Q._Y.DESIGN&&f.claimed_invite_with_pending_user_mention&&!f.has_closed_comment&&h.Ay.location.hash)return null;let X=Date.now()-2592e5;if(eg.some(e=>{let t=f[e.userFlagName];return!!t&&t.updatedAt>new Date(X)}))return null;let J=eg.find(n=>{if(ed||n.panelName!==e.panelName||z[e.panelName])return!1;if(n.lifecycle){let e=A[n.userFlagName];if(e?.status!=="loaded"||(0,S.$1)({...e.data,lifecycleConfig:n.lifecycle}))return!1}let o=f[n.userFlagName];return(!!n.lifecycle||!o)&&!n.additionalDisplayBlocker?.({currentUser:x,openFile:t,userAnalyticsData:w,userFlags:f,selectedView:b,isRecovery:j,isEngineer:B,isReadOnly:!t?.canEdit,canAccessDevMode:D,experiments:G,plan:l,canCreateFigmakeFileInTargetFolder:Y})});if(J){let e=J.AnnouncementComponent;return(0,o.jsx)(e,{userFlagName:J.userFlagName,lifecycle:J.lifecycle})}return null}},443940:(e,t,n)=>{n.d(t,{T:()=>j,w:()=>P});var o=n(104076),i=n(716976),s=n(903927),a=n(276800),r=n(795033),l=n(192075),d=n(58212),c=n(244205),m=n(90844),u=n(422872),h=n(235711),p=n(143277),f=n(432099);let g=new class{sendMobileDownloadEmail(){return f.Ay.post("/api/send_mobile_download_email")}};var A=n(153515),v=n(909342),x=n(441030),C=n(755444),w=n(659062),b=n(765516),y=n(781018);function I(){return(0,o.jsx)(b.y,{src:(0,C.ck)("a553882986986c96fc7d298a674e9e0522d05b53"),alt:(0,l.t)("rcs.mobile_comment_reply_upsell.media_alt_text"),aspectRatio:1.75})}function E(){return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{style:w.sx.flex.alignCenter.wFull.borderBox.p18.h200.add({backgroundColor:"#5551ff"}).$,children:(0,o.jsx)(y.T,{})})})}let M="dismissed_mobile_replies_upsell",k=(0,h.r1)(M),P="commentSubmitted";function j(){let e=(0,r.md)(k),t=(0,s.d4)(e=>e.userAnalyticsData?.is_active_mobile_user),{uniqueId:n,isShowing:h,show:f,complete:C}=(0,u.e)({overlay:x.$T1,priority:p.N.DEFAULT_MODAL},[e]),w=(0,s.wA)();(0,m.E)(n,P,(0,i.useCallback)(()=>{t||f({canShow:e=>!e})},[t,f]));let b=(0,i.useCallback)(async()=>{await g.sendMobileDownloadEmail(),C(),w(d.F.enqueue({message:(0,l.t)("rcs.mobile_comment_reply_upsell.email_sent")}))},[C,w]);return(0,o.jsx)(A.cr,{steps:[{description:(0,l.tx)("rcs.mobile_comment_reply_upsell_page1.description"),title:(0,l.tx)("rcs.mobile_comment_reply_upsell.title"),trackingContextName:"mobile_reply_upsell",position:v.Q.BOTTOM_RIGHT,media:(0,o.jsx)(I,{}),primaryCta:{label:(0,l.tx)("rcs.mobile_comment_reply_upsell.download_via_qr_code"),type:"button",ctaTrackingDescriptor:c.c.POST_COMMENT_MOBILE_APP_DOWNLOAD_PROMPT_QR_CODE_CLICKED,onClick:a.lQ},secondaryCta:{label:(0,l.tx)("rcs.mobile_comment_reply_upsell.email_me"),type:"button",ctaTrackingDescriptor:c.c.POST_COMMENT_MOBILE_APP_DOWNLOAD_PROMPT_EMAIL_ME_CLICKED,onClick:b},hideStepCounter:!0},{description:(0,l.tx)("rcs.mobile_comment_reply_upsell_page2.description"),title:(0,l.tx)("rcs.mobile_comment_reply_upsell.title"),trackingContextName:"mobile_reply_upsell",position:v.Q.BOTTOM_RIGHT,media:(0,o.jsx)(E,{}),primaryCta:{label:(0,l.tx)("rcs.rcs_shared.done"),type:"button",ctaTrackingDescriptor:c.c.DONE,onClick:a.lQ},secondaryCta:{label:(0,l.tx)("rcs.mobile_comment_reply_upsell.email_me_instead"),type:"button",ctaTrackingDescriptor:c.c.POST_COMMENT_MOBILE_APP_DOWNLOAD_PROMPT_EMAIL_ME_CLICKED,onClick:b},hideStepCounter:!0}],onComplete:C,isShowing:h,userFlagOnShow:M})}},781018:(e,t,n)=>{n.d(t,{T:()=>a});var o=n(104076),i=n(755444),s=n(659062);function a(){return(0,o.jsxs)("div",{style:s.sx.flex.columnGap32.flexRow.alignCenter.justifyCenter.wFull.$,children:[(0,o.jsx)("img",{alt:"Android QR code",src:(0,i.ck)("259b16f36c4afa958c6185b07e9b78f3e2b4cc4d")}),(0,o.jsx)("img",{alt:"IOS QR code",src:(0,i.ck)("d32c8c72eda223d979ca672dacb3ead939ac63a3")})]})}},782803:(e,t,n)=>{n.d(t,{s:()=>m});var o=n(104076),i=n(716976),s=n(812714),a=n(858959),r=n(784220),l=n(328341),d=n(565854),c=n(228439);function m({featured:e,quickAccess:t,onUserClick:n,maxVisibleUsers:m,totalUserCount:u}){let h={ease:"easeOut",duration:.15},p=t.filter(t=>t.sessionID!==e?.sessionID);p.reverse();let f=p.length+(e?1:0),g=d.pl,A=Math.min(m,p.length+(e?1:0))*g,v=(0,l.ZC)(u);v&&u!==v&&(h.duration=.3);let x=(0,i.useCallback)(e=>{if(0===e)return"multiplayer-observation-nux-key"},[]),C=(0,s.kc)().spotlight_disable_fade?1:.5,w=e&&(0,o.jsx)(a.P.span,{initial:{opacity:0,scale:C},animate:{opacity:1,scale:1},exit:{opacity:0,scale:C},transition:h,style:{pointerEvents:"all"},children:(0,o.jsx)(c.Q,{user:e,isOverflow:!1,onUserClick:n,hasBorder:!0})}),b=p.map((e,t)=>(0,o.jsx)(a.P.span,{style:{marginLeft:"-8px",pointerEvents:"all"},initial:{opacity:0,scale:C},animate:{opacity:1,scale:1},transition:h,layout:"position",children:(0,o.jsx)(c.Q,{onboardingKey:x(t),user:e,isOverflow:!1,onUserClick:n,hasBorder:!0})},e.sessionID));return(0,o.jsx)("div",{style:{width:A,clipPath:void 0,position:"relative",height:"100%",pointerEvents:"none"},"data-onboarding-key":"multiplayer-avatars",children:(0,o.jsx)(a.P.div,{style:{width:m*g,position:"absolute",right:"-8px",display:"flex",flexDirection:"row-reverse",justifyContent:f>m!=!0?"flex-start":"flex-end"},layout:!0,layoutRoot:!0,children:(0,o.jsx)(r.N,{initial:!1,mode:"popLayout",children:(0,o.jsxs)(o.Fragment,{children:[b,w]})})})})}},814664:(e,t,n)=>{n.d(t,{n:()=>i});let o=new(n(150156)).KH({keys:["name"],threshold:.1});function i(e,t){return o.set(t),o.search(e)}},393708:(e,t,n)=>{n.d(t,{A:()=>u});var o=n(104076),i=n(944730);let s=(0,n(716976).memo)(function(e){return(0,o.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,o.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M13 7v1.879l1-1V7a2 2 0 1 0-4 0v4.879l1-1V7a1 1 0 1 1 2 0m.996 5.125-1.87 1.871a2 2 0 0 0 1.87-1.87M8.5 12c0 .413.071.809.203 1.176l-.764.764A4.5 4.5 0 0 1 7.5 12v-.5a.5.5 0 0 1 1 0zm2.324 3.297-.764.764c.444.213.93.355 1.44.412V18h-2a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-2v-1.527a4.5 4.5 0 0 0 4-4.473v-.5a.5.5 0 0 0-1 0v.5a3.5 3.5 0 0 1-4.676 3.297m7.03-8.443a.5.5 0 0 0-.708-.708l-11 11a.5.5 0 0 0 .708.708z",clipRule:"evenodd"})})});var a=n(375266),r=n(192075),l=n(55557);let d="voice_svg--voiceAudioBar--bWITN",c="voice_svg--voiceAudioBarStroke--MEsT8 voice_users--voiceAudioBarStroke--MKNsx",m="voice_svg--mutedLine--A9TnC",u={Unmuted:()=>(0,o.jsx)(i.C,{}),Muted:()=>(0,o.jsx)(s,{}),UnmutedBars:({volume:e,className:t,alwaysShowVoiceBars:n,userName:i})=>{if((e||0)<l.q){if(!0!==n)return null;e=0}let s=[7*(e=Math.pow(e||0,.5))*.4,7*e,7*e*.4].map(e=>.8*e+e*(.4*Math.random()-.2));return(0,o.jsxs)("svg",{width:"24",viewBox:"-5 -8 18 16",fill:"none",className:t,"aria-label":(0,r.t)("collaboration.voice.unmuted_user",{user_name:i}),children:[(0,o.jsx)("line",{className:c,x1:"1",y1:0,x2:"7",y2:0,strokeWidth:"5",color:"red",strokeLinecap:"round"}),(0,o.jsx)("line",{className:c,x1:"1",y1:-s[0],x2:"1",y2:s[0],strokeWidth:"4",strokeLinecap:"round"}),(0,o.jsx)("line",{className:d,x1:"1",y1:-s[0],x2:"1",y2:s[0],stroke:"#1BC47D",strokeWidth:"2",strokeLinecap:"round"}),(0,o.jsx)("line",{className:c,x1:"4",y1:-s[1],x2:"4",y2:s[1],strokeWidth:"4",strokeLinecap:"round"}),(0,o.jsx)("line",{className:d,x1:"4",y1:-s[1],x2:"4",y2:s[1],stroke:"#1BC47D",strokeWidth:"2",strokeLinecap:"round"}),(0,o.jsx)("line",{className:c,x1:"7",y1:-s[2],x2:"7",y2:s[2],strokeWidth:"4",strokeLinecap:"round"}),(0,o.jsx)("line",{className:d,x1:"7",y1:-s[2],x2:"7",y2:s[2],stroke:"#1BC47D",strokeWidth:"2",strokeLinecap:"round"})]})},HeadphonesIcon:({className:e})=>(0,o.jsx)(a.M,{className:e}),MutedMini:({userName:e})=>(0,o.jsxs)("svg",{width:"13",height:"16",viewBox:"0 0 13 16",fill:"none","aria-label":(0,r.t)("collaboration.voice.muted_user",{user_name:e}),children:[(0,o.jsx)("path",{className:"voice_svg--iconBorder--tkPMY",d:"M4 6V4.5C4 2.567 5.567 1 7.5 1H10C11.1046 1 12 1.89543 12 3V5C12.5523 5 13 5.44772 13 6V8.75736C13 9.55301 12.6839 10.3161 12.1213 10.8787L11 12V14C11 14.5523 10.5523 15 10 15H5C4.44772 15 4 14.5523 4 14V13L1.20711 10.2071C0.816583 9.81658 0.816582 9.18342 1.20711 8.79289L4 6Z"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.33306 3.25234C8.09478 3.09295 7.8083 3 7.5001 3C6.67168 3 6.0001 3.67157 6.0001 4.5V5.58529L6.40341 5.18198L8.33306 3.25234ZM5.47386 10.3542L6.1952 9.63284C6.57505 9.86573 7.0219 10 7.50011 10C8.88081 10 10.0001 8.88074 10.0001 7.50003V7H11.0001V7.50003C11.0001 9.26326 9.69624 10.722 8.0001 10.9646V12H9.0001V13H7.5001H6.0001V12H7.0001V10.9646C6.437 10.884 5.91714 10.6694 5.47386 10.3542ZM6.93722 8.89081L9.0001 6.82793V7.5C9.0001 8.32843 8.32853 9 7.5001 9C7.30104 9 7.11103 8.96122 6.93722 8.89081Z",fill:"#F24822",className:m}),(0,o.jsx)("path",{d:"M10.5009 2.49847L11.2081 3.20558L3.92834 10.4853L3.22123 9.77819L10.5009 2.49847Z",fill:"#F24822",className:m})]})}},30221:(e,t,n)=>{n.d(t,{o:()=>c});var o=n(104076),i=n(716976),s=n(903927),a=n(211862),r=n(779574),l=n(286132),d=n(765846);let c=i.memo(function({sessionId:e}){let t=(0,a.tS)();return(0,s.d4)(e=>t&&!!e.voice.activeCall[t])?(0,o.jsx)(m,{sessionId:e}):null});function m({sessionId:e}){let t=(0,a.tS)(),{userIdsInCall:n}=(0,l.W5)(t),{voiceUsersInMultiplayer:s}=(0,l.Eo)(n,t),r=i.useMemo(()=>s.find(t=>t.sessionID===e),[s,e]);return r&&t?(0,o.jsx)(u,{color:r.color,userId:r.userID}):null}let u=i.memo(function({userId:e,color:t}){let n=(0,r.qr)();return n?(0,o.jsx)(f,{userId:e,color:t,voiceCall:n}):null}),h={},p={},f=i.memo(function({userId:e,voiceCall:t,color:n}){return i.useEffect(()=>{let{unsubscribe:n}=(0,d.Em)(e,t,t=>{if(h[e]){p[e].style.visibility=t?.isMuted?"hidden":"visible";let n=.9*Math.pow(t?.volumeLevel||0,1/3)+.1;h[e].style.transform=`scale(${n})`}});return()=>{delete h[e],n()}},[e,t]),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{ref:t=>h[e]=t,className:"voice_cursor_pulse--backgroundPulse--M8T9x",style:{backgroundColor:n}}),(0,o.jsx)("div",{ref:t=>p[e]=t,className:"voice_cursor_pulse--pulse--Z6cD5",style:{boxShadow:`0 0 0 1px ${n}`}})]})})},828127:(e,t,n)=>{n.d(t,{S:()=>l,i:()=>d});var o=n(104076),i=n(765846),s=n(305651),a=n(393708),r=n(560823),l=(e=>(e[e.NONE=0]="NONE",e[e.DEFAULT=2]="DEFAULT",e[e.MINI=1]="MINI",e))(l||{});function d({userId:e,userName:t,microphoneStyle:n,call:i,volumeIconMutedState:l,alwaysShowVoiceBars:d,className:m}){return n===s.bU.HEADPHONES?(0,o.jsx)(a.A.HeadphonesIcon,{size:24,className:r.AL}):n!==s.bU.NONE&&i?(0,o.jsx)(c,{userId:e,call:i,className:m,volumeIconMutedState:l||0,alwaysShowVoiceBars:d,userName:t}):(0,o.jsx)(o.Fragment,{})}function c({userId:e,call:t,volumeIconMutedState:n,alwaysShowVoiceBars:s,className:l,userName:d}){let c=(0,i.Wl)(e,t);if(!c)return null;if(c.isMuted){if(2===n)return(0,o.jsx)(a.A.Muted,{});if(1===n){let e=r.Nn;return l&&(e+=" "+l),(0,o.jsx)("span",{className:e,children:(0,o.jsx)(a.A.MutedMini,{userName:d})})}return null}return(0,o.jsx)(a.A.UnmutedBars,{alwaysShowVoiceBars:s,className:l,volume:c?.volumeLevel,userName:d})}},49875:(e,t,n)=>{n.d(t,{K:()=>m});var o=n(104076),i=n(903927),s=n(293422),a=n(684742),r=n(377692),l=n(249586),d=n(211862),c=n(55557);function m(e){let t=(0,i.wA)(),n=(0,i.Pj)(),m=(0,i.d4)(e=>e.voice.showWidget),u=(0,d.q5)(),h=(0,i.d4)(t=>!!t.voice.activeCall[e.fileKey]),p=!!u&&!!h,f={onClick:async()=>{e.hidePopover&&e.hidePopover(),m&&p?m&&t(r.jT()):((0,l.ds)("Context Viewed",e.fileKey,n.getState(),{name:"should-close-open-audio-nux"}),await c.h.createInstance(),p&&(0,l.ds)("voice_widget_minimized_toggle",e.fileKey,n.getState(),{minimized:!1}),t(r.Pp(!0)))},"data-tooltip-show-below":!0,"data-dropdown-tooltip":e["data-tooltip"],"data-tooltip-type":e["data-tooltip-type"],"data-tooltip":e["data-tooltip"],"aria-label":e["data-tooltip"],"data-fullscreen-intercept":!0};if(e.isJoinWidget){let{onClick:t,"aria-label":n,...i}=f;return(0,o.jsx)("div",{"data-onboarding-key":e["data-onboarding-key"],children:(0,o.jsx)(s.$n,{onClick:t,"aria-label":n,variant:"signup",htmlAttributes:{...i},children:e.children})})}return(0,o.jsx)(a.E,{...f,className:e.className,children:e.children})}},45706:(e,t,n)=>{n.d(t,{L:()=>i,w:()=>o});class o{constructor(){this.type="Entity",this.id=Math.random().toString(),this.position={x:0,y:0},this.rotation=0,this.scale=1,this.age=0,this.lifetime=1,this.sortOrder=0,this.customData={}}update(e){return this.age+=e,this.age<=this.lifetime}}class i{constructor(){this._entities=[],this._entitiesToAdd=[],this.lastUpdateTime=0,this.addEntity=e=>{this._entitiesToAdd.push(e)}}getDeltaTime(){let e=performance.now(),t=e-this.lastUpdateTime;return this.lastUpdateTime=e,t/1e3}update(e){let t="number"==typeof e?e:this.getDeltaTime();this._entities=this._entities.filter(e=>e.update(t)),this._entitiesToAdd.length&&(this._entities=this._entities.concat(this._entitiesToAdd).sort((e,t)=>e.sortOrder-t.sortOrder),this._entitiesToAdd=[])}getEntities(){return this._entities}}},440104:(e,t,n)=>{n.d(t,{U:()=>i});var o=n(9109);let i=new(n(722458)).b({name:"react_scenegraph",dependencies:[],exports:{"./lazy_root":"./lazy_root.tsx","./jsx_panel":"./jsx_panel.tsx","./chart/import_data_modal":"./chart/import_data_modal.tsx","./jsx_props":"./jsx_props.ts"},friendFiles:[],routeHints:["react_scenegraph"],eslint:{rules:{"react/jsx-no-literals":["error",{elementOverrides:{Text:{allowElement:!0},Line:{allowElement:!0},UnorderedList:{allowElement:!0},OrderedList:{allowElement:!0},Sticky:{allowElement:!0}}}]}}}).createLazyComponent(()=>Promise.all([n.e(357),n.e(7128),n.e(9890),n.e(1558),n.e(6517)]).then(n.bind(n,140395)).then(e=>e.ReactScenegraphRoot),{componentName:"LazyReactScenegraphRoot",error:o.H4.NONE})},813141:(e,t,n)=>{n.d(t,{G:()=>l,a:()=>r});var o=n(266808),i=n(795033),s=n(185245);let a=[o.Nfd.CODE,o.Nfd.DAKOTA,o.Nfd.SETTINGS];function r(e){return a.includes(e)}function l(){return r((0,i.md)(s.s0))}},281772:(e,t,n)=>{n.d(t,{e:()=>m});var o=n(582789),i=n(983500),s=n(692042),a=n(454040),r=n(199984),l=n(404343);let d=r.V3*r.w,c=(0,i.jz)(l.rY4)+16;function m(e,t,n){let o=e.guid,i=e.absoluteBoundingBox,r=t.getViewportInfo();return Math.max(i.w,i.h)*r.zoomScale<=170?(0,s.QZ)({nodeId:o,minSizePx:170,alwaysPan:!1}):(0,s.QZ)({...a.B5,nodeId:o,nodeAbsoluteBounds:"vote"===n?h(i,r):u(i),viewportRect:p(r,c)})}let u=e=>o.r.fromOriginAndSize(e.x,e.y,e.w,e.h),h=(e,t)=>{let n=d/t.zoomScale,i=r.HG/t.zoomScale;return o.r.fromOriginAndSize(e.x,e.y-n,e.w+i,e.h+n)},p=(e,t)=>({origin:{x:0,y:0},size:{x:e.width-t,y:e.height}})},279915:(e,t,n)=>{n.d(t,{m:()=>l,v:()=>r});var o=n(104076),i=n(192075),s=n(141524),a=n(826160);function r({userId:e,user:t,loading:n,size:i,defaultClassName:s,loadingClassName:r}){return t?(0,o.jsx)(a.Ro,{size:i,entity:t,className:s}):n?(0,o.jsx)("div",{className:r,style:{width:i,height:i}}):(0,o.jsx)(a.Ro,{size:i,entity:{id:e},className:s})}function l({userId:e,user:t,loading:n,defaultClassName:a,loadingClassName:r}){return t?(0,o.jsx)("span",{className:a,children:t.handle}):n?(0,o.jsx)("span",{className:r}):(0,s.Fl)(e)?(0,o.jsx)("span",{className:a,children:(0,i.tx)("voting.voter_username.visitor")}):(0,o.jsx)("span",{className:a,children:(0,i.tx)("voting.voter_username.unavailable")})}},481710:(e,t,n)=>{n.d(t,{J:()=>a});var o=n(240831),i=n(716976),s=n(104076);let a=(0,i.memo)(function(e){return(0,o.O)()?(0,s.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,s.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M6.5 7c0 1.043.533 1.963 1.341 2.5A3 3 0 0 0 6.5 12c0 1.043.533 1.963 1.341 2.5A3 3 0 1 0 12.5 17v-2.764A3 3 0 1 0 16.159 9.5 3 3 0 0 0 14.5 4h-5a3 3 0 0 0-3 3m8 2a2 2 0 1 0 0-4h-2v4zm-2 3a2 2 0 1 0 4 0 2 2 0 0 0-4 0m-1 2h-2a2 2 0 1 1 0-4h2zm-2 1h2v2a2 2 0 1 1-2-2m2-6h-2a2 2 0 1 1 0-4h2z",clipRule:"evenodd"})}):(0,s.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,s.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M7 7c0 1.043.533 1.963 1.341 2.5A3 3 0 0 0 7 12c0 1.043.533 1.963 1.341 2.5A3 3 0 1 0 13 17v-2.764A3 3 0 1 0 16.659 9.5 3 3 0 0 0 15 4h-5a3 3 0 0 0-3 3m8 2a2 2 0 1 0 0-4h-2v4zm-2 3a2 2 0 1 0 4 0 2 2 0 0 0-4 0m-1 2h-2a2 2 0 1 1 0-4h2zm-2 1h2v2a2 2 0 1 1-2-2m2-6h-2a2 2 0 1 1 0-4h2z",clipRule:"evenodd"})})})},25907:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(240831),i=n(716976),s=n(104076);let a=(0,i.memo)(function(e){return(0,o.O)()?(0,s.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,s.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M12.354 6.146a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L11.5 7.707V13.5a.5.5 0 0 0 1 0V7.707l2.146 2.147a.5.5 0 0 0 .708-.708zM7 13.5a.5.5 0 0 0-1 0v3A1.5 1.5 0 0 0 7.5 18h9a1.5 1.5 0 0 0 1.5-1.5v-3a.5.5 0 0 0-1 0v3a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5z",clipRule:"evenodd"})}):(0,s.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,s.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M11.854 6.146a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L11 7.707V13.5a.5.5 0 0 0 1 0V7.707l2.146 2.147a.5.5 0 0 0 .708-.708zM7 13.5a.5.5 0 0 0-1 0v3A1.5 1.5 0 0 0 7.5 18h8a1.5 1.5 0 0 0 1.5-1.5v-3a.5.5 0 0 0-1 0v3a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5z",clipRule:"evenodd"})})})}}]);

//# debugId=50c1b1e5-7648-5543-810f-823c777c6afb

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/c34789c6e7830e2675e9885b3cd0f5be87e5c55c/9862-b27b984ea887fcd4.min.js.map